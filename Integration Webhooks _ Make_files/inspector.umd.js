(function(global,factory){typeof exports=="object"&&typeof module<"u"?factory(require("moment-timezone"),require("@integromat/iml/browser.js")):typeof define=="function"&&define.amd?define(["moment-timezone","@integromat/iml/browser.js"],factory):(global=typeof globalThis<"u"?globalThis:global||self,factory(global.require$$0))})(this,function(require$$0){"use strict";var __defProp=Object.defineProperty;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;var __publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value);var __privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)};/*@preserve
 * Tempus Dominus Bootstrap4 v5.1.2 (https://tempusdominus.github.io/bootstrap-4/)
 * Copyright 2016-2018 Jonathan Peterson
 * Licensed under MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)
 */var _a,_b,_c,_d,_e,_f,_g,_h,_i,_j;if(typeof jQuery>"u")throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(+function($2){var version2=$2.fn.jquery.split(" ")[0].split(".");if(version2[0]<2&&version2[1]<9||version2[0]===1&&version2[1]===9&&version2[2]<1||version2[0]>=4)throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(jQuery),typeof moment>"u")throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var version=moment.version.split(".");if(version[0]<=2&&version[1]<17||version[0]>=3)throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");+function(){var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _possibleConstructorReturn(self2,call){if(!self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&(typeof call=="object"||typeof call=="function")?call:self2}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var DateTimePicker=function($2,moment2){var NAME2="datetimepicker",DATA_KEY=""+NAME2,EVENT_KEY="."+DATA_KEY,DATA_API_KEY=".data-api",Selector={DATA_TOGGLE:'[data-toggle="'+DATA_KEY+'"]'},ClassName={INPUT:NAME2+"-input"},Event2={CHANGE:"change"+EVENT_KEY,BLUR:"blur"+EVENT_KEY,KEYUP:"keyup"+EVENT_KEY,KEYDOWN:"keydown"+EVENT_KEY,FOCUS:"focus"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY,UPDATE:"update"+EVENT_KEY,ERROR:"error"+EVENT_KEY,HIDE:"hide"+EVENT_KEY,SHOW:"show"+EVENT_KEY},DatePickerModes=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],KeyMap={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},ViewModes=["times","days","months","years","decades"],keyState={},keyPressHandled={},Default={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:window.moment.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-delete",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(d2.clone().subtract(7,"d")):this.date(d2.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(d2.clone().add(7,"d")):this.date(d2.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(d2.clone().subtract(1,"y")):this.date(d2.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(d2.clone().add(1,"y")):this.date(d2.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(d2.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(d2.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(d2.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var d2=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(d2.clone().add(1,"M")),!0},enter:function(){return this.widget?(this.hide(),!0):!1},escape:function(){return this.widget?(this.hide(),!0):!1},"control space":function(){return this.widget?(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0):!1},t:function(){return this.widget?(this.date(this.getMoment()),!0):!1},delete:function(){return this.widget?(this.clear(),!0):!1}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:","},DateTimePicker2=function(){function DateTimePicker3(element2,options){_classCallCheck(this,DateTimePicker3),this._options=this._getOptions(options),this._options.locale=window.moment.locale(),this._element=element2,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this.MinViewModeNumber=0,this._int()}return DateTimePicker3.prototype._int=function(){var targetInput=this._element.data("target-input");this._element.is("input")?this.input=this._element:targetInput!==void 0&&(targetInput==="nearest"?this.input=this._element.find("input"):this.input=$2(targetInput)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),$2.extend(!0,this._options,this._dataToOptions()),this.options(this._options),this._initFormatting(),this.input!==void 0&&this.input.is("input")&&this.input.val().trim().length!==0?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&this.input!==void 0&&this.input.attr("placeholder")===void 0&&this._setValue(this._options.defaultDate,0),this._options.inline&&this.show()},DateTimePicker3.prototype._update=function(){this.widget&&(this._fillDate(),this._fillTime())},DateTimePicker3.prototype._setValue=function(targetMoment,index2){var oldDate=this.unset?null:this._dates[index2],outpValue="";if(!targetMoment){!this._options.allowMultidate||this._dates.length===1?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(outpValue=this._element.data("date")+",",outpValue=outpValue.replace(oldDate.format(this.actualFormat)+",","").replace(",,","").replace(/,\s*$/,""),this._dates.splice(index2,1),this._datesFormatted.splice(index2,1)),this.input!==void 0&&(this.input.val(outpValue),this.input.trigger("input")),this._element.data("date",outpValue),this._notifyEvent({type:DateTimePicker3.Event.CHANGE,date:!1,oldDate}),this._update();return}if(targetMoment=targetMoment.clone().locale(this._options.locale),this._hasTimeZone()&&targetMoment.tz(this._options.timeZone),this._options.stepping!==1&&targetMoment.minutes(Math.round(targetMoment.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(targetMoment)){if(this._dates[index2]=targetMoment,this._datesFormatted[index2]=targetMoment.format("YYYY-MM-DD"),this._viewDate=targetMoment.clone(),this._options.allowMultidate&&this._dates.length>1){for(var i2=0;i2<this._dates.length;i2++)outpValue+=""+this._dates[i2].format(this.actualFormat)+this._options.multidateSeparator;outpValue=outpValue.replace(/,\s*$/,"")}else outpValue=this._dates[index2].format(this.actualFormat);this.input!==void 0&&(this.input.val(outpValue),this.input.trigger("input")),this._element.data("date",outpValue),this.unset=!1,this._update(),this._notifyEvent({type:DateTimePicker3.Event.CHANGE,date:this._dates[index2].clone(),oldDate})}else this._options.keepInvalid?this._notifyEvent({type:DateTimePicker3.Event.CHANGE,date:targetMoment,oldDate}):this.input!==void 0&&(this.input.val(""+(this.unset?"":this._dates[index2].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:DateTimePicker3.Event.ERROR,date:targetMoment,oldDate})},DateTimePicker3.prototype._change=function(e2){var val=$2(e2.target).val().trim(),parsedDate=val?this._parseInputDate(val):null;return this._setValue(parsedDate),e2.stopImmediatePropagation(),!1},DateTimePicker3.prototype._getOptions=function(options){return options=$2.extend(!0,{},Default,options),options},DateTimePicker3.prototype._hasTimeZone=function(){return window.moment.tz!==void 0&&this._options.timeZone!==void 0&&this._options.timeZone!==null&&this._options.timeZone!==""},DateTimePicker3.prototype._isEnabled=function(granularity){if(typeof granularity!="string"||granularity.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(granularity){case"y":return this.actualFormat.indexOf("Y")!==-1;case"M":return this.actualFormat.indexOf("M")!==-1;case"d":return this.actualFormat.toLowerCase().indexOf("d")!==-1;case"h":case"H":return this.actualFormat.toLowerCase().indexOf("h")!==-1;case"m":return this.actualFormat.indexOf("m")!==-1;case"s":return this.actualFormat.indexOf("s")!==-1;case"a":case"A":return this.actualFormat.toLowerCase().indexOf("a")!==-1;default:return!1}},DateTimePicker3.prototype._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},DateTimePicker3.prototype._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},DateTimePicker3.prototype._dataToOptions=function(){var eData=this._element.data(),dataOptions={};return eData.dateOptions&&eData.dateOptions instanceof Object&&(dataOptions=$2.extend(!0,dataOptions,eData.dateOptions)),$2.each(this._options,function(key){var attributeName="date"+key.charAt(0).toUpperCase()+key.slice(1);eData[attributeName]!==void 0?dataOptions[key]=eData[attributeName]:delete dataOptions[key]}),dataOptions},DateTimePicker3.prototype._notifyEvent=function(e2){e2.type===DateTimePicker3.Event.CHANGE&&e2.date&&e2.date.isSame(e2.oldDate)||!e2.date&&!e2.oldDate||this._element.trigger(e2)},DateTimePicker3.prototype._viewUpdate=function(e2){e2==="y"&&(e2="YYYY"),this._notifyEvent({type:DateTimePicker3.Event.UPDATE,change:e2,viewDate:this._viewDate.clone()})},DateTimePicker3.prototype._showMode=function(dir2){this.widget&&(dir2&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+dir2))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+DatePickerModes[this.currentViewMode].CLASS_NAME).show())},DateTimePicker3.prototype._isInDisabledDates=function(testDate){return this._options.disabledDates[testDate.format("YYYY-MM-DD")]===!0},DateTimePicker3.prototype._isInEnabledDates=function(testDate){return this._options.enabledDates[testDate.format("YYYY-MM-DD")]===!0},DateTimePicker3.prototype._isInDisabledHours=function(testDate){return this._options.disabledHours[testDate.format("H")]===!0},DateTimePicker3.prototype._isInEnabledHours=function(testDate){return this._options.enabledHours[testDate.format("H")]===!0},DateTimePicker3.prototype._isValid=function(targetMoment,granularity){if(!targetMoment.isValid()||this._options.disabledDates&&granularity==="d"&&this._isInDisabledDates(targetMoment)||this._options.enabledDates&&granularity==="d"&&!this._isInEnabledDates(targetMoment)||this._options.minDate&&targetMoment.isBefore(this._options.minDate,granularity)||this._options.maxDate&&targetMoment.isAfter(this._options.maxDate,granularity)||this._options.daysOfWeekDisabled&&granularity==="d"&&this._options.daysOfWeekDisabled.indexOf(targetMoment.day())!==-1||this._options.disabledHours&&(granularity==="h"||granularity==="m"||granularity==="s")&&this._isInDisabledHours(targetMoment)||this._options.enabledHours&&(granularity==="h"||granularity==="m"||granularity==="s")&&!this._isInEnabledHours(targetMoment))return!1;if(this._options.disabledTimeIntervals&&(granularity==="h"||granularity==="m"||granularity==="s")){var found=!1;if($2.each(this._options.disabledTimeIntervals,function(){if(targetMoment.isBetween(this[0],this[1]))return found=!0,!1}),found)return!1}return!0},DateTimePicker3.prototype._parseInputDate=function(inputDate){return this._options.parseInputDate===void 0?window.moment.isMoment(inputDate)||(inputDate=this.getMoment(inputDate)):inputDate=this._options.parseInputDate(inputDate),inputDate},DateTimePicker3.prototype._keydown=function(e2){var handler=null,index2=void 0,index22=void 0,keyBindKeys=void 0,allModifiersPressed=void 0,pressedKeys=[],pressedModifiers={},currentKey=e2.which,pressed="p";keyState[currentKey]=pressed;for(index2 in keyState)keyState.hasOwnProperty(index2)&&keyState[index2]===pressed&&(pressedKeys.push(index2),parseInt(index2,10)!==currentKey&&(pressedModifiers[index2]=!0));for(index2 in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(index2)&&typeof this._options.keyBinds[index2]=="function"&&(keyBindKeys=index2.split(" "),keyBindKeys.length===pressedKeys.length&&KeyMap[currentKey]===keyBindKeys[keyBindKeys.length-1])){for(allModifiersPressed=!0,index22=keyBindKeys.length-2;index22>=0;index22--)if(!(KeyMap[keyBindKeys[index22]]in pressedModifiers)){allModifiersPressed=!1;break}if(allModifiersPressed){handler=this._options.keyBinds[index2];break}}handler&&handler.call(this)&&(e2.stopPropagation(),e2.preventDefault())},DateTimePicker3.prototype._keyup=function(e2){keyState[e2.which]="r",keyPressHandled[e2.which]&&(keyPressHandled[e2.which]=!1,e2.stopPropagation(),e2.preventDefault())},DateTimePicker3.prototype._indexGivenDates=function(givenDatesArray){var givenDatesIndexed={},self2=this;return $2.each(givenDatesArray,function(){var dDate=self2._parseInputDate(this);dDate.isValid()&&(givenDatesIndexed[dDate.format("YYYY-MM-DD")]=!0)}),Object.keys(givenDatesIndexed).length?givenDatesIndexed:!1},DateTimePicker3.prototype._indexGivenHours=function(givenHoursArray){var givenHoursIndexed={};return $2.each(givenHoursArray,function(){givenHoursIndexed[this]=!0}),Object.keys(givenHoursIndexed).length?givenHoursIndexed:!1},DateTimePicker3.prototype._initFormatting=function(){var format2=this._options.format||"L LT",self2=this;this.actualFormat=format2.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(formatInput){return self2._dates[0].localeData().longDateFormat(formatInput)||formatInput}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(format2)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(this.MinViewModeNumber=2),this._isEnabled("M")&&(this.MinViewModeNumber=1),this._isEnabled("d")&&(this.MinViewModeNumber=0),this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},DateTimePicker3.prototype._getLastPickedDate=function(){return this._dates[this._getLastPickedDateIndex()]},DateTimePicker3.prototype._getLastPickedDateIndex=function(){return this._dates.length-1},DateTimePicker3.prototype.getMoment=function(d2){var returnMoment=void 0;return d2==null?returnMoment=window.moment():this._hasTimeZone()?returnMoment=window.moment.tz(d2,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):returnMoment=window.moment(d2,this.parseFormats,this._options.locale,this._options.useStrict),this._hasTimeZone()&&returnMoment.tz(this._options.timeZone),returnMoment},DateTimePicker3.prototype.toggle=function(){return this.widget?this.hide():this.show()},DateTimePicker3.prototype.ignoreReadonly=function(_ignoreReadonly){if(arguments.length===0)return this._options.ignoreReadonly;if(typeof _ignoreReadonly!="boolean")throw new TypeError("ignoreReadonly () expects a boolean parameter");this._options.ignoreReadonly=_ignoreReadonly},DateTimePicker3.prototype.options=function(newOptions){if(arguments.length===0)return $2.extend(!0,{},this._options);if(!(newOptions instanceof Object))throw new TypeError("options() this.options parameter should be an object");$2.extend(!0,this._options,newOptions);var self2=this;$2.each(this._options,function(key,value){self2[key]!==void 0&&self2[key](value)})},DateTimePicker3.prototype.date=function(newDate,index2){if(index2=index2||0,arguments.length===0)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[index2].clone();if(newDate!==null&&typeof newDate!="string"&&!window.moment.isMoment(newDate)&&!(newDate instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");this._setValue(newDate===null?null:this._parseInputDate(newDate),index2)},DateTimePicker3.prototype.format=function(newFormat){if(arguments.length===0)return this._options.format;if(typeof newFormat!="string"&&(typeof newFormat!="boolean"||newFormat!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+newFormat);this._options.format=newFormat,this.actualFormat&&this._initFormatting()},DateTimePicker3.prototype.timeZone=function(newZone){if(arguments.length===0)return this._options.timeZone;if(typeof newZone!="string")throw new TypeError("newZone() expects a string parameter");this._options.timeZone=newZone},DateTimePicker3.prototype.dayViewHeaderFormat=function(newFormat){if(arguments.length===0)return this._options.dayViewHeaderFormat;if(typeof newFormat!="string")throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=newFormat},DateTimePicker3.prototype.extraFormats=function(formats){if(arguments.length===0)return this._options.extraFormats;if(formats!==!1&&!(formats instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=formats,this.parseFormats&&this._initFormatting()},DateTimePicker3.prototype.disabledDates=function(dates){if(arguments.length===0)return this._options.disabledDates?$2.extend({},this._options.disabledDates):this._options.disabledDates;if(!dates)return this._options.disabledDates=!1,this._update(),!0;if(!(dates instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(dates),this._options.enabledDates=!1,this._update()},DateTimePicker3.prototype.enabledDates=function(dates){if(arguments.length===0)return this._options.enabledDates?$2.extend({},this._options.enabledDates):this._options.enabledDates;if(!dates)return this._options.enabledDates=!1,this._update(),!0;if(!(dates instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(dates),this._options.disabledDates=!1,this._update()},DateTimePicker3.prototype.daysOfWeekDisabled=function(_daysOfWeekDisabled){if(arguments.length===0)return this._options.daysOfWeekDisabled.splice(0);if(typeof _daysOfWeekDisabled=="boolean"&&!_daysOfWeekDisabled)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(_daysOfWeekDisabled instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=_daysOfWeekDisabled.reduce(function(previousValue,currentValue){return currentValue=parseInt(currentValue,10),currentValue>6||currentValue<0||isNaN(currentValue)||previousValue.indexOf(currentValue)===-1&&previousValue.push(currentValue),previousValue},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var i2=0;i2<this._dates.length;i2++){for(var tries=0;!this._isValid(this._dates[i2],"d");){if(this._dates[i2].add(1,"d"),tries===31)throw"Tried 31 times to find a valid date";tries++}this._setValue(this._dates[i2],i2)}this._update()},DateTimePicker3.prototype.maxDate=function(_maxDate){if(arguments.length===0)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if(typeof _maxDate=="boolean"&&_maxDate===!1)return this._options.maxDate=!1,this._update(),!0;typeof _maxDate=="string"&&(_maxDate==="now"||_maxDate==="moment")&&(_maxDate=this.getMoment());var parsedDate=this._parseInputDate(_maxDate);if(!parsedDate.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+_maxDate);if(this._options.minDate&&parsedDate.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+parsedDate.format(this.actualFormat));this._options.maxDate=parsedDate;for(var i2=0;i2<this._dates.length;i2++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i2].isAfter(_maxDate)&&this._setValue(this._options.maxDate,i2);this._viewDate.isAfter(parsedDate)&&(this._viewDate=parsedDate.clone().subtract(this._options.stepping,"m")),this._update()},DateTimePicker3.prototype.minDate=function(_minDate){if(arguments.length===0)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if(typeof _minDate=="boolean"&&_minDate===!1)return this._options.minDate=!1,this._update(),!0;typeof _minDate=="string"&&(_minDate==="now"||_minDate==="moment")&&(_minDate=this.getMoment());var parsedDate=this._parseInputDate(_minDate);if(!parsedDate.isValid())throw new TypeError("minDate() Could not parse date parameter: "+_minDate);if(this._options.maxDate&&parsedDate.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+parsedDate.format(this.actualFormat));this._options.minDate=parsedDate;for(var i2=0;i2<this._dates.length;i2++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i2].isBefore(_minDate)&&this._setValue(this._options.minDate,i2);this._viewDate.isBefore(parsedDate)&&(this._viewDate=parsedDate.clone().add(this._options.stepping,"m")),this._update()},DateTimePicker3.prototype.defaultDate=function(_defaultDate){if(arguments.length===0)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!_defaultDate)return this._options.defaultDate=!1,!0;typeof _defaultDate=="string"&&(_defaultDate==="now"||_defaultDate==="moment"?_defaultDate=this.getMoment():_defaultDate=this.getMoment(_defaultDate));var parsedDate=this._parseInputDate(_defaultDate);if(!parsedDate.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+_defaultDate);if(!this._isValid(parsedDate))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=parsedDate,(this._options.defaultDate&&this._options.inline||this.input!==void 0&&this.input.val().trim()==="")&&this._setValue(this._options.defaultDate,0)},DateTimePicker3.prototype.locale=function(_locale){if(arguments.length===0)return this._options.locale;if(!window.moment.localeData(_locale))throw new TypeError("locale() locale "+_locale+" is not loaded from moment locales!");this._options.locale=_locale;for(var i2=0;i2<this._dates.length;i2++)this._dates[i2].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.stepping=function(_stepping){if(arguments.length===0)return this._options.stepping;_stepping=parseInt(_stepping,10),(isNaN(_stepping)||_stepping<1)&&(_stepping=1),this._options.stepping=_stepping},DateTimePicker3.prototype.useCurrent=function(_useCurrent){var useCurrentOptions=["year","month","day","hour","minute"];if(arguments.length===0)return this._options.useCurrent;if(typeof _useCurrent!="boolean"&&typeof _useCurrent!="string")throw new TypeError("useCurrent() expects a boolean or string parameter");if(typeof _useCurrent=="string"&&useCurrentOptions.indexOf(_useCurrent.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+useCurrentOptions.join(", "));this._options.useCurrent=_useCurrent},DateTimePicker3.prototype.collapse=function(_collapse){if(arguments.length===0)return this._options.collapse;if(typeof _collapse!="boolean")throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===_collapse)return!0;this._options.collapse=_collapse,this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.icons=function(_icons){if(arguments.length===0)return $2.extend({},this._options.icons);if(!(_icons instanceof Object))throw new TypeError("icons() expects parameter to be an Object");$2.extend(this._options.icons,_icons),this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.tooltips=function(_tooltips){if(arguments.length===0)return $2.extend({},this._options.tooltips);if(!(_tooltips instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");$2.extend(this._options.tooltips,_tooltips),this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.useStrict=function(_useStrict){if(arguments.length===0)return this._options.useStrict;if(typeof _useStrict!="boolean")throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=_useStrict},DateTimePicker3.prototype.sideBySide=function(_sideBySide){if(arguments.length===0)return this._options.sideBySide;if(typeof _sideBySide!="boolean")throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=_sideBySide,this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.viewMode=function(_viewMode){if(arguments.length===0)return this._options.viewMode;if(typeof _viewMode!="string")throw new TypeError("viewMode() expects a string parameter");if(DateTimePicker3.ViewModes.indexOf(_viewMode)===-1)throw new TypeError("viewMode() parameter must be one of ("+DateTimePicker3.ViewModes.join(", ")+") value");this._options.viewMode=_viewMode,this.currentViewMode=Math.max(DateTimePicker3.ViewModes.indexOf(_viewMode)-1,this.MinViewModeNumber),this._showMode()},DateTimePicker3.prototype.calendarWeeks=function(_calendarWeeks){if(arguments.length===0)return this._options.calendarWeeks;if(typeof _calendarWeeks!="boolean")throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=_calendarWeeks,this._update()},DateTimePicker3.prototype.buttons=function(_buttons){if(arguments.length===0)return $2.extend({},this._options.buttons);if(!(_buttons instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if($2.extend(this._options.buttons,_buttons),typeof this._options.buttons.showToday!="boolean")throw new TypeError("buttons.showToday expects a boolean parameter");if(typeof this._options.buttons.showClear!="boolean")throw new TypeError("buttons.showClear expects a boolean parameter");if(typeof this._options.buttons.showClose!="boolean")throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},DateTimePicker3.prototype.keepOpen=function(_keepOpen){if(arguments.length===0)return this._options.keepOpen;if(typeof _keepOpen!="boolean")throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=_keepOpen},DateTimePicker3.prototype.focusOnShow=function(_focusOnShow){if(arguments.length===0)return this._options.focusOnShow;if(typeof _focusOnShow!="boolean")throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=_focusOnShow},DateTimePicker3.prototype.inline=function(_inline){if(arguments.length===0)return this._options.inline;if(typeof _inline!="boolean")throw new TypeError("inline() expects a boolean parameter");this._options.inline=_inline},DateTimePicker3.prototype.clear=function(){this._setValue(null)},DateTimePicker3.prototype.keyBinds=function(_keyBinds){if(arguments.length===0)return this._options.keyBinds;this._options.keyBinds=_keyBinds},DateTimePicker3.prototype.debug=function(_debug){if(typeof _debug!="boolean")throw new TypeError("debug() expects a boolean parameter");this._options.debug=_debug},DateTimePicker3.prototype.allowInputToggle=function(_allowInputToggle){if(arguments.length===0)return this._options.allowInputToggle;if(typeof _allowInputToggle!="boolean")throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=_allowInputToggle},DateTimePicker3.prototype.keepInvalid=function(_keepInvalid){if(arguments.length===0)return this._options.keepInvalid;if(typeof _keepInvalid!="boolean")throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=_keepInvalid},DateTimePicker3.prototype.datepickerInput=function(_datepickerInput){if(arguments.length===0)return this._options.datepickerInput;if(typeof _datepickerInput!="string")throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=_datepickerInput},DateTimePicker3.prototype.parseInputDate=function(_parseInputDate2){if(arguments.length===0)return this._options.parseInputDate;if(typeof _parseInputDate2!="function")throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=_parseInputDate2},DateTimePicker3.prototype.disabledTimeIntervals=function(_disabledTimeIntervals){if(arguments.length===0)return this._options.disabledTimeIntervals?$2.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!_disabledTimeIntervals)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(_disabledTimeIntervals instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=_disabledTimeIntervals,this._update()},DateTimePicker3.prototype.disabledHours=function(hours){if(arguments.length===0)return this._options.disabledHours?$2.extend({},this._options.disabledHours):this._options.disabledHours;if(!hours)return this._options.disabledHours=!1,this._update(),!0;if(!(hours instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(hours),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i2=0;i2<this._dates.length;i2++){for(var tries=0;!this._isValid(this._dates[i2],"h");){if(this._dates[i2].add(1,"h"),tries===24)throw"Tried 24 times to find a valid date";tries++}this._setValue(this._dates[i2],i2)}this._update()},DateTimePicker3.prototype.enabledHours=function(hours){if(arguments.length===0)return this._options.enabledHours?$2.extend({},this._options.enabledHours):this._options.enabledHours;if(!hours)return this._options.enabledHours=!1,this._update(),!0;if(!(hours instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(hours),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i2=0;i2<this._dates.length;i2++){for(var tries=0;!this._isValid(this._dates[i2],"h");){if(this._dates[i2].add(1,"h"),tries===24)throw"Tried 24 times to find a valid date";tries++}this._setValue(this._dates[i2],i2)}this._update()},DateTimePicker3.prototype.viewDate=function(newDate){if(arguments.length===0)return this._viewDate.clone();if(!newDate)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(typeof newDate!="string"&&!window.moment.isMoment(newDate)&&!(newDate instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(newDate),this._viewUpdate()},DateTimePicker3.prototype.allowMultidate=function(_allowMultidate){if(typeof _allowMultidate!="boolean")throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=_allowMultidate},DateTimePicker3.prototype.multidateSeparator=function(_multidateSeparator){if(arguments.length===0)return this._options.multidateSeparator;if(typeof _multidateSeparator!="string"||_multidateSeparator.length>1)throw new TypeError("multidateSeparator expects a single character string parameter");this._options.multidateSeparator=_multidateSeparator},_createClass(DateTimePicker3,null,[{key:"NAME",get:function(){return NAME2}},{key:"DATA_KEY",get:function(){return DATA_KEY}},{key:"EVENT_KEY",get:function(){return EVENT_KEY}},{key:"DATA_API_KEY",get:function(){return DATA_API_KEY}},{key:"DatePickerModes",get:function(){return DatePickerModes}},{key:"ViewModes",get:function(){return ViewModes}},{key:"Event",get:function(){return Event2}},{key:"Selector",get:function(){return Selector}},{key:"Default",get:function(){return Default},set:function(value){Default=value}},{key:"ClassName",get:function(){return ClassName}}]),DateTimePicker3}();return DateTimePicker2}(jQuery,moment);(function($2){var JQUERY_NO_CONFLICT=$2.fn[DateTimePicker.NAME],verticalModes=["top","bottom","auto"],horizontalModes=["left","right","auto"],toolbarPlacements=["default","top","bottom"],getSelectorFromElement=function($element){var selector=$element.data("target"),$selector=void 0;return selector||(selector=$element.attr("href")||"",selector=/^#[a-z]/i.test(selector)?selector:null),$selector=$2(selector),$selector.length===0||$selector.data(DateTimePicker.DATA_KEY)||$2.extend({},$selector.data(),$2(this).data()),$selector},TempusDominusBootstrap42=function(_DateTimePicker){_inherits(TempusDominusBootstrap43,_DateTimePicker);function TempusDominusBootstrap43(element2,options){_classCallCheck(this,TempusDominusBootstrap43);var _this=_possibleConstructorReturn(this,_DateTimePicker.call(this,element2,options));return _this._init(),_this}return TempusDominusBootstrap43.prototype._init=function(){if(this._element.hasClass("input-group")){var datepickerButton=this._element.find(".datepickerbutton");datepickerButton.length===0?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=datepickerButton}},TempusDominusBootstrap43.prototype._getDatePickerTemplate=function(){var headTemplate=$2("<thead>").append($2("<tr>").append($2("<th>").addClass("prev").attr("data-action","previous").append($2("<span>").addClass(this._options.icons.previous))).append($2("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append($2("<th>").addClass("next").attr("data-action","next").append($2("<span>").addClass(this._options.icons.next)))),contTemplate=$2("<tbody>").append($2("<tr>").append($2("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[$2("<div>").addClass("datepicker-days").append($2("<table>").addClass("table table-sm").append(headTemplate).append($2("<tbody>"))),$2("<div>").addClass("datepicker-months").append($2("<table>").addClass("table-condensed").append(headTemplate.clone()).append(contTemplate.clone())),$2("<div>").addClass("datepicker-years").append($2("<table>").addClass("table-condensed").append(headTemplate.clone()).append(contTemplate.clone())),$2("<div>").addClass("datepicker-decades").append($2("<table>").addClass("table-condensed").append(headTemplate.clone()).append(contTemplate.clone()))]},TempusDominusBootstrap43.prototype._getTimePickerMainTemplate=function(){var topRow=$2("<tr>"),middleRow=$2("<tr>"),bottomRow=$2("<tr>");return this._isEnabled("h")&&(topRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append($2("<span>").addClass(this._options.icons.up)))),middleRow.append($2("<td>").append($2("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),bottomRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append($2("<span>").addClass(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(topRow.append($2("<td>").addClass("separator")),middleRow.append($2("<td>").addClass("separator").html(":")),bottomRow.append($2("<td>").addClass("separator"))),topRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append($2("<span>").addClass(this._options.icons.up)))),middleRow.append($2("<td>").append($2("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),bottomRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append($2("<span>").addClass(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(topRow.append($2("<td>").addClass("separator")),middleRow.append($2("<td>").addClass("separator").html(":")),bottomRow.append($2("<td>").addClass("separator"))),topRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append($2("<span>").addClass(this._options.icons.up)))),middleRow.append($2("<td>").append($2("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),bottomRow.append($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append($2("<span>").addClass(this._options.icons.down))))),this.use24Hours||(topRow.append($2("<td>").addClass("separator")),middleRow.append($2("<td>").append($2("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),bottomRow.append($2("<td>").addClass("separator"))),$2("<div>").addClass("timepicker-picker").append($2("<table>").addClass("table-condensed").append([topRow,middleRow,bottomRow]))},TempusDominusBootstrap43.prototype._getTimePickerTemplate=function(){var hoursView=$2("<div>").addClass("timepicker-hours").append($2("<table>").addClass("table-condensed")),minutesView=$2("<div>").addClass("timepicker-minutes").append($2("<table>").addClass("table-condensed")),secondsView=$2("<div>").addClass("timepicker-seconds").append($2("<table>").addClass("table-condensed")),ret=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&ret.push(hoursView),this._isEnabled("m")&&ret.push(minutesView),this._isEnabled("s")&&ret.push(secondsView),ret},TempusDominusBootstrap43.prototype._getToolbar=function(){var row=[];if(this._options.buttons.showToday&&row.push($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append($2("<span>").addClass(this._options.icons.today)))),!this._options.sideBySide&&this._hasDate()&&this._hasTime()){var title=void 0,icon=void 0;this._options.viewMode==="times"?(title=this._options.tooltips.selectDate,icon=this._options.icons.date):(title=this._options.tooltips.selectTime,icon=this._options.icons.time),row.push($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title}).append($2("<span>").addClass(icon))))}return this._options.buttons.showClear&&row.push($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append($2("<span>").addClass(this._options.icons.clear)))),this._options.buttons.showClose&&row.push($2("<td>").append($2("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append($2("<span>").addClass(this._options.icons.close)))),row.length===0?"":$2("<table>").addClass("table-condensed").append($2("<tbody>").append($2("<tr>").append(row)))},TempusDominusBootstrap43.prototype._getTemplate=function(){var template=$2("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),dateView=$2("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),timeView=$2("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),content=$2("<ul>").addClass("list-unstyled"),toolbar=$2("<li>").addClass("picker-switch"+(this._options.collapse?" accordion-toggle":"")).append(this._getToolbar());return this._options.inline&&template.removeClass("dropdown-menu"),this.use24Hours&&template.addClass("usetwentyfour"),this._isEnabled("s")&&!this.use24Hours&&template.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(template.addClass("timepicker-sbs"),this._options.toolbarPlacement==="top"&&template.append(toolbar),template.append($2("<div>").addClass("row").append(dateView.addClass("col-md-6")).append(timeView.addClass("col-md-6"))),(this._options.toolbarPlacement==="bottom"||this._options.toolbarPlacement==="default")&&template.append(toolbar),template):(this._options.toolbarPlacement==="top"&&content.append(toolbar),this._hasDate()&&content.append($2("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&this._options.viewMode==="times"?"":"show").append(dateView)),this._options.toolbarPlacement==="default"&&content.append(toolbar),this._hasTime()&&content.append($2("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&this._options.viewMode==="times"?"show":"").append(timeView)),this._options.toolbarPlacement==="bottom"&&content.append(toolbar),template.append(content))},TempusDominusBootstrap43.prototype._place=function(e2){var self2=e2&&e2.data&&e2.data.picker||this,vertical=self2._options.widgetPositioning.vertical,horizontal=self2._options.widgetPositioning.horizontal,parent2=void 0,position=(self2.component&&self2.component.length?self2.component:self2._element).position(),offset2=(self2.component&&self2.component.length?self2.component:self2._element).offset();if(self2._options.widgetParent)parent2=self2._options.widgetParent.append(self2.widget);else if(self2._element.is("input"))parent2=self2._element.after(self2.widget).parent();else if(self2._options.inline){parent2=self2._element.append(self2.widget);return}else parent2=self2._element,self2._element.children().first().after(self2.widget);if(vertical==="auto"&&(offset2.top+self2.widget.height()*1.5>=$2(window).height()+$2(window).scrollTop()&&self2.widget.height()+self2._element.outerHeight()<offset2.top?vertical="top":vertical="bottom"),horizontal==="auto"&&(parent2.width()<offset2.left+self2.widget.outerWidth()/2&&offset2.left+self2.widget.outerWidth()>$2(window).width()?horizontal="right":horizontal="left"),vertical==="top"?self2.widget.addClass("top").removeClass("bottom"):self2.widget.addClass("bottom").removeClass("top"),horizontal==="right"?self2.widget.addClass("float-right"):self2.widget.removeClass("float-right"),parent2.css("position")!=="relative"&&(parent2=parent2.parents().filter(function(){return $2(this).css("position")==="relative"}).first()),parent2.length===0)throw new Error("datetimepicker component should be placed within a relative positioned container");self2.widget.css({top:vertical==="top"?"auto":position.top+self2._element.outerHeight()+"px",bottom:vertical==="top"?parent2.outerHeight()-(parent2===self2._element?0:position.top)+"px":"auto",left:horizontal==="left"?(parent2===self2._element?0:position.left)+"px":"auto",right:horizontal==="left"?"auto":parent2.outerWidth()-self2._element.outerWidth()-(parent2===self2._element?0:position.left)+"px"})},TempusDominusBootstrap43.prototype._fillDow=function(){var row=$2("<tr>"),currentDate=this._viewDate.clone().startOf("w").startOf("d");for(this._options.calendarWeeks===!0&&row.append($2("<th>").addClass("cw").text("#"));currentDate.isBefore(this._viewDate.clone().endOf("w"));)row.append($2("<th>").addClass("dow").text(currentDate.format("dd"))),currentDate.add(1,"d");this.widget.find(".datepicker-days thead").append(row)},TempusDominusBootstrap43.prototype._fillMonths=function(){for(var spans=[],monthsShort=this._viewDate.clone().startOf("y").startOf("d");monthsShort.isSame(this._viewDate,"y");)spans.push($2("<span>").attr("data-action","selectMonth").addClass("month").text(monthsShort.format("MMM"))),monthsShort.add(1,"M");this.widget.find(".datepicker-months td").empty().append(spans)},TempusDominusBootstrap43.prototype._updateMonths=function(){var monthsView=this.widget.find(".datepicker-months"),monthsViewHeader=monthsView.find("th"),months=monthsView.find("tbody").find("span"),self2=this;monthsViewHeader.eq(0).find("span").attr("title",this._options.tooltips.prevYear),monthsViewHeader.eq(1).attr("title",this._options.tooltips.selectYear),monthsViewHeader.eq(2).find("span").attr("title",this._options.tooltips.nextYear),monthsView.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||monthsViewHeader.eq(0).addClass("disabled"),monthsViewHeader.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||monthsViewHeader.eq(2).addClass("disabled"),months.removeClass("active"),this._getLastPickedDate().isSame(this._viewDate,"y")&&!this.unset&&months.eq(this._getLastPickedDate().month()).addClass("active"),months.each(function(index2){self2._isValid(self2._viewDate.clone().month(index2),"M")||$2(this).addClass("disabled")})},TempusDominusBootstrap43.prototype._getStartEndYear=function(factor,year){var step=factor/10,startYear=Math.floor(year/factor)*factor,endYear=startYear+step*9,focusValue=Math.floor(year/step)*step;return[startYear,endYear,focusValue]},TempusDominusBootstrap43.prototype._updateYears=function(){var yearsView=this.widget.find(".datepicker-years"),yearsViewHeader=yearsView.find("th"),yearCaps=this._getStartEndYear(10,this._viewDate.year()),startYear=this._viewDate.clone().year(yearCaps[0]),endYear=this._viewDate.clone().year(yearCaps[1]),html="";for(yearsViewHeader.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),yearsViewHeader.eq(1).attr("title",this._options.tooltips.selectDecade),yearsViewHeader.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),yearsView.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(startYear,"y")&&yearsViewHeader.eq(0).addClass("disabled"),yearsViewHeader.eq(1).text(startYear.year()+"-"+endYear.year()),this._options.maxDate&&this._options.maxDate.isBefore(endYear,"y")&&yearsViewHeader.eq(2).addClass("disabled"),html+='<span data-action="selectYear" class="year old'+(this._isValid(startYear,"y")?"":" disabled")+'">'+(startYear.year()-1)+"</span>";!startYear.isAfter(endYear,"y");)html+='<span data-action="selectYear" class="year'+(startYear.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(startYear,"y")?"":" disabled")+'">'+startYear.year()+"</span>",startYear.add(1,"y");html+='<span data-action="selectYear" class="year old'+(this._isValid(startYear,"y")?"":" disabled")+'">'+startYear.year()+"</span>",yearsView.find("td").html(html)},TempusDominusBootstrap43.prototype._updateDecades=function(){var decadesView=this.widget.find(".datepicker-decades"),decadesViewHeader=decadesView.find("th"),yearCaps=this._getStartEndYear(100,this._viewDate.year()),startDecade=this._viewDate.clone().year(yearCaps[0]),endDecade=this._viewDate.clone().year(yearCaps[1]),minDateDecade=!1,maxDateDecade=!1,endDecadeYear=void 0,html="";for(decadesViewHeader.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),decadesViewHeader.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),decadesView.find(".disabled").removeClass("disabled"),(startDecade.year()===0||this._options.minDate&&this._options.minDate.isAfter(startDecade,"y"))&&decadesViewHeader.eq(0).addClass("disabled"),decadesViewHeader.eq(1).text(startDecade.year()+"-"+endDecade.year()),this._options.maxDate&&this._options.maxDate.isBefore(endDecade,"y")&&decadesViewHeader.eq(2).addClass("disabled"),startDecade.year()-10<0?html+="<span>&nbsp;</span>":html+='<span data-action="selectDecade" class="decade old" data-selection="'+(startDecade.year()+6)+'">'+(startDecade.year()-10)+"</span>";!startDecade.isAfter(endDecade,"y");)endDecadeYear=startDecade.year()+11,minDateDecade=this._options.minDate&&this._options.minDate.isAfter(startDecade,"y")&&this._options.minDate.year()<=endDecadeYear,maxDateDecade=this._options.maxDate&&this._options.maxDate.isAfter(startDecade,"y")&&this._options.maxDate.year()<=endDecadeYear,html+='<span data-action="selectDecade" class="decade'+(this._getLastPickedDate().isAfter(startDecade)&&this._getLastPickedDate().year()<=endDecadeYear?" active":"")+(!this._isValid(startDecade,"y")&&!minDateDecade&&!maxDateDecade?" disabled":"")+'" data-selection="'+(startDecade.year()+6)+'">'+startDecade.year()+"</span>",startDecade.add(10,"y");html+='<span data-action="selectDecade" class="decade old" data-selection="'+(startDecade.year()+6)+'">'+startDecade.year()+"</span>",decadesView.find("td").html(html)},TempusDominusBootstrap43.prototype._fillDate=function(){var daysView=this.widget.find(".datepicker-days"),daysViewHeader=daysView.find("th"),html=[],currentDate=void 0,row=void 0,clsName=void 0,i2=void 0;if(this._hasDate()){for(daysViewHeader.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),daysViewHeader.eq(1).attr("title",this._options.tooltips.selectMonth),daysViewHeader.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),daysView.find(".disabled").removeClass("disabled"),daysViewHeader.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||daysViewHeader.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||daysViewHeader.eq(2).addClass("disabled"),currentDate=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),i2=0;i2<42;i2++){if(currentDate.weekday()===0&&(row=$2("<tr>"),this._options.calendarWeeks&&row.append('<td class="cw">'+currentDate.week()+"</td>"),html.push(row)),clsName="",currentDate.isBefore(this._viewDate,"M")&&(clsName+=" old"),currentDate.isAfter(this._viewDate,"M")&&(clsName+=" new"),this._options.allowMultidate){var index2=this._datesFormatted.indexOf(currentDate.format("YYYY-MM-DD"));index2!==-1&&currentDate.isSame(this._datesFormatted[index2],"d")&&!this.unset&&(clsName+=" active")}else currentDate.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(clsName+=" active");this._isValid(currentDate,"d")||(clsName+=" disabled"),currentDate.isSame(this.getMoment(),"d")&&(clsName+=" today"),(currentDate.day()===0||currentDate.day()===6)&&(clsName+=" weekend"),row.append('<td data-action="selectDay" data-day="'+currentDate.format("L")+'" class="day'+clsName+'">'+currentDate.date()+"</td>"),currentDate.add(1,"d")}daysView.find("tbody").empty().append(html),this._updateMonths(),this._updateYears(),this._updateDecades()}},TempusDominusBootstrap43.prototype._fillHours=function(){var table2=this.widget.find(".timepicker-hours table"),currentHour=this._viewDate.clone().startOf("d"),html=[],row=$2("<tr>");for(this._viewDate.hour()>11&&!this.use24Hours&&currentHour.hour(12);currentHour.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&currentHour.hour()<12||this._viewDate.hour()>11);)currentHour.hour()%4===0&&(row=$2("<tr>"),html.push(row)),row.append('<td data-action="selectHour" class="hour'+(this._isValid(currentHour,"h")?"":" disabled")+'">'+currentHour.format(this.use24Hours?"HH":"hh")+"</td>"),currentHour.add(1,"h");table2.empty().append(html)},TempusDominusBootstrap43.prototype._fillMinutes=function(){for(var table2=this.widget.find(".timepicker-minutes table"),currentMinute=this._viewDate.clone().startOf("h"),html=[],step=this._options.stepping===1?5:this._options.stepping,row=$2("<tr>");this._viewDate.isSame(currentMinute,"h");)currentMinute.minute()%(step*4)===0&&(row=$2("<tr>"),html.push(row)),row.append('<td data-action="selectMinute" class="minute'+(this._isValid(currentMinute,"m")?"":" disabled")+'">'+currentMinute.format("mm")+"</td>"),currentMinute.add(step,"m");table2.empty().append(html)},TempusDominusBootstrap43.prototype._fillSeconds=function(){for(var table2=this.widget.find(".timepicker-seconds table"),currentSecond=this._viewDate.clone().startOf("m"),html=[],row=$2("<tr>");this._viewDate.isSame(currentSecond,"m");)currentSecond.second()%20===0&&(row=$2("<tr>"),html.push(row)),row.append('<td data-action="selectSecond" class="second'+(this._isValid(currentSecond,"s")?"":" disabled")+'">'+currentSecond.format("ss")+"</td>"),currentSecond.add(5,"s");table2.empty().append(html)},TempusDominusBootstrap43.prototype._fillTime=function(){var toggle=void 0,newDate=void 0,timeComponents=this.widget.find(".timepicker span[data-time-component]");this.use24Hours||(toggle=this.widget.find(".timepicker [data-action=togglePeriod]"),newDate=this._getLastPickedDate().clone().add(this._getLastPickedDate().hours()>=12?-12:12,"h"),toggle.text(this._getLastPickedDate().format("A")),this._isValid(newDate,"h")?toggle.removeClass("disabled"):toggle.addClass("disabled")),timeComponents.filter("[data-time-component=hours]").text(this._getLastPickedDate().format(this.use24Hours?"HH":"hh")),timeComponents.filter("[data-time-component=minutes]").text(this._getLastPickedDate().format("mm")),timeComponents.filter("[data-time-component=seconds]").text(this._getLastPickedDate().format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},TempusDominusBootstrap43.prototype._doAction=function(e2,action){var lastPicked=this._getLastPickedDate();if($2(e2.currentTarget).is(".disabled"))return!1;switch(action=action||$2(e2.currentTarget).data("action"),action){case"next":{var navFnc=DateTimePicker.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(DateTimePicker.DatePickerModes[this.currentViewMode].NAV_STEP,navFnc),this._fillDate(),this._viewUpdate(navFnc);break}case"previous":{var _navFnc=DateTimePicker.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(DateTimePicker.DatePickerModes[this.currentViewMode].NAV_STEP,_navFnc),this._fillDate(),this._viewUpdate(_navFnc);break}case"pickerSwitch":this._showMode(1);break;case"selectMonth":{var month=$2(e2.target).closest("tbody").find("span").index($2(e2.target));this._viewDate.month(month),this.currentViewMode===this.MinViewModeNumber?(this._setValue(lastPicked.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break}case"selectYear":{var year=parseInt($2(e2.target).text(),10)||0;this._viewDate.year(year),this.currentViewMode===this.MinViewModeNumber?(this._setValue(lastPicked.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break}case"selectDecade":{var _year=parseInt($2(e2.target).data("selection"),10)||0;this._viewDate.year(_year),this.currentViewMode===this.MinViewModeNumber?(this._setValue(lastPicked.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break}case"selectDay":{var day=this._viewDate.clone();$2(e2.target).is(".old")&&day.subtract(1,"M"),$2(e2.target).is(".new")&&day.add(1,"M");var selectDate=day.date(parseInt($2(e2.target).text(),10)),index2=0;this._options.allowMultidate?(index2=this._datesFormatted.indexOf(selectDate.format("YYYY-MM-DD")),index2!==-1?this._setValue(null,index2):this._setValue(selectDate,this._getLastPickedDateIndex()+1)):this._setValue(selectDate,this._getLastPickedDateIndex()),!this._hasTime()&&!this._options.keepOpen&&!this._options.inline&&!this._options.allowMultidate&&this.hide();break}case"incrementHours":{var newDate=lastPicked.clone().add(1,"h");this._isValid(newDate,"h")&&this._setValue(newDate,this._getLastPickedDateIndex());break}case"incrementMinutes":{var _newDate=lastPicked.clone().add(this._options.stepping,"m");this._isValid(_newDate,"m")&&this._setValue(_newDate,this._getLastPickedDateIndex());break}case"incrementSeconds":{var _newDate2=lastPicked.clone().add(1,"s");this._isValid(_newDate2,"s")&&this._setValue(_newDate2,this._getLastPickedDateIndex());break}case"decrementHours":{var _newDate3=lastPicked.clone().subtract(1,"h");this._isValid(_newDate3,"h")&&this._setValue(_newDate3,this._getLastPickedDateIndex());break}case"decrementMinutes":{var _newDate4=lastPicked.clone().subtract(this._options.stepping,"m");this._isValid(_newDate4,"m")&&this._setValue(_newDate4,this._getLastPickedDateIndex());break}case"decrementSeconds":{var _newDate5=lastPicked.clone().subtract(1,"s");this._isValid(_newDate5,"s")&&this._setValue(_newDate5,this._getLastPickedDateIndex());break}case"togglePeriod":{this._setValue(lastPicked.clone().add(lastPicked.hours()>=12?-12:12,"h"),this._getLastPickedDateIndex());break}case"togglePicker":{var $this=$2(e2.target),$link=$this.closest("a"),$parent=$this.closest("ul"),expanded=$parent.find(".show"),closed=$parent.find(".collapse:not(.show)"),$span=$this.is("span")?$this:$this.find("span"),collapseData=void 0;if(expanded&&expanded.length){if(collapseData=expanded.data("collapse"),collapseData&&collapseData.transitioning)return!0;expanded.collapse?(expanded.collapse("hide"),closed.collapse("show")):(expanded.removeClass("show"),closed.addClass("show")),$span.toggleClass(this._options.icons.time+" "+this._options.icons.date),$span.hasClass(this._options.icons.date)?$link.attr("title",this._options.tooltips.selectDate):$link.attr("title",this._options.tooltips.selectTime)}}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":{var hour=parseInt($2(e2.target).text(),10);this.use24Hours||(lastPicked.hours()>=12?hour!==12&&(hour+=12):hour===12&&(hour=0)),this._setValue(lastPicked.clone().hours(hour),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._isEnabled("m")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(e2,"showPicker");break}case"selectMinute":this._setValue(lastPicked.clone().minutes(parseInt($2(e2.target).text(),10)),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._isEnabled("s")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(e2,"showPicker");break;case"selectSecond":this._setValue(lastPicked.clone().seconds(parseInt($2(e2.target).text(),10)),this._getLastPickedDateIndex()),!this._isEnabled("a")&&!this._options.keepOpen&&!this._options.inline?this.hide():this._doAction(e2,"showPicker");break;case"clear":this.clear();break;case"close":this.hide();break;case"today":{var todaysDate=this.getMoment();this._isValid(todaysDate,"d")&&this._setValue(todaysDate,this._getLastPickedDateIndex());break}}return!1},TempusDominusBootstrap43.prototype.hide=function(){var transitioning=!1;this.widget&&(this.widget.find(".collapse").each(function(){var collapseData=$2(this).data("collapse");return collapseData&&collapseData.transitioning?(transitioning=!0,!1):!0}),!transitioning&&(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),$2(window).off("resize",this._place()),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,this._notifyEvent({type:DateTimePicker.Event.HIDE,date:this._getLastPickedDate().clone()}),this.input!==void 0&&this.input.blur(),this._viewDate=this._getLastPickedDate().clone()))},TempusDominusBootstrap43.prototype.show=function(){var currentMoment=void 0,useCurrentGranularity={year:function(m2){return m2.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(m2){return m2.date(1).hours(0).seconds(0).minutes(0)},day:function(m2){return m2.hours(0).seconds(0).minutes(0)},hour:function(m2){return m2.seconds(0).minutes(0)},minute:function(m2){return m2.seconds(0)}};if(this.input!==void 0){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;this.input.val()!==void 0&&this.input.val().trim().length!==0?this._setValue(this._parseInputDate(this.input.val().trim()),0):this.unset&&this._options.useCurrent&&(currentMoment=this.getMoment(),typeof this._options.useCurrent=="string"&&(currentMoment=useCurrentGranularity[this._options.useCurrent](currentMoment)),this._setValue(currentMoment,0))}else this.unset&&this._options.useCurrent&&(currentMoment=this.getMoment(),typeof this._options.useCurrent=="string"&&(currentMoment=useCurrentGranularity[this._options.useCurrent](currentMoment)),this._setValue(currentMoment,0));this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),$2(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",$2.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),this.input!==void 0&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:DateTimePicker.Event.SHOW})},TempusDominusBootstrap43.prototype.destroy=function(){this.hide(),this._element.removeData(DateTimePicker.DATA_KEY),this._element.removeData("date")},TempusDominusBootstrap43.prototype.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),this.input!==void 0&&this.input.prop("disabled",!0)},TempusDominusBootstrap43.prototype.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),this.input!==void 0&&this.input.prop("disabled",!1)},TempusDominusBootstrap43.prototype.toolbarPlacement=function(_toolbarPlacement){if(arguments.length===0)return this._options.toolbarPlacement;if(typeof _toolbarPlacement!="string")throw new TypeError("toolbarPlacement() expects a string parameter");if(toolbarPlacements.indexOf(_toolbarPlacement)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+toolbarPlacements.join(", ")+") value");this._options.toolbarPlacement=_toolbarPlacement,this.widget&&(this.hide(),this.show())},TempusDominusBootstrap43.prototype.widgetPositioning=function(_widgetPositioning){if(arguments.length===0)return $2.extend({},this._options.widgetPositioning);if({}.toString.call(_widgetPositioning)!=="[object Object]")throw new TypeError("widgetPositioning() expects an object variable");if(_widgetPositioning.horizontal){if(typeof _widgetPositioning.horizontal!="string")throw new TypeError("widgetPositioning() horizontal variable must be a string");if(_widgetPositioning.horizontal=_widgetPositioning.horizontal.toLowerCase(),horizontalModes.indexOf(_widgetPositioning.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+horizontalModes.join(", ")+")");this._options.widgetPositioning.horizontal=_widgetPositioning.horizontal}if(_widgetPositioning.vertical){if(typeof _widgetPositioning.vertical!="string")throw new TypeError("widgetPositioning() vertical variable must be a string");if(_widgetPositioning.vertical=_widgetPositioning.vertical.toLowerCase(),verticalModes.indexOf(_widgetPositioning.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+verticalModes.join(", ")+")");this._options.widgetPositioning.vertical=_widgetPositioning.vertical}this._update()},TempusDominusBootstrap43.prototype.widgetParent=function(_widgetParent){if(arguments.length===0)return this._options.widgetParent;if(typeof _widgetParent=="string"&&(_widgetParent=$2(_widgetParent)),_widgetParent!==null&&typeof _widgetParent!="string"&&!(_widgetParent instanceof $2))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=_widgetParent,this.widget&&(this.hide(),this.show())},TempusDominusBootstrap43._jQueryHandleThis=function(me,option,argument){var data2=$2(me).data(DateTimePicker.DATA_KEY);if((typeof option>"u"?"undefined":_typeof(option))==="object"&&$2.extend({},DateTimePicker.Default,option),data2||(data2=new TempusDominusBootstrap43($2(me),option),$2(me).data(DateTimePicker.DATA_KEY,data2)),typeof option=="string"){if(data2[option]===void 0)throw new Error('No method named "'+option+'"');return argument===void 0?data2[option]():data2[option](argument)}},TempusDominusBootstrap43._jQueryInterface=function(option,argument){return this.length===1?TempusDominusBootstrap43._jQueryHandleThis(this[0],option,argument):this.each(function(){TempusDominusBootstrap43._jQueryHandleThis(this,option,argument)})},TempusDominusBootstrap43}(DateTimePicker);return $2(document).on(DateTimePicker.Event.CLICK_DATA_API,DateTimePicker.Selector.DATA_TOGGLE,function(){var $target=getSelectorFromElement($2(this));$target.length!==0&&TempusDominusBootstrap42._jQueryInterface.call($target,"toggle")}).on(DateTimePicker.Event.CHANGE,"."+DateTimePicker.ClassName.INPUT,function(event){var $target=getSelectorFromElement($2(this));$target.length!==0&&TempusDominusBootstrap42._jQueryInterface.call($target,"_change",event)}).on(DateTimePicker.Event.BLUR,"."+DateTimePicker.ClassName.INPUT,function(event){var $target=getSelectorFromElement($2(this)),config2=$target.data(DateTimePicker.DATA_KEY);$target.length!==0&&(config2._options.debug||window.debug||TempusDominusBootstrap42._jQueryInterface.call($target,"hide",event))}).on(DateTimePicker.Event.KEYDOWN,"."+DateTimePicker.ClassName.INPUT,function(event){var $target=getSelectorFromElement($2(this));$target.length!==0&&TempusDominusBootstrap42._jQueryInterface.call($target,"_keydown",event)}).on(DateTimePicker.Event.KEYUP,"."+DateTimePicker.ClassName.INPUT,function(event){var $target=getSelectorFromElement($2(this));$target.length!==0&&TempusDominusBootstrap42._jQueryInterface.call($target,"_keyup",event)}).on(DateTimePicker.Event.FOCUS,"."+DateTimePicker.ClassName.INPUT,function(event){var $target=getSelectorFromElement($2(this)),config2=$target.data(DateTimePicker.DATA_KEY);$target.length!==0&&config2._options.allowInputToggle&&TempusDominusBootstrap42._jQueryInterface.call($target,"show",event)}),$2.fn[DateTimePicker.NAME]=TempusDominusBootstrap42._jQueryInterface,$2.fn[DateTimePicker.NAME].Constructor=TempusDominusBootstrap42,$2.fn[DateTimePicker.NAME].noConflict=function(){return $2.fn[DateTimePicker.NAME]=JQUERY_NO_CONFLICT,TempusDominusBootstrap42._jQueryInterface},TempusDominusBootstrap42})(jQuery)}(),(()=>{(function(e2){const n2=e2.performance;function i2(L2){n2&&n2.mark&&n2.mark(L2)}function o2(L2,T2){n2&&n2.measure&&n2.measure(L2,T2)}i2("Zone");const c2=e2.__Zone_symbol_prefix||"__zone_symbol__";function a2(L2){return c2+L2}const y2=e2[a2("forceDuplicateZoneCheck")]===!0;if(e2.Zone){if(y2||typeof e2.Zone.__symbol__!="function")throw new Error("Zone already loaded.");return e2.Zone}let d2=(()=>{var _e3;const _L=class _L{static assertZonePatched(){if(e2.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t2=_L.current;for(;t2.parent;)t2=t2.parent;return t2}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t2,r2,k2=!1){if(oe.hasOwnProperty(t2)){if(!k2&&y2)throw Error("Already loaded patch: "+t2)}else if(!e2["__Zone_disable_"+t2]){const C2="Zone:"+t2;i2(C2),oe[t2]=r2(e2,_L,z2),o2(C2,C2)}}get parent(){return this._parent}get name(){return this._name}constructor(t2,r2){this._parent=t2,this._name=r2?r2.name||"unnamed":"<root>",this._properties=r2&&r2.properties||{},this._zoneDelegate=new v2(this,this._parent&&this._parent._zoneDelegate,r2)}get(t2){const r2=this.getZoneWith(t2);if(r2)return r2._properties[t2]}getZoneWith(t2){let r2=this;for(;r2;){if(r2._properties.hasOwnProperty(t2))return r2;r2=r2._parent}return null}fork(t2){if(!t2)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t2)}wrap(t2,r2){if(typeof t2!="function")throw new Error("Expecting function got: "+t2);const k2=this._zoneDelegate.intercept(this,t2,r2),C2=this;return function(){return C2.runGuarded(k2,this,arguments,r2)}}run(t2,r2,k2,C2){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t2,r2,k2,C2)}finally{U=U.parent}}runGuarded(t2,r2=null,k2,C2){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t2,r2,k2,C2)}catch($2){if(this._zoneDelegate.handleError(this,$2))throw $2}}finally{U=U.parent}}runTask(t2,r2,k2){if(t2.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t2.zone||J).name+"; Execution: "+this.name+")");if(t2.state===x2&&(t2.type===Q||t2.type===P2))return;const C2=t2.state!=E2;C2&&t2._transitionTo(E2,A2),t2.runCount++;const $2=re;re=t2,U={parent:U,zone:this};try{t2.type==P2&&t2.data&&!t2.data.isPeriodic&&(t2.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t2,r2,k2)}catch(l2){if(this._zoneDelegate.handleError(this,l2))throw l2}}finally{t2.state!==x2&&t2.state!==h2&&(t2.type==Q||t2.data&&t2.data.isPeriodic?C2&&t2._transitionTo(A2,E2):(t2.runCount=0,this._updateTaskCount(t2,-1),C2&&t2._transitionTo(x2,E2,x2))),U=U.parent,re=$2}}scheduleTask(t2){if(t2.zone&&t2.zone!==this){let k2=this;for(;k2;){if(k2===t2.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t2.zone.name}`);k2=k2.parent}}t2._transitionTo(X,x2);const r2=[];t2._zoneDelegates=r2,t2._zone=this;try{t2=this._zoneDelegate.scheduleTask(this,t2)}catch(k2){throw t2._transitionTo(h2,X,x2),this._zoneDelegate.handleError(this,k2),k2}return t2._zoneDelegates===r2&&this._updateTaskCount(t2,1),t2.state==X&&t2._transitionTo(A2,X),t2}scheduleMicroTask(t2,r2,k2,C2){return this.scheduleTask(new m2(I2,t2,r2,k2,C2,void 0))}scheduleMacroTask(t2,r2,k2,C2,$2){return this.scheduleTask(new m2(P2,t2,r2,k2,C2,$2))}scheduleEventTask(t2,r2,k2,C2,$2){return this.scheduleTask(new m2(Q,t2,r2,k2,C2,$2))}cancelTask(t2){if(t2.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t2.zone||J).name+"; Execution: "+this.name+")");if(t2.state===A2||t2.state===E2){t2._transitionTo(G,A2,E2);try{this._zoneDelegate.cancelTask(this,t2)}catch(r2){throw t2._transitionTo(h2,G),this._zoneDelegate.handleError(this,r2),r2}return this._updateTaskCount(t2,-1),t2._transitionTo(x2,G),t2.runCount=0,t2}}_updateTaskCount(t2,r2){const k2=t2._zoneDelegates;r2==-1&&(t2._zoneDelegates=null);for(let C2=0;C2<k2.length;C2++)k2[C2]._updateTaskCount(t2.type,r2)}};_e3=new WeakMap,__privateAdd(_L,_e3,_L.__symbol__=a2);let L2=_L;return L2})();const b2={name:"",onHasTask:(L2,T2,t2,r2)=>L2.hasTask(t2,r2),onScheduleTask:(L2,T2,t2,r2)=>L2.scheduleTask(t2,r2),onInvokeTask:(L2,T2,t2,r2,k2,C2)=>L2.invokeTask(t2,r2,k2,C2),onCancelTask:(L2,T2,t2,r2)=>L2.cancelTask(t2,r2)};class v2{constructor(T2,t2,r2){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=T2,this._parentDelegate=t2,this._forkZS=r2&&(r2&&r2.onFork?r2:t2._forkZS),this._forkDlgt=r2&&(r2.onFork?t2:t2._forkDlgt),this._forkCurrZone=r2&&(r2.onFork?this.zone:t2._forkCurrZone),this._interceptZS=r2&&(r2.onIntercept?r2:t2._interceptZS),this._interceptDlgt=r2&&(r2.onIntercept?t2:t2._interceptDlgt),this._interceptCurrZone=r2&&(r2.onIntercept?this.zone:t2._interceptCurrZone),this._invokeZS=r2&&(r2.onInvoke?r2:t2._invokeZS),this._invokeDlgt=r2&&(r2.onInvoke?t2:t2._invokeDlgt),this._invokeCurrZone=r2&&(r2.onInvoke?this.zone:t2._invokeCurrZone),this._handleErrorZS=r2&&(r2.onHandleError?r2:t2._handleErrorZS),this._handleErrorDlgt=r2&&(r2.onHandleError?t2:t2._handleErrorDlgt),this._handleErrorCurrZone=r2&&(r2.onHandleError?this.zone:t2._handleErrorCurrZone),this._scheduleTaskZS=r2&&(r2.onScheduleTask?r2:t2._scheduleTaskZS),this._scheduleTaskDlgt=r2&&(r2.onScheduleTask?t2:t2._scheduleTaskDlgt),this._scheduleTaskCurrZone=r2&&(r2.onScheduleTask?this.zone:t2._scheduleTaskCurrZone),this._invokeTaskZS=r2&&(r2.onInvokeTask?r2:t2._invokeTaskZS),this._invokeTaskDlgt=r2&&(r2.onInvokeTask?t2:t2._invokeTaskDlgt),this._invokeTaskCurrZone=r2&&(r2.onInvokeTask?this.zone:t2._invokeTaskCurrZone),this._cancelTaskZS=r2&&(r2.onCancelTask?r2:t2._cancelTaskZS),this._cancelTaskDlgt=r2&&(r2.onCancelTask?t2:t2._cancelTaskDlgt),this._cancelTaskCurrZone=r2&&(r2.onCancelTask?this.zone:t2._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k2=r2&&r2.onHasTask;(k2||t2&&t2._hasTaskZS)&&(this._hasTaskZS=k2?r2:b2,this._hasTaskDlgt=t2,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=T2,r2.onScheduleTask||(this._scheduleTaskZS=b2,this._scheduleTaskDlgt=t2,this._scheduleTaskCurrZone=this.zone),r2.onInvokeTask||(this._invokeTaskZS=b2,this._invokeTaskDlgt=t2,this._invokeTaskCurrZone=this.zone),r2.onCancelTask||(this._cancelTaskZS=b2,this._cancelTaskDlgt=t2,this._cancelTaskCurrZone=this.zone))}fork(T2,t2){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,T2,t2):new d2(T2,t2)}intercept(T2,t2,r2){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,T2,t2,r2):t2}invoke(T2,t2,r2,k2,C2){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,T2,t2,r2,k2,C2):t2.apply(r2,k2)}handleError(T2,t2){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,T2,t2)}scheduleTask(T2,t2){let r2=t2;if(this._scheduleTaskZS)this._hasTaskZS&&r2._zoneDelegates.push(this._hasTaskDlgtOwner),r2=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,T2,t2),r2||(r2=t2);else if(t2.scheduleFn)t2.scheduleFn(t2);else{if(t2.type!=I2)throw new Error("Task is missing scheduleFn.");R2(t2)}return r2}invokeTask(T2,t2,r2,k2){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,T2,t2,r2,k2):t2.callback.apply(r2,k2)}cancelTask(T2,t2){let r2;if(this._cancelTaskZS)r2=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,T2,t2);else{if(!t2.cancelFn)throw Error("Task is not cancelable");r2=t2.cancelFn(t2)}return r2}hasTask(T2,t2){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,T2,t2)}catch(r2){this.handleError(T2,r2)}}_updateTaskCount(T2,t2){const r2=this._taskCounts,k2=r2[T2],C2=r2[T2]=k2+t2;if(C2<0)throw new Error("More tasks executed then were scheduled.");k2!=0&&C2!=0||this.hasTask(this.zone,{microTask:r2.microTask>0,macroTask:r2.macroTask>0,eventTask:r2.eventTask>0,change:T2})}}class m2{constructor(T2,t2,r2,k2,C2,$2){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=T2,this.source=t2,this.data=k2,this.scheduleFn=C2,this.cancelFn=$2,!r2)throw new Error("callback is not defined");this.callback=r2;const l2=this;this.invoke=T2===Q&&k2&&k2.useG?m2.invokeTask:function(){return m2.invokeTask.call(e2,l2,this,arguments)}}static invokeTask(T2,t2,r2){T2||(T2=this),ee++;try{return T2.runCount++,T2.zone.runTask(T2,t2,r2)}finally{ee==1&&_2(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x2,X)}_transitionTo(T2,t2,r2){if(this._state!==t2&&this._state!==r2)throw new Error(`${this.type} '${this.source}': can not transition to '${T2}', expecting state '${t2}'${r2?" or '"+r2+"'":""}, was '${this._state}'.`);this._state=T2,T2==x2&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const M2=a2("setTimeout"),O=a2("Promise"),N2=a2("then");let K,B=[],H2=!1;function q(L2){if(K||e2[O]&&(K=e2[O].resolve(0)),K){let T2=K[N2];T2||(T2=K.then),T2.call(K,L2)}else e2[M2](L2,0)}function R2(L2){ee===0&&B.length===0&&q(_2),L2&&B.push(L2)}function _2(){if(!H2){for(H2=!0;B.length;){const L2=B;B=[];for(let T2=0;T2<L2.length;T2++){const t2=L2[T2];try{t2.zone.runTask(t2,null,null)}catch(r2){z2.onUnhandledError(r2)}}}z2.microtaskDrainDone(),H2=!1}}const J={name:"NO ZONE"},x2="notScheduled",X="scheduling",A2="scheduled",E2="running",G="canceling",h2="unknown",I2="microTask",P2="macroTask",Q="eventTask",oe={},z2={symbol:a2,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R2,showUncaughtError:()=>!d2[a2("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d2(null,null)},re=null,ee=0;function W(){}o2("Zone","Zone"),e2.Zone=d2})(typeof window<"u"&&window||typeof self<"u"&&self||globalThis);const ye=Object.getOwnPropertyDescriptor,Re=Object.defineProperty,Ce=Object.getPrototypeOf,st=Object.create,it=Array.prototype.slice,Se="addEventListener",Ze="removeEventListener",De=Zone.__symbol__(Se),Oe=Zone.__symbol__(Ze),ie="true",ce="false",me=Zone.__symbol__("");function Ne(e2,n2){return Zone.current.wrap(e2,n2)}function Ie(e2,n2,i2,o2,c2){return Zone.current.scheduleMacroTask(e2,n2,i2,o2,c2)}const j2=Zone.__symbol__,ke=typeof window<"u",de=ke?window:void 0,Y=ke&&de||typeof self=="object"&&self||globalThis,ct="removeAttribute";function Me(e2,n2){for(let i2=e2.length-1;i2>=0;i2--)typeof e2[i2]=="function"&&(e2[i2]=Ne(e2[i2],n2+"_"+i2));return e2}function Ge(e2){return!e2||e2.writable!==!1&&!(typeof e2.get=="function"&&typeof e2.set>"u")}const Ve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ve=!("nw"in Y)&&typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]",Le=!ve&&!Ve&&!(!ke||!de.HTMLElement),Fe=typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]"&&!Ve&&!(!ke||!de.HTMLElement),be={},Be=function(e2){if(!(e2=e2||Y.event))return;let n2=be[e2.type];n2||(n2=be[e2.type]=j2("ON_PROPERTY"+e2.type));const i2=this||e2.target||Y,o2=i2[n2];let c2;return Le&&i2===de&&e2.type==="error"?(c2=o2&&o2.call(this,e2.message,e2.filename,e2.lineno,e2.colno,e2.error),c2===!0&&e2.preventDefault()):(c2=o2&&o2.apply(this,arguments),c2!=null&&!c2&&e2.preventDefault()),c2};function Ue(e2,n2,i2){let o2=ye(e2,n2);if(!o2&&i2&&ye(i2,n2)&&(o2={enumerable:!0,configurable:!0}),!o2||!o2.configurable)return;const c2=j2("on"+n2+"patched");if(e2.hasOwnProperty(c2)&&e2[c2])return;delete o2.writable,delete o2.value;const a2=o2.get,y2=o2.set,d2=n2.slice(2);let b2=be[d2];b2||(b2=be[d2]=j2("ON_PROPERTY"+d2)),o2.set=function(v2){let m2=this;!m2&&e2===Y&&(m2=Y),m2&&(typeof m2[b2]=="function"&&m2.removeEventListener(d2,Be),y2&&y2.call(m2,null),m2[b2]=v2,typeof v2=="function"&&m2.addEventListener(d2,Be,!1))},o2.get=function(){let v2=this;if(!v2&&e2===Y&&(v2=Y),!v2)return null;const m2=v2[b2];if(m2)return m2;if(a2){let M2=a2.call(this);if(M2)return o2.set.call(this,M2),typeof v2[ct]=="function"&&v2.removeAttribute(n2),M2}return null},Re(e2,n2,o2),e2[c2]=!0}function We(e2,n2,i2){if(n2)for(let o2=0;o2<n2.length;o2++)Ue(e2,"on"+n2[o2],i2);else{const o2=[];for(const c2 in e2)c2.slice(0,2)=="on"&&o2.push(c2);for(let c2=0;c2<o2.length;c2++)Ue(e2,o2[c2],i2)}}const ne=j2("originalInstance");function pe(e2){const n2=Y[e2];if(!n2)return;Y[j2(e2)]=n2,Y[e2]=function(){const c2=Me(arguments,e2);switch(c2.length){case 0:this[ne]=new n2;break;case 1:this[ne]=new n2(c2[0]);break;case 2:this[ne]=new n2(c2[0],c2[1]);break;case 3:this[ne]=new n2(c2[0],c2[1],c2[2]);break;case 4:this[ne]=new n2(c2[0],c2[1],c2[2],c2[3]);break;default:throw new Error("Arg list too long.")}},le(Y[e2],n2);const i2=new n2(function(){});let o2;for(o2 in i2)e2==="XMLHttpRequest"&&o2==="responseBlob"||function(c2){typeof i2[c2]=="function"?Y[e2].prototype[c2]=function(){return this[ne][c2].apply(this[ne],arguments)}:Re(Y[e2].prototype,c2,{set:function(a2){typeof a2=="function"?(this[ne][c2]=Ne(a2,e2+"."+c2),le(this[ne][c2],a2)):this[ne][c2]=a2},get:function(){return this[ne][c2]}})}(o2);for(o2 in n2)o2!=="prototype"&&n2.hasOwnProperty(o2)&&(Y[e2][o2]=n2[o2])}function ae(e2,n2,i2){let o2=e2;for(;o2&&!o2.hasOwnProperty(n2);)o2=Ce(o2);!o2&&e2[n2]&&(o2=e2);const c2=j2(n2);let a2=null;if(o2&&(!(a2=o2[c2])||!o2.hasOwnProperty(c2))&&(a2=o2[c2]=o2[n2],Ge(o2&&ye(o2,n2)))){const d2=i2(a2,c2,n2);o2[n2]=function(){return d2(this,arguments)},le(o2[n2],a2)}return a2}function lt(e2,n2,i2){let o2=null;function c2(a2){const y2=a2.data;return y2.args[y2.cbIdx]=function(){a2.invoke.apply(this,arguments)},o2.apply(y2.target,y2.args),a2}o2=ae(e2,n2,a2=>function(y2,d2){const b2=i2(y2,d2);return b2.cbIdx>=0&&typeof d2[b2.cbIdx]=="function"?Ie(b2.name,d2[b2.cbIdx],b2,c2):a2.apply(y2,d2)})}function le(e2,n2){e2[j2("OriginalDelegate")]=n2}let qe=!1,Ae=!1;function ft(){if(qe)return Ae;qe=!0;try{const e2=de.navigator.userAgent;(e2.indexOf("MSIE ")!==-1||e2.indexOf("Trident/")!==-1||e2.indexOf("Edge/")!==-1)&&(Ae=!0)}catch{}return Ae}Zone.__load_patch("ZoneAwarePromise",(e2,n2,i2)=>{const o2=Object.getOwnPropertyDescriptor,c2=Object.defineProperty,y2=i2.symbol,d2=[],b2=e2[y2("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]===!0,v2=y2("Promise"),m2=y2("then"),M2="__creationTrace__";i2.onUnhandledError=l2=>{if(i2.showUncaughtError()){const u2=l2&&l2.rejection;u2?console.error("Unhandled Promise rejection:",u2 instanceof Error?u2.message:u2,"; Zone:",l2.zone.name,"; Task:",l2.task&&l2.task.source,"; Value:",u2,u2 instanceof Error?u2.stack:void 0):console.error(l2)}},i2.microtaskDrainDone=()=>{for(;d2.length;){const l2=d2.shift();try{l2.zone.runGuarded(()=>{throw l2.throwOriginal?l2.rejection:l2})}catch(u2){N2(u2)}}};const O=y2("unhandledPromiseRejectionHandler");function N2(l2){i2.onUnhandledError(l2);try{const u2=n2[O];typeof u2=="function"&&u2.call(this,l2)}catch{}}function B(l2){return l2&&l2.then}function H2(l2){return l2}function K(l2){return t2.reject(l2)}const q=y2("state"),R2=y2("value"),_2=y2("finally"),J=y2("parentPromiseValue"),x2=y2("parentPromiseState"),X="Promise.then",A2=null,E2=!0,G=!1,h2=0;function I2(l2,u2){return s2=>{try{z2(l2,u2,s2)}catch(f2){z2(l2,!1,f2)}}}const P2=function(){let l2=!1;return function(s2){return function(){l2||(l2=!0,s2.apply(null,arguments))}}},Q="Promise resolved with itself",oe=y2("currentTaskTrace");function z2(l2,u2,s2){const f2=P2();if(l2===s2)throw new TypeError(Q);if(l2[q]===A2){let g2=null;try{(typeof s2=="object"||typeof s2=="function")&&(g2=s2&&s2.then)}catch(w2){return f2(()=>{z2(l2,!1,w2)})(),l2}if(u2!==G&&s2 instanceof t2&&s2.hasOwnProperty(q)&&s2.hasOwnProperty(R2)&&s2[q]!==A2)re(s2),z2(l2,s2[q],s2[R2]);else if(u2!==G&&typeof g2=="function")try{g2.call(s2,f2(I2(l2,u2)),f2(I2(l2,!1)))}catch(w2){f2(()=>{z2(l2,!1,w2)})()}else{l2[q]=u2;const w2=l2[R2];if(l2[R2]=s2,l2[_2]===_2&&u2===E2&&(l2[q]=l2[x2],l2[R2]=l2[J]),u2===G&&s2 instanceof Error){const p2=n2.currentTask&&n2.currentTask.data&&n2.currentTask.data[M2];p2&&c2(s2,oe,{configurable:!0,enumerable:!1,writable:!0,value:p2})}for(let p2=0;p2<w2.length;)ee(l2,w2[p2++],w2[p2++],w2[p2++],w2[p2++]);if(w2.length==0&&u2==G){l2[q]=h2;let p2=s2;try{throw new Error("Uncaught (in promise): "+function(l22){return l22&&l22.toString===Object.prototype.toString?(l22.constructor&&l22.constructor.name||"")+": "+JSON.stringify(l22):l22?l22.toString():Object.prototype.toString.call(l22)}(s2)+(s2&&s2.stack?`
`+s2.stack:""))}catch(S2){p2=S2}b2&&(p2.throwOriginal=!0),p2.rejection=s2,p2.promise=l2,p2.zone=n2.current,p2.task=n2.currentTask,d2.push(p2),i2.scheduleMicroTask()}}}return l2}const U=y2("rejectionHandledHandler");function re(l2){if(l2[q]===h2){try{const u2=n2[U];u2&&typeof u2=="function"&&u2.call(this,{rejection:l2[R2],promise:l2})}catch{}l2[q]=G;for(let u2=0;u2<d2.length;u2++)l2===d2[u2].promise&&d2.splice(u2,1)}}function ee(l2,u2,s2,f2,g2){re(l2);const w2=l2[q],p2=w2?typeof f2=="function"?f2:H2:typeof g2=="function"?g2:K;u2.scheduleMicroTask(X,()=>{try{const S2=l2[R2],Z2=!!s2&&_2===s2[_2];Z2&&(s2[J]=S2,s2[x2]=w2);const D=u2.run(p2,void 0,Z2&&p2!==K&&p2!==H2?[]:[S2]);z2(s2,!0,D)}catch(S2){z2(s2,!1,S2)}},s2)}const L2=function(){},T2=e2.AggregateError;class t2{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u2){return z2(new this(null),E2,u2)}static reject(u2){return z2(new this(null),G,u2)}static any(u2){if(!u2||typeof u2[Symbol.iterator]!="function")return Promise.reject(new T2([],"All promises were rejected"));const s2=[];let f2=0;try{for(let p2 of u2)f2++,s2.push(t2.resolve(p2))}catch{return Promise.reject(new T2([],"All promises were rejected"))}if(f2===0)return Promise.reject(new T2([],"All promises were rejected"));let g2=!1;const w2=[];return new t2((p2,S2)=>{for(let Z2=0;Z2<s2.length;Z2++)s2[Z2].then(D=>{g2||(g2=!0,p2(D))},D=>{w2.push(D),f2--,f2===0&&(g2=!0,S2(new T2(w2,"All promises were rejected")))})})}static race(u2){let s2,f2,g2=new this((S2,Z2)=>{s2=S2,f2=Z2});function w2(S2){s2(S2)}function p2(S2){f2(S2)}for(let S2 of u2)B(S2)||(S2=this.resolve(S2)),S2.then(w2,p2);return g2}static all(u2){return t2.allWithCallback(u2)}static allSettled(u2){return(this&&this.prototype instanceof t2?this:t2).allWithCallback(u2,{thenCallback:f2=>({status:"fulfilled",value:f2}),errorCallback:f2=>({status:"rejected",reason:f2})})}static allWithCallback(u2,s2){let f2,g2,w2=new this((D,V2)=>{f2=D,g2=V2}),p2=2,S2=0;const Z2=[];for(let D of u2){B(D)||(D=this.resolve(D));const V2=S2;try{D.then(F=>{Z2[V2]=s2?s2.thenCallback(F):F,p2--,p2===0&&f2(Z2)},F=>{s2?(Z2[V2]=s2.errorCallback(F),p2--,p2===0&&f2(Z2)):g2(F)})}catch(F){g2(F)}p2++,S2++}return p2-=2,p2===0&&f2(Z2),w2}constructor(u2){const s2=this;if(!(s2 instanceof t2))throw new Error("Must be an instanceof Promise.");s2[q]=A2,s2[R2]=[];try{const f2=P2();u2&&u2(f2(I2(s2,E2)),f2(I2(s2,G)))}catch(f2){z2(s2,!1,f2)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t2}then(u2,s2){var _a2;let f2=(_a2=this.constructor)==null?void 0:_a2[Symbol.species];(!f2||typeof f2!="function")&&(f2=this.constructor||t2);const g2=new f2(L2),w2=n2.current;return this[q]==A2?this[R2].push(w2,g2,u2,s2):ee(this,w2,g2,u2,s2),g2}catch(u2){return this.then(null,u2)}finally(u2){var _a2;let s2=(_a2=this.constructor)==null?void 0:_a2[Symbol.species];(!s2||typeof s2!="function")&&(s2=t2);const f2=new s2(L2);f2[_2]=_2;const g2=n2.current;return this[q]==A2?this[R2].push(g2,f2,u2,u2):ee(this,g2,f2,u2,u2),f2}}t2.resolve=t2.resolve,t2.reject=t2.reject,t2.race=t2.race,t2.all=t2.all;const r2=e2[v2]=e2.Promise;e2.Promise=t2;const k2=y2("thenPatched");function C2(l2){const u2=l2.prototype,s2=o2(u2,"then");if(s2&&(s2.writable===!1||!s2.configurable))return;const f2=u2.then;u2[m2]=f2,l2.prototype.then=function(g2,w2){return new t2((S2,Z2)=>{f2.call(this,S2,Z2)}).then(g2,w2)},l2[k2]=!0}return i2.patchThen=C2,r2&&(C2(r2),ae(e2,"fetch",l2=>function(l22){return function(u2,s2){let f2=l22.apply(u2,s2);if(f2 instanceof t2)return f2;let g2=f2.constructor;return g2[k2]||C2(g2),f2}}(l2))),Promise[n2.__symbol__("uncaughtPromiseErrors")]=d2,t2}),Zone.__load_patch("toString",e2=>{const n2=Function.prototype.toString,i2=j2("OriginalDelegate"),o2=j2("Promise"),c2=j2("Error"),a2=function(){if(typeof this=="function"){const v2=this[i2];if(v2)return typeof v2=="function"?n2.call(v2):Object.prototype.toString.call(v2);if(this===Promise){const m2=e2[o2];if(m2)return n2.call(m2)}if(this===Error){const m2=e2[c2];if(m2)return n2.call(m2)}}return n2.call(this)};a2[i2]=n2,Function.prototype.toString=a2;const y2=Object.prototype.toString;Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?"[object Promise]":y2.call(this)}});let _e2=!1;if(typeof window<"u")try{const e2=Object.defineProperty({},"passive",{get:function(){_e2=!0}});window.addEventListener("test",e2,e2),window.removeEventListener("test",e2,e2)}catch{_e2=!1}const ht={useG:!0},te={},Xe={},ze=new RegExp("^"+me+"(\\w+)(true|false)$"),Ye=j2("propagationStopped");function $e(e2,n2){const i2=(n2?n2(e2):e2)+ce,o2=(n2?n2(e2):e2)+ie,c2=me+i2,a2=me+o2;te[e2]={},te[e2][ce]=c2,te[e2][ie]=a2}function dt(e2,n2,i2,o2){const c2=o2&&o2.add||Se,a2=o2&&o2.rm||Ze,y2=o2&&o2.listeners||"eventListeners",d2=o2&&o2.rmAll||"removeAllListeners",b2=j2(c2),v2="."+c2+":",m2="prependListener",M2="."+m2+":",O=function(R2,_2,J){if(R2.isRemoved)return;const x2=R2.callback;let X;typeof x2=="object"&&x2.handleEvent&&(R2.callback=E2=>x2.handleEvent(E2),R2.originalDelegate=x2);try{R2.invoke(R2,_2,[J])}catch(E2){X=E2}const A2=R2.options;return A2&&typeof A2=="object"&&A2.once&&_2[a2].call(_2,J.type,R2.originalDelegate?R2.originalDelegate:R2.callback,A2),X};function N2(R2,_2,J){if(!(_2=_2||e2.event))return;const x2=R2||_2.target||e2,X=x2[te[_2.type][J?ie:ce]];if(X){const A2=[];if(X.length===1){const E2=O(X[0],x2,_2);E2&&A2.push(E2)}else{const E2=X.slice();for(let G=0;G<E2.length&&(!_2||_2[Ye]!==!0);G++){const h2=O(E2[G],x2,_2);h2&&A2.push(h2)}}if(A2.length===1)throw A2[0];for(let E2=0;E2<A2.length;E2++){const G=A2[E2];n2.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R2){return N2(this,R2,!1)},H2=function(R2){return N2(this,R2,!0)};function K(R2,_2){if(!R2)return!1;let J=!0;_2&&_2.useG!==void 0&&(J=_2.useG);const x2=_2&&_2.vh;let X=!0;_2&&_2.chkDup!==void 0&&(X=_2.chkDup);let A2=!1;_2&&_2.rt!==void 0&&(A2=_2.rt);let E2=R2;for(;E2&&!E2.hasOwnProperty(c2);)E2=Ce(E2);if(!E2&&R2[c2]&&(E2=R2),!E2||E2[b2])return!1;const G=_2&&_2.eventNameToString,h2={},I2=E2[b2]=E2[c2],P2=E2[j2(a2)]=E2[a2],Q=E2[j2(y2)]=E2[y2],oe=E2[j2(d2)]=E2[d2];let z2;_2&&_2.prepend&&(z2=E2[j2(_2.prepend)]=E2[_2.prepend]);const t2=J?function(s2){if(!h2.isExisting)return I2.call(h2.target,h2.eventName,h2.capture?H2:B,h2.options)}:function(s2){return I2.call(h2.target,h2.eventName,s2.invoke,h2.options)},r2=J?function(s2){if(!s2.isRemoved){const f2=te[s2.eventName];let g2;f2&&(g2=f2[s2.capture?ie:ce]);const w2=g2&&s2.target[g2];if(w2){for(let p2=0;p2<w2.length;p2++)if(w2[p2]===s2){w2.splice(p2,1),s2.isRemoved=!0,w2.length===0&&(s2.allRemoved=!0,s2.target[g2]=null);break}}}if(s2.allRemoved)return P2.call(s2.target,s2.eventName,s2.capture?H2:B,s2.options)}:function(s2){return P2.call(s2.target,s2.eventName,s2.invoke,s2.options)},C2=_2&&_2.diff?_2.diff:function(s2,f2){const g2=typeof f2;return g2==="function"&&s2.callback===f2||g2==="object"&&s2.originalDelegate===f2},$2=Zone[j2("UNPATCHED_EVENTS")],l2=e2[j2("PASSIVE_EVENTS")],u2=function(s2,f2,g2,w2,p2=!1,S2=!1){return function(){const Z2=this||e2;let D=arguments[0];_2&&_2.transferEventName&&(D=_2.transferEventName(D));let V2=arguments[1];if(!V2)return s2.apply(this,arguments);if(ve&&D==="uncaughtException")return s2.apply(this,arguments);let F=!1;if(typeof V2!="function"){if(!V2.handleEvent)return s2.apply(this,arguments);F=!0}if(x2&&!x2(s2,V2,Z2,arguments))return;const ue=_e2&&!!l2&&l2.indexOf(D)!==-1,se=function(s22,f22){return!_e2&&typeof s22=="object"&&s22?!!s22.capture:_e2&&f22?typeof s22=="boolean"?{capture:s22,passive:!0}:s22?typeof s22=="object"&&s22.passive!==!1?{...s22,passive:!0}:s22:{passive:!0}:s22}(arguments[2],ue);if($2){for(let he=0;he<$2.length;he++)if(D===$2[he])return ue?s2.call(Z2,D,V2,se):s2.apply(this,arguments)}const He=!!se&&(typeof se=="boolean"||se.capture),et=!(!se||typeof se!="object")&&se.once,kt=Zone.current;let xe=te[D];xe||($e(D,G),xe=te[D]);const tt=xe[He?ie:ce];let we,Te=Z2[tt],nt=!1;if(Te){if(nt=!0,X){for(let he=0;he<Te.length;he++)if(C2(Te[he],V2))return}}else Te=Z2[tt]=[];const rt=Z2.constructor.name,ot=Xe[rt];ot&&(we=ot[D]),we||(we=rt+f2+(G?G(D):D)),h2.options=se,et&&(h2.options.once=!1),h2.target=Z2,h2.capture=He,h2.eventName=D,h2.isExisting=nt;const ge=J?ht:void 0;ge&&(ge.taskData=h2);const fe=kt.scheduleEventTask(we,V2,ge,g2,w2);return h2.target=null,ge&&(ge.taskData=null),et&&(se.once=!0),!_e2&&typeof fe.options=="boolean"||(fe.options=se),fe.target=Z2,fe.capture=He,fe.eventName=D,F&&(fe.originalDelegate=V2),S2?Te.unshift(fe):Te.push(fe),p2?Z2:void 0}};return E2[c2]=u2(I2,v2,t2,r2,A2),z2&&(E2[m2]=u2(z2,M2,function(s2){return z2.call(h2.target,h2.eventName,s2.invoke,h2.options)},r2,A2,!0)),E2[a2]=function(){const s2=this||e2;let f2=arguments[0];_2&&_2.transferEventName&&(f2=_2.transferEventName(f2));const g2=arguments[2],w2=!!g2&&(typeof g2=="boolean"||g2.capture),p2=arguments[1];if(!p2)return P2.apply(this,arguments);if(x2&&!x2(P2,p2,s2,arguments))return;const S2=te[f2];let Z2;S2&&(Z2=S2[w2?ie:ce]);const D=Z2&&s2[Z2];if(D)for(let V2=0;V2<D.length;V2++){const F=D[V2];if(C2(F,p2))return D.splice(V2,1),F.isRemoved=!0,D.length===0&&(F.allRemoved=!0,s2[Z2]=null,typeof f2=="string")&&(s2[me+"ON_PROPERTY"+f2]=null),F.zone.cancelTask(F),A2?s2:void 0}return P2.apply(this,arguments)},E2[y2]=function(){const s2=this||e2;let f2=arguments[0];_2&&_2.transferEventName&&(f2=_2.transferEventName(f2));const g2=[],w2=Je(s2,G?G(f2):f2);for(let p2=0;p2<w2.length;p2++){const S2=w2[p2];g2.push(S2.originalDelegate?S2.originalDelegate:S2.callback)}return g2},E2[d2]=function(){const s2=this||e2;let f2=arguments[0];if(f2){_2&&_2.transferEventName&&(f2=_2.transferEventName(f2));const g2=te[f2];if(g2){const S2=s2[g2[ce]],Z2=s2[g2[ie]];if(S2){const D=S2.slice();for(let V2=0;V2<D.length;V2++){const F=D[V2];this[a2].call(this,f2,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(Z2){const D=Z2.slice();for(let V2=0;V2<D.length;V2++){const F=D[V2];this[a2].call(this,f2,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g2=Object.keys(s2);for(let w2=0;w2<g2.length;w2++){const S2=ze.exec(g2[w2]);let Z2=S2&&S2[1];Z2&&Z2!=="removeListener"&&this[d2].call(this,Z2)}this[d2].call(this,"removeListener")}if(A2)return this},le(E2[c2],I2),le(E2[a2],P2),oe&&le(E2[d2],oe),Q&&le(E2[y2],Q),!0}let q=[];for(let R2=0;R2<i2.length;R2++)q[R2]=K(i2[R2],o2);return q}function Je(e2,n2){if(!n2){const a2=[];for(let y2 in e2){const d2=ze.exec(y2);let b2=d2&&d2[1];if(b2&&(!n2||b2===n2)){const v2=e2[y2];if(v2)for(let m2=0;m2<v2.length;m2++)a2.push(v2[m2])}}return a2}let i2=te[n2];i2||($e(n2),i2=te[n2]);const o2=e2[i2[ce]],c2=e2[i2[ie]];return o2?c2?o2.concat(c2):o2.slice():c2?c2.slice():[]}function _t(e2,n2){const i2=e2.Event;i2&&i2.prototype&&n2.patchMethod(i2.prototype,"stopImmediatePropagation",o2=>function(c2,a2){c2[Ye]=!0,o2&&o2.apply(c2,a2)})}function Et(e2,n2,i2,o2,c2){const a2=Zone.__symbol__(o2);if(n2[a2])return;const y2=n2[a2]=n2[o2];n2[o2]=function(d2,b2,v2){return b2&&b2.prototype&&c2.forEach(function(m2){const M2=`${i2}.${o2}::`+m2,O=b2.prototype;try{if(O.hasOwnProperty(m2)){const N2=e2.ObjectGetOwnPropertyDescriptor(O,m2);N2&&N2.value?(N2.value=e2.wrapWithCurrentZone(N2.value,M2),e2._redefineProperty(b2.prototype,m2,N2)):O[m2]&&(O[m2]=e2.wrapWithCurrentZone(O[m2],M2))}else O[m2]&&(O[m2]=e2.wrapWithCurrentZone(O[m2],M2))}catch{}}),y2.call(n2,d2,b2,v2)},e2.attachOriginToPatched(n2[o2],y2)}function Ke(e2,n2,i2){if(!i2||i2.length===0)return n2;const o2=i2.filter(a2=>a2.target===e2);if(!o2||o2.length===0)return n2;const c2=o2[0].ignoreProperties;return n2.filter(a2=>c2.indexOf(a2)===-1)}function Qe(e2,n2,i2,o2){e2&&We(e2,Ke(e2,n2,i2),o2)}function je(e2){return Object.getOwnPropertyNames(e2).filter(n2=>n2.startsWith("on")&&n2.length>2).map(n2=>n2.substring(2))}Zone.__load_patch("util",(e2,n2,i2)=>{const o2=je(e2);i2.patchOnProperties=We,i2.patchMethod=ae,i2.bindArguments=Me,i2.patchMacroTask=lt;const c2=n2.__symbol__("BLACK_LISTED_EVENTS"),a2=n2.__symbol__("UNPATCHED_EVENTS");e2[a2]&&(e2[c2]=e2[a2]),e2[c2]&&(n2[c2]=n2[a2]=e2[c2]),i2.patchEventPrototype=_t,i2.patchEventTarget=dt,i2.isIEOrEdge=ft,i2.ObjectDefineProperty=Re,i2.ObjectGetOwnPropertyDescriptor=ye,i2.ObjectCreate=st,i2.ArraySlice=it,i2.patchClass=pe,i2.wrapWithCurrentZone=Ne,i2.filterProperties=Ke,i2.attachOriginToPatched=le,i2._redefineProperty=Object.defineProperty,i2.patchCallbacks=Et,i2.getGlobalObjects=()=>({globalSources:Xe,zoneSymbolEventNames:te,eventNames:o2,isBrowser:Le,isMix:Fe,isNode:ve,TRUE_STR:ie,FALSE_STR:ce,ZONE_SYMBOL_PREFIX:me,ADD_EVENT_LISTENER_STR:Se,REMOVE_EVENT_LISTENER_STR:Ze})});const Pe=j2("zoneTask");function Ee(e2,n2,i2,o2){let c2=null,a2=null;i2+=o2;const y2={};function d2(v2){const m2=v2.data;return m2.args[0]=function(){return v2.invoke.apply(this,arguments)},m2.handleId=c2.apply(e2,m2.args),v2}function b2(v2){return a2.call(e2,v2.data.handleId)}c2=ae(e2,n2+=o2,v2=>function(m2,M2){if(typeof M2[0]=="function"){const O={isPeriodic:o2==="Interval",delay:o2==="Timeout"||o2==="Interval"?M2[1]||0:void 0,args:M2},N2=M2[0];M2[0]=function(){try{return N2.apply(this,arguments)}finally{O.isPeriodic||(typeof O.handleId=="number"?delete y2[O.handleId]:O.handleId&&(O.handleId[Pe]=null))}};const B=Ie(n2,M2[0],O,d2,b2);if(!B)return B;const H2=B.data.handleId;return typeof H2=="number"?y2[H2]=B:H2&&(H2[Pe]=B),H2&&H2.ref&&H2.unref&&typeof H2.ref=="function"&&typeof H2.unref=="function"&&(B.ref=H2.ref.bind(H2),B.unref=H2.unref.bind(H2)),typeof H2=="number"||H2?H2:B}return v2.apply(e2,M2)}),a2=ae(e2,i2,v2=>function(m2,M2){const O=M2[0];let N2;typeof O=="number"?N2=y2[O]:(N2=O&&O[Pe],N2||(N2=O)),N2&&typeof N2.type=="string"?N2.state!=="notScheduled"&&(N2.cancelFn&&N2.data.isPeriodic||N2.runCount===0)&&(typeof O=="number"?delete y2[O]:O&&(O[Pe]=null),N2.zone.cancelTask(N2)):v2.apply(e2,M2)})}Zone.__load_patch("legacy",e2=>{const n2=e2[Zone.__symbol__("legacyPatch")];n2&&n2()}),Zone.__load_patch("timers",e2=>{const n2="set",i2="clear";Ee(e2,n2,i2,"Timeout"),Ee(e2,n2,i2,"Interval"),Ee(e2,n2,i2,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e2=>{Ee(e2,"request","cancel","AnimationFrame"),Ee(e2,"mozRequest","mozCancel","AnimationFrame"),Ee(e2,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e2,n2)=>{const i2=["alert","prompt","confirm"];for(let o2=0;o2<i2.length;o2++)ae(e2,i2[o2],(a2,y2,d2)=>function(b2,v2){return n2.current.run(a2,e2,v2,d2)})}),Zone.__load_patch("EventTarget",(e2,n2,i2)=>{(function(e22,n22){n22.patchEventPrototype(e22,n22)})(e2,i2),function(e22,n22){if(Zone[n22.symbol("patchEventTarget")])return;const{eventNames:i22,zoneSymbolEventNames:o22,TRUE_STR:c2,FALSE_STR:a2,ZONE_SYMBOL_PREFIX:y2}=n22.getGlobalObjects();for(let b2=0;b2<i22.length;b2++){const v2=i22[b2],O=y2+(v2+a2),N2=y2+(v2+c2);o22[v2]={},o22[v2][a2]=O,o22[v2][c2]=N2}const d2=e22.EventTarget;d2&&d2.prototype&&n22.patchEventTarget(e22,n22,[d2&&d2.prototype])}(e2,i2);const o2=e2.XMLHttpRequestEventTarget;o2&&o2.prototype&&i2.patchEventTarget(e2,i2,[o2.prototype])}),Zone.__load_patch("MutationObserver",(e2,n2,i2)=>{pe("MutationObserver"),pe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e2,n2,i2)=>{pe("IntersectionObserver")}),Zone.__load_patch("FileReader",(e2,n2,i2)=>{pe("FileReader")}),Zone.__load_patch("on_property",(e2,n2,i2)=>{(function(e22,n22){if(ve&&!Fe||Zone[e22.symbol("patchEvents")])return;const i22=n22.__Zone_ignore_on_properties;let o2=[];if(Le){const c2=window;o2=o2.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a2=function(){try{const e3=de.navigator.userAgent;if(e3.indexOf("MSIE ")!==-1||e3.indexOf("Trident/")!==-1)return!0}catch{}return!1}()?[{target:c2,ignoreProperties:["error"]}]:[];Qe(c2,je(c2),i22&&i22.concat(a2),Ce(c2))}o2=o2.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c2=0;c2<o2.length;c2++){const a2=n22[o2[c2]];a2&&a2.prototype&&Qe(a2.prototype,je(a2.prototype),i22)}})(i2,e2)}),Zone.__load_patch("customElements",(e2,n2,i2)=>{(function(e22,n22){const{isBrowser:i22,isMix:o2}=n22.getGlobalObjects();(i22||o2)&&e22.customElements&&"customElements"in e22&&n22.patchCallbacks(n22,e22.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])})(e2,i2)}),Zone.__load_patch("XHR",(e2,n2)=>{(function(v2){const m2=v2.XMLHttpRequest;if(!m2)return;const M2=m2.prototype;let N2=M2[De],B=M2[Oe];if(!N2){const h2=v2.XMLHttpRequestEventTarget;if(h2){const I2=h2.prototype;N2=I2[De],B=I2[Oe]}}const H2="readystatechange",K="scheduled";function q(h2){const I2=h2.data,P2=I2.target;P2[a2]=!1,P2[d2]=!1;const Q=P2[c2];N2||(N2=P2[De],B=P2[Oe]),Q&&B.call(P2,H2,Q);const oe=P2[c2]=()=>{if(P2.readyState===P2.DONE)if(!I2.aborted&&P2[a2]&&h2.state===K){const U=P2[n2.__symbol__("loadfalse")];if(P2.status!==0&&U&&U.length>0){const re=h2.invoke;h2.invoke=function(){const ee=P2[n2.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h2&&ee.splice(W,1);!I2.aborted&&h2.state===K&&re.call(h2)},U.push(h2)}else h2.invoke()}else!I2.aborted&&P2[a2]===!1&&(P2[d2]=!0)};return N2.call(P2,H2,oe),P2[i2]||(P2[i2]=h2),E2.apply(P2,I2.args),P2[a2]=!0,h2}function R2(){}function _2(h2){const I2=h2.data;return I2.aborted=!0,G.apply(I2.target,I2.args)}const J=ae(M2,"open",()=>function(h2,I2){return h2[o2]=I2[2]==0,h2[y2]=I2[1],J.apply(h2,I2)}),X=j2("fetchTaskAborting"),A2=j2("fetchTaskScheduling"),E2=ae(M2,"send",()=>function(h2,I2){if(n2.current[A2]===!0||h2[o2])return E2.apply(h2,I2);{const P2={target:h2,url:h2[y2],isPeriodic:!1,args:I2,aborted:!1},Q=Ie("XMLHttpRequest.send",R2,P2,q,_2);h2&&h2[d2]===!0&&!P2.aborted&&Q.state===K&&Q.invoke()}}),G=ae(M2,"abort",()=>function(h2,I2){const P2=function(h22){return h22[i2]}(h2);if(P2&&typeof P2.type=="string"){if(P2.cancelFn==null||P2.data&&P2.data.aborted)return;P2.zone.cancelTask(P2)}else if(n2.current[X]===!0)return G.apply(h2,I2)})})(e2);const i2=j2("xhrTask"),o2=j2("xhrSync"),c2=j2("xhrListener"),a2=j2("xhrScheduled"),y2=j2("xhrURL"),d2=j2("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e2=>{e2.navigator&&e2.navigator.geolocation&&function(e22,n2){const i2=e22.constructor.name;for(let o2=0;o2<n2.length;o2++){const c2=n2[o2],a2=e22[c2];if(a2){if(!Ge(ye(e22,c2)))continue;e22[c2]=(d2=>{const b2=function(){return d2.apply(this,Me(arguments,i2+"."+c2))};return le(b2,d2),b2})(a2)}}}(e2.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e2,n2)=>{function i2(o2){return function(c2){Je(e2,o2).forEach(y2=>{const d2=e2.PromiseRejectionEvent;if(d2){const b2=new d2(o2,{promise:c2.promise,reason:c2.rejection});y2.invoke(b2)}})}}e2.PromiseRejectionEvent&&(n2[j2("unhandledPromiseRejectionHandler")]=i2("unhandledrejection"),n2[j2("rejectionHandledHandler")]=i2("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(e2,n2,i2)=>{(function(e22,n22){n22.patchMethod(e22,"queueMicrotask",i22=>function(o2,c2){Zone.current.scheduleMicroTask("queueMicrotask",c2[0])})})(e2,i2)})})(),(()=>{var re,A2,Xg={682:(A22,re2,V2)=>{var F={"./ui-page-navigation-menu/component-tests-scenarios/src/+i18n/en.json":[47,47],"./ui-second-level-navigation/component-tests-scenarios/src/+i18n/en.json":[671,671],"./ui-tree-navigation/component-tests-scenarios/src/+i18n/en.json":[460,460]};function _e2(ue){if(!V2.o(F,ue))return Promise.resolve().then(()=>{var Pe=new Error("Cannot find module '"+ue+"'");throw Pe.code="MODULE_NOT_FOUND",Pe});var G=F[ue],N2=G[0];return V2.e(G[1]).then(()=>V2.t(N2,19))}_e2.keys=()=>Object.keys(F),_e2.id=682,A22.exports=_e2},270:(A22,re2,V2)=>{var F={"./ui-table/src/lib/+i18n/cs.json":[812,812],"./ui-table/src/lib/+i18n/en.json":[993,993],"./ui-tree-navigation/src/lib/+i18n/cs.json":[659,659],"./ui-tree-navigation/src/lib/+i18n/en.json":[350,350]};function _e2(ue){if(!V2.o(F,ue))return Promise.resolve().then(()=>{var Pe=new Error("Cannot find module '"+ue+"'");throw Pe.code="MODULE_NOT_FOUND",Pe});var G=F[ue],N2=G[0];return V2.e(G[1]).then(()=>V2.t(N2,19))}_e2.keys=()=>Object.keys(F),_e2.id=270,A22.exports=_e2},177:A22=>{A22.exports={rE:"1.3.1"}}},Jg={};function J(A22){var re2=Jg[A22];if(re2!==void 0)return re2.exports;var V2=Jg[A22]={exports:{}};return Xg[A22](V2,V2.exports,J),V2.exports}J.m=Xg,A2=Object.getPrototypeOf?V2=>Object.getPrototypeOf(V2):V2=>V2.__proto__,J.t=function(V2,F){if(1&F&&(V2=this(V2)),8&F||typeof V2=="object"&&V2&&(4&F&&V2.__esModule||16&F&&typeof V2.then=="function"))return V2;var _e2=Object.create(null);J.r(_e2);var ue={};re=re||[null,A2({}),A2([]),A2(A2)];for(var G=2&F&&V2;typeof G=="object"&&!~re.indexOf(G);G=A2(G))Object.getOwnPropertyNames(G).forEach(N2=>ue[N2]=()=>V2[N2]);return ue.default=()=>V2,J.d(_e2,ue),_e2},J.d=(A22,re2)=>{for(var V2 in re2)J.o(re2,V2)&&!J.o(A22,V2)&&Object.defineProperty(A22,V2,{enumerable:!0,get:re2[V2]})},J.f={},J.e=A22=>Promise.all(Object.keys(J.f).reduce((re2,V2)=>(J.f[V2](A22,re2),re2),[])),J.u=A22=>A22+".js",J.miniCssF=A22=>{},J.o=(A22,re2)=>Object.prototype.hasOwnProperty.call(A22,re2),(()=>{var A22={},re2="domino-elements:";J.l=(V2,F,_e2,ue)=>{if(A22[V2])A22[V2].push(F);else{var G,N2;if(_e2!==void 0)for(var Pe=document.getElementsByTagName("script"),jt=0;jt<Pe.length;jt++){var ut=Pe[jt];if(ut.getAttribute("src")==V2||ut.getAttribute("data-webpack")==re2+_e2){G=ut;break}}G||(N2=!0,(G=document.createElement("script")).type="module",G.charset="utf-8",G.timeout=120,J.nc&&G.setAttribute("nonce",J.nc),G.setAttribute("data-webpack",re2+_e2),G.src=J.tu(V2)),A22[V2]=[F];var tn=(ka,Wi)=>{G.onerror=G.onload=null,clearTimeout(Rn);var qi=A22[V2];if(delete A22[V2],G.parentNode&&G.parentNode.removeChild(G),qi&&qi.forEach(xa=>xa(Wi)),ka)return ka(Wi)},Rn=setTimeout(tn.bind(null,void 0,{type:"timeout",target:G}),12e4);G.onerror=tn.bind(null,G.onerror),G.onload=tn.bind(null,G.onload),N2&&document.head.appendChild(G)}}})(),J.r=A22=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A22,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A22,"__esModule",{value:!0})},(()=>{var A22;J.tt=()=>(A22===void 0&&(A22={createScriptURL:re2=>re2},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(A22=trustedTypes.createPolicy("angular#bundler",A22))),A22)})(),J.tu=A22=>J.tt().createScriptURL(A22),J.p="",(()=>{var A22={792:0};J.f.j=(F,_e2)=>{var ue=J.o(A22,F)?A22[F]:void 0;if(ue!==0)if(ue)_e2.push(ue[2]);else{var G=new Promise((ut,tn)=>ue=A22[F]=[ut,tn]);_e2.push(ue[2]=G);var N2=J.p+J.u(F),Pe=new Error;J.l(N2,ut=>{if(J.o(A22,F)&&((ue=A22[F])!==0&&(A22[F]=void 0),ue)){var tn=ut&&(ut.type==="load"?"missing":ut.type),Rn=ut&&ut.target&&ut.target.src;Pe.message="Loading chunk "+F+` failed.
(`+tn+": "+Rn+")",Pe.name="ChunkLoadError",Pe.type=tn,Pe.request=Rn,ue[1](Pe)}},"chunk-"+F,F)}};var re2=(F,_e2)=>{var Pe,jt,[ue,G,N2]=_e2,ut=0;if(ue.some(Rn=>A22[Rn]!==0)){for(Pe in G)J.o(G,Pe)&&(J.m[Pe]=G[Pe]);N2&&N2(J)}for(F&&F(_e2);ut<ue.length;ut++)J.o(A22,jt=ue[ut])&&A22[jt]&&A22[jt][0](),A22[jt]=0},V2=self.webpackChunkdomino_elements=self.webpackChunkdomino_elements||[];V2.forEach(re2.bind(null,0)),V2.push=re2.bind(null,V2.push.bind(V2))})(),(()=>{var _e2,_t2,_n2,_r2,_e3,_e4,_e5,_e6;function A22(e22,t2,n2,r2,o2,i2,s2){try{var a2=e22[i2](s2),l2=a2.value}catch(c2){return void n2(c2)}a2.done?t2(l2):Promise.resolve(l2).then(r2,o2)}function re2(e22){return function(){var t2=this,n2=arguments;return new Promise(function(r2,o2){var i2=e22.apply(t2,n2);function s2(l2){A22(i2,r2,o2,s2,a2,"next",l2)}function a2(l2){A22(i2,r2,o2,s2,a2,"throw",l2)}s2(void 0)})}}let F=null,ue=1;const G=Symbol("SIGNAL");function N2(e22){const t2=F;return F=e22,t2}const tn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wi(e22){if((!Yi(e22)||e22.dirty)&&(e22.dirty||e22.lastCleanEpoch!==ue)){if(!e22.producerMustRecompute(e22)&&!Ru(e22))return e22.dirty=!1,void(e22.lastCleanEpoch=ue);e22.producerRecomputeValue(e22),e22.dirty=!1,e22.lastCleanEpoch=ue}}function Nu(e22){return e22&&(e22.nextProducerIndex=0),N2(e22)}function Ru(e22){La(e22);for(let t2=0;t2<e22.producerNode.length;t2++){const n2=e22.producerNode[t2],r2=e22.producerLastReadVersion[t2];if(r2!==n2.version||(Wi(n2),r2!==n2.version))return!0}return!1}function Pu(e22){if(La(e22),Yi(e22))for(let t2=0;t2<e22.producerNode.length;t2++)Fa(e22.producerNode[t2],e22.producerIndexOfThis[t2]);e22.producerNode.length=e22.producerLastReadVersion.length=e22.producerIndexOfThis.length=0,e22.liveConsumerNode&&(e22.liveConsumerNode.length=e22.liveConsumerIndexOfThis.length=0)}function Fa(e22,t2){if(function(e3){e3.liveConsumerNode??(e3.liveConsumerNode=[]),e3.liveConsumerIndexOfThis??(e3.liveConsumerIndexOfThis=[])}(e22),e22.liveConsumerNode.length===1&&function(e3){return e3.producerNode!==void 0}(e22))for(let r2=0;r2<e22.producerNode.length;r2++)Fa(e22.producerNode[r2],e22.producerIndexOfThis[r2]);const n2=e22.liveConsumerNode.length-1;if(e22.liveConsumerNode[t2]=e22.liveConsumerNode[n2],e22.liveConsumerIndexOfThis[t2]=e22.liveConsumerIndexOfThis[n2],e22.liveConsumerNode.length--,e22.liveConsumerIndexOfThis.length--,t2<e22.liveConsumerNode.length){const r2=e22.liveConsumerIndexOfThis[t2],o2=e22.liveConsumerNode[t2];La(o2),o2.producerIndexOfThis[r2]=t2}}function Yi(e22){var _a3;return e22.consumerIsAlwaysLive||(((_a3=e22==null?void 0:e22.liveConsumerNode)==null?void 0:_a3.length)??0)>0}function La(e22){e22.producerNode??(e22.producerNode=[]),e22.producerIndexOfThis??(e22.producerIndexOfThis=[]),e22.producerLastReadVersion??(e22.producerLastReadVersion=[])}let im=null;function ge(e22){return typeof e22=="function"}function ku(e22){const n2=e22(r2=>{Error.call(r2),r2.stack=new Error().stack});return n2.prototype=Object.create(Error.prototype),n2.prototype.constructor=n2,n2}const xu=ku(e22=>function(n2){e22(this),this.message=n2?`${n2.length} errors occurred during unsubscription:
${n2.map((r2,o2)=>`${o2+1}) ${r2.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n2});function Ba(e22,t2){if(e22){const n2=e22.indexOf(t2);0<=n2&&e22.splice(n2,1)}}class Fe{constructor(t2){this.initialTeardown=t2,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t2;if(!this.closed){this.closed=!0;const{_parentage:n2}=this;if(n2)if(this._parentage=null,Array.isArray(n2))for(const i2 of n2)i2.remove(this);else n2.remove(this);const{initialTeardown:r2}=this;if(ge(r2))try{r2()}catch(i2){t2=i2 instanceof xu?i2.errors:[i2]}const{_finalizers:o2}=this;if(o2){this._finalizers=null;for(const i2 of o2)try{um(i2)}catch(s2){t2=t2??[],s2 instanceof xu?t2=[...t2,...s2.errors]:t2.push(s2)}}if(t2)throw new xu(t2)}}add(t2){var n2;if(t2&&t2!==this)if(this.closed)um(t2);else{if(t2 instanceof Fe){if(t2.closed||t2._hasParent(this))return;t2._addParent(this)}(this._finalizers=(n2=this._finalizers)!==null&&n2!==void 0?n2:[]).push(t2)}}_hasParent(t2){const{_parentage:n2}=this;return n2===t2||Array.isArray(n2)&&n2.includes(t2)}_addParent(t2){const{_parentage:n2}=this;this._parentage=Array.isArray(n2)?(n2.push(t2),n2):n2?[n2,t2]:t2}_removeParent(t2){const{_parentage:n2}=this;n2===t2?this._parentage=null:Array.isArray(n2)&&Ba(n2,t2)}remove(t2){const{_finalizers:n2}=this;n2&&Ba(n2,t2),t2 instanceof Fe&&t2._removeParent(this)}}Fe.EMPTY=(()=>{const e22=new Fe;return e22.closed=!0,e22})();const lm=Fe.EMPTY;function cm(e22){return e22 instanceof Fe||e22&&"closed"in e22&&ge(e22.remove)&&ge(e22.add)&&ge(e22.unsubscribe)}function um(e22){ge(e22)?e22():e22.unsubscribe()}const jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ja={setTimeout(e22,t2,...n2){const{delegate:r2}=ja;return r2!=null&&r2.setTimeout?r2.setTimeout(e22,t2,...n2):setTimeout(e22,t2,...n2)},clearTimeout(e22){const{delegate:t2}=ja;return((t2==null?void 0:t2.clearTimeout)||clearTimeout)(e22)},delegate:void 0};function dm(e22){ja.setTimeout(()=>{const{onUnhandledError:t2}=jr;if(!t2)throw e22;t2(e22)})}function Zi(){}const RT=Fu("C",void 0,void 0);function Fu(e22,t2,n2){return{kind:e22,value:t2,error:n2}}function Ha(e22){e22()}class Lu extends Fe{constructor(t2){super(),this.isStopped=!1,t2?(this.destination=t2,cm(t2)&&t2.add(this)):this.destination=BT}static create(t2,n2,r2){return new Oo(t2,n2,r2)}next(t2){this.isStopped?Bu(function(e22){return Fu("N",e22,void 0)}(t2),this):this._next(t2)}error(t2){this.isStopped?Bu(function(e22){return Fu("E",void 0,e22)}(t2),this):(this.isStopped=!0,this._error(t2))}complete(){this.isStopped?Bu(RT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t2){this.destination.next(t2)}_error(t2){try{this.destination.error(t2)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const FT=Function.prototype.bind;function Vu(e22,t2){return FT.call(e22,t2)}class LT{constructor(t2){this.partialObserver=t2}next(t2){const{partialObserver:n2}=this;if(n2.next)try{n2.next(t2)}catch(r2){Ua(r2)}}error(t2){const{partialObserver:n2}=this;if(n2.error)try{n2.error(t2)}catch(r2){Ua(r2)}else Ua(t2)}complete(){const{partialObserver:t2}=this;if(t2.complete)try{t2.complete()}catch(n2){Ua(n2)}}}class Oo extends Lu{constructor(t2,n2,r2){let o2;if(super(),ge(t2)||!t2)o2={next:t2??void 0,error:n2??void 0,complete:r2??void 0};else{let i2;this&&jr.useDeprecatedNextContext?(i2=Object.create(t2),i2.unsubscribe=()=>this.unsubscribe(),o2={next:t2.next&&Vu(t2.next,i2),error:t2.error&&Vu(t2.error,i2),complete:t2.complete&&Vu(t2.complete,i2)}):o2=t2}this.destination=new LT(o2)}}function Ua(e22){dm(e22)}function Bu(e22,t2){const{onStoppedNotification:n2}=jr;n2&&ja.setTimeout(()=>n2(e22,t2))}const BT={closed:!0,next:Zi,error:function(e22){throw e22},complete:Zi},ju=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gr(e22){return e22}let ot=(()=>{class e22{constructor(n2){n2&&(this._subscribe=n2)}lift(n2){const r2=new e22;return r2.source=this,r2.operator=n2,r2}subscribe(n2,r2,o2){const i2=function(e3){return e3&&e3 instanceof Lu||function(e4){return e4&&ge(e4.next)&&ge(e4.error)&&ge(e4.complete)}(e3)&&cm(e3)}(n2)?n2:new Oo(n2,r2,o2);return Ha(()=>{const{operator:s2,source:a2}=this;i2.add(s2?s2.call(i2,a2):a2?this._subscribe(i2):this._trySubscribe(i2))}),i2}_trySubscribe(n2){try{return this._subscribe(n2)}catch(r2){n2.error(r2)}}forEach(n2,r2){return new(r2=hm(r2))((o2,i2)=>{const s2=new Oo({next:a2=>{try{n2(a2)}catch(l2){i2(l2),s2.unsubscribe()}},error:i2,complete:o2});this.subscribe(s2)})}_subscribe(n2){var r2;return(r2=this.source)===null||r2===void 0?void 0:r2.subscribe(n2)}[ju](){return this}pipe(...n2){return function(e3){return e3.length===0?gr:e3.length===1?e3[0]:function(n22){return e3.reduce((r2,o2)=>o2(r2),n22)}}(n2)(this)}toPromise(n2){return new(n2=hm(n2))((r2,o2)=>{let i2;this.subscribe(s2=>i2=s2,s2=>o2(s2),()=>r2(i2))})}}return e22.create=t2=>new e22(t2),e22})();function hm(e22){var t2;return(t2=e22??jr.Promise)!==null&&t2!==void 0?t2:Promise}const UT=ku(e22=>function(){e22(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Te=(()=>{class e22 extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n2){const r2=new pm(this,this);return r2.operator=n2,r2}_throwIfClosed(){if(this.closed)throw new UT}next(n2){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r2 of this.currentObservers)r2.next(n2)}})}error(n2){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n2;const{observers:r2}=this;for(;r2.length;)r2.shift().error(n2)}})}complete(){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n2}=this;for(;n2.length;)n2.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n2;return((n2=this.observers)===null||n2===void 0?void 0:n2.length)>0}_trySubscribe(n2){return this._throwIfClosed(),super._trySubscribe(n2)}_subscribe(n2){return this._throwIfClosed(),this._checkFinalizedStatuses(n2),this._innerSubscribe(n2)}_innerSubscribe(n2){const{hasError:r2,isStopped:o2,observers:i2}=this;return r2||o2?lm:(this.currentObservers=null,i2.push(n2),new Fe(()=>{this.currentObservers=null,Ba(i2,n2)}))}_checkFinalizedStatuses(n2){const{hasError:r2,thrownError:o2,isStopped:i2}=this;r2?n2.error(o2):i2&&n2.complete()}asObservable(){const n2=new ot;return n2.source=this,n2}}return e22.create=(t2,n2)=>new pm(t2,n2),e22})();class pm extends Te{constructor(t2,n2){super(),this.destination=t2,this.source=n2}next(t2){var n2,r2;(r2=(n2=this.destination)===null||n2===void 0?void 0:n2.next)===null||r2===void 0||r2.call(n2,t2)}error(t2){var n2,r2;(r2=(n2=this.destination)===null||n2===void 0?void 0:n2.error)===null||r2===void 0||r2.call(n2,t2)}complete(){var t2,n2;(n2=(t2=this.destination)===null||t2===void 0?void 0:t2.complete)===null||n2===void 0||n2.call(t2)}_subscribe(t2){var n2,r2;return(r2=(n2=this.source)===null||n2===void 0?void 0:n2.subscribe(t2))!==null&&r2!==void 0?r2:lm}}class No extends Te{constructor(t2){super(),this._value=t2}get value(){return this.getValue()}_subscribe(t2){const n2=super._subscribe(t2);return!n2.closed&&t2.next(this._value),n2}getValue(){const{hasError:t2,thrownError:n2,_value:r2}=this;if(t2)throw n2;return this._throwIfClosed(),r2}next(t2){super.next(this._value=t2)}}function it(e22){return t2=>{if(function(e3){return ge(e3==null?void 0:e3.lift)}(t2))return t2.lift(function(n2){try{return e22(n2,this)}catch(r2){this.error(r2)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e22,t2,n2,r2,o2){return new zT(e22,t2,n2,r2,o2)}class zT extends Lu{constructor(t2,n2,r2,o2,i2,s2){super(t2),this.onFinalize=i2,this.shouldUnsubscribe=s2,this._next=n2?function(a2){try{n2(a2)}catch(l2){t2.error(l2)}}:super._next,this._error=o2?function(a2){try{o2(a2)}catch(l2){t2.error(l2)}finally{this.unsubscribe()}}:super._error,this._complete=r2?function(){try{r2()}catch(a2){t2.error(a2)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t2;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n2}=this;super.unsubscribe(),!n2&&((t2=this.onFinalize)===null||t2===void 0||t2.call(this))}}}function dt(e22,t2){return it((n2,r2)=>{let o2=0;n2.subscribe(Qe(r2,i2=>{r2.next(e22.call(t2,i2,o2++))}))})}const Pm="https://g.co/ng/security#xss";class b2 extends Error{constructor(t2,n2){super(function(e22,t22){return`NG0${Math.abs(e22)}${t22?": "+t22:""}`}(t2,n2)),this.code=t2}}function Xn(e22){return{toString:e22}.toString()}const ko="__parameters__";function Fo(e22,t2,n2){return Xn(()=>{const r2=function(e3){return function(...n22){}}();function o2(...i2){if(this instanceof o2)return r2.apply(this,i2),this;const s2=new o2(...i2);return a2.annotation=s2,a2;function a2(l2,c2,u2){const d2=l2.hasOwnProperty(ko)?l2[ko]:Object.defineProperty(l2,ko,{value:[]})[ko];for(;d2.length<=u2;)d2.push(null);return(d2[u2]=d2[u2]||[]).push(s2),l2}}return o2.prototype.ngMetadataName=e22,o2.annotationCls=o2,o2})}const be=globalThis;function me(e22){for(let t2 in e22)if(e22[t2]===me)return t2;throw Error("Could not find renamed property on target object.")}function GM(e22,t2){for(const n2 in t2)t2.hasOwnProperty(n2)&&!e22.hasOwnProperty(n2)&&(e22[n2]=t2[n2])}function Xe(e22){if(typeof e22=="string")return e22;if(Array.isArray(e22))return"["+e22.map(Xe).join(", ")+"]";if(e22==null)return""+e22;if(e22.overriddenName)return`${e22.overriddenName}`;if(e22.name)return`${e22.name}`;const t2=e22.toString();if(t2==null)return""+t2;const n2=t2.indexOf(`
`);return n2===-1?t2:t2.substring(0,n2)}function Zu(e22,t2){return e22==null||e22===""?t2===null?"":t2:t2==null||t2===""?e22:e22+" "+t2}const WM=me({__forward_ref__:me});function Ku(e22){return e22.__forward_ref__=Ku,e22.toString=function(){return Xe(this())},e22}function B(e22){return qa(e22)?e22():e22}function qa(e22){return typeof e22=="function"&&e22.hasOwnProperty(WM)&&e22.__forward_ref__===Ku}function O(e22){return{token:e22.token,providedIn:e22.providedIn||null,factory:e22.factory,value:void 0}}function Pn(e22){return{providers:e22.providers||[],imports:e22.imports||[]}}function Ya(e22){return Lm(e22,Ka)||Lm(e22,Vm)}function Lm(e22,t2){return e22.hasOwnProperty(t2)?e22[t2]:null}function Za(e22){return e22&&(e22.hasOwnProperty(Qu)||e22.hasOwnProperty(QM))?e22[Qu]:null}const Ka=me({prov:me}),Qu=me({inj:me}),Vm=me({ngInjectableDef:me}),QM=me({ngInjectorDef:me});class S2{constructor(t2,n2){this._desc=t2,this.ngMetadataName="InjectionToken",this.prov=void 0,typeof n2=="number"?this.__NG_ELEMENT_ID__=n2:n2!==void 0&&(this.prov=O({token:this,providedIn:n2.providedIn||"root",factory:n2.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nd(e22){return e22&&!!e22.providers}const Qi=me({cmp:me}),rd=me({dir:me}),od=me({pipe:me}),Jn=me({fac:me}),Xi=me({__NG_ELEMENT_ID__:me}),Hm=me({__NG_ENV_ID__:me});function W(e22){return typeof e22=="string"?e22:e22==null?"":String(e22)}function id(e22,t2){throw new b2(-201,!1)}var oe=function(e22){return e22[e22.Default=0]="Default",e22[e22.Host=1]="Host",e22[e22.Self=2]="Self",e22[e22.SkipSelf=4]="SkipSelf",e22[e22.Optional=8]="Optional",e22}(oe||{});let sd;function Um(){return sd}function Ot(e22){const t2=sd;return sd=e22,t2}function $m(e22,t2,n2){const r2=Ya(e22);return r2&&r2.providedIn=="root"?r2.value===void 0?r2.value=r2.factory():r2.value:n2&oe.Optional?null:t2!==void 0?t2:void id()}const Ji={},ad="__NG_DI_FLAG__",Qa="ngTempTokenPath",r0=/\n/gm,zm="__source";let Lo;function vr(e22){const t2=Lo;return Lo=e22,t2}function a0(e22,t2=oe.Default){if(Lo===void 0)throw new b2(-203,!1);return Lo===null?$m(e22,void 0,t2):Lo.get(e22,t2&oe.Optional?null:void 0,t2)}function D(e22,t2=oe.Default){return(Um()||a0)(B(e22),t2)}function E2(e22,t2=oe.Default){return D(e22,Xa(t2))}function Xa(e22){return typeof e22>"u"||typeof e22=="number"?e22:(e22.optional&&8)|(e22.host&&1)|(e22.self&&2)|(e22.skipSelf&&4)}function ld(e22){const t2=[];for(let n2=0;n2<e22.length;n2++){const r2=B(e22[n2]);if(Array.isArray(r2)){if(r2.length===0)throw new b2(900,!1);let o2,i2=oe.Default;for(let s2=0;s2<r2.length;s2++){const a2=r2[s2],l2=l0(a2);typeof l2=="number"?l2===-1?o2=a2.token:i2|=l2:o2=a2}t2.push(D(o2,i2))}else t2.push(D(r2))}return t2}function es(e22,t2){return e22[ad]=t2,e22.prototype[ad]=t2,e22}function l0(e22){return e22[ad]}const cd=es(Fo("Optional"),8),ud=es(Fo("SkipSelf"),4);function $r(e22,t2){return e22.hasOwnProperty(Jn)?e22[Jn]:null}function Vo(e22,t2){e22.forEach(n2=>Array.isArray(n2)?Vo(n2,t2):t2(n2))}function Wm(e22,t2,n2){t2>=e22.length?e22.push(n2):e22.splice(t2,0,n2)}function Ja(e22,t2){return t2>=e22.length-1?e22.pop():e22.splice(t2,1)[0]}function $t(e22,t2,n2){let r2=Bo(e22,t2);return r2>=0?e22[1|r2]=n2:(r2=~r2,function(e3,t22,n22,r22){let o2=e3.length;if(o2==t22)e3.push(n22,r22);else if(o2===1)e3.push(r22,e3[0]),e3[0]=n22;else{for(o2--,e3.push(e3[o2-1],e3[o2]);o2>t22;)e3[o2]=e3[o2-2],o2--;e3[t22]=n22,e3[t22+1]=r22}}(e22,r2,t2,n2)),r2}function fd(e22,t2){const n2=Bo(e22,t2);if(n2>=0)return e22[1|n2]}function Bo(e22,t2){return function(e3,t22,n2){let r2=0,o2=e3.length>>n2;for(;o2!==r2;){const i2=r2+(o2-r2>>1),s2=e3[i2<<n2];if(t22===s2)return i2<<n2;s2>t22?o2=i2:r2=i2+1}return~(o2<<n2)}(e22,t2,1)}const kn={},se=[],xn=new S2(""),Zm=new S2("",-1),hd=new S2("");class tl{get(t2,n2=Ji){if(n2===Ji){const r2=new Error(`NullInjectorError: No provider for ${Xe(t2)}!`);throw r2.name="NullInjectorError",r2}return n2}}var nl=function(e22){return e22[e22.OnPush=0]="OnPush",e22[e22.Default=1]="Default",e22}(nl||{}),mn=function(e22){return e22[e22.Emulated=0]="Emulated",e22[e22.None=2]="None",e22[e22.ShadowDom=3]="ShadowDom",e22}(mn||{}),_r=function(e22){return e22[e22.None=0]="None",e22[e22.SignalBased=1]="SignalBased",e22[e22.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e22}(_r||{});function g0(e22,t2,n2){let r2=e22.length;for(;;){const o2=e22.indexOf(t2,n2);if(o2===-1)return o2;if(o2===0||e22.charCodeAt(o2-1)<=32){const i2=t2.length;if(o2+i2===r2||e22.charCodeAt(o2+i2)<=32)return o2}n2=o2+1}}function pd(e22,t2,n2){let r2=0;for(;r2<n2.length;){const o2=n2[r2];if(typeof o2=="number"){if(o2!==0)break;r2++;const i2=n2[r2++],s2=n2[r2++],a2=n2[r2++];e22.setAttribute(t2,s2,a2,i2)}else{const i2=o2,s2=n2[++r2];Qm(i2)?e22.setProperty(t2,i2,s2):e22.setAttribute(t2,i2,s2),r2++}}return r2}function Km(e22){return e22===3||e22===4||e22===6}function Qm(e22){return e22.charCodeAt(0)===64}function ts(e22,t2){if(t2!==null&&t2.length!==0)if(e22===null||e22.length===0)e22=t2.slice();else{let n2=-1;for(let r2=0;r2<t2.length;r2++){const o2=t2[r2];typeof o2=="number"?n2=o2:n2===0||Xm(e22,n2,o2,null,n2===-1||n2===2?t2[++r2]:null)}}return e22}function Xm(e22,t2,n2,r2,o2){let i2=0,s2=e22.length;if(t2===-1)s2=-1;else for(;i2<e22.length;){const a2=e22[i2++];if(typeof a2=="number"){if(a2===t2){s2=-1;break}if(a2>t2){s2=i2-1;break}}}for(;i2<e22.length;){const a2=e22[i2];if(typeof a2=="number")break;if(a2===n2)return void(o2!==null&&(e22[i2+1]=o2));i2++,o2!==null&&i2++}s2!==-1&&(e22.splice(s2,0,t2),i2=s2+1),e22.splice(i2++,0,n2),o2!==null&&e22.splice(i2++,0,o2)}const Jm="ng-template";function m0(e22,t2,n2,r2){let o2=0;if(r2){for(;o2<t2.length&&typeof t2[o2]=="string";o2+=2)if(t2[o2]==="class"&&g0(t2[o2+1].toLowerCase(),n2,0)!==-1)return!0}else if(gd(e22))return!1;if(o2=t2.indexOf(1,o2),o2>-1){let i2;for(;++o2<t2.length&&typeof(i2=t2[o2])=="string";)if(i2.toLowerCase()===n2)return!0}return!1}function gd(e22){return e22.type===4&&e22.value!==Jm}function y0(e22,t2,n2){return t2===(e22.type!==4||n2?e22.value:Jm)}function v0(e22,t2,n2){let r2=4;const o2=e22.attrs,i2=o2!==null?function(e3){for(let t22=0;t22<e3.length;t22++)if(Km(e3[t22]))return t22;return e3.length}(o2):0;let s2=!1;for(let a2=0;a2<t2.length;a2++){const l2=t2[a2];if(typeof l2!="number"){if(!s2)if(4&r2){if(r2=2|1&r2,l2!==""&&!y0(e22,l2,n2)||l2===""&&t2.length===1){if(yn(r2))return!1;s2=!0}}else if(8&r2){if(o2===null||!m0(e22,o2,l2,n2)){if(yn(r2))return!1;s2=!0}}else{const c2=t2[++a2],u2=_0(l2,o2,gd(e22),n2);if(u2===-1){if(yn(r2))return!1;s2=!0;continue}if(c2!==""){let d2;if(d2=u2>i2?"":o2[u2+1].toLowerCase(),2&r2&&c2!==d2){if(yn(r2))return!1;s2=!0}}}}else{if(!s2&&!yn(r2)&&!yn(l2))return!1;if(s2&&yn(l2))continue;s2=!1,r2=l2|1&r2}}return yn(r2)||s2}function yn(e22){return!(1&e22)}function _0(e22,t2,n2,r2){if(t2===null)return-1;let o2=0;if(r2||!n2){let i2=!1;for(;o2<t2.length;){const s2=t2[o2];if(s2===e22)return o2;if(s2===3||s2===6)i2=!0;else{if(s2===1||s2===2){let a2=t2[++o2];for(;typeof a2=="string";)a2=t2[++o2];continue}if(s2===4)break;if(s2===0){o2+=4;continue}}o2+=i2?1:2}return-1}return function(e3,t22){let n22=e3.indexOf(4);if(n22>-1)for(n22++;n22<e3.length;){const r22=e3[n22];if(typeof r22=="number")return-1;if(r22===t22)return n22;n22++}return-1}(t2,e22)}function ey(e22,t2,n2=!1){for(let r2=0;r2<t2.length;r2++)if(v0(e22,t2[r2],n2))return!0;return!1}function ty(e22,t2){return e22?":not("+t2.trim()+")":t2}function C0(e22){let t2=e22[0],n2=1,r2=2,o2="",i2=!1;for(;n2<e22.length;){let s2=e22[n2];if(typeof s2=="string")if(2&r2){const a2=e22[++n2];o2+="["+s2+(a2.length>0?'="'+a2+'"':"")+"]"}else 8&r2?o2+="."+s2:4&r2&&(o2+=" "+s2);else o2!==""&&!yn(s2)&&(t2+=ty(i2,o2),o2=""),r2=s2,i2=i2||!yn(r2);n2++}return o2!==""&&(t2+=ty(i2,o2)),t2}function mt(e22){return Xn(()=>{const t2=ry(e22),n2={...t2,decls:e22.decls,vars:e22.vars,template:e22.template,consts:e22.consts||null,ngContentSelectors:e22.ngContentSelectors,onPush:e22.changeDetection===nl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t2.standalone&&e22.dependencies||null,getStandaloneInjector:null,signals:e22.signals??!1,data:e22.data||{},encapsulation:e22.encapsulation||mn.Emulated,styles:e22.styles||se,_:null,schemas:e22.schemas||null,tView:null,id:""};oy(n2);const r2=e22.dependencies;return n2.directiveDefs=rl(r2,!1),n2.pipeDefs=rl(r2,!0),n2.id=function(e3){let t22=0;const n22=[e3.selectors,e3.ngContentSelectors,e3.hostVars,e3.hostAttrs,e3.consts,e3.vars,e3.decls,e3.encapsulation,e3.standalone,e3.signals,e3.exportAs,JSON.stringify(e3.inputs),JSON.stringify(e3.outputs),Object.getOwnPropertyNames(e3.type.prototype),!!e3.contentQueries,!!e3.viewQuery].join("|");for(const o2 of n22)t22=Math.imul(31,t22)+o2.charCodeAt(0)|0;return t22+=2147483648,"c"+t22}(n2),n2})}function T0(e22){return X(e22)||Je(e22)}function M0(e22){return e22!==null}function er(e22){return Xn(()=>({type:e22.type,bootstrap:e22.bootstrap||se,declarations:e22.declarations||se,imports:e22.imports||se,exports:e22.exports||se,transitiveCompileScopes:null,schemas:e22.schemas||null,id:e22.id||null}))}function ny(e22,t2){if(e22==null)return kn;const n2={};for(const r2 in e22)if(e22.hasOwnProperty(r2)){const o2=e22[r2];let i2,s2,a2=_r.None;Array.isArray(o2)?(a2=o2[0],i2=o2[1],s2=o2[2]??i2):(i2=o2,s2=o2),t2?(n2[i2]=a2!==_r.None?[r2,a2]:r2,t2[i2]=s2):n2[i2]=r2}return n2}function st(e22){return Xn(()=>{const t2=ry(e22);return oy(t2),t2})}function Rt(e22){return{type:e22.type,name:e22.name,factory:null,pure:e22.pure!==!1,standalone:e22.standalone===!0,onDestroy:e22.type.prototype.ngOnDestroy||null}}function X(e22){return e22[Qi]||null}function Je(e22){return e22[rd]||null}function ft(e22){return e22[od]||null}function ry(e22){const t2={};return{type:e22.type,providersResolver:null,factory:null,hostBindings:e22.hostBindings||null,hostVars:e22.hostVars||0,hostAttrs:e22.hostAttrs||null,contentQueries:e22.contentQueries||null,declaredInputs:t2,inputTransforms:null,inputConfig:e22.inputs||kn,exportAs:e22.exportAs||null,standalone:e22.standalone===!0,signals:e22.signals===!0,selectors:e22.selectors||se,viewQuery:e22.viewQuery||null,features:e22.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ny(e22.inputs,t2),outputs:ny(e22.outputs),debugInfo:null}}function oy(e22){var _a3;(_a3=e22.features)==null||_a3.forEach(t2=>t2(e22))}function rl(e22,t2){if(!e22)return null;const n2=t2?ft:T0;return()=>(typeof e22=="function"?e22():e22).map(r2=>n2(r2)).filter(M0)}function N0(...e22){return{providers:md(0,e22),fromNgModule:!0}}function md(e22,...t2){const n2=[],r2=new Set;let o2;const i2=s2=>{n2.push(s2)};return Vo(t2,s2=>{const a2=s2;il(a2,i2,[],r2)&&(o2||(o2=[]),o2.push(a2))}),o2!==void 0&&iy(o2,i2),n2}function iy(e22,t2){for(let n2=0;n2<e22.length;n2++){const{ngModule:r2,providers:o2}=e22[n2];yd(o2,i2=>{t2(i2,r2)})}}function il(e22,t2,n2,r2){if(!(e22=B(e22)))return!1;let o2=null,i2=Za(e22);const s2=!i2&&X(e22);if(i2||s2){if(s2&&!s2.standalone)return!1;o2=e22}else{const l2=e22.ngModule;if(i2=Za(l2),!i2)return!1;o2=l2}const a2=r2.has(o2);if(s2){if(a2)return!1;if(r2.add(o2),s2.dependencies){const l2=typeof s2.dependencies=="function"?s2.dependencies():s2.dependencies;for(const c2 of l2)il(c2,t2,n2,r2)}}else{if(!i2)return!1;{if(i2.imports!=null&&!a2){let c2;r2.add(o2);try{Vo(i2.imports,u2=>{il(u2,t2,n2,r2)&&(c2||(c2=[]),c2.push(u2))})}finally{}c2!==void 0&&iy(c2,t2)}if(!a2){const c2=$r(o2)||(()=>new o2);t2({provide:o2,useFactory:c2,deps:se},o2),t2({provide:hd,useValue:o2,multi:!0},o2),t2({provide:xn,useValue:()=>D(o2),multi:!0},o2)}const l2=i2.providers;if(l2!=null&&!a2){const c2=e22;yd(l2,u2=>{t2(u2,c2)})}}}return o2!==e22&&e22.providers!==void 0}function yd(e22,t2){for(let n2 of e22)nd(n2)&&(n2=n2.providers),Array.isArray(n2)?yd(n2,t2):t2(n2)}const R0=me({provide:String,useValue:me});function vd(e22){return e22!==null&&typeof e22=="object"&&R0 in e22}function Gr(e22){return typeof e22=="function"}const _d2=new S2(""),sl={},k0={};let bd;function al(){return bd===void 0&&(bd=new tl),bd}class nn{}class jo extends nn{get destroyed(){return this._destroyed}constructor(t2,n2,r2,o2){super(),this.parent=n2,this.source=r2,this.scopes=o2,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wd(t2,s2=>this.processProvider(s2)),this.records.set(Zm,Ho(void 0,this)),o2.has("environment")&&this.records.set(nn,Ho(void 0,this));const i2=this.records.get(_d2);i2!=null&&typeof i2.value=="string"&&this.scopes.add(i2.value),this.injectorDefTypes=new Set(this.get(hd,se,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t2=N2(null);try{for(const r2 of this._ngOnDestroyHooks)r2.ngOnDestroy();const n2=this._onDestroyHooks;this._onDestroyHooks=[];for(const r2 of n2)r2()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N2(t2)}}onDestroy(t2){return this.assertNotDestroyed(),this._onDestroyHooks.push(t2),()=>this.removeOnDestroy(t2)}runInContext(t2){this.assertNotDestroyed();const n2=vr(this),r2=Ot(void 0);try{return t2()}finally{vr(n2),Ot(r2)}}get(t2,n2=Ji,r2=oe.Default){if(this.assertNotDestroyed(),t2.hasOwnProperty(Hm))return t2[Hm](this);r2=Xa(r2);const i2=vr(this),s2=Ot(void 0);try{if(!(r2&oe.SkipSelf)){let l2=this.records.get(t2);if(l2===void 0){const c2=function(e22){return typeof e22=="function"||typeof e22=="object"&&e22 instanceof S2}(t2)&&Ya(t2);l2=c2&&this.injectableDefInScope(c2)?Ho(Ed(t2),sl):null,this.records.set(t2,l2)}if(l2!=null)return this.hydrate(t2,l2)}return(r2&oe.Self?al():this.parent).get(t2,n2=r2&oe.Optional&&n2===Ji?null:n2)}catch(a2){if(a2.name==="NullInjectorError"){if((a2[Qa]=a2[Qa]||[]).unshift(Xe(t2)),i2)throw a2;return function(e22,t22,n22,r22){const o2=e22[Qa];throw t22[zm]&&o2.unshift(t22[zm]),e22.message=function(e3,t3,n3,r3=null){e3=e3&&e3.charAt(0)===`
`&&e3.charAt(1)==""?e3.slice(2):e3;let o22=Xe(t3);if(Array.isArray(t3))o22=t3.map(Xe).join(" -> ");else if(typeof t3=="object"){let i22=[];for(let s22 in t3)if(t3.hasOwnProperty(s22)){let a22=t3[s22];i22.push(s22+":"+(typeof a22=="string"?JSON.stringify(a22):Xe(a22)))}o22=`{${i22.join(", ")}}`}return`${n3}${r3?"("+r3+")":""}[${o22}]: ${e3.replace(r0,`
  `)}`}(`
`+e22.message,o2,n22,r22),e22.ngTokenPath=o2,e22[Qa]=null,e22}(a2,t2,"R3InjectorError",this.source)}throw a2}finally{Ot(s2),vr(i2)}}resolveInjectorInitializers(){const t2=N2(null),n2=vr(this),r2=Ot(void 0);try{const i2=this.get(xn,se,oe.Self);for(const s2 of i2)s2()}finally{vr(n2),Ot(r2),N2(t2)}}toString(){const t2=[],n2=this.records;for(const r2 of n2.keys())t2.push(Xe(r2));return`R3Injector[${t2.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b2(205,!1)}processProvider(t2){let n2=Gr(t2=B(t2))?t2:B(t2&&t2.provide);const r2=function(e22){return vd(e22)?Ho(void 0,e22.useValue):Ho(ly(e22),sl)}(t2);if(!Gr(t2)&&t2.multi===!0){let o2=this.records.get(n2);o2||(o2=Ho(void 0,sl,!0),o2.factory=()=>ld(o2.multi),this.records.set(n2,o2)),n2=t2,o2.multi.push(t2)}this.records.set(n2,r2)}hydrate(t2,n2){const r2=N2(null);try{return n2.value===sl&&(n2.value=k0,n2.value=n2.factory()),typeof n2.value=="object"&&n2.value&&function(e22){return e22!==null&&typeof e22=="object"&&typeof e22.ngOnDestroy=="function"}(n2.value)&&this._ngOnDestroyHooks.add(n2.value),n2.value}finally{N2(r2)}}injectableDefInScope(t2){if(!t2.providedIn)return!1;const n2=B(t2.providedIn);return typeof n2=="string"?n2==="any"||this.scopes.has(n2):this.injectorDefTypes.has(n2)}removeOnDestroy(t2){const n2=this._onDestroyHooks.indexOf(t2);n2!==-1&&this._onDestroyHooks.splice(n2,1)}}function Ed(e22){const t2=Ya(e22),n2=t2!==null?t2.factory:$r(e22);if(n2!==null)return n2;if(e22 instanceof S2)throw new b2(204,!1);if(e22 instanceof Function)return function(e3){if(e3.length>0)throw new b2(204,!1);const n22=function(e4){return e4&&(e4[Ka]||e4[Vm])||null}(e3);return n22!==null?()=>n22.factory(e3):()=>new e3}(e22);throw new b2(204,!1)}function ly(e22,t2,n2){let r2;if(Gr(e22)){const o2=B(e22);return $r(o2)||Ed(o2)}if(vd(e22))r2=()=>B(e22.useValue);else if(function(e3){return!(!e3||!e3.useFactory)}(e22))r2=()=>e22.useFactory(...ld(e22.deps||[]));else if(function(e3){return!(!e3||!e3.useExisting)}(e22))r2=()=>D(B(e22.useExisting));else{const o2=B(e22&&(e22.useClass||e22.provide));if(!function(e3){return!!e3.deps}(e22))return $r(o2)||Ed(o2);r2=()=>new o2(...ld(e22.deps))}return r2}function Ho(e22,t2,n2=!1){return{factory:e22,value:t2,multi:n2?[]:void 0}}function wd(e22,t2){for(const n2 of e22)Array.isArray(n2)?wd(n2,t2):n2&&nd(n2)?wd(n2.providers,t2):t2(n2)}function cy(){return Um()!==void 0||function(){return Lo}()!=null}function ns(e22){if(!cy())throw new b2(-203,!1)}const Oe=0,w2=1,R2=2,ze=3,vn=4,ht=5,Dt=6,$o=7,De=8,Ge=9,Fn=10,H2=11,os2=12,dy=13,zo=14,Ne=15,Wr=16,Go=17,tr=18,Wo=19,fy=20,br=21,cl=22,rn=23,M2=25,Cd=1,Ln=7,qo=9,Le=10;var dl=function(e22){return e22[e22.None=0]="None",e22[e22.HasTransplantedViews=2]="HasTransplantedViews",e22}(dl||{});function at(e22){return Array.isArray(e22)&&typeof e22[Cd]=="object"}function vt(e22){return Array.isArray(e22)&&e22[Cd]===!0}function Sd(e22){return!!(4&e22.flags)}function qr(e22){return e22.componentOffset>-1}function fl(e22){return!(1&~e22.flags)}function _n(e22){return!!e22.template}function ss(e22){return!!(512&e22[R2])}class my{constructor(t2,n2,r2){this.previousValue=t2,this.currentValue=n2,this.firstChange=r2}isFirstChange(){return this.firstChange}}function yy(e22,t2,n2,r2){t2!==null?t2.applyValueToInputSignal(t2,r2):e22[n2]=r2}function Yo(){return vy}function vy(e22){return e22.type.prototype.ngOnChanges&&(e22.setInput=eA),J0}function J0(){const e22=by(this),t2=e22==null?void 0:e22.current;if(t2){const n2=e22.previous;if(n2===kn)e22.previous=t2;else for(let r2 in t2)n2[r2]=t2[r2];e22.current=null,this.ngOnChanges(t2)}}function eA(e22,t2,n2,r2,o2){const i2=this.declaredInputs[r2],s2=by(e22)||function(e3,t22){return e3[_y]=t22}(e22,{previous:kn,current:null}),a2=s2.current||(s2.current={}),l2=s2.previous,c2=l2[i2];a2[i2]=new my(c2&&c2.currentValue,n2,l2===kn),yy(e22,t2,o2,n2)}Yo.ngInherit=!0;const _y="__ngSimpleChanges__";function by(e22){return e22[_y]||null}const Vn=function(e22,t2,n2){};function ae(e22){for(;Array.isArray(e22);)e22=e22[Oe];return e22}function as(e22,t2){return ae(t2[e22])}function Ct(e22,t2){return ae(t2[e22.index])}function ls(e22,t2){return e22.data[t2]}function Yr(e22,t2){return e22[t2]}function zt(e22,t2){const n2=t2[e22];return at(n2)?n2:n2[Oe]}function Od(e22){return!(128&~e22[R2])}function on(e22,t2){return t2==null?null:e22[t2]}function Dy(e22){e22[Go]=0}function Cy(e22){1024&e22[R2]||(e22[R2]|=1024,Od(e22)&&hl(e22))}function cs(e22){var _a3;return!!(9216&e22[R2]||(_a3=e22[rn])!=null&&_a3.dirty)}function Nd(e22){var _a3;(_a3=e22[Fn].changeDetectionScheduler)==null||_a3.notify(7),64&e22[R2]&&(e22[R2]|=1024),cs(e22)&&hl(e22)}function hl(e22){var _a3;(_a3=e22[Fn].changeDetectionScheduler)==null||_a3.notify(0);let t2=nr(e22);for(;t2!==null&&!(8192&t2[R2])&&(t2[R2]|=8192,Od(t2));)t2=nr(t2)}function pl(e22,t2){if(!(256&~e22[R2]))throw new b2(911,!1);e22[br]===null&&(e22[br]=[]),e22[br].push(t2)}function nr(e22){const t2=e22[ze];return vt(t2)?t2[ze]:t2}const U={lFrame:Ly(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Iy=!1;function Zr(){return U.skipHydrationRootTNode!==null}function _2(){return U.lFrame.lView}function Q(){return U.lFrame.tView}function sn(e22){return U.lFrame.contextLView=e22,e22[De]}function an(e22){return U.lFrame.contextLView=null,e22}function ye(){let e22=My();for(;e22!==null&&e22.type===64;)e22=e22.parent;return e22}function My(){return U.lFrame.currentTNode}function bn(e22,t2){const n2=U.lFrame;n2.currentTNode=e22,n2.isParent=t2}function kd(){return U.lFrame.isParent}function xd(){U.lFrame.isParent=!1}function Ny(){return Iy}function Ry(e22){Iy=e22}function St(){const e22=U.lFrame;let t2=e22.bindingRootIndex;return t2===-1&&(t2=e22.bindingRootIndex=e22.tView.bindingStartIndex),t2}function En(){return U.lFrame.bindingIndex++}function or(e22){const t2=U.lFrame,n2=t2.bindingIndex;return t2.bindingIndex=t2.bindingIndex+e22,n2}function gA(e22,t2){const n2=U.lFrame;n2.bindingIndex=n2.bindingRootIndex=e22,Fd(t2)}function Fd(e22){U.lFrame.currentDirectiveIndex=e22}function Vd(){return U.lFrame.currentQueryIndex}function ml(e22){U.lFrame.currentQueryIndex=e22}function yA(e22){const t2=e22[w2];return t2.type===2?t2.declTNode:t2.type===1?e22[ht]:null}function xy(e22,t2,n2){if(n2&oe.SkipSelf){let o2=t2,i2=e22;for(;o2=o2.parent,!(o2!==null||n2&oe.Host||(o2=yA(i2),o2===null||(i2=i2[zo],10&o2.type))););if(o2===null)return!1;t2=o2,e22=i2}const r2=U.lFrame=Fy();return r2.currentTNode=t2,r2.lView=e22,!0}function Bd(e22){const t2=Fy(),n2=e22[w2];U.lFrame=t2,t2.currentTNode=n2.firstChild,t2.lView=e22,t2.tView=n2,t2.contextLView=e22,t2.bindingIndex=n2.bindingStartIndex,t2.inI18n=!1}function Fy(){const e22=U.lFrame,t2=e22===null?null:e22.child;return t2===null?Ly(e22):t2}function Ly(e22){const t2={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e22,child:null,inI18n:!1};return e22!==null&&(e22.child=t2),t2}function Vy(){const e22=U.lFrame;return U.lFrame=e22.parent,e22.currentTNode=null,e22.lView=null,e22}const By=Vy;function jd(){const e22=Vy();e22.isParent=!0,e22.tView=null,e22.selectedIndex=-1,e22.contextLView=null,e22.elementDepthCount=0,e22.currentDirectiveIndex=-1,e22.currentNamespace=null,e22.bindingRootIndex=-1,e22.bindingIndex=-1,e22.currentQueryIndex=0}function pt(){return U.lFrame.selectedIndex}function Kr(e22){U.lFrame.selectedIndex=e22}function Ce(){const e22=U.lFrame;return ls(e22.tView,e22.selectedIndex)}let Hy=!0;function ds(){return Hy}function Bn(e22){Hy=e22}function yl(e22,t2){for(let n2=t2.directiveStart,r2=t2.directiveEnd;n2<r2;n2++){const i2=e22.data[n2].type.prototype,{ngAfterContentInit:s2,ngAfterContentChecked:a2,ngAfterViewInit:l2,ngAfterViewChecked:c2,ngOnDestroy:u2}=i2;s2&&(e22.contentHooks??(e22.contentHooks=[])).push(-n2,s2),a2&&((e22.contentHooks??(e22.contentHooks=[])).push(n2,a2),(e22.contentCheckHooks??(e22.contentCheckHooks=[])).push(n2,a2)),l2&&(e22.viewHooks??(e22.viewHooks=[])).push(-n2,l2),c2&&((e22.viewHooks??(e22.viewHooks=[])).push(n2,c2),(e22.viewCheckHooks??(e22.viewCheckHooks=[])).push(n2,c2)),u2!=null&&(e22.destroyHooks??(e22.destroyHooks=[])).push(n2,u2)}}function vl(e22,t2,n2){Uy(e22,t2,3,n2)}function _l(e22,t2,n2,r2){(3&e22[R2])===n2&&Uy(e22,t2,n2,r2)}function Hd(e22,t2){let n2=e22[R2];(3&n2)===t2&&(n2&=16383,n2+=1,e22[R2]=n2)}function Uy(e22,t2,n2,r2){const i2=r2??-1,s2=t2.length-1;let a2=0;for(let l2=r2!==void 0?65535&e22[Go]:0;l2<s2;l2++)if(typeof t2[l2+1]=="number"){if(a2=t2[l2],r2!=null&&a2>=r2)break}else t2[l2]<0&&(e22[Go]+=65536),(a2<i2||i2==-1)&&(CA(e22,n2,t2,l2),e22[Go]=(4294901760&e22[Go])+l2+2),l2++}function $y(e22,t2){const n2=N2(null);try{t2.call(e22)}finally{N2(n2)}}function CA(e22,t2,n2,r2){const o2=n2[r2]<0,i2=n2[r2+1],a2=e22[o2?-n2[r2]:n2[r2]];o2?e22[R2]>>14<e22[Go]>>16&&(3&e22[R2])===t2&&(e22[R2]+=16384,$y(a2,i2)):$y(a2,i2)}const Zo=-1;class fs{constructor(t2,n2,r2){this.factory=t2,this.resolving=!1,this.canSeeViewProviders=n2,this.injectImpl=r2}}const $d={};class Qr{constructor(t2,n2){this.injector=t2,this.parentInjector=n2}get(t2,n2,r2){r2=Xa(r2);const o2=this.injector.get(t2,$d,r2);return o2!==$d||n2===$d?o2:this.parentInjector.get(t2,n2,r2)}}function zd(e22){return e22!==Zo}function hs(e22){return 32767&e22}function ps(e22,t2){let n2=function(e3){return e3>>16}(e22),r2=t2;for(;n2>0;)r2=r2[zo],n2--;return r2}let Gd=!0;function bl(e22){const t2=Gd;return Gd=e22,t2}const Gy=255,Wy=5;let OA=0;const jn={};function El(e22,t2){const n2=qy(e22,t2);if(n2!==-1)return n2;const r2=t2[w2];r2.firstCreatePass&&(e22.injectorIndex=t2.length,Wd(r2.data,e22),Wd(t2,null),Wd(r2.blueprint,null));const o2=wl(e22,t2),i2=e22.injectorIndex;if(zd(o2)){const s2=hs(o2),a2=ps(o2,t2),l2=a2[w2].data;for(let c2=0;c2<8;c2++)t2[i2+c2]=a2[s2+c2]|l2[s2+c2]}return t2[i2+8]=o2,i2}function Wd(e22,t2){e22.push(0,0,0,0,0,0,0,0,t2)}function qy(e22,t2){return e22.injectorIndex===-1||e22.parent&&e22.parent.injectorIndex===e22.injectorIndex||t2[e22.injectorIndex+8]===null?-1:e22.injectorIndex}function wl(e22,t2){if(e22.parent&&e22.parent.injectorIndex!==-1)return e22.parent.injectorIndex;let n2=0,r2=null,o2=t2;for(;o2!==null;){if(r2=ev(o2),r2===null)return Zo;if(n2++,o2=o2[zo],r2.injectorIndex!==-1)return r2.injectorIndex|n2<<16}return Zo}function qd(e22,t2,n2){(function(e3,t22,n22){let r2;typeof n22=="string"?r2=n22.charCodeAt(0)||0:n22.hasOwnProperty(Xi)&&(r2=n22[Xi]),r2==null&&(r2=n22[Xi]=OA++);const o2=r2&Gy;t22.data[e3+(o2>>Wy)]|=1<<o2})(e22,t2,n2)}function Yy(e22,t2,n2){if(n2&oe.Optional||e22!==void 0)return e22;id()}function Zy(e22,t2,n2,r2){if(n2&oe.Optional&&r2===void 0&&(r2=null),!(n2&(oe.Self|oe.Host))){const o2=e22[Ge],i2=Ot(void 0);try{return o2?o2.get(t2,r2,n2&oe.Optional):$m(t2,r2,n2&oe.Optional)}finally{Ot(i2)}}return Yy(r2,0,n2)}function Ky(e22,t2,n2,r2=oe.Default,o2){if(e22!==null){if(2048&t2[R2]&&!(r2&oe.Self)){const s2=function(e3,t22,n22,r22,o22){let i22=e3,s22=t22;for(;i22!==null&&s22!==null&&2048&s22[R2]&&!(512&s22[R2]);){const a2=Qy(i22,s22,n22,r22|oe.Self,jn);if(a2!==jn)return a2;let l2=i22.parent;if(!l2){const c2=s22[fy];if(c2){const u2=c2.get(n22,jn,r22);if(u2!==jn)return u2}l2=ev(s22),s22=s22[zo]}i22=l2}return o22}(e22,t2,n2,r2,jn);if(s2!==jn)return s2}const i2=Qy(e22,t2,n2,r2,jn);if(i2!==jn)return i2}return Zy(t2,n2,r2,o2)}function Qy(e22,t2,n2,r2,o2){const i2=function(e3){if(typeof e3=="string")return e3.charCodeAt(0)||0;const t22=e3.hasOwnProperty(Xi)?e3[Xi]:void 0;return typeof t22=="number"?t22>=0?t22&Gy:xA:t22}(n2);if(typeof i2=="function"){if(!xy(t2,e22,r2))return r2&oe.Host?Yy(o2,0,r2):Zy(t2,n2,r2,o2);try{let s2;if(s2=i2(r2),s2!=null||r2&oe.Optional)return s2;id()}finally{By()}}else if(typeof i2=="number"){let s2=null,a2=qy(e22,t2),l2=Zo,c2=r2&oe.Host?t2[Ne][ht]:null;for((a2===-1||r2&oe.SkipSelf)&&(l2=a2===-1?wl(e22,t2):t2[a2+8],l2!==Zo&&Jy(r2,!1)?(s2=t2[w2],a2=hs(l2),t2=ps(l2,t2)):a2=-1);a2!==-1;){const u2=t2[w2];if(Xy(i2,a2,u2.data)){const d2=PA(a2,t2,n2,s2,r2,c2);if(d2!==jn)return d2}l2=t2[a2+8],l2!==Zo&&Jy(r2,t2[w2].data[a2+8]===c2)&&Xy(i2,a2,t2)?(s2=u2,a2=hs(l2),t2=ps(l2,t2)):a2=-1}}return o2}function PA(e22,t2,n2,r2,o2,i2){const s2=t2[w2],a2=s2.data[e22+8],u2=Dl(a2,s2,n2,r2==null?qr(a2)&&Gd:r2!=s2&&!!(3&a2.type),o2&oe.Host&&i2===a2);return u2!==null?Xr(t2,s2,u2,a2):jn}function Dl(e22,t2,n2,r2,o2){const i2=e22.providerIndexes,s2=t2.data,a2=1048575&i2,l2=e22.directiveStart,u2=i2>>20,h2=o2?a2+u2:e22.directiveEnd;for(let f2=r2?a2:a2+u2;f2<h2;f2++){const p2=s2[f2];if(f2<l2&&n2===p2||f2>=l2&&p2.type===n2)return f2}if(o2){const f2=s2[l2];if(f2&&_n(f2)&&f2.type===n2)return l2}return null}function Xr(e22,t2,n2,r2){let o2=e22[n2];const i2=t2.data;if(function(e3){return e3 instanceof fs}(o2)){const s2=o2;s2.resolving&&function(e3,t22){throw new b2(-200,e3)}(function(e3){return typeof e3=="function"?e3.name||e3.toString():typeof e3=="object"&&e3!=null&&typeof e3.type=="function"?e3.type.name||e3.type.toString():W(e3)}(i2[n2]));const a2=bl(s2.canSeeViewProviders);s2.resolving=!0;const c2=s2.injectImpl?Ot(s2.injectImpl):null;xy(e22,r2,oe.Default);try{o2=e22[n2]=s2.factory(void 0,i2,e22,r2),t2.firstCreatePass&&n2>=r2.directiveStart&&function(e3,t22,n22){const{ngOnChanges:r22,ngOnInit:o22,ngDoCheck:i22}=t22.type.prototype;if(r22){const s22=vy(t22);(n22.preOrderHooks??(n22.preOrderHooks=[])).push(e3,s22),(n22.preOrderCheckHooks??(n22.preOrderCheckHooks=[])).push(e3,s22)}o22&&(n22.preOrderHooks??(n22.preOrderHooks=[])).push(0-e3,o22),i22&&((n22.preOrderHooks??(n22.preOrderHooks=[])).push(e3,i22),(n22.preOrderCheckHooks??(n22.preOrderCheckHooks=[])).push(e3,i22))}(n2,i2[n2],t2)}finally{c2!==null&&Ot(c2),bl(a2),s2.resolving=!1,By()}}return o2}function Xy(e22,t2,n2){return!!(n2[t2+(e22>>Wy)]&1<<e22)}function Jy(e22,t2){return!(e22&oe.Self||e22&oe.Host&&t2)}class tt{constructor(t2,n2){this._tNode=t2,this._lView=n2}get(t2,n2,r2){return Ky(this._tNode,this._lView,t2,Xa(r2),n2)}}function xA(){return new tt(ye(),_2())}function Yd(e22){return Xn(()=>{const t2=e22.prototype.constructor,n2=t2[Jn]||Zd(t2),r2=Object.prototype;let o2=Object.getPrototypeOf(e22.prototype).constructor;for(;o2&&o2!==r2;){const i2=o2[Jn]||Zd(o2);if(i2&&i2!==n2)return i2;o2=Object.getPrototypeOf(o2)}return i2=>new i2})}function Zd(e22){return qa(e22)?()=>{const t2=Zd(B(e22));return t2&&t2()}:$r(e22)}function ev(e22){const t2=e22[w2],n2=t2.type;return n2===2?t2.declTNode:n2===1?e22[ht]:null}function iv(e22,t2=null,n2=null,r2){const o2=function(e3,t22=null,n22=null,r22,o22=new Set){const i2=[n22||se,N0(e3)];return r22=r22||(typeof e3=="object"?void 0:Xe(e3)),new jo(i2,t22||al(),r22||null,o22)}(e22,t2,n2,r2);return o2.resolveInjectorInitializers(),o2}const _Re=class _Re{static create(t2,n2){if(Array.isArray(t2))return iv({name:""},n2,t2,"");{const r2=t2.name??"";return iv({name:r2},t2.parent,t2.providers,r2)}}};_e2=new WeakMap,_t2=new WeakMap,_n2=new WeakMap,_r2=new WeakMap,__privateAdd(_Re,_e2,_Re.THROW_IF_NOT_FOUND=Ji),__privateAdd(_Re,_t2,_Re.NULL=new tl),__privateAdd(_Re,_n2,_Re.prov=O({token:_Re,providedIn:"any",factory:()=>D(Zm)})),__privateAdd(_Re,_r2,_Re.__NG_ELEMENT_ID__=-1);let Re=_Re;new S2("").__NG_ELEMENT_ID__=e22=>{const t2=ye();if(t2===null)throw new b2(204,!1);if(2&t2.type)return t2.value;if(e22&oe.Optional)return null;throw new b2(204,!1)};function Qd(e22){return e22.ngOriginalError}class ln{constructor(){this._console=console}handleError(t2){const n2=this._findOriginalError(t2);this._console.error("ERROR",t2),n2&&this._console.error("ORIGINAL ERROR",n2)}_findOriginalError(t2){let n2=t2&&Qd(t2);for(;n2&&Qd(n2);)n2=Qd(n2);return n2||null}}const lv=new S2("",{providedIn:"root",factory:()=>E2(ln).handleError.bind(void 0)});let Gt=(()=>{var _e7,_t3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=WA),__privateAdd(_e22,_t3,_e22.__NG_ENV_ID__=n2=>n2);let e22=_e22;return e22})();class GA extends Gt{constructor(t2){super(),this._lView=t2}onDestroy(t2){return pl(this._lView,t2),()=>function(e22,t22){if(e22[br]===null)return;const n2=e22[br].indexOf(t22);n2!==-1&&e22[br].splice(n2,1)}(this._lView,t2)}}function WA(){return new GA(_2())}function qA(){return Xo(ye(),_2())}function Xo(e22,t2){return new lt(Ct(e22,t2))}let lt=(()=>{var _e7;const _e22=class _e22{constructor(n2){this.nativeElement=n2}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=qA);let e22=_e22;return e22})();function uv(e22){return e22 instanceof lt?e22.nativeElement:e22}let Jo=(()=>{var _e7;const _e22=class _e22{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new No(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n2=this.taskId++;return this.pendingTasks.add(n2),n2}remove(n2){this.pendingTasks.delete(n2),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.prov=O({token:_e22,providedIn:"root",factory:()=>new _e22}));let e22=_e22;return e22})();const ke=class extends Te{constructor(t2=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t2,cy()&&(this.destroyRef=E2(Gt,{optional:!0})??void 0,this.pendingTasks=E2(Jo,{optional:!0})??void 0)}emit(t2){const n2=N2(null);try{super.next(t2)}finally{N2(n2)}}subscribe(t2,n2,r2){var _a3,_b2,_c2;let o2=t2,i2=n2||(()=>null),s2=r2;if(t2&&typeof t2=="object"){const l2=t2;o2=(_a3=l2.next)==null?void 0:_a3.bind(l2),i2=(_b2=l2.error)==null?void 0:_b2.bind(l2),s2=(_c2=l2.complete)==null?void 0:_c2.bind(l2)}this.__isAsync&&(i2=this.wrapInTimeout(i2),o2&&(o2=this.wrapInTimeout(o2)),s2&&(s2=this.wrapInTimeout(s2)));const a2=super.subscribe({next:o2,error:i2,complete:s2});return t2 instanceof Fe&&t2.add(a2),a2}wrapInTimeout(t2){return n2=>{var _a3;const r2=(_a3=this.pendingTasks)==null?void 0:_a3.add();setTimeout(()=>{var _a4;t2(n2),r2!==void 0&&((_a4=this.pendingTasks)==null||_a4.remove(r2))})}}};function ZA(){return this._results[Symbol.iterator]()}const _Xd=class _Xd{get changes(){return this._changes??(this._changes=new ke)}constructor(t2=!1){this._emitDistinctChangesOnly=t2,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n2=_Xd.prototype;n2[Symbol.iterator]||(n2[Symbol.iterator]=ZA)}get(t2){return this._results[t2]}map(t2){return this._results.map(t2)}filter(t2){return this._results.filter(t2)}find(t2){return this._results.find(t2)}reduce(t2,n2){return this._results.reduce(t2,n2)}forEach(t2){this._results.forEach(t2)}some(t2){return this._results.some(t2)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t2,n2){this.dirty=!1;const r2=function(e22){return e22.flat(Number.POSITIVE_INFINITY)}(t2);(this._changesDetected=!function(e22,t22,n22){if(e22.length!==t22.length)return!1;for(let r22=0;r22<e22.length;r22++){let o2=e22[r22],i2=t22[r22];if(n22&&(o2=n22(o2),i2=n22(i2)),i2!==o2)return!1}return!0}(this._results,r2,n2))&&(this._results=r2,this.length=r2.length,this.last=r2[this.length-1],this.first=r2[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t2){this._onDirty=t2}setDirty(){var _a3;this.dirty=!0,(_a3=this._onDirty)==null||_a3.call(this)}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};_e3=new WeakMap,__privateAdd(_Xd,_e3,Symbol.iterator);let Xd=_Xd;function Il(e22){return!(128&~e22.flags)}const Jd=new Map;let QA=0;const Ml="__ngContext__";function _t(e22,t2){at(t2)?(e22[Ml]=t2[Wo],function(e3){Jd.set(e3[Wo],e3)}(t2)):e22[Ml]=t2}function bv(e22){return wv(e22[os2])}function Ev(e22){return wv(e22[vn])}function wv(e22){for(;e22!==null&&!vt(e22);)e22=e22[vn];return e22}let tf;function Er(){if(tf!==void 0)return tf;if(typeof document<"u")return document;throw new b2(210,!1)}const ms=new S2("",{providedIn:"root",factory:()=>yO}),yO="ng",Ov=new S2(""),Jr=new S2("",{providedIn:"platform",factory:()=>"unknown"}),nf=new S2(""),Nv=new S2("",{providedIn:"root",factory:()=>{var _a3,_b2;return((_b2=(_a3=Er().body)==null?void 0:_a3.querySelector("[ngCspNonce]"))==null?void 0:_b2.getAttribute("ngCspNonce"))||null}});let Rv=()=>null;function df(e22,t2,n2=!1){return Rv()}const jv=new S2("",{providedIn:"root",factory:()=>!1});function ri(e22){return e22}function $v(e22){return e22}class Wv{constructor(t2){this.changingThisBreaksApplicationSecurity=t2}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pm})`}}function wr(e22){return e22 instanceof Wv?e22.changingThisBreaksApplicationSecurity:e22}class LO{constructor(t2){this.inertDocumentHelper=t2}getInertBodyElement(t2){t2="<body><remove></remove>"+t2;try{const n2=new window.DOMParser().parseFromString(t2,"text/html").body;return n2===null?this.inertDocumentHelper.getInertBodyElement(t2):(n2.removeChild(n2.firstChild),n2)}catch{return null}}}class VO{constructor(t2){this.defaultDoc=t2,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t2){const n2=this.inertDocument.createElement("template");return n2.innerHTML=t2,n2}}const jO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vf(e22){return(e22=String(e22)).match(jO)?e22:"unsafe:"+e22}function ir(e22){const t2={};for(const n2 of e22.split(","))t2[n2]=!0;return t2}function Cs(...e22){const t2={};for(const n2 of e22)for(const r2 in n2)n2.hasOwnProperty(r2)&&(t2[r2]=!0);return t2}const Yv=ir("area,br,col,hr,img,wbr"),Zv=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kv=ir("rp,rt"),_f2=Cs(Yv,Cs(Zv,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cs(Kv,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cs(Kv,Zv)),bf=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qv=Cs(bf,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HO=ir("script,style,template");class UO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t2){let n2=t2.firstChild,r2=!0,o2=[];for(;n2;)if(n2.nodeType===Node.ELEMENT_NODE?r2=this.startElement(n2):n2.nodeType===Node.TEXT_NODE?this.chars(n2.nodeValue):this.sanitizedSomething=!0,r2&&n2.firstChild)o2.push(n2),n2=GO(n2);else for(;n2;){n2.nodeType===Node.ELEMENT_NODE&&this.endElement(n2);let i2=zO(n2);if(i2){n2=i2;break}n2=o2.pop()}return this.buf.join("")}startElement(t2){const n2=Xv(t2).toLowerCase();if(!_f2.hasOwnProperty(n2))return this.sanitizedSomething=!0,!HO.hasOwnProperty(n2);this.buf.push("<"),this.buf.push(n2);const r2=t2.attributes;for(let o2=0;o2<r2.length;o2++){const i2=r2.item(o2),s2=i2.name,a2=s2.toLowerCase();if(!Qv.hasOwnProperty(a2)){this.sanitizedSomething=!0;continue}let l2=i2.value;bf[a2]&&(l2=vf(l2)),this.buf.push(" ",s2,'="',e_(l2),'"')}return this.buf.push(">"),!0}endElement(t2){const n2=Xv(t2).toLowerCase();_f2.hasOwnProperty(n2)&&!Yv.hasOwnProperty(n2)&&(this.buf.push("</"),this.buf.push(n2),this.buf.push(">"))}chars(t2){this.buf.push(e_(t2))}}function zO(e22){const t2=e22.nextSibling;if(t2&&e22!==t2.previousSibling)throw Jv(t2);return t2}function GO(e22){const t2=e22.firstChild;if(t2&&function(e3,t22){return(e3.compareDocumentPosition(t22)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e22,t2))throw Jv(t2);return t2}function Xv(e22){const t2=e22.nodeName;return typeof t2=="string"?t2:"FORM"}function Jv(e22){return new Error(`Failed to sanitize html because the element is clobbered: ${e22.outerHTML}`)}const WO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qO=/([^\#-~ |!])/g;function e_(e22){return e22.replace(/&/g,"&amp;").replace(WO,function(t2){return"&#"+(1024*(t2.charCodeAt(0)-55296)+(t2.charCodeAt(1)-56320)+65536)+";"}).replace(qO,function(t2){return"&#"+t2.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bl;function Ef(e22){return"content"in e22&&function(e3){return e3.nodeType===Node.ELEMENT_NODE&&e3.nodeName==="TEMPLATE"}(e22)?e22.content:null}var oi=function(e22){return e22[e22.NONE=0]="NONE",e22[e22.HTML=1]="HTML",e22[e22.STYLE=2]="STYLE",e22[e22.SCRIPT=3]="SCRIPT",e22[e22.URL=4]="URL",e22[e22.RESOURCE_URL=5]="RESOURCE_URL",e22}(oi||{});function t_(e22){const t2=function(){const e3=_2();return e3&&e3[Fn].sanitizer}();return t2?t2.sanitize(oi.HTML,e22)||"":function(e3,t22){const n2=function(e4){return e4 instanceof Wv&&e4.getTypeName()||null}(e3);if(n2!=null&&n2!==t22){if(n2==="ResourceURL"&&t22==="URL")return!0;throw new Error(`Required a safe ${t22}, got a ${n2} (see ${Pm})`)}return n2===t22}(e22,"HTML")?wr(e22):function(e3,t22){let n2=null;try{Bl=Bl||function(e4){const t3=new VO(e4);return function(){try{return!!new window.DOMParser().parseFromString("","text/html")}catch{return!1}}()?new LO(t3):t3}(e3);let r2=t22?String(t22):"";n2=Bl.getInertBodyElement(r2);let o2=5,i2=r2;do{if(o2===0)throw new Error("Failed to sanitize html because the input is unstable");o2--,r2=i2,i2=n2.innerHTML,n2=Bl.getInertBodyElement(r2)}while(r2!==i2);return new UO().sanitizeChildren(Ef(n2)||n2)}finally{if(n2){const r2=Ef(n2)||n2;for(;r2.firstChild;)r2.removeChild(r2.firstChild)}}}(Er(),W(e22))}const nN=/^>|^->|<!--|-->|--!>|<!-$/g,rN=/(<|>)/g,oN="$1";function kt(e22){return(e22??E2(Re)).get(Jr)==="browser"}var Dr=function(e22){return e22[e22.Important=1]="Important",e22[e22.DashCase=2]="DashCase",e22}(Dr||{});let Cf;function Sf(e22,t2){return Cf(e22,t2)}function si(e22,t2,n2,r2,o2){if(r2!=null){let i2,s2=!1;vt(r2)?i2=r2:at(r2)&&(s2=!0,r2=r2[Oe]);const a2=ae(r2);e22===0&&n2!==null?o2==null?m_(t2,n2,a2):eo(t2,n2,a2,o2||null,!0):e22===1&&n2!==null?eo(t2,n2,a2,o2||null,!0):e22===2?function(e3,t22,n22){const r22=zl(e3,t22);r22&&function(e4,t3,n3,r3){e4.removeChild(t3,n3,r3)}(e3,r22,t22,n22)}(t2,a2,s2):e22===3&&t2.destroyNode(a2),i2!=null&&function(e3,t22,n22,r22,o22){const i22=n22[Ln];i22!==ae(n22)&&si(t22,e3,r22,i22,o22);for(let a22=Le;a22<n22.length;a22++){const l2=n22[a22];Wl(l2[w2],l2,e3,t22,r22,i22)}}(t2,e22,i2,n2,o2)}}function Tf(e22,t2){return e22.createComment(function(e3){return e3.replace(nN,t22=>t22.replace(rN,oN))}(t2))}function Ul(e22,t2,n2){return e22.createElement(t2,n2)}function h_(e22,t2){var _a3;(_a3=t2[Fn].changeDetectionScheduler)==null||_a3.notify(8),Wl(e22,t2,t2[H2],2,null,null)}function p_(e22,t2){const n2=e22[qo],r2=t2[ze];(at(r2)||t2[Ne]!==r2[ze][Ne])&&(e22[R2]|=dl.HasTransplantedViews),n2===null?e22[qo]=[t2]:n2.push(t2)}function Mf(e22,t2){const n2=e22[qo],r2=n2.indexOf(t2);n2.splice(r2,1)}function Is(e22,t2){if(e22.length<=Le)return;const n2=Le+t2,r2=e22[n2];if(r2){const o2=r2[Wr];o2!==null&&o2!==e22&&Mf(o2,r2),t2>0&&(e22[n2-1][vn]=r2[vn]);const i2=Ja(e22,Le+t2);(function(e3,t22){h_(e3,t22),t22[Oe]=null,t22[ht]=null})(r2[w2],r2);const s2=i2[tr];s2!==null&&s2.detachView(i2[w2]),r2[ze]=null,r2[vn]=null,r2[R2]&=-129}return r2}function $l(e22,t2){if(!(256&t2[R2])){const n2=t2[H2];n2.destroyNode&&Wl(e22,t2,n2,3,null,null),function(e3){let t22=e3[os2];if(!t22)return Af(e3[w2],e3);for(;t22;){let n22=null;if(at(t22))n22=t22[os2];else{const r2=t22[Le];r2&&(n22=r2)}if(!n22){for(;t22&&!t22[vn]&&t22!==e3;)at(t22)&&Af(t22[w2],t22),t22=t22[ze];t22===null&&(t22=e3),at(t22)&&Af(t22[w2],t22),n22=t22&&t22[vn]}t22=n22}}(t2)}}function Af(e22,t2){if(256&t2[R2])return;const n2=N2(null);try{t2[R2]&=-129,t2[R2]|=256,t2[rn]&&Pu(t2[rn]),function(e3,t22){let n22;if(e3!=null&&(n22=e3.destroyHooks)!=null)for(let r22=0;r22<n22.length;r22+=2){const o2=t22[n22[r22]];if(!(o2 instanceof fs)){const i2=n22[r22+1];if(Array.isArray(i2))for(let s2=0;s2<i2.length;s2+=2){const a2=o2[i2[s2]],l2=i2[s2+1];Vn(4,a2,l2);try{l2.call(a2)}finally{Vn(5,a2,l2)}}else{Vn(4,o2,i2);try{i2.call(o2)}finally{Vn(5,o2,i2)}}}}}(e22,t2),function(e3,t22){const n22=e3.cleanup,r22=t22[$o];if(n22!==null)for(let i2=0;i2<n22.length-1;i2+=2)if(typeof n22[i2]=="string"){const s2=n22[i2+3];s2>=0?r22[s2]():r22[-s2].unsubscribe(),i2+=2}else n22[i2].call(r22[n22[i2+1]]);r22!==null&&(t22[$o]=null);const o2=t22[br];if(o2!==null){t22[br]=null;for(let i2=0;i2<o2.length;i2++)(0,o2[i2])()}}(e22,t2),t2[w2].type===1&&t2[H2].destroy();const r2=t2[Wr];if(r2!==null&&vt(t2[ze])){r2!==t2[ze]&&Mf(r2,t2);const o2=t2[tr];o2!==null&&o2.detachView(e22)}(function(e3){Jd.delete(e3[Wo])})(t2)}finally{N2(n2)}}function Of(e22,t2,n2){return function(e3,t22,n22){let r2=t22;for(;r2!==null&&168&r2.type;)r2=(t22=r2).parent;if(r2===null)return n22[Oe];{const{componentOffset:o2}=r2;if(o2>-1){const{encapsulation:i2}=e3.data[r2.directiveStart+o2];if(i2===mn.None||i2===mn.Emulated)return null}return Ct(r2,n22)}}(e22,t2.parent,n2)}function eo(e22,t2,n2,r2,o2){e22.insertBefore(t2,n2,r2,o2)}function m_(e22,t2,n2){e22.appendChild(t2,n2)}function y_(e22,t2,n2,r2,o2){r2!==null?eo(e22,t2,n2,r2,o2):m_(e22,t2,n2)}function zl(e22,t2){return e22.parentNode(t2)}function v_(e22,t2,n2){return b_(e22,t2,n2)}let b_=function(e22,t2,n2){return 40&e22.type?Ct(e22,n2):null};function Gl(e22,t2,n2,r2){const o2=Of(e22,r2,t2),i2=t2[H2],a2=v_(r2.parent||t2[ht],r2,t2);if(o2!=null)if(Array.isArray(n2))for(let l2=0;l2<n2.length;l2++)y_(i2,o2,n2[l2],a2,!1);else y_(i2,o2,n2,a2,!1)}function ai(e22,t2){if(t2!==null){const n2=t2.type;if(3&n2)return Ct(t2,e22);if(4&n2)return Rf(-1,e22[t2.index]);if(8&n2){const r2=t2.child;if(r2!==null)return ai(e22,r2);{const o2=e22[t2.index];return vt(o2)?Rf(-1,o2):ae(o2)}}if(32&n2)return Sf(t2,e22)()||ae(e22[t2.index]);{const r2=w_(e22,t2);return r2!==null?Array.isArray(r2)?r2[0]:ai(nr(e22[Ne]),r2):ai(e22,t2.next)}}return null}function w_(e22,t2){return t2!==null?e22[Ne][ht].projection[t2.projection]:null}function Rf(e22,t2){const n2=Le+e22+1;if(n2<t2.length){const r2=t2[n2],o2=r2[w2].firstChild;if(o2!==null)return ai(r2,o2)}return t2[Ln]}function Pf(e22,t2,n2,r2,o2,i2,s2){for(;n2!=null;){if(n2.type===128){n2=n2.next;continue}const a2=r2[n2.index],l2=n2.type;if(s2&&t2===0&&(a2&&_t(ae(a2),r2),n2.flags|=2),32&~n2.flags)if(8&l2)Pf(e22,t2,n2.child,r2,o2,i2,!1),si(t2,e22,o2,a2,i2);else if(32&l2){const c2=Sf(n2,r2);let u2;for(;u2=c2();)si(t2,e22,o2,u2,i2);si(t2,e22,o2,a2,i2)}else 16&l2?C_(e22,t2,r2,n2,o2,i2):si(t2,e22,o2,a2,i2);n2=s2?n2.projectionNext:n2.next}}function Wl(e22,t2,n2,r2,o2,i2){Pf(n2,r2,e22.firstChild,t2,o2,i2,!1)}function C_(e22,t2,n2,r2,o2,i2){const s2=n2[Ne],l2=s2[ht].projection[r2.projection];if(Array.isArray(l2))for(let c2=0;c2<l2.length;c2++)si(t2,e22,o2,l2[c2],i2);else{let c2=l2;const u2=s2[ze];Il(r2)&&(c2.flags|=128),Pf(e22,t2,c2,u2,o2,i2,!0)}}function S_(e22,t2,n2){n2===""?e22.removeAttribute(t2,"class"):e22.setAttribute(t2,"class",n2)}function I_(e22,t2,n2){const{mergedAttrs:r2,classes:o2,styles:i2}=n2;r2!==null&&pd(e22,t2,r2),o2!==null&&S_(e22,t2,o2),i2!==null&&function(e3,t22,n22){e3.setAttribute(t22,"style",n22)}(e22,t2,i2)}const q={};function Y(e22=1){T_(Q(),_2(),pt()+e22)}function T_(e22,t2,n2,r2){if(3&~t2[R2]){const i2=e22.preOrderHooks;i2!==null&&_l(t2,i2,0,n2)}else{const i2=e22.preOrderCheckHooks;i2!==null&&vl(t2,i2,n2)}Kr(n2)}function L2(e22,t2=oe.Default){const n2=_2();return n2===null?D(e22,t2):Ky(ye(),n2,B(e22),t2)}function M_(e22,t2,n2,r2,o2,i2){const s2=N2(null);try{let a2=null;o2&_r.SignalBased&&(a2=t2[r2][G]),a2!==null&&a2.transformFn!==void 0&&(i2=a2.transformFn(i2)),o2&_r.HasDecoratorInputTransform&&(i2=e22.inputTransforms[r2].call(t2,i2)),e22.setInput!==null?e22.setInput(t2,a2,i2,n2,r2):yy(t2,a2,r2,i2)}finally{N2(s2)}}function ql(e22,t2,n2,r2,o2,i2,s2,a2,l2,c2,u2){const d2=t2.blueprint.slice();return d2[Oe]=o2,d2[R2]=204|r2,(c2!==null||e22&&2048&e22[R2])&&(d2[R2]|=2048),Dy(d2),d2[ze]=d2[zo]=e22,d2[De]=n2,d2[Fn]=s2||e22&&e22[Fn],d2[H2]=a2||e22&&e22[H2],d2[Ge]=l2||e22&&e22[Ge]||null,d2[ht]=i2,d2[Wo]=function(){return QA++}(),d2[Dt]=u2,d2[fy]=c2,d2[Ne]=t2.type==2?e22[Ne]:d2,d2}function to(e22,t2,n2,r2,o2){let i2=e22.data[t2];if(i2===null)i2=function(e3,t22,n22,r22,o22){const i22=My(),s2=kd(),l2=e3.data[t22]=function(e4,t3,n3,r3,o4,i3){let s22=t3?t3.injectorIndex:-1,a2=0;return Zr()&&(a2|=128),{type:n3,index:r3,insertBeforeIndex:null,injectorIndex:s22,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a2,providerIndexes:0,value:o4,attrs:i3,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t3,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s2?i22:i22&&i22.parent,n22,t22,r22,o22);return e3.firstChild===null&&(e3.firstChild=l2),i22!==null&&(s2?i22.child==null&&l2.parent!==null&&(i22.child=l2):i22.next===null&&(i22.next=l2,l2.prev=i22)),l2}(e22,t2,n2,r2,o2),function(){return U.lFrame.inI18n}()&&(i2.flags|=32);else if(64&i2.type){i2.type=n2,i2.value=r2,i2.attrs=o2;const s2=function(){const e3=U.lFrame,t22=e3.currentTNode;return e3.isParent?t22:t22.parent}();i2.injectorIndex=s2===null?-1:s2.injectorIndex}return bn(i2,!0),i2}function Ms(e22,t2,n2,r2){if(n2===0)return-1;const o2=t2.length;for(let i2=0;i2<n2;i2++)t2.push(r2),e22.blueprint.push(r2),e22.data.push(null);return o2}function A_(e22,t2,n2,r2,o2){const i2=pt(),s2=2&r2;try{Kr(-1),s2&&t2.length>M2&&T_(e22,t2,M2,!1),Vn(s2?2:0,o2),n2(r2,o2)}finally{Kr(i2)}}function xf(e22,t2,n2){if(Sd(t2)){const r2=N2(null);try{const i2=t2.directiveEnd;for(let s2=t2.directiveStart;s2<i2;s2++){const a2=e22.data[s2];a2.contentQueries&&a2.contentQueries(1,n2[s2],s2)}}finally{N2(r2)}}}function Ff(e22,t2,n2){(function(e3,t22,n22,r2){const o2=n22.directiveStart,i2=n22.directiveEnd;qr(n22)&&function(e4,t3,n3){const r22=Ct(t3,e4),o22=O_(n3);let s22=16;n3.signals?s22=4096:n3.onPush&&(s22=64);const a2=Yl(e4,ql(e4,o22,null,s22,r22,t3,null,e4[Fn].rendererFactory.createRenderer(r22,n3),null,null,null));e4[t3.index]=a2}(t22,n22,e3.data[o2+n22.componentOffset]),e3.firstCreatePass||El(n22,t22),_t(r2,t22);const s2=n22.initialInputs;for(let a2=o2;a2<i2;a2++){const l2=e3.data[a2],c2=Xr(t22,e3,a2,n22);_t(c2,t22),s2!==null&&QN(0,a2-o2,c2,l2,0,s2),_n(l2)&&(zt(n22.index,t22)[De]=Xr(t22,e3,a2,n22))}})(e22,t2,n2,Ct(n2,t2)),!(64&~n2.flags)&&x_(e22,t2,n2)}function Lf(e22,t2,n2=Ct){const r2=t2.localNames;if(r2!==null){let o2=t2.index+1;for(let i2=0;i2<r2.length;i2+=2){const s2=r2[i2+1],a2=s2===-1?n2(t2,e22):e22[s2];e22[o2++]=a2}}}function O_(e22){const t2=e22.tView;return t2===null||t2.incompleteFirstPass?e22.tView=Vf(1,null,e22.template,e22.decls,e22.vars,e22.directiveDefs,e22.pipeDefs,e22.viewQuery,e22.schemas,e22.consts,e22.id):t2}function Vf(e22,t2,n2,r2,o2,i2,s2,a2,l2,c2,u2){const d2=M2+r2,h2=d2+o2,f2=function(e3,t22){const n22=[];for(let r22=0;r22<t22;r22++)n22.push(r22<e3?null:q);return n22}(d2,h2),p2=typeof c2=="function"?c2():c2;return f2[w2]={type:e22,blueprint:f2,template:n2,queries:null,viewQuery:a2,declTNode:t2,data:f2.slice().fill(null,d2),bindingStartIndex:d2,expandoStartIndex:h2,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i2=="function"?i2():i2,pipeRegistry:typeof s2=="function"?s2():s2,firstChild:null,schemas:l2,consts:p2,incompleteFirstPass:!1,ssrId:u2}}let N_=()=>null;function R_(e22,t2,n2,r2,o2){for(let i2 in t2){if(!t2.hasOwnProperty(i2))continue;const s2=t2[i2];if(s2===void 0)continue;r2??(r2={});let a2,l2=_r.None;Array.isArray(s2)?(a2=s2[0],l2=s2[1]):a2=s2;let c2=i2;if(o2!==null){if(!o2.hasOwnProperty(i2))continue;c2=o2[i2]}e22===0?P_(r2,n2,c2,a2,l2):P_(r2,n2,c2,a2)}return r2}function P_(e22,t2,n2,r2,o2){let i2;e22.hasOwnProperty(n2)?(i2=e22[n2]).push(t2,r2):i2=e22[n2]=[t2,r2],o2!==void 0&&i2.push(o2)}function xt(e22,t2,n2,r2,o2,i2,s2,a2){const l2=Ct(t2,n2);let u2,c2=t2.inputs;!a2&&c2!=null&&(u2=c2[r2])?($f(e22,n2,u2,r2,o2),qr(t2)&&function(e3,t22){const n22=zt(t22,e3);16&n22[R2]||(n22[R2]|=64)}(n2,t2.index)):3&t2.type&&(r2=function(e3){return e3==="class"?"className":e3==="for"?"htmlFor":e3==="formaction"?"formAction":e3==="innerHtml"?"innerHTML":e3==="readonly"?"readOnly":e3==="tabindex"?"tabIndex":e3}(r2),o2=s2!=null?s2(o2,t2.value||"",r2):o2,i2.setProperty(l2,r2,o2))}function Bf(e22,t2,n2,r2){{const o2=r2===null?null:{"":-1},i2=function(e3,t22){var _a3;const n22=e3.directiveRegistry;let r22=null,o22=null;if(n22)for(let i22=0;i22<n22.length;i22++){const s22=n22[i22];if(ey(t22,s22.selectors,!1))if(r22||(r22=[]),_n(s22))if(s22.findHostDirectiveDefs!==null){const a22=[];o22=o22||new Map,s22.findHostDirectiveDefs(s22,a22,o22),r22.unshift(...a22,s22),jf(e3,t22,a22.length)}else r22.unshift(s22),jf(e3,t22,0);else o22=o22||new Map,(_a3=s22.findHostDirectiveDefs)==null||_a3.call(s22,s22,r22,o22),r22.push(s22)}return r22===null?null:[r22,o22]}(e22,n2);let s2,a2;i2===null?s2=a2=null:[s2,a2]=i2,s2!==null&&k_(e22,t2,n2,s2,o2,a2),o2&&function(e3,t22,n22){if(t22){const r22=e3.localNames=[];for(let o22=0;o22<t22.length;o22+=2){const i22=n22[t22[o22+1]];if(i22==null)throw new b2(-301,!1);r22.push(t22[o22],i22)}}}(n2,r2,o2)}n2.mergedAttrs=ts(n2.mergedAttrs,n2.attrs)}function k_(e22,t2,n2,r2,o2,i2){for(let c2=0;c2<r2.length;c2++)qd(El(n2,t2),e22,r2[c2].type);(function(e3,t22,n22){e3.flags|=1,e3.directiveStart=t22,e3.directiveEnd=t22+n22,e3.providerIndexes=t22})(n2,e22.data.length,r2.length);for(let c2=0;c2<r2.length;c2++){const u2=r2[c2];u2.providersResolver&&u2.providersResolver(u2)}let s2=!1,a2=!1,l2=Ms(e22,t2,r2.length,null);for(let c2=0;c2<r2.length;c2++){const u2=r2[c2];n2.mergedAttrs=ts(n2.mergedAttrs,u2.hostAttrs),ZN(e22,n2,t2,l2,u2),qN(l2,u2,o2),u2.contentQueries!==null&&(n2.flags|=4),(u2.hostBindings!==null||u2.hostAttrs!==null||u2.hostVars!==0)&&(n2.flags|=64);const d2=u2.type.prototype;!s2&&(d2.ngOnChanges||d2.ngOnInit||d2.ngDoCheck)&&((e22.preOrderHooks??(e22.preOrderHooks=[])).push(n2.index),s2=!0),!a2&&(d2.ngOnChanges||d2.ngDoCheck)&&((e22.preOrderCheckHooks??(e22.preOrderCheckHooks=[])).push(n2.index),a2=!0),l2++}(function(e3,t22,n22){const o22=t22.directiveEnd,i22=e3.data,s22=t22.attrs,a22=[];let l22=null,c2=null;for(let u2=t22.directiveStart;u2<o22;u2++){const d2=i22[u2],h2=n22?n22.get(d2):null,p2=h2?h2.outputs:null;l22=R_(0,d2.inputs,u2,l22,h2?h2.inputs:null),c2=R_(1,d2.outputs,u2,c2,p2);const g2=l22===null||s22===null||gd(t22)?null:XN(l22,u2,s22);a22.push(g2)}l22!==null&&(l22.hasOwnProperty("class")&&(t22.flags|=8),l22.hasOwnProperty("style")&&(t22.flags|=16)),t22.initialInputs=a22,t22.inputs=l22,t22.outputs=c2})(e22,n2,i2)}function x_(e22,t2,n2){const r2=n2.directiveStart,o2=n2.directiveEnd,i2=n2.index,s2=function(){return U.lFrame.currentDirectiveIndex}();try{Kr(i2);for(let a2=r2;a2<o2;a2++){const l2=e22.data[a2],c2=t2[a2];Fd(a2),(l2.hostBindings!==null||l2.hostVars!==0||l2.hostAttrs!==null)&&zN(l2,c2)}}finally{Kr(-1),Fd(s2)}}function zN(e22,t2){e22.hostBindings!==null&&e22.hostBindings(1,t2)}function jf(e22,t2,n2){t2.componentOffset=n2,(e22.components??(e22.components=[])).push(t2.index)}function qN(e22,t2,n2){if(n2){if(t2.exportAs)for(let r2=0;r2<t2.exportAs.length;r2++)n2[t2.exportAs[r2]]=e22;_n(t2)&&(n2[""]=e22)}}function ZN(e22,t2,n2,r2,o2){e22.data[r2]=o2;const i2=o2.factory||(o2.factory=$r(o2.type)),s2=new fs(i2,_n(o2),L2);e22.blueprint[r2]=s2,n2[r2]=s2,function(e3,t22,n22,r22,o22){const i22=o22.hostBindings;if(i22){let s22=e3.hostBindingOpCodes;s22===null&&(s22=e3.hostBindingOpCodes=[]);const a2=~t22.index;(function(e4){let t3=e4.length;for(;t3>0;){const n3=e4[--t3];if(typeof n3=="number"&&n3<0)return n3}return 0})(s22)!=a2&&s22.push(a2),s22.push(n22,r22,i22)}}(e22,t2,r2,Ms(e22,n2,o2.hostVars,q),o2)}function Hn(e22,t2,n2,r2,o2,i2){const s2=Ct(e22,t2);(function(e3,t22,n22,r22,o22,i22,s22){if(i22==null)e3.removeAttribute(t22,o22,n22);else{const a2=s22==null?W(i22):s22(i22,r22||"",o22);e3.setAttribute(t22,o22,a2,n22)}})(t2[H2],s2,i2,e22.value,n2,r2,o2)}function QN(e22,t2,n2,r2,o2,i2){const s2=i2[t2];if(s2!==null)for(let a2=0;a2<s2.length;)M_(r2,n2,s2[a2++],s2[a2++],s2[a2++],s2[a2++])}function XN(e22,t2,n2){let r2=null,o2=0;for(;o2<n2.length;){const i2=n2[o2];if(i2!==0)if(i2!==5){if(typeof i2=="number")break;if(e22.hasOwnProperty(i2)){r2===null&&(r2=[]);const s2=e22[i2];for(let a2=0;a2<s2.length;a2+=3)if(s2[a2]===t2){r2.push(i2,s2[a2+1],s2[a2+2],n2[o2+1]);break}}o2+=2}else o2+=2;else o2+=4}return r2}function F_(e22,t2,n2,r2){return[e22,!0,0,t2,null,r2,null,n2,null,null]}function L_(e22,t2){const n2=e22.contentQueries;if(n2!==null){const r2=N2(null);try{for(let o2=0;o2<n2.length;o2+=2){const s2=n2[o2+1];if(s2!==-1){const a2=e22.data[s2];ml(n2[o2]),a2.contentQueries(2,t2[s2],s2)}}}finally{N2(r2)}}}function Yl(e22,t2){return e22[os2]?e22[dy][vn]=t2:e22[os2]=t2,e22[dy]=t2,t2}function Uf(e22,t2,n2){ml(0);const r2=N2(null);try{t2(e22,n2)}finally{N2(r2)}}function V_(e22){return e22[$o]??(e22[$o]=[])}function B_(e22){return e22.cleanup??(e22.cleanup=[])}function Zl(e22,t2){const n2=e22[Ge],r2=n2?n2.get(ln,null):null;r2&&r2.handleError(t2)}function $f(e22,t2,n2,r2,o2){for(let i2=0;i2<n2.length;){const s2=n2[i2++],a2=n2[i2++],l2=n2[i2++];M_(e22.data[s2],t2[s2],r2,a2,l2,o2)}}function JN(e22,t2){const n2=zt(t2,e22),r2=n2[w2];(function(e3,t22){for(let n22=t22.length;n22<e3.blueprint.length;n22++)t22.push(e3.blueprint[n22])})(r2,n2);const o2=n2[Oe];o2!==null&&n2[Dt]===null&&(n2[Dt]=df(o2,n2[Ge])),zf(r2,n2,n2[De])}function zf(e22,t2,n2){var _a3;Bd(t2);try{const r2=e22.viewQuery;r2!==null&&Uf(1,r2,n2);const o2=e22.template;o2!==null&&A_(e22,t2,o2,1,n2),e22.firstCreatePass&&(e22.firstCreatePass=!1),(_a3=t2[tr])==null||_a3.finishViewCreation(e22),e22.staticContentQueries&&L_(e22,t2),e22.staticViewQueries&&Uf(2,e22.viewQuery,n2);const i2=e22.components;i2!==null&&function(e3,t22){for(let n22=0;n22<t22.length;n22++)JN(e3,t22[n22])}(t2,i2)}catch(r2){throw e22.firstCreatePass&&(e22.incompleteFirstPass=!0,e22.firstCreatePass=!1),r2}finally{t2[R2]&=-5,jd()}}function li(e22,t2,n2,r2){const o2=N2(null);try{const i2=t2.tView,l2=ql(e22,i2,n2,4096&e22[R2]?4096:16,null,t2,null,null,(r2==null?void 0:r2.injector)??null,(r2==null?void 0:r2.embeddedViewInjector)??null,(r2==null?void 0:r2.dehydratedView)??null);l2[Wr]=e22[t2.index];const u2=e22[tr];return u2!==null&&(l2[tr]=u2.createEmbeddedView(i2)),zf(i2,l2,n2),l2}finally{N2(o2)}}function no(e22,t2){return!t2||t2.firstChild===null||Il(e22)}function ci(e22,t2,n2,r2=!0){const o2=t2[w2];if(function(e3,t22,n22,r22){const o22=Le+r22,i22=n22.length;r22>0&&(n22[o22-1][vn]=t22),r22<i22-Le?(t22[vn]=n22[o22],Wm(n22,Le+r22,t22)):(n22.push(t22),t22[vn]=null),t22[ze]=n22;const s2=t22[Wr];s2!==null&&n22!==s2&&p_(s2,t22);const a2=t22[tr];a2!==null&&a2.insertView(e3),Nd(t22),t22[R2]|=128}(o2,t2,e22,n2),r2){const s2=Rf(n2,e22),a2=t2[H2],l2=zl(a2,e22[Ln]);l2!==null&&function(e3,t22,n22,r22,o22,i22){r22[Oe]=o22,r22[ht]=t22,Wl(e3,r22,n22,1,o22,i22)}(o2,e22[ht],a2,t2,l2,s2)}const i2=t2[Dt];i2!==null&&i2.firstChild!==null&&(i2.firstChild=null)}function As(e22,t2,n2,r2,o2=!1){for(;n2!==null;){if(n2.type===128){n2=o2?n2.projectionNext:n2.next;continue}const i2=t2[n2.index];i2!==null&&r2.push(ae(i2)),vt(i2)&&U_(i2,r2);const s2=n2.type;if(8&s2)As(e22,t2,n2.child,r2);else if(32&s2){const a2=Sf(n2,t2);let l2;for(;l2=a2();)r2.push(l2)}else if(16&s2){const a2=w_(t2,n2);if(Array.isArray(a2))r2.push(...a2);else{const l2=nr(t2[Ne]);As(l2[w2],l2,a2,r2,!0)}}n2=o2?n2.projectionNext:n2.next}return r2}function U_(e22,t2){for(let n2=Le;n2<e22.length;n2++){const r2=e22[n2],o2=r2[w2].firstChild;o2!==null&&As(r2[w2],r2,o2,t2)}e22[Ln]!==e22[Oe]&&t2.push(e22[Ln])}let $_=[];const iR={...tn,consumerIsAlwaysLive:!0,consumerMarkedDirty:e22=>{hl(e22.lView)},consumerOnSignalRead(){this.lView[rn]=this}},aR={...tn,consumerIsAlwaysLive:!0,consumerMarkedDirty:e22=>{let t2=nr(e22.lView);for(;t2&&!z_(t2[w2]);)t2=nr(t2);t2&&Cy(t2)},consumerOnSignalRead(){this.lView[rn]=this}};function z_(e22){return e22.type!==2}const lR=100;function Kl(e22,t2=!0,n2=0){var _a3,_b2,_c2;const r2=e22[Fn],o2=r2.rendererFactory;(_a3=o2.begin)==null||_a3.call(o2);try{(function(e3,t22){const n22=Ny();try{Ry(!0),Wf(e3,t22);let r22=0;for(;cs(e3);){if(r22===lR)throw new b2(103,!1);r22++,Wf(e3,1)}}finally{Ry(n22)}})(e22,n2)}catch(s2){throw t2&&Zl(e22,s2),s2}finally{(_b2=o2.end)==null||_b2.call(o2),(_c2=r2.inlineEffectRunner)==null||_c2.flush()}}function uR(e22,t2,n2,r2){var _a3;const o2=t2[R2];if(!(256&~o2))return;(_a3=t2[Fn].inlineEffectRunner)==null||_a3.flush(),Bd(t2);let a2=!0,l2=null,c2=null;z_(e22)?(c2=function(e3){return e3[rn]??function(e4){const t22=$_.pop()??Object.create(iR);return t22.lView=e4,t22}(e3)}(t2),l2=Nu(c2)):function(){return F}()===null?(a2=!1,c2=function(e3){const t22=e3[rn]??Object.create(aR);return t22.lView=e3,t22}(t2),l2=Nu(c2)):t2[rn]&&(Pu(t2[rn]),t2[rn]=null);try{Dy(t2),function(e3){return U.lFrame.bindingIndex=e3}(e22.bindingStartIndex),n2!==null&&A_(e22,t2,n2,2,r2);const u2=!(3&~o2);if(u2){const f2=e22.preOrderCheckHooks;f2!==null&&vl(t2,f2,null)}else{const f2=e22.preOrderHooks;f2!==null&&_l(t2,f2,0,null),Hd(t2,0)}if(function(e3){for(let t22=bv(e3);t22!==null;t22=Ev(t22)){if(!(t22[R2]&dl.HasTransplantedViews))continue;const n22=t22[qo];for(let r22=0;r22<n22.length;r22++)Cy(n22[r22])}}(t2),W_(t2,0),e22.contentQueries!==null&&L_(e22,t2),u2){const f2=e22.contentCheckHooks;f2!==null&&vl(t2,f2)}else{const f2=e22.contentHooks;f2!==null&&_l(t2,f2,1),Hd(t2,1)}(function(e3,t22){const n22=e3.hostBindingOpCodes;if(n22!==null)try{for(let r22=0;r22<n22.length;r22++){const o22=n22[r22];if(o22<0)Kr(~o22);else{const i2=o22,s2=n22[++r22],a22=n22[++r22];gA(s2,i2),a22(2,t22[i2])}}}finally{Kr(-1)}})(e22,t2);const d2=e22.components;d2!==null&&Y_(t2,d2,0);const h2=e22.viewQuery;if(h2!==null&&Uf(2,h2,r2),u2){const f2=e22.viewCheckHooks;f2!==null&&vl(t2,f2)}else{const f2=e22.viewHooks;f2!==null&&_l(t2,f2,2),Hd(t2,2)}if(e22.firstUpdatePass===!0&&(e22.firstUpdatePass=!1),t2[cl]){for(const f2 of t2[cl])f2();t2[cl]=null}t2[R2]&=-73}catch(u2){throw hl(t2),u2}finally{c2!==null&&(function(e3,t22){if(N2(t22),e3&&e3.producerNode!==void 0&&e3.producerIndexOfThis!==void 0&&e3.producerLastReadVersion!==void 0){if(Yi(e3))for(let n22=e3.nextProducerIndex;n22<e3.producerNode.length;n22++)Fa(e3.producerNode[n22],e3.producerIndexOfThis[n22]);for(;e3.producerNode.length>e3.nextProducerIndex;)e3.producerNode.pop(),e3.producerLastReadVersion.pop(),e3.producerIndexOfThis.pop()}}(c2,l2),a2&&function(e3){e3.lView[rn]!==e3&&(e3.lView=null,$_.push(e3))}(c2)),jd()}}function W_(e22,t2){for(let n2=bv(e22);n2!==null;n2=Ev(n2))for(let r2=Le;r2<n2.length;r2++)q_(n2[r2],t2)}function fR(e22,t2,n2){q_(zt(t2,e22),n2)}function q_(e22,t2){Od(e22)&&Wf(e22,t2)}function Wf(e22,t2){const r2=e22[w2],o2=e22[R2],i2=e22[rn];let s2=!!(t2===0&&16&o2);if(s2||(s2=!!(64&o2&&t2===0)),s2||(s2=!!(1024&o2)),s2||(s2=!(!(i2!=null&&i2.dirty)||!Ru(i2))),s2||(s2=!1),i2&&(i2.dirty=!1),e22[R2]&=-9217,s2)uR(r2,e22,r2.template,e22[De]);else if(8192&o2){W_(e22,1);const a2=r2.components;a2!==null&&Y_(e22,a2,1)}}function Y_(e22,t2,n2){for(let r2=0;r2<t2.length;r2++)fR(e22,t2[r2],n2)}function Os(e22,t2){var _a3;const n2=Ny()?64:1088;for((_a3=e22[Fn].changeDetectionScheduler)==null?void 0:_a3.notify(t2);e22;){e22[R2]|=n2;const r2=nr(e22);if(ss(e22)&&!r2)return e22;e22=r2}return null}class Ns{get rootNodes(){const t2=this._lView,n2=t2[w2];return As(n2,t2,n2.firstChild,[])}constructor(t2,n2,r2=!0){this._lView=t2,this._cdRefInjectingView=n2,this.notifyErrorHandler=r2,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[De]}set context(t2){this._lView[De]=t2}get destroyed(){return!(256&~this._lView[R2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t2=this._lView[ze];if(vt(t2)){const n2=t2[8],r2=n2?n2.indexOf(this):-1;r2>-1&&(Is(t2,r2),Ja(n2,r2))}this._attachedToViewContainer=!1}$l(this._lView[w2],this._lView)}onDestroy(t2){pl(this._lView,t2)}markForCheck(){Os(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R2]&=-129}reattach(){Nd(this._lView),this._lView[R2]|=128}detectChanges(){this._lView[R2]|=1024,Kl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b2(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t2=ss(this._lView),n2=this._lView[Wr];n2!==null&&!t2&&Mf(n2,this._lView),h_(this._lView[w2],this._lView)}attachToAppRef(t2){if(this._attachedToViewContainer)throw new b2(902,!1);this._appRef=t2;const n2=ss(this._lView),r2=this._lView[Wr];r2!==null&&!n2&&p_(r2,this._lView),Nd(this._lView)}}let Un=(()=>{var _e7;const _e22=class _e22{};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=gR);let e22=_e22;return e22})();const hR=Un,pR=class extends hR{constructor(t2,n2,r2){super(),this._declarationLView=t2,this._declarationTContainer=n2,this.elementRef=r2}get ssrId(){var _a3;return((_a3=this._declarationTContainer.tView)==null?void 0:_a3.ssrId)||null}createEmbeddedView(t2,n2){return this.createEmbeddedViewImpl(t2,n2)}createEmbeddedViewImpl(t2,n2,r2){const o2=li(this._declarationLView,this._declarationTContainer,t2,{embeddedViewInjector:n2,dehydratedView:r2});return new Ns(o2)}};function gR(){return Ql(ye(),_2())}function Ql(e22,t2){return 4&e22.type?new pR(t2,e22,Xo(e22,t2)):null}let gb=()=>null;function oo(e22,t2){return gb()}class di{}const Bs=new S2("",{providedIn:"root",factory:()=>!1}),mb=new S2("");class yb{}class vb{}class lP{resolveComponentFactory(t2){throw function(e22){const t22=Error(`No component factory found for ${Xe(e22)}.`);return t22.ngComponent=e22,t22}(t2)}}const _Cr=class _Cr{};_e4=new WeakMap,__privateAdd(_Cr,_e4,_Cr.NULL=new lP);let Cr=_Cr;class rc{}let bb=(()=>{var _e7;const _e22=class _e22{constructor(){this.destroyNode=null}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=()=>function(){const e3=_2(),n2=zt(ye().index,e3);return(at(n2)?n2:e3)[H2]}());let e22=_e22;return e22})(),uP=(()=>{var _e7;const _e22=class _e22{};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.prov=O({token:_e22,providedIn:"root",factory:()=>null}));let e22=_e22;return e22})();const Eb=new Set;function bt(e22){var _a3;Eb.has(e22)||(Eb.add(e22),(_a3=performance==null?void 0:performance.mark)==null||_a3.call(performance,"mark_feature_usage",{detail:{feature:e22}}))}function wb(e22){let t2=!0;return setTimeout(()=>{t2&&(t2=!1,e22())}),typeof be.requestAnimationFrame=="function"&&be.requestAnimationFrame(()=>{t2&&(t2=!1,e22())}),()=>{t2=!1}}function Db(e22){let t2=!0;return queueMicrotask(()=>{t2&&e22()}),()=>{t2=!1}}function Cb(...e22){}class K{constructor({enableLongStackTrace:t2=!1,shouldCoalesceEventChangeDetection:n2=!1,shouldCoalesceRunChangeDetection:r2=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new b2(908,!1);Zone.assertZonePatched();const o2=this;o2._nesting=0,o2._outer=o2._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o2._inner=o2._inner.fork(new Zone.TaskTrackingZoneSpec)),t2&&Zone.longStackTraceZoneSpec&&(o2._inner=o2._inner.fork(Zone.longStackTraceZoneSpec)),o2.shouldCoalesceEventChangeDetection=!r2&&n2,o2.shouldCoalesceRunChangeDetection=r2,o2.callbackScheduled=!1,function(e22){const t22=()=>{(function(e3){e3.isCheckStableRunning||e3.callbackScheduled||(e3.callbackScheduled=!0,Zone.root.run(()=>{wb(()=>{e3.callbackScheduled=!1,oh(e3),e3.isCheckStableRunning=!0,rh(e3),e3.isCheckStableRunning=!1})}),oh(e3))})(e22)};e22._inner=e22._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n22,r22,o22,i2,s2,a2)=>{if(function(e3){return Tb(e3,"__ignore_ng_zone__")}(a2))return n22.invokeTask(o22,i2,s2,a2);try{return Sb(e22),n22.invokeTask(o22,i2,s2,a2)}finally{(e22.shouldCoalesceEventChangeDetection&&i2.type==="eventTask"||e22.shouldCoalesceRunChangeDetection)&&t22(),Ib(e22)}},onInvoke:(n22,r22,o22,i2,s2,a2,l2)=>{try{return Sb(e22),n22.invoke(o22,i2,s2,a2,l2)}finally{e22.shouldCoalesceRunChangeDetection&&!e22.callbackScheduled&&!function(e3){return Tb(e3,"__scheduler_tick__")}(a2)&&t22(),Ib(e22)}},onHasTask:(n22,r22,o22,i2)=>{n22.hasTask(o22,i2),r22===o22&&(i2.change=="microTask"?(e22._hasPendingMicrotasks=i2.microTask,oh(e22),rh(e22)):i2.change=="macroTask"&&(e22.hasPendingMacrotasks=i2.macroTask))},onHandleError:(n22,r22,o22,i2)=>(n22.handleError(o22,i2),e22.runOutsideAngular(()=>e22.onError.emit(i2)),!1)})}(o2)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!K.isInAngularZone())throw new b2(909,!1)}static assertNotInAngularZone(){if(K.isInAngularZone())throw new b2(909,!1)}run(t2,n2,r2){return this._inner.run(t2,n2,r2)}runTask(t2,n2,r2,o2){const i2=this._inner,s2=i2.scheduleEventTask("NgZoneEvent: "+o2,t2,dP,Cb,Cb);try{return i2.runTask(s2,n2,r2)}finally{i2.cancelTask(s2)}}runGuarded(t2,n2,r2){return this._inner.runGuarded(t2,n2,r2)}runOutsideAngular(t2){return this._outer.run(t2)}}const dP={};function rh(e22){if(e22._nesting==0&&!e22.hasPendingMicrotasks&&!e22.isStable)try{e22._nesting++,e22.onMicrotaskEmpty.emit(null)}finally{if(e22._nesting--,!e22.hasPendingMicrotasks)try{e22.runOutsideAngular(()=>e22.onStable.emit(null))}finally{e22.isStable=!0}}}function oh(e22){e22.hasPendingMicrotasks=!!(e22._hasPendingMicrotasks||(e22.shouldCoalesceEventChangeDetection||e22.shouldCoalesceRunChangeDetection)&&e22.callbackScheduled===!0)}function Sb(e22){e22._nesting++,e22.isStable&&(e22.isStable=!1,e22.onUnstable.emit(null))}function Ib(e22){e22._nesting--,rh(e22)}class ih{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(t2,n2,r2){return t2.apply(n2,r2)}runGuarded(t2,n2,r2){return t2.apply(n2,r2)}runOutsideAngular(t2){return t2()}runTask(t2,n2,r2,o2){return t2.apply(n2,r2)}}function Tb(e22,t2){var _a3,_b2;return!(!Array.isArray(e22)||e22.length!==1)&&((_b2=(_a3=e22[0])==null?void 0:_a3.data)==null?void 0:_b2[t2])===!0}var It=function(e22){return e22[e22.EarlyRead=0]="EarlyRead",e22[e22.Write=1]="Write",e22[e22.MixedReadWrite=2]="MixedReadWrite",e22[e22.Read=3]="Read",e22}(It||{});const Mb={destroy(){}};function Nb(e22,t2,n2,r2){const o2=function(e3,t22){if(e3 instanceof Function)switch(t22){case It.EarlyRead:return{earlyRead:e3};case It.Write:return{write:e3};case It.MixedReadWrite:return{mixedReadWrite:e3};case It.Read:return{read:e3}}return e3}(e22,r2),i2=t2.get(oc),s2=i2.handler??(i2.handler=new _P),a2=[],l2=[],c2=()=>{for(const f2 of l2)s2.unregister(f2);u2()},u2=t2.get(Gt).onDestroy(c2);let d2=0;const h2=(f2,p2)=>{if(!p2)return;const g2=n2?(...v2)=>(d2--,d2<1&&c2(),p2(...v2)):p2,m2=function(e3,t22){e3 instanceof jo&&e3.assertNotDestroyed();const r22=vr(e3),o22=Ot(void 0);try{return t22()}finally{vr(r22),Ot(o22)}}(t2,()=>new vP(f2,a2,g2));s2.register(m2),l2.push(m2),d2++};return h2(It.EarlyRead,o2.earlyRead),h2(It.Write,o2.write),h2(It.MixedReadWrite,o2.mixedReadWrite),h2(It.Read,o2.read),{destroy:c2}}class vP{constructor(t2,n2,r2){var _a3;this.phase=t2,this.pipelinedArgs=n2,this.callbackFn=r2,this.zone=E2(K),this.errorHandler=E2(ln,{optional:!0}),(_a3=E2(di,{optional:!0}))==null||_a3.notify(6)}invoke(){var _a3;try{const t2=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t2)}catch(t2){(_a3=this.errorHandler)==null||_a3.handleError(t2)}}}class _P{constructor(){this.executingCallbacks=!1,this.buckets={[It.EarlyRead]:new Set,[It.Write]:new Set,[It.MixedReadWrite]:new Set,[It.Read]:new Set},this.deferredCallbacks=new Set}register(t2){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t2.phase]).add(t2)}unregister(t2){this.buckets[t2.phase].delete(t2),this.deferredCallbacks.delete(t2)}execute(){this.executingCallbacks=!0;for(const t2 of Object.values(this.buckets))for(const n2 of t2)n2.invoke();this.executingCallbacks=!1;for(const t2 of this.deferredCallbacks)this.buckets[t2.phase].add(t2);this.deferredCallbacks.clear()}destroy(){for(const t2 of Object.values(this.buckets))t2.clear();this.deferredCallbacks.clear()}}let oc=(()=>{var _e7;const _e22=class _e22{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var _a3;this.executeInternalCallbacks(),(_a3=this.handler)==null||_a3.execute()}executeInternalCallbacks(){const n2=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r2 of n2)r2()}ngOnDestroy(){var _a3;(_a3=this.handler)==null||_a3.destroy(),this.handler=null,this.internalCallbacks.length=0}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.prov=O({token:_e22,providedIn:"root",factory:()=>new _e22}));let e22=_e22;return e22})();function sc(e22,t2,n2){let r2=n2?e22.styles:null,o2=n2?e22.classes:null,i2=0;if(t2!==null)for(let s2=0;s2<t2.length;s2++){const a2=t2[s2];typeof a2=="number"?i2=a2:i2==1?o2=Zu(o2,a2):i2==2&&(r2=Zu(r2,a2+": "+t2[++s2]+";"))}n2?e22.styles=r2:e22.stylesWithoutHost=r2,n2?e22.classes=o2:e22.classesWithoutHost=o2}class kb extends Cr{constructor(t2){super(),this.ngModule=t2}resolveComponentFactory(t2){const n2=X(t2);return new Us(n2,this.ngModule)}}function xb(e22,t2){const n2=[];for(const r2 in e22){if(!e22.hasOwnProperty(r2))continue;const o2=e22[r2];if(o2===void 0)continue;const i2=Array.isArray(o2),s2=i2?o2[0]:o2;n2.push(t2?{propName:s2,templateName:r2,isSignal:!!((i2?o2[1]:_r.None)&_r.SignalBased)}:{propName:s2,templateName:r2})}return n2}class Us extends vb{get inputs(){const t2=this.componentDef,n2=t2.inputTransforms,r2=xb(t2.inputs,!0);if(n2!==null)for(const o2 of r2)n2.hasOwnProperty(o2.propName)&&(o2.transform=n2[o2.propName]);return r2}get outputs(){return xb(this.componentDef.outputs,!1)}constructor(t2,n2){super(),this.componentDef=t2,this.ngModule=n2,this.componentType=t2.type,this.selector=function(e22){return e22.map(C0).join(",")}(t2.selectors),this.ngContentSelectors=t2.ngContentSelectors?t2.ngContentSelectors:[],this.isBoundToModule=!!n2}create(t2,n2,r2,o2){const i2=N2(null);try{let s2=(o2=o2||this.ngModule)instanceof nn?o2:o2==null?void 0:o2.injector;s2&&this.componentDef.getStandaloneInjector!==null&&(s2=this.componentDef.getStandaloneInjector(s2)||s2);const a2=s2?new Qr(t2,s2):t2,l2=a2.get(rc,null);if(l2===null)throw new b2(407,!1);const c2=a2.get(uP,null),h2={rendererFactory:l2,sanitizer:c2,inlineEffectRunner:null,afterRenderEventManager:a2.get(oc,null),changeDetectionScheduler:a2.get(di,null)},f2=l2.createRenderer(null,this.componentDef),p2=this.componentDef.selectors[0][0]||"div",g2=r2?function(e22,t22,n22,r22){const i22=r22.get(jv,!1)||n22===mn.ShadowDom,s22=e22.selectRootElement(t22,i22);return function(e3){N_(e3)}(s22),s22}(f2,r2,this.componentDef.encapsulation,a2):Ul(f2,p2,function(e22){const t22=e22.toLowerCase();return t22==="svg"?"svg":t22==="math"?"math":null}(p2));let m2=512;this.componentDef.signals?m2|=4096:this.componentDef.onPush||(m2|=16);let v2=null;g2!==null&&(v2=df(g2,a2,!0));const y2=Vf(0,null,null,1,0,null,null,null,null,null,null),C2=ql(null,y2,null,m2,null,null,h2,f2,a2,null,v2);let T3,Z3;Bd(C2);try{const ie=this.componentDef;let pe,Ue=null;ie.findHostDirectiveDefs?(pe=[],Ue=new Map,ie.findHostDirectiveDefs(ie,pe,Ue),pe.push(ie)):pe=[ie];const Kn=function(e22,t22){const n22=e22[w2],r22=M2;return e22[r22]=t22,to(n22,r22,2,"#host",null)}(C2,g2),Vr=function(e22,t22,n22,r22,o22,i22,s22){const a22=o22[w2];(function(e3,t3,n3,r3){for(const o4 of e3)t3.mergedAttrs=ts(t3.mergedAttrs,o4.hostAttrs);t3.mergedAttrs!==null&&(sc(t3,t3.mergedAttrs,!0),n3!==null&&I_(r3,n3,t3))})(r22,e22,t22,s22);let l22=null;t22!==null&&(l22=df(t22,o22[Ge]));const c22=i22.rendererFactory.createRenderer(t22,n22);let u2=16;n22.signals?u2=4096:n22.onPush&&(u2=64);const d2=ql(o22,O_(n22),null,u2,o22[e22.index],e22,i22,c22,null,null,l22);return a22.firstCreatePass&&jf(a22,e22,r22.length-1),Yl(o22,d2),o22[e22.index]=d2}(Kn,g2,ie,pe,C2,h2,f2);Z3=ls(y2,M2),g2&&function(e22,t22,n22,r22){if(r22)pd(e22,n22,["ng-version","18.1.2"]);else{const{attrs:o22,classes:i22}=function(e3){const t3=[],n3=[];let r3=1,o4=2;for(;r3<e3.length;){let i3=e3[r3];if(typeof i3=="string")o4===2?i3!==""&&t3.push(i3,e3[++r3]):o4===8&&n3.push(i3);else{if(!yn(o4))break;o4=i3}r3++}return{attrs:t3,classes:n3}}(t22.selectors[0]);o22&&pd(e22,n22,o22),i22&&i22.length>0&&S_(e22,n22,i22.join(" "))}}(f2,ie,g2,r2),n2!==void 0&&function(e22,t22,n22){const r22=e22.projection=[];for(let o22=0;o22<t22.length;o22++){const i22=n22[o22];r22.push(i22!=null?Array.from(i22):null)}}(Z3,this.ngContentSelectors,n2),T3=function(e22,t22,n22,r22,o22,i22){const s22=ye(),a22=o22[w2],l22=Ct(s22,o22);k_(a22,o22,s22,n22,null,r22);for(let u2=0;u2<n22.length;u2++)_t(Xr(o22,a22,s22.directiveStart+u2,s22),o22);x_(a22,o22,s22),l22&&_t(l22,o22);const c22=Xr(o22,a22,s22.directiveStart+s22.componentOffset,s22);if(e22[De]=o22[De]=c22,i22!==null)for(const u2 of i22)u2(c22,t22);return xf(a22,s22,o22),c22}(Vr,ie,pe,Ue,C2,[OP]),zf(y2,C2,null)}finally{jd()}return new DP(this.componentType,T3,Xo(Z3,C2),C2,Z3)}finally{N2(i2)}}}class DP extends yb{constructor(t2,n2,r2,o2,i2){super(),this.location=r2,this._rootLView=o2,this._tNode=i2,this.previousInputValues=null,this.instance=n2,this.hostView=this.changeDetectorRef=new Ns(o2,void 0,!1),this.componentType=t2}setInput(t2,n2){const r2=this._tNode.inputs;let o2;if(r2!==null&&(o2=r2[t2])){if(this.previousInputValues??(this.previousInputValues=new Map),this.previousInputValues.has(t2)&&Object.is(this.previousInputValues.get(t2),n2))return;const i2=this._rootLView;$f(i2[w2],i2,o2,t2,n2),this.previousInputValues.set(t2,n2),Os(zt(this._tNode.index,i2),1)}}get injector(){return new tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t2){this.hostView.onDestroy(t2)}}function OP(){const e22=ye();yl(_2()[w2],e22)}let Ft=(()=>{var _e7;const _e22=class _e22{};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=NP);let e22=_e22;return e22})();function NP(){return Vb(ye(),_2())}const RP=Ft,Fb=class extends RP{constructor(t2,n2,r2){super(),this._lContainer=t2,this._hostTNode=n2,this._hostLView=r2}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new tt(this._hostTNode,this._hostLView)}get parentInjector(){const t2=wl(this._hostTNode,this._hostLView);if(zd(t2)){const n2=ps(t2,this._hostLView),r2=hs(t2);return new tt(n2[w2].data[r2+8],n2)}return new tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t2){const n2=Lb(this._lContainer);return n2!==null&&n2[t2]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(t2,n2,r2){let o2,i2;typeof r2=="number"?o2=r2:r2!=null&&(o2=r2.index,i2=r2.injector);const s2=oo(this._lContainer,t2.ssrId),a2=t2.createEmbeddedViewImpl(n2||{},i2,s2);return this.insertImpl(a2,o2,no(this._hostTNode,s2)),a2}createComponent(t2,n2,r2,o2,i2){const s2=t2&&!function(e22){return typeof e22=="function"}(t2);let a2;if(s2)a2=n2;else{const p2=n2||{};a2=p2.index,r2=p2.injector,o2=p2.projectableNodes,i2=p2.environmentInjector||p2.ngModuleRef}const l2=s2?t2:new Us(X(t2)),c2=r2||this.parentInjector;if(!i2&&l2.ngModule==null){const g2=(s2?c2:this.parentInjector).get(nn,null);g2&&(i2=g2)}const u2=X(l2.componentType??{}),d2=oo(this._lContainer,(u2==null?void 0:u2.id)??null),f2=l2.create(c2,o2,null,i2);return this.insertImpl(f2.hostView,a2,no(this._hostTNode,d2)),f2}insert(t2,n2){return this.insertImpl(t2,n2,!0)}insertImpl(t2,n2,r2){const o2=t2._lView;if(function(e22){return vt(e22[ze])}(o2)){const a2=this.indexOf(t2);if(a2!==-1)this.detach(a2);else{const l2=o2[ze],c2=new Fb(l2,l2[ht],l2[ze]);c2.detach(c2.indexOf(t2))}}const i2=this._adjustIndex(n2),s2=this._lContainer;return ci(s2,o2,i2,r2),t2.attachToViewContainerRef(),Wm(ch(s2),i2,t2),t2}move(t2,n2){return this.insert(t2,n2)}indexOf(t2){const n2=Lb(this._lContainer);return n2!==null?n2.indexOf(t2):-1}remove(t2){const n2=this._adjustIndex(t2,-1),r2=Is(this._lContainer,n2);r2&&(Ja(ch(this._lContainer),n2),$l(r2[w2],r2))}detach(t2){const n2=this._adjustIndex(t2,-1),r2=Is(this._lContainer,n2);return r2&&Ja(ch(this._lContainer),n2)!=null?new Ns(r2):null}_adjustIndex(t2,n2=0){return t2??this.length+n2}};function Lb(e22){return e22[8]}function ch(e22){return e22[8]||(e22[8]=[])}function Vb(e22,t2){let n2;const r2=t2[e22.index];return vt(r2)?n2=r2:(n2=F_(r2,t2,null,e22),t2[e22.index]=n2,Yl(t2,n2)),Bb(n2,t2,e22,r2),new Fb(n2,e22,t2)}let Bb=function(e22,t2,n2,r2){if(e22[Ln])return;let o2;o2=8&n2.type?ae(r2):function(e3,t22){const n22=e3[H2],r22=n22.createComment(""),o22=Ct(t22,e3);return eo(n22,zl(n22,o22),r22,function(e4,t3){return e4.nextSibling(t3)}(n22,o22),!1),r22}(t2,n2),e22[Ln]=o2};class dh{constructor(t2){this.queryList=t2,this.matches=null}clone(){return new dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class fh{constructor(t2=[]){this.queries=t2}createEmbeddedView(t2){const n2=t2.queries;if(n2!==null){const r2=t2.contentQueries!==null?t2.contentQueries[0]:n2.length,o2=[];for(let i2=0;i2<r2;i2++){const s2=n2.getByIndex(i2);o2.push(this.queries[s2.indexInDeclarationView].clone())}return new fh(o2)}return null}insertView(t2){this.dirtyQueriesWithMatches(t2)}detachView(t2){this.dirtyQueriesWithMatches(t2)}finishViewCreation(t2){this.dirtyQueriesWithMatches(t2)}dirtyQueriesWithMatches(t2){for(let n2=0;n2<this.queries.length;n2++)yh(t2,n2).matches!==null&&this.queries[n2].setDirty()}}class Ub{constructor(t2,n2,r2=null){this.flags=n2,this.read=r2,this.predicate=typeof t2=="string"?function(e22){return e22.split(",").map(t22=>t22.trim())}(t2):t2}}class hh{constructor(t2=[]){this.queries=t2}elementStart(t2,n2){for(let r2=0;r2<this.queries.length;r2++)this.queries[r2].elementStart(t2,n2)}elementEnd(t2){for(let n2=0;n2<this.queries.length;n2++)this.queries[n2].elementEnd(t2)}embeddedTView(t2){let n2=null;for(let r2=0;r2<this.length;r2++){const o2=n2!==null?n2.length:0,i2=this.getByIndex(r2).embeddedTView(t2,o2);i2&&(i2.indexInDeclarationView=r2,n2!==null?n2.push(i2):n2=[i2])}return n2!==null?new hh(n2):null}template(t2,n2){for(let r2=0;r2<this.queries.length;r2++)this.queries[r2].template(t2,n2)}getByIndex(t2){return this.queries[t2]}get length(){return this.queries.length}track(t2){this.queries.push(t2)}}class ph{constructor(t2,n2=-1){this.metadata=t2,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n2}elementStart(t2,n2){this.isApplyingToNode(n2)&&this.matchTNode(t2,n2)}elementEnd(t2){this._declarationNodeIndex===t2.index&&(this._appliesToNextNode=!1)}template(t2,n2){this.elementStart(t2,n2)}embeddedTView(t2,n2){return this.isApplyingToNode(t2)?(this.crossesNgTemplate=!0,this.addMatch(-t2.index,n2),new ph(this.metadata)):null}isApplyingToNode(t2){if(this._appliesToNextNode&&1&~this.metadata.flags){const n2=this._declarationNodeIndex;let r2=t2.parent;for(;r2!==null&&8&r2.type&&r2.index!==n2;)r2=r2.parent;return n2===(r2!==null?r2.index:-1)}return this._appliesToNextNode}matchTNode(t2,n2){const r2=this.metadata.predicate;if(Array.isArray(r2))for(let o2=0;o2<r2.length;o2++){const i2=r2[o2];this.matchTNodeWithReadOption(t2,n2,LP(n2,i2)),this.matchTNodeWithReadOption(t2,n2,Dl(n2,t2,i2,!1,!1))}else r2===Un?4&n2.type&&this.matchTNodeWithReadOption(t2,n2,-1):this.matchTNodeWithReadOption(t2,n2,Dl(n2,t2,r2,!1,!1))}matchTNodeWithReadOption(t2,n2,r2){if(r2!==null){const o2=this.metadata.read;if(o2!==null)if(o2===lt||o2===Ft||o2===Un&&4&n2.type)this.addMatch(n2.index,-2);else{const i2=Dl(n2,t2,o2,!1,!1);i2!==null&&this.addMatch(n2.index,i2)}else this.addMatch(n2.index,r2)}}addMatch(t2,n2){this.matches===null?this.matches=[t2,n2]:this.matches.push(t2,n2)}}function LP(e22,t2){const n2=e22.localNames;if(n2!==null){for(let r2=0;r2<n2.length;r2+=2)if(n2[r2]===t2)return n2[r2+1]}return null}function BP(e22,t2,n2,r2){return n2===-1?function(e3,t22){return 11&e3.type?Xo(e3,t22):4&e3.type?Ql(e3,t22):null}(t2,e22):n2===-2?function(e3,t22,n22){return n22===lt?Xo(t22,e3):n22===Un?Ql(t22,e3):n22===Ft?Vb(t22,e3):void 0}(e22,t2,r2):Xr(e22,e22[w2],n2,t2)}function $b(e22,t2,n2,r2){const o2=t2[tr].queries[r2];if(o2.matches===null){const i2=e22.data,s2=n2.matches,a2=[];for(let l2=0;s2!==null&&l2<s2.length;l2+=2){const c2=s2[l2];a2.push(c2<0?null:BP(t2,i2[c2],s2[l2+1],n2.metadata.read))}o2.matches=a2}return o2.matches}function gh(e22,t2,n2,r2){const o2=e22.queries.getByIndex(n2),i2=o2.matches;if(i2!==null){const s2=$b(e22,t2,o2,n2);for(let a2=0;a2<i2.length;a2+=2){const l2=i2[a2];if(l2>0)r2.push(s2[a2/2]);else{const c2=i2[a2+1],u2=t2[-l2];for(let d2=Le;d2<u2.length;d2++){const h2=u2[d2];h2[Wr]===h2[ze]&&gh(h2[w2],h2,c2,r2)}if(u2[qo]!==null){const d2=u2[qo];for(let h2=0;h2<d2.length;h2++){const f2=d2[h2];gh(f2[w2],f2,c2,r2)}}}}}return r2}function zb(e22,t2,n2){const r2=new Xd(!(4&~n2));return function(e3,t22,n22,r22){const o2=V_(t22);o2.push(n22),e3.firstCreatePass&&B_(e3).push(r22,o2.length-1)}(e22,t2,r2,r2.destroy),(t2[tr]??(t2[tr]=new fh)).queries.push(new dh(r2))-1}function qb(e22,t2,n2){e22.queries===null&&(e22.queries=new hh),e22.queries.track(new ph(t2,n2))}function yh(e22,t2){return e22.queries.getByIndex(t2)}function Yb(e22,t2){const n2=e22[w2],r2=yh(n2,t2);return r2.crossesNgTemplate?gh(n2,e22,t2,[]):$b(n2,e22,r2,t2)}function hi(e22){let t2=function(e3){return Object.getPrototypeOf(e3.prototype).constructor}(e22.type),n2=!0;const r2=[e22];for(;t2;){let o2;if(_n(e22))o2=t2.cmp||t2.dir;else{if(t2.cmp)throw new b2(903,!1);o2=t2.dir}if(o2){if(n2){r2.push(o2);const s2=e22;s2.inputs=lc(e22.inputs),s2.inputTransforms=lc(e22.inputTransforms),s2.declaredInputs=lc(e22.declaredInputs),s2.outputs=lc(e22.outputs);const a2=o2.hostBindings;a2&&rk(e22,a2);const l2=o2.viewQuery,c2=o2.contentQueries;if(l2&&tk(e22,l2),c2&&nk(e22,c2),JP(e22,o2),GM(e22.outputs,o2.outputs),_n(o2)&&o2.data.animation){const u2=e22.data;u2.animation=(u2.animation||[]).concat(o2.data.animation)}}const i2=o2.features;if(i2)for(let s2=0;s2<i2.length;s2++){const a2=i2[s2];a2&&a2.ngInherit&&a2(e22),a2===hi&&(n2=!1)}}t2=Object.getPrototypeOf(t2)}(function(e3){let t22=0,n22=null;for(let r22=e3.length-1;r22>=0;r22--){const o2=e3[r22];o2.hostVars=t22+=o2.hostVars,o2.hostAttrs=ts(o2.hostAttrs,n22=ts(n22,o2.hostAttrs))}})(r2)}function JP(e22,t2){for(const n2 in t2.inputs){if(!t2.inputs.hasOwnProperty(n2)||e22.inputs.hasOwnProperty(n2))continue;const r2=t2.inputs[n2];if(r2!==void 0&&(e22.inputs[n2]=r2,e22.declaredInputs[n2]=t2.declaredInputs[n2],t2.inputTransforms!==null)){const o2=Array.isArray(r2)?r2[0]:r2;if(!t2.inputTransforms.hasOwnProperty(o2))continue;e22.inputTransforms??(e22.inputTransforms={}),e22.inputTransforms[o2]=t2.inputTransforms[o2]}}}function lc(e22){return e22===kn?{}:e22===se?[]:e22}function tk(e22,t2){const n2=e22.viewQuery;e22.viewQuery=n2?(r2,o2)=>{t2(r2,o2),n2(r2,o2)}:t2}function nk(e22,t2){const n2=e22.contentQueries;e22.contentQueries=n2?(r2,o2,i2)=>{t2(r2,o2,i2),n2(r2,o2,i2)}:t2}function rk(e22,t2){const n2=e22.hostBindings;e22.hostBindings=n2?(r2,o2)=>{t2(r2,o2),n2(r2,o2)}:t2}function ar(e22){const t2=e22.inputConfig,n2={};for(const r2 in t2)if(t2.hasOwnProperty(r2)){const o2=t2[r2];Array.isArray(o2)&&o2[3]&&(n2[r2]=o2[3])}e22.inputTransforms=n2}class so{}class fE extends so{constructor(t2){super(),this.componentFactoryResolver=new kb(this),this.instance=null;const n2=new jo([...t2.providers,{provide:so,useValue:this},{provide:Cr,useValue:this.componentFactoryResolver}],t2.parent||al(),t2.debugName,new Set(["environment"]));this.injector=n2,t2.runEnvironmentInitializers&&n2.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t2){this.injector.onDestroy(t2)}}function cc(e22){return!!function(e3){return e3!==null&&(typeof e3=="function"||typeof e3=="object")}(e22)&&(Array.isArray(e22)||!(e22 instanceof Map)&&Symbol.iterator in e22)}function $n(e22,t2,n2){return e22[t2]=n2}function zs(e22,t2){return e22[t2]}function Ve(e22,t2,n2){return!Object.is(e22[t2],n2)&&(e22[t2]=n2,!0)}function ao(e22,t2,n2,r2){const o2=Ve(e22,t2,n2);return Ve(e22,t2+1,r2)||o2}function Gs(e22,t2,n2,r2,o2,i2,s2,a2,l2,c2){const u2=n2+M2,d2=t2.firstCreatePass?function(e3,t22,n22,r22,o22,i22,s22,a22,l22){const c22=t22.consts,u22=to(t22,e3,4,s22||null,a22||null);Bf(t22,n22,u22,on(c22,l22)),yl(t22,u22);const d22=u22.tView=Vf(2,u22,r22,o22,i22,t22.directiveRegistry,t22.pipeRegistry,null,t22.schemas,c22,null);return t22.queries!==null&&(t22.queries.template(t22,u22),d22.queries=t22.queries.embeddedTView(u22)),u22}(u2,t2,e22,r2,o2,i2,s2,a2,l2):t2.data[u2];bn(d2,!1);const h2=pE(t2,e22);ds()&&Gl(t2,e22,h2,d2),_t(h2,e22);const f2=F_(h2,e22,h2,d2);return e22[u2]=f2,Yl(e22,f2),fl(d2)&&Ff(t2,e22,d2),l2!=null&&Lf(e22,d2,c2),d2}function ve(e22,t2,n2,r2,o2,i2,s2,a2){const l2=_2(),c2=Q();return Gs(l2,c2,e22,t2,n2,r2,o2,on(c2.consts,i2),s2,a2),ve}let pE=function(e22,t2,n2,r2){return Bn(!0),t2[H2].createComment("")};function wn(e22,t2,n2,r2){const o2=_2();return Ve(o2,En(),t2)&&(Q(),Hn(Ce(),o2,e22,t2,n2,r2)),wn}function mc(e22,t2){return e22<<17|t2<<2}function Tr(e22){return e22>>17&32767}function Rh(e22){return 2|e22}function co(e22){return(131068&e22)>>2}function Ph(e22,t2){return-131069&e22|t2<<2}function kh(e22){return 1|e22}function WE(e22,t2,n2,r2){const o2=e22[n2+1],i2=t2===null;let s2=r2?Tr(o2):co(o2),a2=!1;for(;s2!==0&&(a2===!1||i2);){const c2=e22[s2+1];tx(e22[s2],t2)&&(a2=!0,e22[s2+1]=r2?kh(c2):Rh(c2)),s2=r2?Tr(c2):co(c2)}a2&&(e22[n2+1]=r2?Rh(o2):kh(o2))}function tx(e22,t2){return e22===null||t2==null||(Array.isArray(e22)?e22[1]:e22)===t2||!(!Array.isArray(e22)||typeof t2!="string")&&Bo(e22,t2)>=0}const nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qE(e22){return e22.substring(nt.key,nt.keyEnd)}function nx(e22){return e22.substring(nt.value,nt.valueEnd)}function YE(e22,t2){const n2=nt.textEnd;return n2===t2?-1:(t2=nt.keyEnd=function(e3,t22,n22){for(;t22<n22&&e3.charCodeAt(t22)>32;)t22++;return t22}(e22,nt.key=t2,n2),Oi(e22,t2,n2))}function ZE(e22,t2){const n2=nt.textEnd;let r2=nt.key=Oi(e22,t2,n2);return n2===r2?-1:(r2=nt.keyEnd=function(e3,t22,n22){let r22;for(;t22<n22&&((r22=e3.charCodeAt(t22))===45||r22===95||(-33&r22)>=65&&(-33&r22)<=90||r22>=48&&r22<=57);)t22++;return t22}(e22,r2,n2),r2=QE(e22,r2,n2),r2=nt.value=Oi(e22,r2,n2),r2=nt.valueEnd=function(e3,t22,n22){let r22=-1,o2=-1,i2=-1,s2=t22,a2=s2;for(;s2<n22;){const l2=e3.charCodeAt(s2++);if(l2===59)return a2;l2===34||l2===39?a2=s2=XE(e3,l2,s2,n22):t22===s2-4&&i2===85&&o2===82&&r22===76&&l2===40?a2=s2=XE(e3,41,s2,n22):l2>32&&(a2=s2),i2=o2,o2=r22,r22=-33&l2}return a2}(e22,r2,n2),QE(e22,r2,n2))}function KE(e22){nt.key=0,nt.keyEnd=0,nt.value=0,nt.valueEnd=0,nt.textEnd=e22.length}function Oi(e22,t2,n2){for(;t2<n2&&e22.charCodeAt(t2)<=32;)t2++;return t2}function QE(e22,t2,n2,r2){return(t2=Oi(e22,t2,n2))<n2&&t2++,t2}function XE(e22,t2,n2,r2){let o2=-1,i2=n2;for(;i2<r2;){const s2=e22.charCodeAt(i2++);if(s2==t2&&o2!==92)return i2;o2=s2==92&&o2===92?0:s2}throw new Error}function z2(e22,t2,n2){const r2=_2();return Ve(r2,En(),t2)&&xt(Q(),Ce(),r2,e22,t2,r2[H2],n2,!1),z2}function xh(e22,t2,n2,r2,o2){const s2=o2?"class":"style";$f(e22,n2,t2.inputs[s2],s2,r2)}function Ni(e22,t2){return function(e3,t22,n2,r2){const o2=_2(),i2=Q(),s2=or(2);i2.firstUpdatePass&&tw(i2,e3,s2,r2),t22!==q&&Ve(o2,s2,t22)&&rw(i2,i2.data[pt()],o2,o2[H2],e3,o2[s2+1]=function(e4,t3){return e4==null||e4===""||typeof e4=="object"&&(e4=Xe(wr(e4))),e4}(t22),r2,s2)}(e22,t2,null,!0),Ni}function Yt(e22){Cn(nw,lx,e22,!1)}function lx(e22,t2){for(let n2=function(e3){return KE(e3),ZE(e3,Oi(e3,0,nt.textEnd))}(t2);n2>=0;n2=ZE(t2,n2))nw(e22,qE(t2),nx(t2))}function un(e22){Cn(px,zn,e22,!0)}function zn(e22,t2){for(let n2=function(e3){return KE(e3),YE(e3,Oi(e3,0,nt.textEnd))}(t2);n2>=0;n2=YE(t2,n2))$t(e22,qE(t2),!0)}function Cn(e22,t2,n2,r2){const o2=Q(),i2=or(2);o2.firstUpdatePass&&tw(o2,null,i2,r2);const s2=_2();if(n2!==q&&Ve(s2,i2,n2)){const a2=o2.data[pt()];if(iw(a2,r2)&&!ew(o2,i2)){let l2=r2?a2.classesWithoutHost:a2.stylesWithoutHost;l2!==null&&(n2=Zu(l2,n2||"")),xh(o2,a2,s2,n2,r2)}else(function(e3,t22,n22,r22,o22,i22,s22,a22){o22===q&&(o22=se);let l2=0,c2=0,u2=0<o22.length?o22[0]:null,d2=0<i22.length?i22[0]:null;for(;u2!==null||d2!==null;){const h2=l2<o22.length?o22[l2+1]:void 0,f2=c2<i22.length?i22[c2+1]:void 0;let g2,p2=null;u2===d2?(l2+=2,c2+=2,h2!==f2&&(p2=d2,g2=f2)):d2===null||u2!==null&&u2<d2?(l2+=2,p2=u2):(c2+=2,p2=d2,g2=f2),p2!==null&&rw(e3,t22,n22,r22,p2,g2,s22,a22),u2=l2<o22.length?o22[l2]:null,d2=c2<i22.length?i22[c2]:null}})(o2,a2,s2,s2[H2],s2[i2+1],s2[i2+1]=function(e3,t22,n22){if(n22==null||n22==="")return se;const r22=[],o22=wr(n22);if(Array.isArray(o22))for(let i22=0;i22<o22.length;i22++)e3(r22,o22[i22],!0);else if(typeof o22=="object")for(const i22 in o22)o22.hasOwnProperty(i22)&&e3(r22,i22,o22[i22]);else typeof o22=="string"&&t22(r22,o22);return r22}(e22,t2,n2),r2,i2)}}function ew(e22,t2){return t2>=e22.expandoStartIndex}function tw(e22,t2,n2,r2){const o2=e22.data;if(o2[n2+1]===null){const i2=o2[pt()],s2=ew(e22,n2);iw(i2,r2)&&t2===null&&!s2&&(t2=!1),t2=function(e3,t22,n22,r22){const o22=function(e4){const t3=U.lFrame.currentDirectiveIndex;return t3===-1?null:e4[t3]}(e3);let i22=r22?t22.residualClasses:t22.residualStyles;if(o22===null)(r22?t22.classBindings:t22.styleBindings)===0&&(n22=Zs(n22=Fh(null,e3,t22,n22,r22),t22.attrs,r22),i22=null);else{const s22=t22.directiveStylingLast;if(s22===-1||e3[s22]!==o22)if(n22=Fh(o22,e3,t22,n22,r22),i22===null){let l2=function(e4,t3,n3){const r3=n3?t3.classBindings:t3.styleBindings;if(co(r3)!==0)return e4[Tr(r3)]}(e3,t22,r22);l2!==void 0&&Array.isArray(l2)&&(l2=Fh(null,e3,t22,l2[1],r22),l2=Zs(l2,t22.attrs,r22),function(e4,t3,n3,r3){e4[Tr(n3?t3.classBindings:t3.styleBindings)]=r3}(e3,t22,r22,l2))}else i22=function(e4,t3,n3){let r3;const o4=t3.directiveEnd;for(let i3=1+t3.directiveStylingLast;i3<o4;i3++)r3=Zs(r3,e4[i3].hostAttrs,n3);return Zs(r3,t3.attrs,n3)}(e3,t22,r22)}return i22!==void 0&&(r22?t22.residualClasses=i22:t22.residualStyles=i22),n22}(o2,i2,t2,r2),function(e3,t22,n22,r22,o22,i22){let s22=i22?t22.classBindings:t22.styleBindings,a2=Tr(s22),l2=co(s22);e3[r22]=n22;let u2,c2=!1;if(Array.isArray(n22)?(u2=n22[1],(u2===null||Bo(n22,u2)>0)&&(c2=!0)):u2=n22,o22)if(l2!==0){const h2=Tr(e3[a2+1]);e3[r22+1]=mc(h2,a2),h2!==0&&(e3[h2+1]=Ph(e3[h2+1],r22)),e3[a2+1]=function(e4,t3){return 131071&e4|t3<<17}(e3[a2+1],r22)}else e3[r22+1]=mc(a2,0),a2!==0&&(e3[a2+1]=Ph(e3[a2+1],r22)),a2=r22;else e3[r22+1]=mc(l2,0),a2===0?a2=r22:e3[l2+1]=Ph(e3[l2+1],r22),l2=r22;c2&&(e3[r22+1]=Rh(e3[r22+1])),WE(e3,u2,r22,!0),WE(e3,u2,r22,!1),function(e4,t3,n3,r3,o4){const i3=o4?e4.residualClasses:e4.residualStyles;i3!=null&&typeof t3=="string"&&Bo(i3,t3)>=0&&(n3[r3+1]=kh(n3[r3+1]))}(t22,u2,e3,r22,i22),s22=mc(a2,l2),i22?t22.classBindings=s22:t22.styleBindings=s22}(o2,i2,t2,n2,s2,r2)}}function Fh(e22,t2,n2,r2,o2){let i2=null;const s2=n2.directiveEnd;let a2=n2.directiveStylingLast;for(a2===-1?a2=n2.directiveStart:a2++;a2<s2&&(i2=t2[a2],r2=Zs(r2,i2.hostAttrs,o2),i2!==e22);)a2++;return e22!==null&&(n2.directiveStylingLast=a2),r2}function Zs(e22,t2,n2){const r2=n2?1:2;let o2=-1;if(t2!==null)for(let i2=0;i2<t2.length;i2++){const s2=t2[i2];typeof s2=="number"?o2=s2:o2===r2&&(Array.isArray(e22)||(e22=e22===void 0?[]:["",e22]),$t(e22,s2,!!n2||t2[++i2]))}return e22===void 0?null:e22}function nw(e22,t2,n2){$t(e22,t2,wr(n2))}function px(e22,t2,n2){const r2=String(t2);r2!==""&&!r2.includes(" ")&&$t(e22,r2,n2)}function rw(e22,t2,n2,r2,o2,i2,s2,a2){if(!(3&t2.type))return;const l2=e22.data,c2=l2[a2+1],u2=function(e3){return!(1&~e3)}(c2)?ow(l2,t2,n2,o2,co(c2),s2):void 0;yc(u2)||(yc(i2)||function(e3){return!(2&~e3)}(c2)&&(i2=ow(l2,null,n2,o2,a2,s2)),function(e3,t22,n22,r22,o22){if(t22)o22?e3.addClass(n22,r22):e3.removeClass(n22,r22);else{let i22=r22.indexOf("-")===-1?void 0:Dr.DashCase;o22==null?e3.removeStyle(n22,r22,i22):(typeof o22=="string"&&o22.endsWith("!important")&&(o22=o22.slice(0,-10),i22|=Dr.Important),e3.setStyle(n22,r22,o22,i22))}}(r2,s2,as(pt(),n2),o2,i2))}function ow(e22,t2,n2,r2,o2,i2){const s2=t2===null;let a2;for(;o2>0;){const l2=e22[o2],c2=Array.isArray(l2),u2=c2?l2[1]:l2,d2=u2===null;let h2=n2[o2+1];h2===q&&(h2=d2?se:void 0);let f2=d2?fd(h2,r2):u2===r2?h2:void 0;if(c2&&!yc(f2)&&(f2=fd(l2,r2)),yc(f2)&&(a2=f2,s2))return a2;const p2=e22[o2+1];o2=s2?Tr(p2):co(p2)}if(t2!==null){let l2=i2?t2.residualClasses:t2.residualStyles;l2!=null&&(a2=fd(l2,r2))}return a2}function yc(e22){return e22!==void 0}function iw(e22,t2){return!!(e22.flags&(t2?8:16))}function ee(e22,t2,n2,r2){const o2=_2(),i2=Q(),s2=M2+e22,a2=o2[H2],l2=i2.firstCreatePass?function(e3,t22,n22,r22,o22,i22){const s22=t22.consts,l22=to(t22,e3,2,r22,on(s22,o22));return Bf(t22,n22,l22,on(s22,i22)),l22.attrs!==null&&sc(l22,l22.attrs,!1),l22.mergedAttrs!==null&&sc(l22,l22.mergedAttrs,!0),t22.queries!==null&&t22.queries.elementStart(t22,l22),l22}(s2,i2,o2,t2,n2,r2):i2.data[s2],c2=cw(i2,o2,l2,a2,t2);o2[s2]=c2;const u2=fl(l2);return bn(l2,!0),I_(a2,c2,l2),!function(e3){return!(32&~e3.flags)}(l2)&&ds()&&Gl(i2,o2,c2,l2),function(){return U.lFrame.elementDepthCount}()===0&&_t(c2,o2),function(){U.lFrame.elementDepthCount++}(),u2&&(Ff(i2,o2,l2),xf(i2,l2,o2)),r2!==null&&Lf(o2,l2),ee}function te(){let e22=ye();kd()?xd():(e22=e22.parent,bn(e22,!1));const t2=e22;(function(e3){return U.skipHydrationRootTNode===e3})(t2)&&function(){U.skipHydrationRootTNode=null}(),function(){U.lFrame.elementDepthCount--}();const n2=Q();return n2.firstCreatePass&&(yl(n2,e22),Sd(e22)&&n2.queries.elementEnd(e22)),t2.classesWithoutHost!=null&&function(e3){return!!(8&e3.flags)}(t2)&&xh(n2,t2,_2(),t2.classesWithoutHost,!0),t2.stylesWithoutHost!=null&&function(e3){return!!(16&e3.flags)}(t2)&&xh(n2,t2,_2(),t2.stylesWithoutHost,!1),te}function Sn(e22,t2,n2,r2){return ee(e22,t2,n2,r2),te(),Sn}let cw=(e22,t2,n2,r2,o2,i2)=>(Bn(!0),Ul(r2,o2,function(){return U.lFrame.currentNamespace}()));function Ks(e22,t2,n2){const r2=_2(),o2=Q(),i2=e22+M2,s2=o2.firstCreatePass?function(e3,t22,n22,r22,o22){const i22=t22.consts,s22=on(i22,r22),a22=to(t22,e3,8,"ng-container",s22);return s22!==null&&sc(a22,s22,!0),Bf(t22,n22,a22,on(i22,o22)),t22.queries!==null&&t22.queries.elementStart(t22,a22),a22}(i2,o2,r2,t2,n2):o2.data[i2];bn(s2,!0);const a2=uw(o2,r2);return r2[i2]=a2,ds()&&Gl(o2,r2,a2,s2),_t(a2,r2),fl(s2)&&(Ff(o2,r2,s2),xf(o2,s2,r2)),n2!=null&&Lf(r2,s2),Ks}function Qs(){let e22=ye();const t2=Q();return kd()?xd():(e22=e22.parent,bn(e22,!1)),t2.firstCreatePass&&(yl(t2,e22),Sd(e22)&&t2.queries.elementEnd(e22)),Qs}function Mr(e22,t2,n2){return Ks(e22,t2,n2),Qs(),Mr}let uw=(e22,t2,n2,r2)=>(Bn(!0),Tf(t2[H2],""));function lr(){return _2()}function jh(e22,t2,n2){const r2=_2();return Ve(r2,En(),t2)&&xt(Q(),Ce(),r2,e22,t2,r2[H2],n2,!0),jh}const Pi="en-US";let pw=Pi;function Vt(e22,t2,n2,r2){const o2=_2(),i2=Q(),s2=ye();return function(e3,t22,n22,r22,o22,i22,s22){const a2=fl(r22),c2=e3.firstCreatePass&&B_(e3),u2=t22[De],d2=V_(t22);let h2=!0;if(3&r22.type||s22){const g2=Ct(r22,t22),m2=s22?s22(g2):g2,v2=d2.length,y2=s22?T3=>s22(ae(T3[r22.index])):r22.index;let C2=null;if(!s22&&a2&&(C2=function(e4,t3,n3,r3){const o4=e4.cleanup;if(o4!=null)for(let i3=0;i3<o4.length-1;i3+=2){const s3=o4[i3];if(s3===n3&&o4[i3+1]===r3){const a22=t3[$o],l2=o4[i3+2];return a22.length>l2?a22[l2]:null}typeof s3=="string"&&(i3+=2)}return null}(e3,t22,o22,r22.index)),C2!==null)(C2.__ngLastListenerFn__||C2).__ngNextListenerFn__=i22,C2.__ngLastListenerFn__=i22,h2=!1;else{i22=Lw(r22,t22,u2,i22);const T3=n22.listen(m2,o22,i22);d2.push(i22,T3),c2&&c2.push(o22,y2,v2,v2+1)}}else i22=Lw(r22,t22,u2,i22);const f2=r22.outputs;let p2;if(h2&&f2!==null&&(p2=f2[o22])){const g2=p2.length;if(g2)for(let m2=0;m2<g2;m2+=2){const Z3=t22[p2[m2]][p2[m2+1]].subscribe(i22),ie=d2.length;d2.push(i22,Z3),c2&&c2.push(o22,r22.index,ie,-(ie+1))}}}(i2,o2,o2[H2],s2,e22,t2,r2),Vt}function Fw(e22,t2,n2,r2){const o2=N2(null);try{return Vn(6,t2,n2),n2(r2)!==!1}catch(i2){return Zl(e22,i2),!1}finally{N2(o2)}}function Lw(e22,t2,n2,r2){return function o2(i2){if(i2===Function)return r2;Os(e22.componentOffset>-1?zt(e22.index,t2):t2,5);let a2=Fw(t2,n2,r2,i2),l2=o2.__ngNextListenerFn__;for(;l2;)a2=Fw(t2,n2,l2,i2)&&a2,l2=l2.__ngNextListenerFn__;return a2}}function ce(e22=1){return function(e3){return(U.lFrame.contextLView=function(e4,t2){for(;e4>0;)t2=t2[zo],e4--;return t2}(e3,U.lFrame.contextLView))[De]}(e22)}function Gn(e22){const t2=_2()[Ne][ht];if(!t2.projection){const r2=t2.projection=function(e3,t22){const n2=[];for(let r22=0;r22<e3;r22++)n2.push(t22);return n2}(1,null),o2=r2.slice();let i2=t2.child;for(;i2!==null;)i2.type!==128&&(o2[0]?o2[0].projectionNext=i2:r2[0]=i2,o2[0]=i2),i2=i2.next}}function Wn(e22,t2=0,n2,r2,o2,i2){const s2=_2(),a2=Q(),l2=null,c2=to(a2,M2+e22,16,null,null);c2.projection===null&&(c2.projection=t2),xd();const d2=!s2[Dt]||Zr();s2[Ne][ht].projection[c2.projection]===null&&l2!==null?function(e3,t22,n22){const r22=M2+n22,o22=t22.data[r22],i22=e3[r22],s22=oo(i22,o22.tView.ssrId);ci(i22,li(e3,o22,void 0,{dehydratedView:s22}),0,no(o22,s22))}(s2,a2,l2):d2&&32&~c2.flags&&function(e3,t22,n22){C_(t22[H2],0,t22,n22,Of(e3,n22,t22),v_(n22.parent||t22[ht],n22,t22))}(a2,s2,c2)}function qw(e22,t2,n2,r2){(function(e3,t22,n22,r22){const o2=Q();if(o2.firstCreatePass){const i2=ye();qb(o2,new Ub(t22,n22,r22),i2.index),function(e4,t3){const n3=e4.contentQueries||(e4.contentQueries=[]);t3!==(n3.length?n3[n3.length-1]:-1)&&n3.push(e4.queries.length-1,t3)}(o2,e3)}return zb(o2,_2(),n22)})(e22,t2,n2,r2)}function fo(e22,t2,n2){(function(e3,t22,n22){const r2=Q();return r2.firstCreatePass&&(qb(r2,new Ub(e3,t22,n22),-1),2&~t22),zb(r2,_2(),t22)})(e22,t2,n2)}function Ar(e22){const t2=_2(),n2=Q(),r2=Vd();ml(r2+1);const o2=yh(n2,r2);if(e22.dirty&&function(e3){return!(4&~e3[R2])}(t2)===!(2&~o2.metadata.flags)){if(o2.matches===null)e22.reset([]);else{const i2=Yb(t2,r2);e22.reset(i2,uv),e22.notifyOnChanges()}return!0}return!1}function Or(){return function(e22,t2){return e22[tr].queries[t2].queryList}(_2(),Vd())}function ho(e22){return Yr(function(){return U.lFrame.contextLView}(),M2+e22)}function In(e22,t2=""){const n2=_2(),r2=Q(),o2=e22+M2,i2=r2.firstCreatePass?to(r2,o2,1,t2,null):r2.data[o2],s2=rD(r2,n2,i2,t2);n2[o2]=s2,ds()&&Gl(r2,n2,s2,i2),bn(i2,!1)}let rD=(e22,t2,n2,r2,o2)=>(Bn(!0),function(e3,t22){return e3.createText(t22)}(t2[H2],r2));function Nr(e22){return po("",e22,""),Nr}function po(e22,t2,n2){const r2=_2(),o2=function(e3,t22,n22,r22){return Ve(e3,En(),n22)?t22+W(n22)+r22:q}(r2,e22,t2,n2);return o2!==q&&function(e3,t22,n22){const r22=as(t22,e3);(function(e4,t3,n3){e4.setValue(t3,n3)})(e3[H2],r22,n22)}(r2,pt(),o2),po}function Wh(e22,t2,n2,r2,o2){if(e22=B(e22),Array.isArray(e22))for(let i2=0;i2<e22.length;i2++)Wh(e22[i2],t2,n2,r2,o2);else{const i2=Q(),s2=_2(),a2=ye();let l2=Gr(e22)?e22:B(e22.provide);const c2=ly(e22),u2=1048575&a2.providerIndexes,d2=a2.directiveStart,h2=a2.providerIndexes>>20;if(Gr(e22)||!e22.multi){const f2=new fs(c2,o2,L2),p2=Yh(l2,t2,o2?u2:u2+h2,d2);p2===-1?(qd(El(a2,s2),i2,l2),qh(i2,e22,t2.length),t2.push(l2),a2.directiveStart++,a2.directiveEnd++,o2&&(a2.providerIndexes+=1048576),n2.push(f2),s2.push(f2)):(n2[p2]=f2,s2[p2]=f2)}else{const f2=Yh(l2,t2,u2+h2,d2),p2=Yh(l2,t2,u2,u2+h2),m2=p2>=0&&n2[p2];if(o2&&!m2||!o2&&!(f2>=0&&n2[f2])){qd(El(a2,s2),i2,l2);const v2=function(e3,t22,n22,r22,o22){const i22=new fs(e3,n22,L2);return i22.multi=[],i22.index=t22,i22.componentProviders=0,mD(i22,o22,r22&&!n22),i22}(o2?nF:tF,n2.length,o2,r2,c2);!o2&&m2&&(n2[p2].providerFactory=v2),qh(i2,e22,t2.length,0),t2.push(l2),a2.directiveStart++,a2.directiveEnd++,o2&&(a2.providerIndexes+=1048576),n2.push(v2),s2.push(v2)}else qh(i2,e22,f2>-1?f2:p2,mD(n2[o2?p2:f2],c2,!o2&&r2));!o2&&r2&&m2&&n2[p2].componentProviders++}}}function qh(e22,t2,n2,r2){const o2=Gr(t2),i2=function(e3){return!!e3.useClass}(t2);if(o2||i2){const l2=(i2?B(t2.useClass):t2).prototype.ngOnDestroy;if(l2){const c2=e22.destroyHooks||(e22.destroyHooks=[]);if(!o2&&t2.multi){const u2=c2.indexOf(n2);u2===-1?c2.push(n2,[r2,l2]):c2[u2+1].push(r2,l2)}else c2.push(n2,l2)}}}function mD(e22,t2,n2){return n2&&e22.componentProviders++,e22.multi.push(t2)-1}function Yh(e22,t2,n2,r2){for(let o2=n2;o2<r2;o2++)if(t2[o2]===e22)return o2;return-1}function tF(e22,t2,n2,r2){return Zh(this.multi,[])}function nF(e22,t2,n2,r2){const o2=this.multi;let i2;if(this.providerFactory){const s2=this.providerFactory.componentProviders,a2=Xr(n2,n2[w2],this.providerFactory.index,r2);i2=a2.slice(0,s2),Zh(o2,i2);for(let l2=s2;l2<a2.length;l2++)i2.push(a2[l2])}else i2=[],Zh(o2,i2);return i2}function Zh(e22,t2){for(let n2=0;n2<e22.length;n2++)t2.push((0,e22[n2])());return t2}function Kh(e22,t2=[]){return n2=>{n2.providersResolver=(r2,o2)=>function(e3,t22,n22){const r22=Q();if(r22.firstCreatePass){const o22=_n(e3);Wh(n22,r22.data,r22.blueprint,o22,!0),Wh(t22,r22.data,r22.blueprint,o22,!1)}}(r2,o2?o2(e22):e22,t2)}}let oF=(()=>{var _e7;const _e22=class _e22{constructor(n2){this._injector=n2,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n2){if(!n2.standalone)return null;if(!this.cachedInjectors.has(n2)){const r2=md(0,n2.type),o2=r2.length>0?function(e3,t2,n22=null){return new fE({providers:e3,parent:t2,debugName:n22,runEnvironmentInitializers:!0}).injector}([r2],this._injector,`Standalone[${n2.type.name}]`):null;this.cachedInjectors.set(n2,o2)}return this.cachedInjectors.get(n2)}ngOnDestroy(){try{for(const n2 of this.cachedInjectors.values())n2!==null&&n2.destroy()}finally{this.cachedInjectors.clear()}}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.prov=O({token:_e22,providedIn:"environment",factory:()=>new _e22(D(nn))}));let e22=_e22;return e22})();function Et(e22){bt("NgStandalone"),e22.getStandaloneInjector=t2=>t2.get(oF).getOrCreateStandaloneInjector(e22)}function go(e22,t2,n2){const r2=St()+e22,o2=_2();return o2[r2]===q?$n(o2,r2,t2()):zs(o2,r2)}function Cc(e22,t2,n2,r2){return _D(_2(),St(),e22,t2,n2,r2)}function Sc(e22,t2,n2,r2,o2,i2,s2,a2){const l2=St()+e22,c2=_2(),u2=function(e3,t22,n22,r22,o22,i22){const s22=ao(e3,t22,n22,r22);return ao(e3,t22+2,o22,i22)||s22}(c2,l2,n2,r2,o2,i2);return Ve(c2,l2+4,s2)||u2?$n(c2,l2+5,t2(n2,r2,o2,i2,s2)):zs(c2,l2+5)}function _D(e22,t2,n2,r2,o2,i2){const s2=t2+n2;return Ve(e22,s2,o2)?$n(e22,s2+1,i2?r2.call(i2,o2):r2(o2)):function(e3,t22){const n22=e3[t22];return n22===q?void 0:n22}(e22,s2+1)}function SD(e22,t2,n2){const r2=e22+M2,o2=_2(),i2=Yr(o2,r2);return function(e3,t22){return e3[w2].data[t22].pure}(o2,r2)?_D(o2,St(),t2,i2.transform,n2,i2):i2.transform(n2)}function mo(e22,t2){return Ql(e22,t2)}const GD=new S2("");function ip(e22){return!!e22&&typeof e22.then=="function"}function WD(e22){return!!e22&&typeof e22.subscribe=="function"}const pL=new S2("");let sp=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n2,r2)=>{this.resolve=n2,this.reject=r2}),this.appInits=E2(pL,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n2=[];for(const o2 of this.appInits){const i2=o2();if(ip(i2))n2.push(i2);else if(WD(i2)){const s2=new Promise((a2,l2)=>{i2.subscribe({complete:a2,error:l2})});n2.push(s2)}}const r2=()=>{this.done=!0,this.resolve()};Promise.all(n2).then(()=>{r2()}).catch(o2=>{this.reject(o2)}),n2.length===0&&r2(),this.initialized=!0}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();const ap=new S2("");let dn=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E2(lv),this.afterRenderEffectManager=E2(oc),this.zonelessEnabled=E2(Bs),this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=E2(Jo).hasPendingTasks.pipe(dt(n2=>!n2)),this._injector=E2(nn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n2,r2){const o2=n2 instanceof vb;if(!this._injector.get(sp).done)throw!o2&&function(e3){const t2=X(e3)||Je(e3)||ft(e3);return t2!==null&&t2.standalone}(n2),new b2(405,!1);let s2;s2=o2?n2:this._injector.get(Cr).resolveComponentFactory(n2),this.componentTypes.push(s2.componentType);const a2=function(e3){return e3.isBoundToModule}(s2)?void 0:this._injector.get(so),c2=s2.create(Re.NULL,[],r2||s2.selector,a2),u2=c2.location.nativeElement,d2=c2.injector.get(GD,null);return d2==null||d2.registerApplication(u2),c2.onDestroy(()=>{this.detachView(c2.hostView),Oc(this.components,c2),d2==null||d2.unregisterApplication(u2)}),this._loadComponent(c2),c2}tick(){this._tick(!0)}_tick(n2){if(this._runningTick)throw new b2(101,!1);const r2=N2(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n2)}catch(o2){this.internalErrorHandler(o2)}finally{this._runningTick=!1,N2(r2),this.afterTick.next()}}detectChangesInAttachedViews(n2){var _a3,_b2;let r2=null;this._injector.destroyed||(r2=this._injector.get(rc,null,{optional:!0}));let o2=0;const i2=this.afterRenderEffectManager;for(;o2<10;){const s2=o2===0;if(n2||!s2){this.beforeRender.next(s2);for(let{_lView:a2,notifyErrorHandler:l2}of this._views)yL(a2,l2,s2,this.zonelessEnabled)}else(_a3=r2==null?void 0:r2.begin)==null||_a3.call(r2),(_b2=r2==null?void 0:r2.end)==null||_b2.call(r2);if(o2++,i2.executeInternalCallbacks(),!this.allViews.some(({_lView:a2})=>cs(a2))&&(i2.execute(),!this.allViews.some(({_lView:a2})=>cs(a2))))break}}attachView(n2){const r2=n2;this._views.push(r2),r2.attachToAppRef(this)}detachView(n2){const r2=n2;Oc(this._views,r2),r2.detachFromAppRef()}_loadComponent(n2){this.attachView(n2.hostView),this.tick(),this.components.push(n2);const r2=this._injector.get(ap,[]);[...this._bootstrapListeners,...r2].forEach(o2=>o2(n2))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n2=>n2()),this._views.slice().forEach(n2=>n2.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n2){return this._destroyListeners.push(n2),()=>Oc(this._destroyListeners,n2)}destroy(){if(this._destroyed)throw new b2(406,!1);const n2=this._injector;n2.destroy&&!n2.destroyed&&n2.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();function Oc(e22,t2){const n2=e22.indexOf(t2);n2>-1&&e22.splice(n2,1)}function yL(e22,t2,n2,r2){(n2||cs(e22))&&Kl(e22,t2,n2&&!r2?0:1)}let EL=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.zone=E2(K),this.changeDetectionScheduler=E2(di),this.applicationRef=E2(dn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var _a3;(_a3=this._onMicrotaskEmptySubscription)==null||_a3.unsubscribe()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();function lp({ngZoneFactory:e22,ignoreChangesOutsideZone:t2}){return e22??(e22=()=>new K(function(e3){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:(e3==null?void 0:e3.eventCoalescing)??!1,shouldCoalesceRunChangeDetection:(e3==null?void 0:e3.runCoalescing)??!1}}())),[{provide:K,useFactory:e22},{provide:xn,multi:!0,useFactory:()=>{const n2=E2(EL,{optional:!0});return()=>n2.initialize()}},{provide:xn,multi:!0,useFactory:()=>{const n2=E2(CL);return()=>{n2.initialize()}}},{provide:lv,useFactory:DL},t2===!0?{provide:mb,useValue:!0}:[]]}function DL(){const e22=E2(K),t2=E2(ln);return n2=>e22.runOutsideAngular(()=>t2.handleError(n2))}let CL=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=E2(K),this.pendingTasks=E2(Jo)}initialize(){if(this.initialized)return;this.initialized=!0;let n2=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n2=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{n2!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n2),n2=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),n2??(n2=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),aa=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.appRef=E2(dn),this.taskService=E2(Jo),this.ngZone=E2(K),this.zonelessEnabled=E2(Bs),this.disableScheduling=E2(mb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof ih||!this.zoneIsDefined))}notify(n2){if(!this.zonelessEnabled&&n2===5)return;switch(n2){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const r2=this.useMicrotaskScheduler?Db:wb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r2(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r2(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&K.isInAngularZone())}tick(n2){if(this.runningTick||this.appRef.destroyed)return;const r2=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n2)},void 0,this.schedulerTickApplyArgs)}catch(o2){throw this.taskService.remove(r2),o2}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Db(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r2)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var _a3;if(this.shouldRefreshViews=!1,this.runningTick=!1,(_a3=this.cancelScheduledCallback)==null||_a3.call(this),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){const n2=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n2)}}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();const cr=new S2("",{providedIn:"root",factory:()=>E2(cr,oe.Optional|oe.SkipSelf)||function(){return typeof $localize<"u"&&$localize.locale||Pi}()}),dp=new S2("");let Rr=null,yo=(()=>{var _e7;const _e22=class _e22{};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.__NG_ELEMENT_ID__=NL);let e22=_e22;return e22})();function NL(e22){return function(e3,t2,n2){if(qr(e3)&&!n2){const r2=zt(e3.index,t2);return new Ns(r2,r2)}return 175&e3.type?new Ns(t2[Ne],t2):null}(ye(),_2(),!(16&~e22))}class lC{constructor(){}supports(t2){return cc(t2)}create(t2){return new LL(t2)}}const FL=(e22,t2)=>t2;class LL{constructor(t2){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t2||FL}forEachItem(t2){let n2;for(n2=this._itHead;n2!==null;n2=n2._next)t2(n2)}forEachOperation(t2){let n2=this._itHead,r2=this._removalsHead,o2=0,i2=null;for(;n2||r2;){const s2=!r2||n2&&n2.currentIndex<uC(r2,o2,i2)?n2:r2,a2=uC(s2,o2,i2),l2=s2.currentIndex;if(s2===r2)o2--,r2=r2._nextRemoved;else if(n2=n2._next,s2.previousIndex==null)o2++;else{i2||(i2=[]);const c2=a2-o2,u2=l2-o2;if(c2!=u2){for(let h2=0;h2<c2;h2++){const f2=h2<i2.length?i2[h2]:i2[h2]=0,p2=f2+h2;u2<=p2&&p2<c2&&(i2[h2]=f2+1)}i2[s2.previousIndex]=u2-c2}}a2!==l2&&t2(s2,a2,l2)}}forEachPreviousItem(t2){let n2;for(n2=this._previousItHead;n2!==null;n2=n2._nextPrevious)t2(n2)}forEachAddedItem(t2){let n2;for(n2=this._additionsHead;n2!==null;n2=n2._nextAdded)t2(n2)}forEachMovedItem(t2){let n2;for(n2=this._movesHead;n2!==null;n2=n2._nextMoved)t2(n2)}forEachRemovedItem(t2){let n2;for(n2=this._removalsHead;n2!==null;n2=n2._nextRemoved)t2(n2)}forEachIdentityChange(t2){let n2;for(n2=this._identityChangesHead;n2!==null;n2=n2._nextIdentityChange)t2(n2)}diff(t2){if(t2==null&&(t2=[]),!cc(t2))throw new b2(900,!1);return this.check(t2)?this:null}onDestroy(){}check(t2){this._reset();let o2,i2,s2,n2=this._itHead,r2=!1;if(Array.isArray(t2)){this.length=t2.length;for(let a2=0;a2<this.length;a2++)i2=t2[a2],s2=this._trackByFn(a2,i2),n2!==null&&Object.is(n2.trackById,s2)?(r2&&(n2=this._verifyReinsertion(n2,i2,s2,a2)),Object.is(n2.item,i2)||this._addIdentityChange(n2,i2)):(n2=this._mismatch(n2,i2,s2,a2),r2=!0),n2=n2._next}else o2=0,function(e22,t22){if(Array.isArray(e22))for(let n22=0;n22<e22.length;n22++)t22(e22[n22]);else{const n22=e22[Symbol.iterator]();let r22;for(;!(r22=n22.next()).done;)t22(r22.value)}}(t2,a2=>{s2=this._trackByFn(o2,a2),n2!==null&&Object.is(n2.trackById,s2)?(r2&&(n2=this._verifyReinsertion(n2,a2,s2,o2)),Object.is(n2.item,a2)||this._addIdentityChange(n2,a2)):(n2=this._mismatch(n2,a2,s2,o2),r2=!0),n2=n2._next,o2++}),this.length=o2;return this._truncate(n2),this.collection=t2,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t2;for(t2=this._previousItHead=this._itHead;t2!==null;t2=t2._next)t2._nextPrevious=t2._next;for(t2=this._additionsHead;t2!==null;t2=t2._nextAdded)t2.previousIndex=t2.currentIndex;for(this._additionsHead=this._additionsTail=null,t2=this._movesHead;t2!==null;t2=t2._nextMoved)t2.previousIndex=t2.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t2,n2,r2,o2){let i2;return t2===null?i2=this._itTail:(i2=t2._prev,this._remove(t2)),(t2=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r2,null))!==null?(Object.is(t2.item,n2)||this._addIdentityChange(t2,n2),this._reinsertAfter(t2,i2,o2)):(t2=this._linkedRecords===null?null:this._linkedRecords.get(r2,o2))!==null?(Object.is(t2.item,n2)||this._addIdentityChange(t2,n2),this._moveAfter(t2,i2,o2)):t2=this._addAfter(new VL(n2,r2),i2,o2),t2}_verifyReinsertion(t2,n2,r2,o2){let i2=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r2,null);return i2!==null?t2=this._reinsertAfter(i2,t2._prev,o2):t2.currentIndex!=o2&&(t2.currentIndex=o2,this._addToMoves(t2,o2)),t2}_truncate(t2){for(;t2!==null;){const n2=t2._next;this._addToRemovals(this._unlink(t2)),t2=n2}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t2,n2,r2){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t2);const o2=t2._prevRemoved,i2=t2._nextRemoved;return o2===null?this._removalsHead=i2:o2._nextRemoved=i2,i2===null?this._removalsTail=o2:i2._prevRemoved=o2,this._insertAfter(t2,n2,r2),this._addToMoves(t2,r2),t2}_moveAfter(t2,n2,r2){return this._unlink(t2),this._insertAfter(t2,n2,r2),this._addToMoves(t2,r2),t2}_addAfter(t2,n2,r2){return this._insertAfter(t2,n2,r2),this._additionsTail=this._additionsTail===null?this._additionsHead=t2:this._additionsTail._nextAdded=t2,t2}_insertAfter(t2,n2,r2){const o2=n2===null?this._itHead:n2._next;return t2._next=o2,t2._prev=n2,o2===null?this._itTail=t2:o2._prev=t2,n2===null?this._itHead=t2:n2._next=t2,this._linkedRecords===null&&(this._linkedRecords=new cC),this._linkedRecords.put(t2),t2.currentIndex=r2,t2}_remove(t2){return this._addToRemovals(this._unlink(t2))}_unlink(t2){this._linkedRecords!==null&&this._linkedRecords.remove(t2);const n2=t2._prev,r2=t2._next;return n2===null?this._itHead=r2:n2._next=r2,r2===null?this._itTail=n2:r2._prev=n2,t2}_addToMoves(t2,n2){return t2.previousIndex===n2||(this._movesTail=this._movesTail===null?this._movesHead=t2:this._movesTail._nextMoved=t2),t2}_addToRemovals(t2){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(t2),t2.currentIndex=null,t2._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t2,t2._prevRemoved=null):(t2._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t2),t2}_addIdentityChange(t2,n2){return t2.item=n2,this._identityChangesTail=this._identityChangesTail===null?this._identityChangesHead=t2:this._identityChangesTail._nextIdentityChange=t2,t2}}class VL{constructor(t2,n2){this.item=t2,this.trackById=n2,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BL{constructor(){this._head=null,this._tail=null}add(t2){this._head===null?(this._head=this._tail=t2,t2._nextDup=null,t2._prevDup=null):(this._tail._nextDup=t2,t2._prevDup=this._tail,t2._nextDup=null,this._tail=t2)}get(t2,n2){let r2;for(r2=this._head;r2!==null;r2=r2._nextDup)if((n2===null||n2<=r2.currentIndex)&&Object.is(r2.trackById,t2))return r2;return null}remove(t2){const n2=t2._prevDup,r2=t2._nextDup;return n2===null?this._head=r2:n2._nextDup=r2,r2===null?this._tail=n2:r2._prevDup=n2,this._head===null}}class cC{constructor(){this.map=new Map}put(t2){const n2=t2.trackById;let r2=this.map.get(n2);r2||(r2=new BL,this.map.set(n2,r2)),r2.add(t2)}get(t2,n2){const o2=this.map.get(t2);return o2?o2.get(t2,n2):null}remove(t2){const n2=t2.trackById;return this.map.get(n2).remove(t2)&&this.map.delete(n2),t2}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}}function uC(e22,t2,n2){const r2=e22.previousIndex;if(r2===null)return r2;let o2=0;return n2&&r2<n2.length&&(o2=n2[r2]),r2+t2+o2}function fC(){return new yp([new lC])}let yp=(()=>{var _e7;const _e22=class _e22{constructor(n2){this.factories=n2}static create(n2,r2){if(r2!=null){const o2=r2.factories.slice();n2=n2.concat(o2)}return new _e22(n2)}static extend(n2){return{provide:_e22,useFactory:r2=>_e22.create(n2,r2||fC()),deps:[[_e22,new ud,new cd]]}}find(n2){const r2=this.factories.find(o2=>o2.supports(n2));if(r2!=null)return r2;throw new b2(901,!1)}};_e7=new WeakMap,__privateAdd(_e22,_e7,_e22.prov=O({token:_e22,providedIn:"root",factory:fC}));let e22=_e22;return e22})();function oV(e22){try{const{rootComponent:t2,appProviders:n2,platformProviders:r2}=e22,o2=function(e3=[]){if(Rr)return Rr;const t22=function(e4=[],t3){return Re.create({name:t3,providers:[{provide:_d2,useValue:"platform"},{provide:dp,useValue:new Set([()=>Rr=null])},...e4]})}(e3);return Rr=t22,function(){(function(e4){im=e4})(()=>{throw new b2(600,!1)})}(),function(e4){var _a3;(_a3=e4.get(Ov,null))==null||_a3.forEach(n22=>n22())}(t22),t22}(r2),i2=[lp({}),{provide:di,useExisting:aa},...n2||[]],a2=new fE({providers:i2,parent:o2,debugName:"",runEnvironmentInitializers:!1}).injector,l2=a2.get(K);return l2.run(()=>{a2.resolveInjectorInitializers();const c2=a2.get(ln,null);let u2;l2.runOutsideAngular(()=>{u2=l2.onError.subscribe({next:f2=>{c2.handleError(f2)}})});const d2=()=>a2.destroy(),h2=o2.get(dp);return h2.add(d2),a2.onDestroy(()=>{u2.unsubscribe(),h2.delete(d2)}),function(e3,t22,n22){try{const r22=n22();return ip(r22)?r22.catch(o22=>{throw t22.runOutsideAngular(()=>e3.handleError(o22)),o22}):r22}catch(r22){throw t22.runOutsideAngular(()=>e3.handleError(r22)),r22}}(c2,l2,()=>{const f2=a2.get(sp);return f2.runInitializers(),f2.donePromise.then(()=>{(function(e3){typeof e3=="string"&&(pw=e3.toLowerCase().replace(/_/g,"-"))})(a2.get(cr,Pi)||Pi);const g2=a2.get(dn);return t2!==void 0&&g2.bootstrap(t2),g2})})})}catch(t2){return Promise.reject(t2)}}const OC=new S2("");function _o(e22){return typeof e22=="boolean"?e22:e22!=null&&e22!=="false"}function da(e22,t2=NaN){return isNaN(parseFloat(e22))||isNaN(Number(e22))?t2:Number(e22)}function Ep(e22){const t2=N2(null);try{return e22()}finally{N2(t2)}}let jC=null;function Fi(){return jC}class RV{}const Me=new S2("");let HC=(()=>{var _e7,_t3;const _e22=class _e22{historyGo(n2){throw new Error("")}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:()=>E2(PV),providedIn:"platform"}));let e22=_e22;return e22})(),PV=(()=>{var _e7,_t3;const _e22=class _e22 extends HC{constructor(){super(),this._doc=E2(Me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(n2){const r2=Fi().getGlobalEventTarget(this._doc,"window");return r2.addEventListener("popstate",n2,!1),()=>r2.removeEventListener("popstate",n2)}onHashChange(n2){const r2=Fi().getGlobalEventTarget(this._doc,"window");return r2.addEventListener("hashchange",n2,!1),()=>r2.removeEventListener("hashchange",n2)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n2){this._location.pathname=n2}pushState(n2,r2,o2){this._history.pushState(n2,r2,o2)}replaceState(n2,r2,o2){this._history.replaceState(n2,r2,o2)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n2=0){this._history.go(n2)}getState(){return this._history.state}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:()=>new _e22,providedIn:"platform"}));let e22=_e22;return e22})();function UC(e22,t2){if(e22.length==0)return t2;if(t2.length==0)return e22;let n2=0;return e22.endsWith("/")&&n2++,t2.startsWith("/")&&n2++,n2==2?e22+t2.substring(1):n2==1?e22+t2:e22+"/"+t2}function $C(e22){const t2=e22.match(/#|\?|$/),n2=t2&&t2.index||e22.length;return e22.slice(0,n2-(e22[n2-1]==="/"?1:0))+e22.slice(n2)}function bo(e22){return e22&&e22[0]!=="?"?"?"+e22:e22}let wp=(()=>{var _e7,_t3;const _e22=class _e22{historyGo(n2){throw new Error("")}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:()=>E2(kV),providedIn:"root"}));let e22=_e22;return e22})();const zC=new S2("");let kV=(()=>{var _e7,_t3;const _e22=class _e22 extends wp{constructor(n2,r2){var _a3;super(),this._platformLocation=n2,this._removeListenerFns=[],this._baseHref=r2??this._platformLocation.getBaseHrefFromDOM()??((_a3=E2(Me).location)==null?void 0:_a3.origin)??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n2){this._removeListenerFns.push(this._platformLocation.onPopState(n2),this._platformLocation.onHashChange(n2))}getBaseHref(){return this._baseHref}prepareExternalUrl(n2){return UC(this._baseHref,n2)}path(n2=!1){const r2=this._platformLocation.pathname+bo(this._platformLocation.search),o2=this._platformLocation.hash;return o2&&n2?`${r2}${o2}`:r2}pushState(n2,r2,o2,i2){const s2=this.prepareExternalUrl(o2+bo(i2));this._platformLocation.pushState(n2,r2,s2)}replaceState(n2,r2,o2,i2){const s2=this.prepareExternalUrl(o2+bo(i2));this._platformLocation.replaceState(n2,r2,s2)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n2=0){var _a3,_b2;(_b2=(_a3=this._platformLocation).historyGo)==null||_b2.call(_a3,n2)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(HC),D(zC,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),GC=(()=>{var _e7,_t3,_n3,_r3,_o2;const _e22=class _e22{constructor(n2){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n2;const r2=this._locationStrategy.getBaseHref();this._basePath=function(e3){if(new RegExp("^(https?:)?//").test(e3)){const[,n22]=e3.split(/\/\/[^\/]+/);return n22}return e3}($C(WC(r2))),this._locationStrategy.onPopState(o2=>{this._subject.emit({url:this.path(!0),pop:!0,state:o2.state,type:o2.type})})}ngOnDestroy(){var _a3;(_a3=this._urlChangeSubscription)==null||_a3.unsubscribe(),this._urlChangeListeners=[]}path(n2=!1){return this.normalize(this._locationStrategy.path(n2))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n2,r2=""){return this.path()==this.normalize(n2+bo(r2))}normalize(n2){return _e22.stripTrailingSlash(function(e3,t2){if(!e3||!t2.startsWith(e3))return t2;const n22=t2.substring(e3.length);return n22===""||["/",";","?","#"].includes(n22[0])?n22:t2}(this._basePath,WC(n2)))}prepareExternalUrl(n2){return n2&&n2[0]!=="/"&&(n2="/"+n2),this._locationStrategy.prepareExternalUrl(n2)}go(n2,r2="",o2=null){this._locationStrategy.pushState(o2,"",n2,r2),this._notifyUrlChangeListeners(this.prepareExternalUrl(n2+bo(r2)),o2)}replaceState(n2,r2="",o2=null){this._locationStrategy.replaceState(o2,"",n2,r2),this._notifyUrlChangeListeners(this.prepareExternalUrl(n2+bo(r2)),o2)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n2=0){var _a3,_b2;(_b2=(_a3=this._locationStrategy).historyGo)==null||_b2.call(_a3,n2)}onUrlChange(n2){return this._urlChangeListeners.push(n2),this._urlChangeSubscription??(this._urlChangeSubscription=this.subscribe(r2=>{this._notifyUrlChangeListeners(r2.url,r2.state)})),()=>{var _a3;const r2=this._urlChangeListeners.indexOf(n2);this._urlChangeListeners.splice(r2,1),this._urlChangeListeners.length===0&&((_a3=this._urlChangeSubscription)==null||_a3.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n2="",r2){this._urlChangeListeners.forEach(o2=>o2(n2,r2))}subscribe(n2,r2,o2){return this._subject.subscribe({next:n2,error:r2,complete:o2})}};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,_r3=new WeakMap,_o2=new WeakMap,__privateAdd(_e22,_e7,_e22.normalizeQueryParams=bo),__privateAdd(_e22,_t3,_e22.joinWithSlash=UC),__privateAdd(_e22,_n3,_e22.stripTrailingSlash=$C),__privateAdd(_e22,_r3,_e22.fac=function(r2){return new(r2||_e22)(D(wp))}),__privateAdd(_e22,_o2,_e22.prov=O({token:_e22,factory:()=>function(){return new GC(D(wp))}(),providedIn:"root"}));let e22=_e22;return e22})();function WC(e22){return e22.replace(/\/index.html$/,"")}const Rp=/\s+/,tS=[];let ha=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2){this._ngEl=n2,this._renderer=r2,this.initialClasses=tS,this.stateMap=new Map}set klass(n2){this.initialClasses=n2!=null?n2.trim().split(Rp):tS}set ngClass(n2){this.rawClass=typeof n2=="string"?n2.trim().split(Rp):n2}ngDoCheck(){for(const r2 of this.initialClasses)this._updateState(r2,!0);const n2=this.rawClass;if(Array.isArray(n2)||n2 instanceof Set)for(const r2 of n2)this._updateState(r2,!0);else if(n2!=null)for(const r2 of Object.keys(n2))this._updateState(r2,!!n2[r2]);this._applyStateDiff()}_updateState(n2,r2){const o2=this.stateMap.get(n2);o2!==void 0?(o2.enabled!==r2&&(o2.changed=!0,o2.enabled=r2),o2.touched=!0):this.stateMap.set(n2,{enabled:r2,changed:!0,touched:!0})}_applyStateDiff(){for(const n2 of this.stateMap){const r2=n2[0],o2=n2[1];o2.changed?(this._toggleClass(r2,o2.enabled),o2.changed=!1):o2.touched||(o2.enabled&&this._toggleClass(r2,!1),this.stateMap.delete(r2)),o2.touched=!1}}_toggleClass(n2,r2){(n2=n2.trim()).length>0&&n2.split(Rp).forEach(o2=>{r2?this._renderer.addClass(this._ngEl.nativeElement,o2):this._renderer.removeClass(this._ngEl.nativeElement,o2)})}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(lt),L2(bb))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}));let e22=_e22;return e22})();class DB{constructor(t2,n2,r2,o2){this.$implicit=t2,this.ngForOf=n2,this.index=r2,this.count=o2}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pa=(()=>{var _e7,_t3;const _e22=class _e22{set ngForOf(n2){this._ngForOf=n2,this._ngForOfDirty=!0}set ngForTrackBy(n2){this._trackByFn=n2}get ngForTrackBy(){return this._trackByFn}constructor(n2,r2,o2){this._viewContainer=n2,this._template=r2,this._differs=o2,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n2){n2&&(this._template=n2)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n2=this._ngForOf;!this._differ&&n2&&(this._differ=this._differs.find(n2).create(this.ngForTrackBy))}if(this._differ){const n2=this._differ.diff(this._ngForOf);n2&&this._applyChanges(n2)}}_applyChanges(n2){const r2=this._viewContainer;n2.forEachOperation((o2,i2,s2)=>{if(o2.previousIndex==null)r2.createEmbeddedView(this._template,new DB(o2.item,this._ngForOf,-1,-1),s2===null?void 0:s2);else if(s2==null)r2.remove(i2===null?void 0:i2);else if(i2!==null){const a2=r2.get(i2);r2.move(a2,s2),rS(a2,o2)}});for(let o2=0,i2=r2.length;o2<i2;o2++){const a2=r2.get(o2).context;a2.index=o2,a2.count=i2,a2.ngForOf=this._ngForOf}n2.forEachIdentityChange(o2=>{rS(r2.get(o2.currentIndex),o2)})}static ngTemplateContextGuard(n2,r2){return!0}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Ft),L2(Un),L2(yp))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}));let e22=_e22;return e22})();function rS(e22,t2){e22.context.$implicit=t2.item}let Vi=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2){this._viewContainer=n2,this._context=new CB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r2}set ngIf(n2){this._context.$implicit=this._context.ngIf=n2,this._updateView()}set ngIfThen(n2){oS("ngIfThen",n2),this._thenTemplateRef=n2,this._thenViewRef=null,this._updateView()}set ngIfElse(n2){oS("ngIfElse",n2),this._elseTemplateRef=n2,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n2,r2){return!0}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Ft),L2(Un))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}));let e22=_e22;return e22})();class CB{constructor(){this.$implicit=null,this.ngIf=null}}function oS(e22,t2){if(t2&&!t2.createEmbeddedView)throw new Error(`${e22} must be a TemplateRef, but received '${Xe(t2)}'.`)}class Pp{constructor(t2,n2){this._viewContainerRef=t2,this._templateRef=n2,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t2){t2&&!this._created?this.create():!t2&&this._created&&this.destroy()}}let Xc=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n2){this._ngSwitch=n2,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n2){this._defaultViews.push(n2)}_matchCase(n2){const r2=n2===this._ngSwitch;return this._lastCasesMatched||(this._lastCasesMatched=r2),this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r2}_updateDefaultCases(n2){if(this._defaultViews.length>0&&n2!==this._defaultUsed){this._defaultUsed=n2;for(const r2 of this._defaultViews)r2.enforceState(n2)}}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}));let e22=_e22;return e22})(),iS=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2){this.ngSwitch=o2,o2._addCase(),this._view=new Pp(n2,r2)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Ft),L2(Un),L2(Xc,9))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}));let e22=_e22;return e22})(),Jc=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this._viewContainerRef=n2,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n2){if(this._shouldRecreateView(n2)){const r2=this._viewContainerRef;if(this._viewRef&&r2.remove(r2.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o2=this._createContextForwardProxy();this._viewRef=r2.createEmbeddedView(this.ngTemplateOutlet,o2,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n2){return!!n2.ngTemplateOutlet||!!n2.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n2,r2,o2)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r2,o2),get:(n2,r2,o2)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r2,o2)}})}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Ft))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yo]}));let e22=_e22;return e22})();class MB{createSubscription(t2,n2){return Ep(()=>t2.subscribe({next:n2,error:r2=>{throw r2}}))}dispose(t2){Ep(()=>t2.unsubscribe())}}class AB{createSubscription(t2,n2){return t2.then(n2,r2=>{throw r2})}dispose(t2){}}const OB=new AB,NB=new MB;let aS=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n2}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n2){if(!this._obj){if(n2)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n2)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n2!==this._obj?(this._dispose(),this.transform(n2)):this._latestValue}_subscribe(n2){this._obj=n2,this._strategy=this._selectStrategy(n2),this._subscription=this._strategy.createSubscription(n2,r2=>this._updateLatestValue(n2,r2))}_selectStrategy(n2){if(ip(n2))return OB;if(WD(n2))return NB;throw function(e3,t2){return new b2(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n2,r2){var _a3;n2===this._obj&&(this._latestValue=r2,this.markForCheckOnValueUpdate&&((_a3=this._ref)==null||_a3.markForCheck()))}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(yo,16))}),__privateAdd(_e22,_t3,_e22.pipe=Rt({name:"async",type:_e22,pure:!1,standalone:!0}));let e22=_e22;return e22})();const cS="browser";function uS(e22){return e22==="server"}class T2 extends RV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bp extends T2{static makeCurrent(){(function(e22){jC??(jC=e22)})(new Bp)}onAndCancel(t2,n2,r2){return t2.addEventListener(n2,r2),()=>{t2.removeEventListener(n2,r2)}}dispatchEvent(t2,n2){t2.dispatchEvent(n2)}remove(t2){t2.parentNode&&t2.parentNode.removeChild(t2)}createElement(t2,n2){return(n2=n2||this.getDefaultDocument()).createElement(t2)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t2){return t2.nodeType===Node.ELEMENT_NODE}isShadowRoot(t2){return t2 instanceof DocumentFragment}getGlobalEventTarget(t2,n2){return n2==="window"?window:n2==="document"?t2:n2==="body"?t2.body:null}getBaseHref(t2){const n2=function(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}();return n2==null?null:function(e22){return new URL(e22,document.baseURI).pathname}(n2)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(t2){return function(e22,t22){t22=encodeURIComponent(t22);for(const n2 of e22.split(";")){const r2=n2.indexOf("="),[o2,i2]=r2==-1?[n2,""]:[n2.slice(0,r2),n2.slice(r2+1)];if(o2.trim()===t22)return decodeURIComponent(i2)}return null}(document.cookie,t2)}}let ya=null,N22=(()=>{var _e7,_t3;const _e22=class _e22{build(){return new XMLHttpRequest}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const ru=new S2("");let bS=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2){this._zone=r2,this._eventNameToPlugin=new Map,n2.forEach(o2=>{o2.manager=this}),this._plugins=n2.slice().reverse()}addEventListener(n2,r2,o2){return this._findPluginFor(r2).addEventListener(n2,r2,o2)}getZone(){return this._zone}_findPluginFor(n2){let r2=this._eventNameToPlugin.get(n2);if(r2)return r2;if(r2=this._plugins.find(i2=>i2.supports(n2)),!r2)throw new b2(5101,!1);return this._eventNameToPlugin.set(n2,r2),r2}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(ru),D(K))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();class jp{constructor(t2){this._doc=t2}}const Hp="ng-app-id";let ES=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2={}){this.doc=n2,this.appId=r2,this.nonce=o2,this.platformId=i2,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uS(i2),this.resetHostNodes()}addStyles(n2){for(const r2 of n2)this.changeUsageCount(r2,1)===1&&this.onStyleAdded(r2)}removeStyles(n2){for(const r2 of n2)this.changeUsageCount(r2,-1)<=0&&this.onStyleRemoved(r2)}ngOnDestroy(){const n2=this.styleNodesInDOM;n2&&(n2.forEach(r2=>r2.remove()),n2.clear());for(const r2 of this.getAllStyles())this.onStyleRemoved(r2);this.resetHostNodes()}addHost(n2){this.hostNodes.add(n2);for(const r2 of this.getAllStyles())this.addStyleToHost(n2,r2)}removeHost(n2){this.hostNodes.delete(n2)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n2){for(const r2 of this.hostNodes)this.addStyleToHost(r2,n2)}onStyleRemoved(n2){var _a3,_b2;const r2=this.styleRef;(_b2=(_a3=r2.get(n2))==null?void 0:_a3.elements)==null||_b2.forEach(o2=>o2.remove()),r2.delete(n2)}collectServerRenderedStyles(){var _a3;const n2=(_a3=this.doc.head)==null?void 0:_a3.querySelectorAll(`style[${Hp}="${this.appId}"]`);if(n2!=null&&n2.length){const r2=new Map;return n2.forEach(o2=>{o2.textContent!=null&&r2.set(o2.textContent,o2)}),r2}return null}changeUsageCount(n2,r2){const o2=this.styleRef;if(o2.has(n2)){const i2=o2.get(n2);return i2.usage+=r2,i2.usage}return o2.set(n2,{usage:r2,elements:[]}),r2}getStyleElement(n2,r2){const o2=this.styleNodesInDOM,i2=o2==null?void 0:o2.get(r2);if((i2==null?void 0:i2.parentNode)===n2)return o2.delete(r2),i2.removeAttribute(Hp),i2;{const s2=this.doc.createElement("style");return this.nonce&&s2.setAttribute("nonce",this.nonce),s2.textContent=r2,this.platformIsServer&&s2.setAttribute(Hp,this.appId),n2.appendChild(s2),s2}}addStyleToHost(n2,r2){var _a3;const o2=this.getStyleElement(n2,r2),i2=this.styleRef,s2=(_a3=i2.get(r2))==null?void 0:_a3.elements;s2?s2.push(o2):i2.set(r2,{elements:[o2],usage:1})}resetHostNodes(){const n2=this.hostNodes;n2.clear(),n2.add(this.doc.head)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me),D(ms),D(Nv,8),D(Jr))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const Up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$p=/%COMP%/g,x2=new S2("",{providedIn:"root",factory:()=>!0});function DS(e22,t2){return t2.map(n2=>n2.replace($p,e22))}let zp=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2,s2,a2,l2,c2=null){this.eventManager=n2,this.sharedStylesHost=r2,this.appId=o2,this.removeStylesOnCompDestroy=i2,this.doc=s2,this.platformId=a2,this.ngZone=l2,this.nonce=c2,this.rendererByCompId=new Map,this.platformIsServer=uS(a2),this.defaultRenderer=new Gp(n2,s2,l2,this.platformIsServer)}createRenderer(n2,r2){if(!n2||!r2)return this.defaultRenderer;this.platformIsServer&&r2.encapsulation===mn.ShadowDom&&(r2={...r2,encapsulation:mn.Emulated});const o2=this.getOrCreateRenderer(n2,r2);return o2 instanceof SS?o2.applyToHost(n2):o2 instanceof Wp&&o2.applyStyles(),o2}getOrCreateRenderer(n2,r2){const o2=this.rendererByCompId;let i2=o2.get(r2.id);if(!i2){const s2=this.doc,a2=this.ngZone,l2=this.eventManager,c2=this.sharedStylesHost,u2=this.removeStylesOnCompDestroy,d2=this.platformIsServer;switch(r2.encapsulation){case mn.Emulated:i2=new SS(l2,c2,r2,this.appId,u2,s2,a2,d2);break;case mn.ShadowDom:return new B2(l2,c2,n2,r2,s2,a2,this.nonce,d2);default:i2=new Wp(l2,c2,r2,u2,s2,a2,d2)}o2.set(r2.id,i2)}return i2}ngOnDestroy(){this.rendererByCompId.clear()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(bS),D(ES),D(ms),D(x2),D(Me),D(Jr),D(K),D(Nv))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();class Gp{constructor(t2,n2,r2,o2){this.eventManager=t2,this.doc=n2,this.ngZone=r2,this.platformIsServer=o2,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t2,n2){return n2?this.doc.createElementNS(Up[n2]||n2,t2):this.doc.createElement(t2)}createComment(t2){return this.doc.createComment(t2)}createText(t2){return this.doc.createTextNode(t2)}appendChild(t2,n2){(CS(t2)?t2.content:t2).appendChild(n2)}insertBefore(t2,n2,r2){t2&&(CS(t2)?t2.content:t2).insertBefore(n2,r2)}removeChild(t2,n2){t2&&t2.removeChild(n2)}selectRootElement(t2,n2){let r2=typeof t2=="string"?this.doc.querySelector(t2):t2;if(!r2)throw new b2(-5104,!1);return n2||(r2.textContent=""),r2}parentNode(t2){return t2.parentNode}nextSibling(t2){return t2.nextSibling}setAttribute(t2,n2,r2,o2){if(o2){n2=o2+":"+n2;const i2=Up[o2];i2?t2.setAttributeNS(i2,n2,r2):t2.setAttribute(n2,r2)}else t2.setAttribute(n2,r2)}removeAttribute(t2,n2,r2){if(r2){const o2=Up[r2];o2?t2.removeAttributeNS(o2,n2):t2.removeAttribute(`${r2}:${n2}`)}else t2.removeAttribute(n2)}addClass(t2,n2){t2.classList.add(n2)}removeClass(t2,n2){t2.classList.remove(n2)}setStyle(t2,n2,r2,o2){o2&(Dr.DashCase|Dr.Important)?t2.style.setProperty(n2,r2,o2&Dr.Important?"important":""):t2.style[n2]=r2}removeStyle(t2,n2,r2){r2&Dr.DashCase?t2.style.removeProperty(n2):t2.style[n2]=""}setProperty(t2,n2,r2){t2!=null&&(t2[n2]=r2)}setValue(t2,n2){t2.nodeValue=n2}listen(t2,n2,r2){if(typeof t2=="string"&&!(t2=Fi().getGlobalEventTarget(this.doc,t2)))throw new Error(`Unsupported event target ${t2} for event ${n2}`);return this.eventManager.addEventListener(t2,n2,this.decoratePreventDefault(r2))}decoratePreventDefault(t2){return n2=>{if(n2==="__ngUnwrap__")return t2;(this.platformIsServer?this.ngZone.runGuarded(()=>t2(n2)):t2(n2))===!1&&n2.preventDefault()}}}function CS(e22){return e22.tagName==="TEMPLATE"&&e22.content!==void 0}class B2 extends Gp{constructor(t2,n2,r2,o2,i2,s2,a2,l2){super(t2,i2,s2,l2),this.sharedStylesHost=n2,this.hostEl=r2,this.shadowRoot=r2.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c2=DS(o2.id,o2.styles);for(const u2 of c2){const d2=document.createElement("style");a2&&d2.setAttribute("nonce",a2),d2.textContent=u2,this.shadowRoot.appendChild(d2)}}nodeOrShadowRoot(t2){return t2===this.hostEl?this.shadowRoot:t2}appendChild(t2,n2){return super.appendChild(this.nodeOrShadowRoot(t2),n2)}insertBefore(t2,n2,r2){return super.insertBefore(this.nodeOrShadowRoot(t2),n2,r2)}removeChild(t2,n2){return super.removeChild(this.nodeOrShadowRoot(t2),n2)}parentNode(t2){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t2)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wp extends Gp{constructor(t2,n2,r2,o2,i2,s2,a2,l2){super(t2,i2,s2,a2),this.sharedStylesHost=n2,this.removeStylesOnCompDestroy=o2,this.styles=l2?DS(l2,r2.styles):r2.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class SS extends Wp{constructor(t2,n2,r2,o2,i2,s2,a2,l2){const c2=o2+"-"+r2.id;super(t2,n2,r2,i2,s2,a2,l2,c2),this.contentAttr=function(e22){return"_ngcontent-%COMP%".replace($p,e22)}(c2),this.hostAttr=function(e22){return"_nghost-%COMP%".replace($p,e22)}(c2)}applyToHost(t2){this.applyStyles(),this.setAttribute(t2,this.hostAttr,"")}createElement(t2,n2){const r2=super.createElement(t2,n2);return super.setAttribute(r2,this.contentAttr,""),r2}}let j2=(()=>{var _e7,_t3;const _e22=class _e22 extends jp{constructor(n2){super(n2)}supports(n2){return!0}addEventListener(n2,r2,o2){return n2.addEventListener(r2,o2,!1),()=>this.removeEventListener(n2,r2,o2)}removeEventListener(n2,r2,o2){return n2.removeEventListener(r2,o2)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})(),H22=(()=>{var _e7,_t3;const _e22=class _e22 extends jp{constructor(n2){super(n2),this.delegate=E2(OC,{optional:!0})}supports(n2){return!!this.delegate&&this.delegate.supports(n2)}addEventListener(n2,r2,o2){return this.delegate.addEventListener(n2,r2,o2)}removeEventListener(n2,r2,o2){return this.delegate.removeEventListener(n2,r2,o2)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const IS=["alt","control","meta","shift"],U2={"\b":"Backspace","	":"Tab","":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$2={alt:e22=>e22.altKey,control:e22=>e22.ctrlKey,meta:e22=>e22.metaKey,shift:e22=>e22.shiftKey};let z22=(()=>{var _e7,_t3;const _e22=class _e22 extends jp{constructor(n2){super(n2)}supports(n2){return _e22.parseEventName(n2)!=null}addEventListener(n2,r2,o2){const i2=_e22.parseEventName(r2),s2=_e22.eventCallback(i2.fullKey,o2,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(n2,i2.domEventName,s2))}static parseEventName(n2){const r2=n2.toLowerCase().split("."),o2=r2.shift();if(r2.length===0||o2!=="keydown"&&o2!=="keyup")return null;const i2=_e22._normalizeKey(r2.pop());let s2="",a2=r2.indexOf("code");if(a2>-1&&(r2.splice(a2,1),s2="code."),IS.forEach(c2=>{const u2=r2.indexOf(c2);u2>-1&&(r2.splice(u2,1),s2+=c2+".")}),s2+=i2,r2.length!=0||i2.length===0)return null;const l2={};return l2.domEventName=o2,l2.fullKey=s2,l2}static matchEventFullKeyCode(n2,r2){let o2=U2[n2.key]||n2.key,i2="";return r2.indexOf("code.")>-1&&(o2=n2.code,i2="code."),!(o2==null||!o2)&&(o2=o2.toLowerCase(),o2===" "?o2="space":o2==="."&&(o2="dot"),IS.forEach(s2=>{s2!==o2&&(0,$2[s2])(n2)&&(i2+=s2+".")}),i2+=o2,i2===r2)}static eventCallback(n2,r2,o2){return i2=>{_e22.matchEventFullKeyCode(i2,n2)&&o2.runGuarded(()=>r2(i2))}}static _normalizeKey(n2){return n2==="esc"?"escape":n2}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const Z2=[{provide:Jr,useValue:cS},{provide:Ov,useValue:function(){Bp.makeCurrent()},multi:!0},{provide:Me,useFactory:function(){return function(e22){tf=e22}(document),document},deps:[]}],Q2=[{provide:_d2,useValue:"root"},{provide:ln,useFactory:function(){return new ln},deps:[]},{provide:ru,useClass:j2,multi:!0,deps:[Me,K,Jr]},{provide:ru,useClass:z22,multi:!0,deps:[Me]},{provide:ru,useClass:H22,multi:!0},zp,ES,bS,{provide:rc,useExisting:zp},{provide:class{},useClass:N22,deps:[]},[]],tj=new S2("show-dropdown-arrow");function qn(e22){return e22!=null&&`${e22}`!="false"}function OS(e22){return Array.isArray(e22)?e22:[e22]}function Ye(e22){return e22==null?"":typeof e22=="string"?e22:`${e22}px`}function NS(e22){return e22 instanceof lt?e22.nativeElement:e22}var An=function(e22){return e22.Primary="primary",e22.Brand="brand",e22.Info="info",e22.Success="success",e22.Warning="warning",e22.Danger="danger",e22.Outlined="outlined",e22.Clear="clear",e22.Secondary="secondary",e22}(An||{}),ji=function(e22){return e22.VerySmall="very-small",e22.Small="small",e22.Normal="normal",e22.Large="large",e22}(ji||{});const oj=["dmo-button",""],ij=["*"];let sj=(()=>{var _e7,_t3;const _e22=class _e22{set type(n2){this._type=n2}get type(){return this._type}set disabled(n2){this._disabled=qn(n2)}get disabled(){return this._disabled}onClick(n2){this.disabled||this.buttonClick.emit(n2)}onEnterKey(n2){this.disabled||this.buttonClick.emit(n2)}get btnPrimary(){return this.type===An.Primary}get btnSecondary(){return this.type===An.Secondary}get btnSuccess(){return this.type===An.Success}get btnDanger(){return this.type===An.Danger}get btnInfo(){return this.type===An.Info}get btnWarning(){return this.type===An.Warning}get btnOutlined(){return this.type===An.Outlined}get btnClear(){return this.type===An.Clear}get btnVerySmall(){return this.size===ji.VerySmall}get btnSmall(){return this.size===ji.Small}get btnNormal(){return this.size===ji.Normal}get btnLarge(){return this.size===ji.Large}get withDropdown(){return!!this.showDropdownArrow}get btnDisabledAttr(){return this.disabled}get btnEnabledAttr(){return!this.disabled}get btnDisabledByType(){return this.disabled&&this.btnClear}constructor(n2){this.showDropdownArrow=n2,this.elementRef=E2(lt),this._type=An.Primary,this.size=ji.Normal,this._disabled=!1,this.roundedBorder=!0,this.buttonClick=new ke,this.isButton=this.elementRef.nativeElement.tagName==="BUTTON"}ngOnInit(){this.isButton&&this.elementRef.nativeElement.setAttribute("type","button")}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(tj,8))}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["button","dmo-button",""],["a","dmo-button",""]],hostVars:39,hostBindings:function(r2,o2){1&r2&&Vt("click",function(s2){return o2.onClick(s2)})("keydown.enter",function(s2){return o2.onEnterKey(s2)}),2&r2&&(jh("disabled",o2.btnDisabledAttr),Ni("dmo-btn-primary",o2.btnPrimary)("dmo-btn-secondary",o2.btnSecondary)("dmo-btn-success",o2.btnSuccess)("dmo-btn-danger",o2.btnDanger)("dmo-btn-info",o2.btnInfo)("dmo-btn-warning",o2.btnWarning)("dmo-btn-outlined",o2.btnOutlined)("dmo-button-clear",o2.btnClear)("dmo-btn-very-small",o2.btnVerySmall)("dmo-btn-small",o2.btnSmall)("dmo-btn-normal",o2.btnNormal)("dmo-btn-large",o2.btnLarge)("with-dropdown",o2.withDropdown)("after:dmo-fa-solid",o2.withDropdown)("after:dmo-fa-caret-down",o2.withDropdown)("[&:not(:empty):after]:dmo-ml-8",o2.withDropdown)("after:dmo-px-px",o2.withDropdown)("disabled",o2.btnDisabledAttr)("dmo-btn-disabled",o2.btnDisabledAttr))},inputs:{type:"type",size:"size",disabled:"disabled",roundedBorder:"roundedBorder"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[Et],attrs:oj,ngContentSelectors:ij,decls:1,vars:0,template:function(r2,o2){1&r2&&(Gn(),Wn(0))},styles:["[_nghost-%COMP%]{display:inline-block!important;cursor:pointer!important;border-radius:var(--dmo-border-radius-md)!important;border-width:1px!important;text-decoration-line:none!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important;transition-timing-function:linear!important}[_nghost-%COMP%]:focus:not(:focus-visible){box-shadow:none!important}[_nghost-%COMP%]:focus{outline:0!important}.dmo-btn-large[_nghost-%COMP%]{padding-top:var(--dmo-spacing-8)!important;padding-bottom:var(--dmo-spacing-8)!important;padding-left:var(--dmo-spacing-16)!important;padding-right:var(--dmo-spacing-16)!important;font-size:1.25rem!important;line-height:1.75rem!important}.dmo-btn-normal[_nghost-%COMP%]{padding-top:var(--dmo-spacing-6)!important;padding-bottom:var(--dmo-spacing-6)!important;padding-left:var(--dmo-spacing-12)!important;padding-right:var(--dmo-spacing-12)!important;font-size:1rem!important;line-height:1.5rem!important}.dmo-btn-small[_nghost-%COMP%]{padding-top:var(--dmo-spacing-4)!important;padding-bottom:var(--dmo-spacing-4)!important;padding-left:var(--dmo-spacing-8)!important;padding-right:var(--dmo-spacing-8)!important;font-size:.875rem!important;line-height:1.25rem!important}.dmo-btn-very-small[_nghost-%COMP%]{padding-top:var(--dmo-spacing-4)!important;padding-bottom:var(--dmo-spacing-4)!important;padding-left:var(--dmo-spacing-8)!important;padding-right:var(--dmo-spacing-8)!important;font-size:.75rem!important;line-height:1rem!important}.dmo-btn-outlined[_nghost-%COMP%]{border-color:var(--primary-color)!important;background-color:transparent!important;color:var(--primary-color)!important}.dmo-btn-outlined[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{background-color:var(--primary-color)!important;color:var(--dmo-color-white)!important}.dmo-btn-primary[_nghost-%COMP%]{border-color:var(--primary-color)!important;background-color:var(--primary-color)!important;color:var(--dmo-color-white)!important}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(89 0 166 / var(--tw-bg-opacity))!important}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{--tw-bg-opacity: 1 !important;background-color:rgb(89 0 166 / var(--tw-bg-opacity))!important;border-color:#520099!important;box-shadow:0 0 0 .2rem #8326d480}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(61 0 115 / var(--tw-bg-opacity))!important;border-color:#4b008c!important}.dmo-btn-secondary[_nghost-%COMP%]{border-color:#6c757d!important;background-color:transparent!important;color:#6c757d!important}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(108 117 125 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-success[_nghost-%COMP%]{border-color:#597931!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-success-400)!important}html.dmo-dark   .dmo-btn-success[_nghost-%COMP%]{background-color:var(--dmo-color-success-400)!important}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(89 121 49 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-danger[_nghost-%COMP%]{border-color:#c83f32!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-danger-400)!important}html.dmo-dark   .dmo-btn-danger[_nghost-%COMP%]{background-color:var(--dmo-color-danger-400)!important}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(200 63 50 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-info[_nghost-%COMP%]{border-color:#007b88!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-info-400)!important}html.dmo-dark   .dmo-btn-info[_nghost-%COMP%]{background-color:var(--dmo-color-info-400)!important}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(0 123 136 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-warning[_nghost-%COMP%]{border-color:#d79e3a!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-warning-200)!important}html.dmo-dark   .dmo-btn-warning[_nghost-%COMP%]{background-color:var(--dmo-color-warning-200)!important}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(215 158 58 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-disabled[_nghost-%COMP%]{border-color:#d1d5db!important;--tw-bg-opacity: 1 !important;background-color:rgb(209 213 219 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-disabled[_nghost-%COMP%]:hover{cursor:default!important}.dmo-button-clear[_nghost-%COMP%]{border-color:transparent!important;background-color:transparent!important;outline:2px solid transparent!important;outline-offset:2px!important}.dmo-button-clear[_nghost-%COMP%]:hover{color:var(--primary-color)!important}.dmo-button-clear.dmo-btn-disabled[_nghost-%COMP%]{background-color:transparent!important;color:#bbb!important}.with-dropdown[_nghost-%COMP%]:after{top:-3px;position:relative;font-size:10px}dmo-button-group[_nghost-%COMP%]:not(:last-child), dmo-button-group   [_nghost-%COMP%]:not(:last-child){border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right-width:0!important}dmo-button-group.with-dropdown[_nghost-%COMP%]:empty:last-child:after, dmo-button-group   .with-dropdown[_nghost-%COMP%]:empty:last-child:after{margin-left:var(--dmo-spacing-0)!important}dmo-button-group[_nghost-%COMP%]:not(:first-child), dmo-button-group   [_nghost-%COMP%]:not(:first-child){border-top-left-radius:0!important;border-bottom-left-radius:0!important}"],changeDetection:0}));let e22=_e22;return e22})();const aj=["*"];let lj=(()=>{var _e7,_t3;const _e22=class _e22 extends sj{constructor(){super(...arguments),this.target="_self",this._type=An.Primary,this.anchorElm=void 0,this.document=E2(Me)}get type(){return this._type}set type(n2){}get tabIndex(){if(this.defaultTabIndex||(this.defaultTabIndex=this.elementRef.nativeElement.getAttribute("tabindex")),!this.disabled)return this.defaultTabIndex||0}ngOnInit(){this.elementRef.nativeElement.setAttribute("role","button")}get withDropdown(){return this.showDropdownArrow}onClick(n2){if(super.onClick.bind(this)(n2),!this.disabled&&this.href){const r2=this.createAnchorElm();r2.href=this.href,r2.target=this.target,r2.click()}}ngOnDestroy(){var _a3;(_a3=this.anchorElm)==null||_a3.remove()}createAnchorElm(){return this.anchorElm instanceof HTMLAnchorElement?this.anchorElm:this.document.createElement("a")}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=(()=>{let n2;return function(o2){return(n2||(n2=Yd(_e22)))(o2||_e22)}})()),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],hostAttrs:[1,"dmo-el-button"],hostVars:1,hostBindings:function(r2,o2){2&r2&&wn("tabindex",o2.tabIndex)},inputs:{showDropdownArrow:[2,"dataDmoElDropdown","showDropdownArrow",_o],href:"href",target:"target",_type:[0,"variant","_type"]},standalone:!0,features:[ar,hi,Et],ngContentSelectors:aj,decls:1,vars:0,template:function(r2,o2){1&r2&&(Gn(),Wn(0))},styles:["[_nghost-%COMP%]{display:inline-block!important;cursor:pointer!important;border-radius:var(--dmo-border-radius-md)!important;border-width:1px!important;text-decoration-line:none!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important;transition-timing-function:linear!important}[_nghost-%COMP%]:focus:not(:focus-visible){box-shadow:none!important}[_nghost-%COMP%]:focus{outline:0!important}.dmo-btn-large[_nghost-%COMP%]{padding-top:var(--dmo-spacing-8)!important;padding-bottom:var(--dmo-spacing-8)!important;padding-left:var(--dmo-spacing-16)!important;padding-right:var(--dmo-spacing-16)!important;font-size:1.25rem!important;line-height:1.75rem!important}.dmo-btn-normal[_nghost-%COMP%]{padding-top:var(--dmo-spacing-6)!important;padding-bottom:var(--dmo-spacing-6)!important;padding-left:var(--dmo-spacing-12)!important;padding-right:var(--dmo-spacing-12)!important;font-size:1rem!important;line-height:1.5rem!important}.dmo-btn-small[_nghost-%COMP%]{padding-top:var(--dmo-spacing-4)!important;padding-bottom:var(--dmo-spacing-4)!important;padding-left:var(--dmo-spacing-8)!important;padding-right:var(--dmo-spacing-8)!important;font-size:.875rem!important;line-height:1.25rem!important}.dmo-btn-very-small[_nghost-%COMP%]{padding-top:var(--dmo-spacing-4)!important;padding-bottom:var(--dmo-spacing-4)!important;padding-left:var(--dmo-spacing-8)!important;padding-right:var(--dmo-spacing-8)!important;font-size:.75rem!important;line-height:1rem!important}.dmo-btn-outlined[_nghost-%COMP%]{border-color:var(--primary-color)!important;background-color:transparent!important;color:var(--primary-color)!important}.dmo-btn-outlined[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{background-color:var(--primary-color)!important;color:var(--dmo-color-white)!important}.dmo-btn-primary[_nghost-%COMP%]{border-color:var(--primary-color)!important;background-color:var(--primary-color)!important;color:var(--dmo-color-white)!important}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(89 0 166 / var(--tw-bg-opacity))!important}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{--tw-bg-opacity: 1 !important;background-color:rgb(89 0 166 / var(--tw-bg-opacity))!important;border-color:#520099!important;box-shadow:0 0 0 .2rem #8326d480}.dmo-btn-primary[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(61 0 115 / var(--tw-bg-opacity))!important;border-color:#4b008c!important}.dmo-btn-secondary[_nghost-%COMP%]{border-color:#6c757d!important;background-color:transparent!important;color:#6c757d!important}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(108 117 125 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-secondary[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-success[_nghost-%COMP%]{border-color:#597931!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-success-400)!important}html.dmo-dark   .dmo-btn-success[_nghost-%COMP%]{background-color:var(--dmo-color-success-400)!important}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(89 121 49 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-success[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-danger[_nghost-%COMP%]{border-color:#c83f32!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-danger-400)!important}html.dmo-dark   .dmo-btn-danger[_nghost-%COMP%]{background-color:var(--dmo-color-danger-400)!important}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(200 63 50 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-danger[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-info[_nghost-%COMP%]{border-color:#007b88!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-info-400)!important}html.dmo-dark   .dmo-btn-info[_nghost-%COMP%]{background-color:var(--dmo-color-info-400)!important}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(0 123 136 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-info[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-warning[_nghost-%COMP%]{border-color:#d79e3a!important;color:var(--dmo-color-white)!important;background-color:var(--dmo-color-warning-200)!important}html.dmo-dark   .dmo-btn-warning[_nghost-%COMP%]{background-color:var(--dmo-color-warning-200)!important}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):hover{--tw-bg-opacity: 1 !important;background-color:rgb(215 158 58 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):focus{box-shadow:0 0 0 .2rem #6c757d80}.dmo-btn-warning[_nghost-%COMP%]:not(.dmo-btn-disabled):active{--tw-bg-opacity: 1 !important;background-color:rgb(84 91 98 / var(--tw-bg-opacity))!important;border-color:#4e555b!important}.dmo-btn-disabled[_nghost-%COMP%]{border-color:#d1d5db!important;--tw-bg-opacity: 1 !important;background-color:rgb(209 213 219 / var(--tw-bg-opacity))!important;color:var(--dmo-color-white)!important}.dmo-btn-disabled[_nghost-%COMP%]:hover{cursor:default!important}.dmo-button-clear[_nghost-%COMP%]{border-color:transparent!important;background-color:transparent!important;outline:2px solid transparent!important;outline-offset:2px!important}.dmo-button-clear[_nghost-%COMP%]:hover{color:var(--primary-color)!important}.dmo-button-clear.dmo-btn-disabled[_nghost-%COMP%]{background-color:transparent!important;color:#bbb!important}.with-dropdown[_nghost-%COMP%]:after{top:-3px;position:relative;font-size:10px}dmo-button-group[_nghost-%COMP%]:not(:last-child), dmo-button-group   [_nghost-%COMP%]:not(:last-child){border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right-width:0!important}dmo-button-group.with-dropdown[_nghost-%COMP%]:empty:last-child:after, dmo-button-group   .with-dropdown[_nghost-%COMP%]:empty:last-child:after{margin-left:var(--dmo-spacing-0)!important}dmo-button-group[_nghost-%COMP%]:not(:first-child), dmo-button-group   [_nghost-%COMP%]:not(:first-child){border-top-left-radius:0!important;border-bottom-left-radius:0!important}"]}));let e22=_e22;return e22})();const cj=ku(e22=>function(){e22(this),this.name="EmptyError",this.message="no elements in sequence"});function Pr(e22){return this instanceof Pr?(this.v=e22,this):new Pr(e22)}function xS(e22){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n2,t2=e22[Symbol.asyncIterator];return t2?t2.call(e22):(e22=function(e3){var t22=typeof Symbol=="function"&&Symbol.iterator,n22=t22&&e3[t22],r22=0;if(n22)return n22.call(e3);if(e3&&typeof e3.length=="number")return{next:function(){return e3&&r22>=e3.length&&(e3=void 0),{value:e3&&e3[r22++],done:!e3}}};throw new TypeError(t22?"Object is not iterable.":"Symbol.iterator is not defined.")}(e22),n2={},r2("next"),r2("throw"),r2("return"),n2[Symbol.asyncIterator]=function(){return this},n2);function r2(i2){n2[i2]=e22[i2]&&function(s2){return new Promise(function(a2,l2){(function(i22,s22,a22,l22){Promise.resolve(l22).then(function(c2){i22({value:c2,done:a22})},s22)})(a2,l2,(s2=e22[i2](s2)).done,s2.value)})}}}typeof SuppressedError=="function"&&SuppressedError;const Qp=e22=>e22&&typeof e22.length=="number"&&typeof e22!="function";function FS(e22){return ge(e22==null?void 0:e22.then)}function LS(e22){return ge(e22[ju])}function VS(e22){return Symbol.asyncIterator&&ge(e22==null?void 0:e22[Symbol.asyncIterator])}function BS(e22){return new TypeError(`You provided ${e22!==null&&typeof e22=="object"?"an invalid object":`'${e22}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jS=function(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HS(e22){return ge(e22==null?void 0:e22[jS])}function US(e22){return function(e3,t2,n2){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o2,r2=n2.apply(e3,t2||[]),i2=[];return o2={},a2("next"),a2("throw"),a2("return",function(f2){return function(p2){return Promise.resolve(p2).then(f2,d2)}}),o2[Symbol.asyncIterator]=function(){return this},o2;function a2(f2,p2){r2[f2]&&(o2[f2]=function(g2){return new Promise(function(m2,v2){i2.push([f2,g2,m2,v2])>1||l2(f2,g2)})},p2&&(o2[f2]=p2(o2[f2])))}function l2(f2,p2){try{(function(f22){f22.value instanceof Pr?Promise.resolve(f22.value.v).then(u2,d2):h2(i2[0][2],f22)})(r2[f2](p2))}catch(g2){h2(i2[0][3],g2)}}function u2(f2){l2("next",f2)}function d2(f2){l2("throw",f2)}function h2(f2,p2){f2(p2),i2.shift(),i2.length&&l2(i2[0][0],i2[0][1])}}(this,arguments,function*(){const n2=e22.getReader();try{for(;;){const{value:r2,done:o2}=yield Pr(n2.read());if(o2)return yield Pr(void 0);yield yield Pr(r2)}}finally{n2.releaseLock()}})}function $S(e22){return ge(e22==null?void 0:e22.getReader)}function Bt(e22){if(e22 instanceof ot)return e22;if(e22!=null){if(LS(e22))return function(e3){return new ot(t2=>{const n2=e3[ju]();if(ge(n2.subscribe))return n2.subscribe(t2);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e22);if(Qp(e22))return function(e3){return new ot(t2=>{for(let n2=0;n2<e3.length&&!t2.closed;n2++)t2.next(e3[n2]);t2.complete()})}(e22);if(FS(e22))return function(e3){return new ot(t2=>{e3.then(n2=>{t2.closed||(t2.next(n2),t2.complete())},n2=>t2.error(n2)).then(null,dm)})}(e22);if(VS(e22))return zS(e22);if(HS(e22))return function(e3){return new ot(t2=>{for(const n2 of e3)if(t2.next(n2),t2.closed)return;t2.complete()})}(e22);if($S(e22))return function(e3){return zS(US(e3))}(e22)}throw BS(e22)}function zS(e22){return new ot(t2=>{(function(e3,t22){var n2,r2,o2,i2;return function(e4,t3,n22,r22){return new(n22||(n22=Promise))(function(i22,s2){function a2(u2){try{c2(r22.next(u2))}catch(d2){s2(d2)}}function l2(u2){try{c2(r22.throw(u2))}catch(d2){s2(d2)}}function c2(u2){u2.done?i22(u2.value):function(i3){return i3 instanceof n22?i3:new n22(function(s22){s22(i3)})}(u2.value).then(a2,l2)}c2((r22=r22.apply(e4,[])).next())})}(this,void 0,void 0,function*(){try{for(n2=xS(e3);!(r2=yield n2.next()).done;)if(t22.next(r2.value),t22.closed)return}catch(s2){o2={error:s2}}finally{try{r2&&!r2.done&&(i2=n2.return)&&(yield i2.call(n2))}finally{if(o2)throw o2.error}}t22.complete()})})(e22,t2).catch(n2=>t2.error(n2))})}function fr(e22,t2,n2,r2=0,o2=!1){const i2=t2.schedule(function(){n2(),o2?e22.add(this.schedule(null,r2)):this.unsubscribe()},r2);if(e22.add(i2),!o2)return i2}function wo(e22,t2,n2=1/0){return ge(t2)?wo((r2,o2)=>dt((i2,s2)=>t2(r2,i2,o2,s2))(Bt(e22(r2,o2))),n2):(typeof t2=="number"&&(n2=t2),it((r2,o2)=>function(e3,t22,n22,r22,o22,i2,s2,a2){const l2=[];let c2=0,u2=0,d2=!1;const h2=()=>{d2&&!l2.length&&!c2&&t22.complete()},f2=g2=>c2<r22?p2(g2):l2.push(g2),p2=g2=>{i2&&t22.next(g2),c2++;let m2=!1;Bt(n22(g2,u2++)).subscribe(Qe(t22,v2=>{o22==null||o22(v2),i2?f2(v2):t22.next(v2)},()=>{m2=!0},void 0,()=>{if(m2)try{for(c2--;l2.length&&c2<r22;){const v2=l2.shift();s2?fr(t22,s2,()=>p2(v2)):p2(v2)}h2()}catch(v2){t22.error(v2)}}))};return e3.subscribe(Qe(t22,f2,()=>{d2=!0,h2()})),()=>{a2==null||a2()}}(r2,o2,e22,n2)))}function GS(e22=1/0){return wo(gr,e22)}function WS(e22){return e22&&ge(e22.schedule)}function Xp(e22){return e22[e22.length-1]}function qS(e22){return ge(Xp(e22))?e22.pop():void 0}function va(e22){return WS(Xp(e22))?e22.pop():void 0}function Jp(e22,t2=0){return it((n2,r2)=>{n2.subscribe(Qe(r2,o2=>fr(r2,e22,()=>r2.next(o2),t2),()=>fr(r2,e22,()=>r2.complete(),t2),o2=>fr(r2,e22,()=>r2.error(o2),t2)))})}function YS(e22,t2=0){return it((n2,r2)=>{r2.add(e22.schedule(()=>n2.subscribe(r2),t2))})}function ZS(e22,t2){if(!e22)throw new Error("Iterable cannot be null");return new ot(n2=>{fr(n2,t2,()=>{const r2=e22[Symbol.asyncIterator]();fr(n2,t2,()=>{r2.next().then(o2=>{o2.done?n2.complete():n2.next(o2.value)})},0,!0)})})}function kr(e22,t2){return t2?function(e3,t22){if(e3!=null){if(LS(e3))return function(e4,t3){return Bt(e4).pipe(YS(t3),Jp(t3))}(e3,t22);if(Qp(e3))return function(e4,t3){return new ot(n2=>{let r2=0;return t3.schedule(function(){r2===e4.length?n2.complete():(n2.next(e4[r2++]),n2.closed||this.schedule())})})}(e3,t22);if(FS(e3))return function(e4,t3){return Bt(e4).pipe(YS(t3),Jp(t3))}(e3,t22);if(VS(e3))return ZS(e3,t22);if(HS(e3))return function(e4,t3){return new ot(n2=>{let r2;return fr(n2,t3,()=>{r2=e4[jS](),fr(n2,t3,()=>{let o2,i2;try{({value:o2,done:i2}=r2.next())}catch(s2){return void n2.error(s2)}i2?n2.complete():n2.next(o2)},0,!0)}),()=>ge(r2==null?void 0:r2.return)&&r2.return()})}(e3,t22);if($S(e3))return function(e4,t3){return ZS(US(e4),t3)}(e3,t22)}throw BS(e3)}(e22,t2):Bt(e22)}function eg(...e22){return function(){return GS(1)}()(kr(e22,va(e22)))}function KS(...e22){const t2=va(e22);return it((n2,r2)=>{(t2?eg(e22,n2,t2):eg(e22,n2)).subscribe(r2)})}function Kt(e22,t2){return it((n2,r2)=>{let o2=0;n2.subscribe(Qe(r2,i2=>e22.call(t2,i2,o2++)&&r2.next(i2)))})}var xr=function(e22){return e22[e22.Undefined=0]="Undefined",e22[e22.ToBeDefined=1]="ToBeDefined",e22[e22.Defined=2]="Defined",e22}(xr||{});class Zj{constructor(){this._stream$=new Te,this.stream$=this._stream$.asObservable()}dispatch({type:t2,data:n2}){this._stream$.next({type:t2,data:n2})}on$(t2,n2){return this.stream$.pipe(Kt(r2=>{const o2=r2.type===t2;return typeof n2=="function"?o2&&n2(r2):o2}))}}class Kj{get initialized(){return this._initialized}get events(){return this._events}get version(){if(function(e22){return new RegExp("^([0-9]+).([0-9]+).([0-9]+)(?:-(rc+(?:.[0-9]+)*))?$").test(e22)}(this._version))return this._version}constructor(t2){this._version=t2,this._initialized=!1,this._events=new Zj,this._initialized$=new Te,globalThis.window.dominoElements?(this._initialized$.next(this._initialized=!0),this.checkVersionCompatibility(globalThis.window.dominoElements.version)):globalThis.window.dominoElements=this}whenInitialized(){var t2=this;return re2(function*(){return function(e22,t22){return new Promise((r2,o2)=>{const i2=new Oo({next:s2=>{r2(s2),i2.unsubscribe()},error:o2,complete:()=>{o2(new cj)}});e22.subscribe(i2)})}(t2._initialized$.asObservable().pipe(KS(t2._initialized),Kt(n2=>n2===!0),dt(()=>{})))})()}init(t2,n2){var r2=this;return re2(function*(){var _a3,_b2;if(r2._initialized)return;const o2=JSON.parse(((_b2=(_a3=t2.querySelector("[data-domino-elements-config]"))==null?void 0:_a3.dataset)==null?void 0:_b2.dominoElementsConfig)||"{}");if(!(o2!=null&&o2.publicPath)){const{script:i2,jsEntrypoint:s2}=["domino-elements.js","domino-elements.bundle.js","domino-elements.core.js"].reduce((c2,u2)=>{const d2=t2.querySelector(`script[src$="${u2}"]`);return d2?{script:d2,jsEntrypoint:u2}:c2},{script:null,jsEntrypoint:null}),a2=i2==null?void 0:i2.src;a2&&r2.isExternalLink(a2)&&(o2.publicPath=a2.replace(new RegExp(s2+"(\\?.*)?$"),""))}yield n2(o2),r2._initialized$.next(r2._initialized=!0)})()}isExternalLink(t2){const n2=document.createElement("a");return n2.href=t2,n2.host!==window.location.host}checkVersionCompatibility(t2){const[n2,r2]=this.version.split(".");if(!t2)return void console.warn(`
				!!!WARNING!!!INCOMPATIBILITY!!!WARNING!!!
				=========================================
				[Domino Elements]
				
				Existing version of Domino Elements that doesn't have a version number has been detected! Make sure all dependencies use the same major and minor version of Domino Elements ("${n2}.${r2}.x").
				=========================================
				!!!WARNING!!!INCOMPATIBILITY!!!WARNING!!!
			`);const[o2,i2]=t2.split(".");n2===o2&&r2===i2||console.warn(`
			!!!WARNING!!!INCOMPATIBILITY!!!WARNING!!!
			=========================================
			[Domino Elements]
			
			Incompatible existing version (${o2}.${i2}.x) of Domino Elements has been detected! Make sure all dependencies use the same major and minor version of Domino Elements ("${n2}.${r2}.x" or "${o2}.${i2}.x").
			=========================================
			!!!WARNING!!!INCOMPATIBILITY!!!WARNING!!!
		`)}}const tg={now:()=>(tg.delegate||Date).now(),delegate:void 0};class ng extends Te{constructor(t2=1/0,n2=1/0,r2=tg){super(),this._bufferSize=t2,this._windowTime=n2,this._timestampProvider=r2,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n2===1/0,this._bufferSize=Math.max(1,t2),this._windowTime=Math.max(1,n2)}next(t2){const{isStopped:n2,_buffer:r2,_infiniteTimeWindow:o2,_timestampProvider:i2,_windowTime:s2}=this;n2||(r2.push(t2),!o2&&r2.push(i2.now()+s2)),this._trimBuffer(),super.next(t2)}_subscribe(t2){this._throwIfClosed(),this._trimBuffer();const n2=this._innerSubscribe(t2),{_infiniteTimeWindow:r2,_buffer:o2}=this,i2=o2.slice();for(let s2=0;s2<i2.length&&!t2.closed;s2+=r2?1:2)t2.next(i2[s2]);return this._checkFinalizedStatuses(t2),n2}_trimBuffer(){const{_bufferSize:t2,_timestampProvider:n2,_buffer:r2,_infiniteTimeWindow:o2}=this,i2=(o2?1:2)*t2;if(t2<1/0&&i2<r2.length&&r2.splice(0,r2.length-i2),!o2){const s2=n2.now();let a2=0;for(let l2=1;l2<r2.length&&r2[l2]<=s2;l2+=2)a2=l2;a2&&r2.splice(0,a2+1)}}}const iu=new ot(e22=>e22.complete());function Yn(...e22){const t2=va(e22),n2=function(e3,t22){return typeof Xp(e3)=="number"?e3.pop():t22}(e22,1/0),r2=e22;return r2.length?r2.length===1?Bt(r2[0]):GS(n2)(kr(r2,t2)):iu}function rg(e22,t2){return it((n2,r2)=>{let o2=null,i2=0,s2=!1;const a2=()=>s2&&!o2&&r2.complete();n2.subscribe(Qe(r2,l2=>{o2==null||o2.unsubscribe();let c2=0;const u2=i2++;Bt(e22(l2,u2)).subscribe(o2=Qe(r2,d2=>r2.next(t2?t2(l2,d2,u2,c2++):d2),()=>{o2=null,a2()}))},()=>{s2=!0,a2()}))})}const su={schedule(e22,t2){const n2=setTimeout(e22,t2);return()=>clearTimeout(n2)},scheduleBeforeRender(e22){if(typeof window>"u")return su.schedule(e22,0);if(typeof window.requestAnimationFrame>"u")return su.schedule(e22,16);const t2=window.requestAnimationFrame(e22);return()=>window.cancelAnimationFrame(t2)}};let og;function sH(e22,t2,n2){let r2=n2;return function(e3){return!!e3&&e3.nodeType===Node.ELEMENT_NODE}(e22)&&t2.some((o2,i2)=>!(o2==="*"||!function(e3,t22){if(!og){const n22=Element.prototype;og=n22.matches||n22.matchesSelector||n22.mozMatchesSelector||n22.msMatchesSelector||n22.oMatchesSelector||n22.webkitMatchesSelector}return e3.nodeType===Node.ELEMENT_NODE&&og.call(e3,t22)}(e22,o2)||(r2=i2,0))),r2}class lH{constructor(t2,n2){this.componentFactory=n2.get(Cr).resolveComponentFactory(t2)}create(t2){return new cH(this.componentFactory,t2)}}class cH{constructor(t2,n2){this.componentFactory=t2,this.injector=n2,this.eventEmitters=new ng(1),this.events=this.eventEmitters.pipe(rg(r2=>Yn(...r2))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r2})=>r2)),this.ngZone=this.injector.get(K),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t2){this.runInZone(()=>{if(this.scheduledDestroyFn!==null)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);this.componentRef===null&&this.initializeComponent(t2)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=su.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t2){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(t2):this.componentRef.instance[t2])}setInputValue(t2,n2,r2){this.runInZone(()=>{var _a3;r2&&(n2=r2.call((_a3=this.componentRef)==null?void 0:_a3.instance,n2)),this.componentRef!==null?function(e22,t22){return e22===t22||e22!=e22&&t22!=t22}(n2,this.getInputValue(t2))&&(n2!==void 0||!this.unchangedInputs.has(t2))||(this.recordInputChange(t2,n2),this.unchangedInputs.delete(t2),this.hasInputChanges=!0,this.componentRef.instance[t2]=n2,this.scheduleDetectChanges()):this.initialInputValues.set(t2,n2)})}initializeComponent(t2){const n2=Re.create({providers:[],parent:this.injector}),r2=function(e22,t22){const n22=e22.childNodes,r22=t22.map(()=>[]);let o2=-1;t22.some((i2,s2)=>i2==="*"&&(o2=s2,!0));for(let i2=0,s2=n22.length;i2<s2;++i2){const a2=n22[i2],l2=sH(a2,t22,o2);l2!==-1&&r22[l2].push(a2)}return r22}(t2,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n2,r2,t2),this.viewChangeDetectorRef=this.componentRef.injector.get(yo),this.implementsOnChanges=function(e22){return typeof e22=="function"}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(dn).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t2,transform:n2})=>{this.initialInputValues.has(t2)&&this.setInputValue(t2,this.initialInputValues.get(t2),n2)}),this.initialInputValues.clear()}initializeOutputs(t2){const n2=this.componentFactory.outputs.map(({propName:r2,templateName:o2})=>t2.instance[r2].pipe(dt(s2=>({name:o2,value:s2}))));this.eventEmitters.next(n2)}callNgOnChanges(t2){if(!this.implementsOnChanges||this.inputChanges===null)return;const n2=this.inputChanges;this.inputChanges=null,t2.instance.ngOnChanges(n2)}markViewForCheck(t2){this.hasInputChanges&&(this.hasInputChanges=!1,t2.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=su.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t2,n2){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});const r2=this.inputChanges[t2];if(r2)return void(r2.currentValue=n2);const o2=this.unchangedInputs.has(t2),i2=o2?void 0:this.getInputValue(t2);this.inputChanges[t2]=new my(i2,n2,o2)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t2){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t2):t2()}}class uH extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function XS(e22,t2){var _e7;const n2=function(e3,t22){return t22.get(Cr).resolveComponentFactory(e3).inputs}(e22,t2.injector),r2=t2.strategyFactory||new lH(e22,t2.injector),o2=function(e3){const t22={};return e3.forEach(({propName:n22,templateName:r22,transform:o22})=>{t22[function(e4){return e4.replace(/[A-Z]/g,t3=>`-${t3.toLowerCase()}`)}(r22)]=[n22,o22]}),t22}(n2),_i2=class _i2 extends uH{get ngElementStrategy(){if(!this._ngElementStrategy){const a2=this._ngElementStrategy=r2.create(this.injector||t2.injector);n2.forEach(({propName:l2,transform:c2})=>{if(!this.hasOwnProperty(l2))return;const u2=this[l2];delete this[l2],a2.setInputValue(l2,u2,c2)})}return this._ngElementStrategy}constructor(a2){super(),this.injector=a2}attributeChangedCallback(a2,l2,c2,u2){const[d2,h2]=o2[a2];this.ngElementStrategy.setInputValue(d2,c2,h2)}connectedCallback(){let a2=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a2=!0),this.ngElementStrategy.connect(this),a2||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a2=>{const l2=new CustomEvent(a2.name,{detail:a2.value});this.dispatchEvent(l2)})}};_e7=new WeakMap,__privateAdd(_i2,_e7,_i2.observedAttributes=Object.keys(o2));let i2=_i2;return n2.forEach(({propName:s2,transform:a2})=>{Object.defineProperty(i2.prototype,s2,{get(){return this.ngElementStrategy.getInputValue(s2)},set(l2){this.ngElementStrategy.setInputValue(s2,l2,a2)},configurable:!0,enumerable:!0})}),i2}function au(e22){return it((t2,n2)=>{Bt(e22).subscribe(Qe(n2,()=>n2.complete(),Zi)),!n2.closed&&t2.subscribe(n2)})}function He(e22){e22||(ns(),e22=E2(Gt));const t2=new ot(n2=>e22.onDestroy(n2.next.bind(n2)));return n2=>n2.pipe(au(t2))}let mH=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.appBaseHref=E2(zC),function(e3){J.p=e3}(this.appBaseHref)}loadAndDefineCustomElement(n2,r2,o2,i2){return re2(function*(){const s2=yield r2();i2.define(n2,XS(s2,{injector:o2})),yield i2.whenDefined(n2)})()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();var gt=function(e22){return e22.ATTRIBUTE_ADDED="attributeAdded",e22.ATTRIBUTE_REMOVED="attributeRemoved",e22.ATTRIBUTE_CHANGED="attributeChanged",e22.NODE_ADDED="nodeAdded",e22.NODE_REMOVED="nodeRemoved",e22}(gt||{});class yH{get tagNames(){return Object.keys(this.customElementsMap)}constructor(t2,n2,r2){this.context=t2,this.registry=n2,this.customElementsGlobal=r2,this.customElementsMap={},this.customElementsAreDefined$=new Te,this.customElementsEvents=this.customElementsGlobal.events}defineCustomElements(t2,n2){var r2=this;return re2(function*(){yield Promise.allSettled(n2.map(({name:o2,component:i2})=>(r2.registry.define(o2,XS(i2,{injector:t2})),customElements.whenDefined(o2))))})()}registerCustomElement(t2,n2){this.customElementsMap[t2]={dynamicImport:n2,state:xr.Undefined}}load(t2){var n2=this;return re2(function*(){yield n2.checkForUndefinedCustomElements(t2),Yn(n2.customElementsEvents.on$(gt.NODE_ADDED)).pipe(au(n2.customElementsAreDefined$),He(t2.get(Gt))).subscribe(re2(function*(){if(n2.checkIfCustomElementsAreDefined(n2.customElementsMap))return n2.customElementsAreDefined$.next();yield n2.checkForUndefinedCustomElements(t2)}))})()}checkIfCustomElementsAreDefined(t2){return Object.values(t2).every(n2=>n2.state===xr.Defined)}checkForUndefinedCustomElements(t2){var n2=this;return re2(function*(){const r2=Object.keys(n2.customElementsMap).filter(a2=>![xr.Defined,xr.ToBeDefined].includes(n2.customElementsMap[a2].state)).join(",");if(r2==="")return;const o2=n2.context.querySelectorAll(r2),i2=[...new Set(Array.from(o2).reduce((a2,l2)=>{const c2=l2.tagName.toLowerCase();return n2.registry.get(c2)?(n2.customElementsMap[c2].state=xr.Defined,a2):(n2.customElementsMap[c2].state=xr.ToBeDefined,[...a2,c2])},[]))];if(!i2.length)return;const s2=t2.get(mH);yield Promise.all(i2.map(a2=>s2.loadAndDefineCustomElement(a2,n2.customElementsMap[a2].dynamicImport,t2,n2.registry))),i2.forEach(a2=>n2.customElementsMap[a2].state=xr.Defined)})()}}function JS(e22){return e22.replace(/([^a-zA-Z0-9])+(.)?/g,(t2,n2,r2)=>r2?r2.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,t2=>t2.toLowerCase())}class vH{constructor(t2,n2){this.context=t2,this.customElementsGlobal=n2,this.customElementsEvents=this.customElementsGlobal.events}observe({relatedAttributeNames:t2=[],relatedTagNames:n2=[]}){return new MutationObserver((o2,i2)=>{for(let s2=0;s2<o2.length;s2++){const a2=o2[s2];a2.type==="childList"&&(this.checkForMutatedNodes(a2.addedNodes,gt.NODE_ADDED,t2,n2),this.checkForMutatedNodes(a2.removedNodes,gt.NODE_REMOVED,t2,n2)),a2.type==="attributes"&&this.checkForMutatedAttributes(a2,t2)}}).observe(this.context.body,{childList:!0,subtree:!0,attributeFilter:t2,attributeOldValue:!0}),new Promise(o2=>{this.context.readyState!=="complete"?document.addEventListener("readystatechange",()=>{this.context.readyState==="complete"&&o2()}):o2()})}checkForMutatedNodes(t2,n2,r2=[],o2=[]){t2.forEach(i2=>{if(i2 instanceof HTMLElement){const s2=r2.find(l2=>i2.attributes.getNamedItem(l2)),a2=o2.find(l2=>i2.tagName.toLowerCase()===l2.toLowerCase());this.customElementsEvents.dispatch({type:n2,data:{attributeName:s2,tagName:a2,target:i2}})}})}checkForMutatedAttributes(t2,n2=[]){const{attributeName:r2,target:o2,oldValue:i2}=t2;if(r2&&n2.includes(r2)&&o2 instanceof HTMLElement){const s2=JS(r2.replace(/^data/,"")),a2=o2.dataset[s2];if(!i2&&a2)return this.customElementsEvents.dispatch({type:gt.ATTRIBUTE_ADDED,data:{attributeName:r2,target:o2}});if(i2&&!a2)return this.customElementsEvents.dispatch({type:gt.ATTRIBUTE_REMOVED,data:{attributeName:r2,target:o2}});if(i2&&a2&&i2!==a2)return this.customElementsEvents.dispatch({type:gt.ATTRIBUTE_CHANGED,data:{attributeName:r2,target:o2}})}}}function eI(e22,t2){return ge(t2)?wo(e22,t2,1):wo(e22,1)}function ig(...e22){return kr(e22,va(e22))}class bH extends Fe{constructor(t2,n2){super()}schedule(t2,n2=0){return this}}const lu={setInterval(e22,t2,...n2){const{delegate:r2}=lu;return r2!=null&&r2.setInterval?r2.setInterval(e22,t2,...n2):setInterval(e22,t2,...n2)},clearInterval(e22){const{delegate:t2}=lu;return((t2==null?void 0:t2.clearInterval)||clearInterval)(e22)},delegate:void 0};class sg extends bH{constructor(t2,n2){super(t2,n2),this.scheduler=t2,this.work=n2,this.pending=!1}schedule(t2,n2=0){var r2;if(this.closed)return this;this.state=t2;const o2=this.id,i2=this.scheduler;return o2!=null&&(this.id=this.recycleAsyncId(i2,o2,n2)),this.pending=!0,this.delay=n2,this.id=(r2=this.id)!==null&&r2!==void 0?r2:this.requestAsyncId(i2,this.id,n2),this}requestAsyncId(t2,n2,r2=0){return lu.setInterval(t2.flush.bind(t2,this),r2)}recycleAsyncId(t2,n2,r2=0){if(r2!=null&&this.delay===r2&&this.pending===!1)return n2;n2!=null&&lu.clearInterval(n2)}execute(t2,n2){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r2=this._execute(t2,n2);if(r2)return r2;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t2,n2){let o2,r2=!1;try{this.work(t2)}catch(i2){r2=!0,o2=i2||new Error("Scheduled action threw falsy error")}if(r2)return this.unsubscribe(),o2}unsubscribe(){if(!this.closed){const{id:t2,scheduler:n2}=this,{actions:r2}=n2;this.work=this.state=this.scheduler=null,this.pending=!1,Ba(r2,this),t2!=null&&(this.id=this.recycleAsyncId(n2,t2,null)),this.delay=null,super.unsubscribe()}}}class _a2{constructor(t2,n2=_a2.now){this.schedulerActionCtor=t2,this.now=n2}schedule(t2,n2=0,r2){return new this.schedulerActionCtor(this,t2).schedule(r2,n2)}}_a2.now=tg.now;class ag extends _a2{constructor(t2,n2=_a2.now){super(t2,n2),this.actions=[],this._active=!1}flush(t2){const{actions:n2}=this;if(this._active)return void n2.push(t2);let r2;this._active=!0;do if(r2=t2.execute(t2.state,t2.delay))break;while(t2=n2.shift());if(this._active=!1,r2){for(;t2=n2.shift();)t2.unsubscribe();throw r2}}}const cu=new ag(sg),EH=cu;function lg(e22){return e22<=0?()=>iu:it((t2,n2)=>{let r2=0;t2.subscribe(Qe(n2,o2=>{++r2<=e22&&(n2.next(o2),e22<=r2&&n2.complete())}))})}function tI(e22,t2){return t2?n2=>eg(t2.pipe(lg(1),function(){return it((e3,t22)=>{e3.subscribe(Qe(t22,Zi))})}()),n2.pipe(tI(e22))):wo((n2,r2)=>Bt(e22(n2,r2)).pipe(lg(1),function(e3){return dt(()=>e3)}(n2)))}function cg(e22=0,t2,n2=EH){let r2=-1;return t2!=null&&(WS(t2)?n2=t2:r2=t2),new ot(o2=>{let i2=function(e3){return e3 instanceof Date&&!isNaN(e3)}(e22)?+e22-n2.now():e22;i2<0&&(i2=0);let s2=0;return n2.schedule(function(){o2.closed||(o2.next(s2++),0<=r2?this.schedule(void 0,r2):o2.complete())},i2)})}function nI(e22,t2=cu){const n2=cg(e22,t2);return tI(()=>n2)}function uu(e22,t2=gr){return e22=e22??SH,it((n2,r2)=>{let o2,i2=!0;n2.subscribe(Qe(r2,s2=>{const a2=t2(s2);(i2||!e22(o2,a2))&&(i2=!1,o2=a2,r2.next(s2))}))})}function SH(e22,t2){return e22===t2}var Ae=function(e22){return e22.Top="top",e22.TopRight="top-right",e22.RightTop="right-top",e22.Right="right",e22.RightBottom="right-bottom",e22.BottomRight="bottom-right",e22.Bottom="bottom",e22.BottomLeft="bottom-left",e22.LeftBottom="left-bottom",e22.Left="left",e22.LeftTop="left-top",e22.TopLeft="top-left",e22}(Ae||{}),ne=function(e22){return e22.Top="top",e22.TopRight="top-right",e22.RightTop="right-top",e22.Right="right",e22.RightBottom="right-bottom",e22.BottomRight="bottom-right",e22.Bottom="bottom",e22.BottomLeft="bottom-left",e22.LeftBottom="left-bottom",e22.Left="left",e22.LeftTop="left-top",e22.TopLeft="top-left",e22}(ne||{}),Hi=function(e22){return e22.Hover="hover",e22.Click="click",e22.Focus="focus",e22}(Hi||{});class ug{attach(t2){return this._attachedHost=t2,t2.attach(this)}detach(){let t2=this._attachedHost;t2!=null&&(this._attachedHost=null,t2.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t2){this._attachedHost=t2}}class du extends ug{constructor(t2,n2,r2,o2,i2){super(),this.component=t2,this.viewContainerRef=n2,this.injector=r2,this.componentFactoryResolver=o2,this.projectableNodes=i2}}class fu extends ug{constructor(t2,n2,r2,o2){super(),this.templateRef=t2,this.viewContainerRef=n2,this.context=r2,this.injector=o2}get origin(){return this.templateRef.elementRef}attach(t2,n2=this.context){return this.context=n2,super.attach(t2)}detach(){return this.context=void 0,super.detach()}}class dg extends ug{constructor(t2){super(),this.element=t2 instanceof lt?t2.nativeElement:t2}}class rI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t2){return t2 instanceof du?(this._attachedPortal=t2,this.attachComponentPortal(t2)):t2 instanceof fu?(this._attachedPortal=t2,this.attachTemplatePortal(t2)):this.attachDomPortal&&t2 instanceof dg?(this._attachedPortal=t2,this.attachDomPortal(t2)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t2){this._disposeFn=t2}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IH extends rI{constructor(t2,n2,r2,o2,i2){super(),this.outletElement=t2,this._componentFactoryResolver=n2,this._appRef=r2,this._defaultInjector=o2,this.attachDomPortal=s2=>{const a2=s2.element,l2=this._document.createComment("dom-portal");a2.parentNode.insertBefore(l2,a2),this.outletElement.appendChild(a2),this._attachedPortal=s2,super.setDisposeFn(()=>{l2.parentNode&&l2.parentNode.replaceChild(a2,l2)})},this._document=i2}attachComponentPortal(t2){const r2=(t2.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t2.component);let o2;return t2.viewContainerRef?(o2=t2.viewContainerRef.createComponent(r2,t2.viewContainerRef.length,t2.injector||t2.viewContainerRef.injector,t2.projectableNodes||void 0),this.setDisposeFn(()=>o2.destroy())):(o2=r2.create(t2.injector||this._defaultInjector||Re.NULL),this._appRef.attachView(o2.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o2.hostView),o2.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o2)),this._attachedPortal=t2,o2}attachTemplatePortal(t2){let n2=t2.viewContainerRef,r2=n2.createEmbeddedView(t2.templateRef,t2.context,{injector:t2.injector});return r2.rootNodes.forEach(o2=>this.outletElement.appendChild(o2)),r2.detectChanges(),this.setDisposeFn(()=>{let o2=n2.indexOf(r2);o2!==-1&&n2.remove(o2)}),this._attachedPortal=t2,r2}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t2){return t2.hostView.rootNodes[0]}}let oI=(()=>{var _e7,_t3;const _e22=class _e22 extends rI{constructor(n2,r2,o2){super(),this._componentFactoryResolver=n2,this._viewContainerRef=r2,this._isInitialized=!1,this.attached=new ke,this.attachDomPortal=i2=>{const s2=i2.element,a2=this._document.createComment("dom-portal");i2.setAttachedHost(this),s2.parentNode.insertBefore(a2,s2),this._getRootNode().appendChild(s2),this._attachedPortal=i2,super.setDisposeFn(()=>{a2.parentNode&&a2.parentNode.replaceChild(s2,a2)})},this._document=o2}get portal(){return this._attachedPortal}set portal(n2){this.hasAttached()&&!n2&&!this._isInitialized||(this.hasAttached()&&super.detach(),n2&&super.attach(n2),this._attachedPortal=n2||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n2){n2.setAttachedHost(this);const r2=n2.viewContainerRef!=null?n2.viewContainerRef:this._viewContainerRef,i2=(n2.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n2.component),s2=r2.createComponent(i2,r2.length,n2.injector||r2.injector,n2.projectableNodes||void 0);return r2!==this._viewContainerRef&&this._getRootNode().appendChild(s2.hostView.rootNodes[0]),super.setDisposeFn(()=>s2.destroy()),this._attachedPortal=n2,this._attachedRef=s2,this.attached.emit(s2),s2}attachTemplatePortal(n2){n2.setAttachedHost(this);const r2=this._viewContainerRef.createEmbeddedView(n2.templateRef,n2.context,{injector:n2.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n2,this._attachedRef=r2,this.attached.emit(r2),r2}_getRootNode(){const n2=this._viewContainerRef.element.nativeElement;return n2.nodeType===n2.ELEMENT_NODE?n2:n2.parentNode}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Cr),L2(Ft),L2(Me))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[hi]}));let e22=_e22;return e22})(),fg=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({}));let e22=_e22;return e22})();const{isArray:TH}=Array;function iI(e22){return dt(t2=>function(e3,t22){return TH(t22)?e3(...t22):e3(t22)}(e22,t2))}const AH=["addListener","removeListener"],OH=["addEventListener","removeEventListener"],NH=["on","off"];function On(e22,t2,n2,r2){if(ge(n2)&&(r2=n2,n2=void 0),r2)return On(e22,t2,n2).pipe(iI(r2));const[o2,i2]=function(e3){return ge(e3.addEventListener)&&ge(e3.removeEventListener)}(e22)?OH.map(s2=>a2=>e22[s2](t2,a2,n2)):function(e3){return ge(e3.addListener)&&ge(e3.removeListener)}(e22)?AH.map(sI(e22,t2)):function(e3){return ge(e3.on)&&ge(e3.off)}(e22)?NH.map(sI(e22,t2)):[];if(!o2&&Qp(e22))return wo(s2=>On(s2,t2,n2))(Bt(e22));if(!o2)throw new TypeError("Invalid event target");return new ot(s2=>{const a2=(...l2)=>s2.next(1<l2.length?l2:l2[0]);return o2(a2),()=>i2(a2)})}function sI(e22,t2){return n2=>r2=>e22[n2](t2,r2)}const{isArray:xH}=Array,{getPrototypeOf:FH,prototype:LH,keys:VH}=Object;function hg(...e22){const t2=va(e22),n2=qS(e22),{args:r2,keys:o2}=function(e3){if(e3.length===1){const t22=e3[0];if(xH(t22))return{args:t22,keys:null};if(function(e4){return e4&&typeof e4=="object"&&FH(e4)===LH}(t22)){const n22=VH(t22);return{args:n22.map(r22=>t22[r22]),keys:n22}}}return{args:e3,keys:null}}(e22);if(r2.length===0)return kr([],t2);const i2=new ot(function(e3,t22,n22=gr){return r22=>{aI(t22,()=>{const{length:o22}=e3,i22=new Array(o22);let s2=o22,a2=o22;for(let l2=0;l2<o22;l2++)aI(t22,()=>{const c2=kr(e3[l2],t22);let u2=!1;c2.subscribe(Qe(r22,d2=>{i22[l2]=d2,u2||(u2=!0,a2--),a2||r22.next(n22(i22.slice()))},()=>{--s2||r22.complete()}))},r22)},r22)}}(r2,t2,o2?s2=>function(e3,t22){return e3.reduce((n22,r22,o22)=>(n22[r22]=t22[o22],n22),{})}(o2,s2):gr));return n2?i2.pipe(iI(n2)):i2}function aI(e22,t2,n2){e22?fr(n2,e22,t2):t2()}function lI(e22,t2){return it(function(e3,t22,n2,r2,o2){return(i2,s2)=>{let a2=n2,l2=t22,c2=0;i2.subscribe(Qe(s2,u2=>{const d2=c2++;l2=a2?e3(l2,u2,d2):(a2=!0,u2),r2&&s2.next(l2)},o2&&(()=>{a2&&s2.next(l2),s2.complete()})))}}(e22,t2,arguments.length>=2,!0))}const ba={schedule(e22){let t2=requestAnimationFrame,n2=cancelAnimationFrame;const{delegate:r2}=ba;r2&&(t2=r2.requestAnimationFrame,n2=r2.cancelAnimationFrame);const o2=t2(i2=>{n2=void 0,e22(i2)});return new Fe(()=>n2==null?void 0:n2(o2))},requestAnimationFrame(...e22){const{delegate:t2}=ba;return((t2==null?void 0:t2.requestAnimationFrame)||requestAnimationFrame)(...e22)},cancelAnimationFrame(...e22){const{delegate:t2}=ba;return((t2==null?void 0:t2.cancelAnimationFrame)||cancelAnimationFrame)(...e22)},delegate:void 0};new class extends ag{flush(t2){this._active=!0;const n2=this._scheduled;this._scheduled=void 0;const{actions:r2}=this;let o2;t2=t2||r2.shift();do if(o2=t2.execute(t2.state,t2.delay))break;while((t2=r2[0])&&t2.id===n2&&r2.shift());if(this._active=!1,o2){for(;(t2=r2[0])&&t2.id===n2&&r2.shift();)t2.unsubscribe();throw o2}}}(class extends sg{constructor(t2,n2){super(t2,n2),this.scheduler=t2,this.work=n2}requestAsyncId(t2,n2,r2=0){return r2!==null&&r2>0?super.requestAsyncId(t2,n2,r2):(t2.actions.push(this),t2._scheduled||(t2._scheduled=ba.requestAnimationFrame(()=>t2.flush(void 0))))}recycleAsyncId(t2,n2,r2=0){var o2;if(r2!=null?r2>0:this.delay>0)return super.recycleAsyncId(t2,n2,r2);const{actions:i2}=t2;n2!=null&&((o2=i2[i2.length-1])===null||o2===void 0?void 0:o2.id)!==n2&&(ba.cancelAnimationFrame(n2),t2._scheduled=void 0)}});let pg,qH=1;const hu={};function cI(e22){return e22 in hu&&(delete hu[e22],!0)}const YH={setImmediate(e22){const t2=qH++;return hu[t2]=!0,pg||(pg=Promise.resolve()),pg.then(()=>cI(t2)&&e22()),t2},clearImmediate(e22){cI(e22)}},{setImmediate:ZH,clearImmediate:KH}=YH,pu={setImmediate(...e22){const{delegate:t2}=pu;return((t2==null?void 0:t2.setImmediate)||ZH)(...e22)},clearImmediate(e22){const{delegate:t2}=pu;return((t2==null?void 0:t2.clearImmediate)||KH)(e22)},delegate:void 0},uI=new class extends ag{flush(t2){this._active=!0;const n2=this._scheduled;this._scheduled=void 0;const{actions:r2}=this;let o2;t2=t2||r2.shift();do if(o2=t2.execute(t2.state,t2.delay))break;while((t2=r2[0])&&t2.id===n2&&r2.shift());if(this._active=!1,o2){for(;(t2=r2[0])&&t2.id===n2&&r2.shift();)t2.unsubscribe();throw o2}}}(class extends sg{constructor(t2,n2){super(t2,n2),this.scheduler=t2,this.work=n2}requestAsyncId(t2,n2,r2=0){return r2!==null&&r2>0?super.requestAsyncId(t2,n2,r2):(t2.actions.push(this),t2._scheduled||(t2._scheduled=pu.setImmediate(t2.flush.bind(t2,void 0))))}recycleAsyncId(t2,n2,r2=0){var o2;if(r2!=null?r2>0:this.delay>0)return super.recycleAsyncId(t2,n2,r2);const{actions:i2}=t2;n2!=null&&((o2=i2[i2.length-1])===null||o2===void 0?void 0:o2.id)!==n2&&(pu.clearImmediate(n2),t2._scheduled===n2&&(t2._scheduled=void 0))}});function dI(e22,t2=cu){return function(e3){return it((t22,n2)=>{let r2=!1,o2=null,i2=null,s2=!1;const a2=()=>{if(i2==null||i2.unsubscribe(),i2=null,r2){r2=!1;const c2=o2;o2=null,n2.next(c2)}s2&&n2.complete()},l2=()=>{i2=null,s2&&n2.complete()};t22.subscribe(Qe(n2,c2=>{r2=!0,o2=c2,i2||Bt(e3(c2)).subscribe(i2=Qe(n2,a2,l2))},()=>{s2=!0,(!r2||!i2||i2.closed)&&n2.complete()}))})}(()=>cg(e22,t2))}let gg;try{gg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gg=!1}let Do,Ea=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this._platformId=n2,this.isBrowser=this._platformId?function(e3){return e3===cS}(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Jr))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();function tU(){if(Do==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Do=!1,Do;if("scrollBehavior"in document.documentElement.style)Do=!0;else{const e22=Element.prototype.scrollTo;Do=!!e22&&!/\{\s*\[native code\]\s*\}/.test(e22.toString())}}return Do}function hI(e22){return e22.composedPath?e22.composedPath()[0]:e22.target}function pI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const rU=new S2("cdk-dir-doc",{providedIn:"root",factory:function(){return E2(Me)}}),iU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this.value="ltr",this.change=new ke,n2&&(this.value=function(e3){const t2=(e3==null?void 0:e3.toLowerCase())||"";return t2==="auto"&&typeof navigator<"u"&&(navigator!=null&&navigator.language)?iU.test(navigator.language)?"rtl":"ltr":t2==="rtl"?"rtl":"ltr"}((n2.body?n2.body.dir:null)||(n2.documentElement?n2.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(rU,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),yg=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({}));let e22=_e22;return e22})(),cU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2){this._ngZone=n2,this._platform=r2,this._scrolled=new Te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o2}register(n2){this.scrollContainers.has(n2)||this.scrollContainers.set(n2,n2.elementScrolled().subscribe(()=>this._scrolled.next(n2)))}deregister(n2){const r2=this.scrollContainers.get(n2);r2&&(r2.unsubscribe(),this.scrollContainers.delete(n2))}scrolled(n2=20){return this._platform.isBrowser?new ot(r2=>{this._globalSubscription||this._addGlobalListener();const o2=n2>0?this._scrolled.pipe(dI(n2)).subscribe(r2):this._scrolled.subscribe(r2);return this._scrolledCount++,()=>{o2.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ig()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n2,r2)=>this.deregister(r2)),this._scrolled.complete()}ancestorScrolled(n2,r2){const o2=this.getAncestorScrollContainers(n2);return this.scrolled(r2).pipe(Kt(i2=>!i2||o2.indexOf(i2)>-1))}getAncestorScrollContainers(n2){const r2=[];return this.scrollContainers.forEach((o2,i2)=>{this._scrollableContainsElement(i2,n2)&&r2.push(i2)}),r2}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n2,r2){let o2=NS(r2),i2=n2.getElementRef().nativeElement;do if(o2==i2)return!0;while(o2=o2.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>On(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(K),D(Ea),D(Me,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),gI=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2){this._platform=n2,this._change=new Te,this._changeListener=i2=>{this._change.next(i2)},this._document=o2,r2.runOutsideAngular(()=>{if(n2.isBrowser){const i2=this._getWindow();i2.addEventListener("resize",this._changeListener),i2.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n2=this._getWindow();n2.removeEventListener("resize",this._changeListener),n2.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n2={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n2}getViewportRect(){const n2=this.getViewportScrollPosition(),{width:r2,height:o2}=this.getViewportSize();return{top:n2.top,left:n2.left,bottom:n2.top+o2,right:n2.left+r2,height:o2,width:r2}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n2=this._document,r2=this._getWindow(),o2=n2.documentElement,i2=o2.getBoundingClientRect();return{top:-i2.top||n2.body.scrollTop||r2.scrollY||o2.scrollTop||0,left:-i2.left||n2.body.scrollLeft||r2.scrollX||o2.scrollLeft||0}}change(n2=20){return n2>0?this._change.pipe(dI(n2)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n2=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n2.innerWidth,height:n2.innerHeight}:{width:0,height:0}}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Ea),D(K),D(Me,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),mI=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({}));let e22=_e22;return e22})(),yI=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({imports:[yg,mI,yg,mI]}));let e22=_e22;return e22})();const vI=tU();class dU{constructor(t2,n2){this._viewportRuler=t2,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n2}attach(){}enable(){if(this._canBeEnabled()){const t2=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t2.style.left||"",this._previousHTMLStyles.top=t2.style.top||"",t2.style.left=Ye(-this._previousScrollPosition.left),t2.style.top=Ye(-this._previousScrollPosition.top),t2.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t2=this._document.documentElement,r2=t2.style,o2=this._document.body.style,i2=r2.scrollBehavior||"",s2=o2.scrollBehavior||"";this._isEnabled=!1,r2.left=this._previousHTMLStyles.left,r2.top=this._previousHTMLStyles.top,t2.classList.remove("cdk-global-scrollblock"),vI&&(r2.scrollBehavior=o2.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vI&&(r2.scrollBehavior=i2,o2.scrollBehavior=s2)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n2=this._document.body,r2=this._viewportRuler.getViewportSize();return n2.scrollHeight>r2.height||n2.scrollWidth>r2.width}}class fU{constructor(t2,n2,r2,o2){this._scrollDispatcher=t2,this._ngZone=n2,this._viewportRuler=r2,this._config=o2,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t2){this._overlayRef=t2}enable(){if(this._scrollSubscription)return;const t2=this._scrollDispatcher.scrolled(0).pipe(Kt(n2=>!n2||!this._overlayRef.overlayElement.contains(n2.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t2.subscribe(()=>{const n2=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n2-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t2.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _I{enable(){}disable(){}attach(){}}function vg(e22,t2){return t2.some(n2=>e22.bottom<n2.top||e22.top>n2.bottom||e22.right<n2.left||e22.left>n2.right)}function bI(e22,t2){return t2.some(n2=>e22.top<n2.top||e22.bottom>n2.bottom||e22.left<n2.left||e22.right>n2.right)}class hU{constructor(t2,n2,r2,o2){this._scrollDispatcher=t2,this._viewportRuler=n2,this._ngZone=r2,this._config=o2,this._scrollSubscription=null}attach(t2){this._overlayRef=t2}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n2=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r2,height:o2}=this._viewportRuler.getViewportSize();vg(n2,[{width:r2,height:o2,bottom:o2,right:r2,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let pU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2){this._scrollDispatcher=n2,this._viewportRuler=r2,this._ngZone=o2,this.noop=()=>new _I,this.close=s2=>new fU(this._scrollDispatcher,this._ngZone,this._viewportRuler,s2),this.block=()=>new dU(this._viewportRuler,this._document),this.reposition=s2=>new hU(this._scrollDispatcher,this._viewportRuler,this._ngZone,s2),this._document=i2}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(cU),D(gI),D(K),D(Me))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();class gU{constructor(t2){if(this.scrollStrategy=new _I,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t2){const n2=Object.keys(t2);for(const r2 of n2)t2[r2]!==void 0&&(this[r2]=t2[r2])}}}class mU{constructor(t2,n2){this.connectionPair=t2,this.scrollableViewProperties=n2}}let EI=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this._attachedOverlays=[],this._document=n2}ngOnDestroy(){this.detach()}add(n2){this.remove(n2),this._attachedOverlays.push(n2)}remove(n2){const r2=this._attachedOverlays.indexOf(n2);r2>-1&&this._attachedOverlays.splice(r2,1),this._attachedOverlays.length===0&&this.detach()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),yU=(()=>{var _e7,_t3;const _e22=class _e22 extends EI{constructor(n2,r2){super(n2),this._ngZone=r2,this._keydownListener=o2=>{const i2=this._attachedOverlays;for(let s2=i2.length-1;s2>-1;s2--)if(i2[s2]._keydownEvents.observers.length>0){const a2=i2[s2]._keydownEvents;this._ngZone?this._ngZone.run(()=>a2.next(o2)):a2.next(o2);break}}}add(n2){super.add(n2),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me),D(K,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),vU=(()=>{var _e7,_t3;const _e22=class _e22 extends EI{constructor(n2,r2,o2){super(n2),this._platform=r2,this._ngZone=o2,this._cursorStyleIsSet=!1,this._pointerDownListener=i2=>{this._pointerDownEventTarget=hI(i2)},this._clickListener=i2=>{const s2=hI(i2),a2=i2.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s2;this._pointerDownEventTarget=null;const l2=this._attachedOverlays.slice();for(let c2=l2.length-1;c2>-1;c2--){const u2=l2[c2];if(u2._outsidePointerEvents.observers.length<1||!u2.hasAttached())continue;if(wI(u2.overlayElement,s2)||wI(u2.overlayElement,a2))break;const d2=u2._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d2.next(i2)):d2.next(i2)}}}add(n2){if(super.add(n2),!this._isAttached){const r2=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r2)):this._addEventListeners(r2),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r2.style.cursor,r2.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n2=this._document.body;n2.removeEventListener("pointerdown",this._pointerDownListener,!0),n2.removeEventListener("click",this._clickListener,!0),n2.removeEventListener("auxclick",this._clickListener,!0),n2.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n2.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n2){n2.addEventListener("pointerdown",this._pointerDownListener,!0),n2.addEventListener("click",this._clickListener,!0),n2.addEventListener("auxclick",this._clickListener,!0),n2.addEventListener("contextmenu",this._clickListener,!0)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me),D(Ea),D(K,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();function wI(e22,t2){const n2=typeof ShadowRoot<"u"&&ShadowRoot;let r2=t2;for(;r2;){if(r2===e22)return!0;r2=n2&&r2 instanceof ShadowRoot?r2.host:r2.parentNode}return!1}let DI=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2){this._platform=r2,this._document=n2}ngOnDestroy(){var _a3;(_a3=this._containerElement)==null||_a3.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n2="cdk-overlay-container";if(this._platform.isBrowser||pI()){const o2=this._document.querySelectorAll(`.${n2}[platform="server"], .${n2}[platform="test"]`);for(let i2=0;i2<o2.length;i2++)o2[i2].remove()}const r2=this._document.createElement("div");r2.classList.add(n2),pI()?r2.setAttribute("platform","test"):this._platform.isBrowser||r2.setAttribute("platform","server"),this._document.body.appendChild(r2),this._containerElement=r2}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me),D(Ea))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();class _U{constructor(t2,n2,r2,o2,i2,s2,a2,l2,c2,u2=!1,d2){this._portalOutlet=t2,this._host=n2,this._pane=r2,this._config=o2,this._ngZone=i2,this._keyboardDispatcher=s2,this._document=a2,this._location=l2,this._outsideClickDispatcher=c2,this._animationsDisabled=u2,this._injector=d2,this._backdropElement=null,this._backdropClick=new Te,this._attachments=new Te,this._detachments=new Te,this._locationChanges=Fe.EMPTY,this._backdropClickHandler=h2=>this._backdropClick.next(h2),this._backdropTransitionendHandler=h2=>{this._disposeBackdrop(h2.target)},this._keydownEvents=new Te,this._outsidePointerEvents=new Te,this._renders=new Te,o2.scrollStrategy&&(this._scrollStrategy=o2.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o2.positionStrategy,this._afterRenderRef=Ep(()=>function(e22,t22){!t22&&ns();const n22=(t22==null?void 0:t22.injector)??E2(Re);return kt(n22)?(bt("NgAfterRender"),Nb(e22,n22,!1,(t22==null?void 0:t22.phase)??It.MixedReadWrite)):Mb}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t2){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n2=this._portalOutlet.attach(t2);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),function(e22,t22){!t22&&ns();const n22=(t22==null?void 0:t22.injector)??E2(Re);return kt(n22)?(bt("NgAfterNextRender"),Nb(e22,n22,!0,(t22==null?void 0:t22.phase)??It.MixedReadWrite)):Mb}(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof(n2==null?void 0:n2.onDestroy)=="function"&&n2.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n2}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t2=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t2}dispose(){var _a3;const t2=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),(_a3=this._host)==null||_a3.remove(),this._previousHostParent=this._pane=this._host=null,t2&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t2){t2!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t2,this.hasAttached()&&(t2.attach(this),this.updatePosition()))}updateSize(t2){this._config={...this._config,...t2},this._updateElementSize()}setDirection(t2){this._config={...this._config,direction:t2},this._updateElementDirection()}addPanelClass(t2){this._pane&&this._toggleClasses(this._pane,t2,!0)}removePanelClass(t2){this._pane&&this._toggleClasses(this._pane,t2,!1)}getDirection(){const t2=this._config.direction;return t2?typeof t2=="string"?t2:t2.value:"ltr"}updateScrollStrategy(t2){t2!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t2,this.hasAttached()&&(t2.attach(this),t2.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t2=this._pane.style;t2.width=Ye(this._config.width),t2.height=Ye(this._config.height),t2.minWidth=Ye(this._config.minWidth),t2.minHeight=Ye(this._config.minHeight),t2.maxWidth=Ye(this._config.maxWidth),t2.maxHeight=Ye(this._config.maxHeight)}_togglePointerEvents(t2){this._pane.style.pointerEvents=t2?"":"none"}_attachBackdrop(){const t2="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t2)})}):this._backdropElement.classList.add(t2)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t2=this._backdropElement;if(t2){if(this._animationsDisabled)return void this._disposeBackdrop(t2);t2.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t2.addEventListener("transitionend",this._backdropTransitionendHandler)}),t2.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t2)},500))}}_toggleClasses(t2,n2,r2){const o2=OS(n2||[]).filter(i2=>!!i2);o2.length&&(r2?t2.classList.add(...o2):t2.classList.remove(...o2))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t2=this._renders.pipe(au(Yn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t2.unsubscribe())})})}_disposeScrollStrategy(){const t2=this._scrollStrategy;t2&&(t2.disable(),t2.detach&&t2.detach())}_disposeBackdrop(t2){t2&&(t2.removeEventListener("click",this._backdropClickHandler),t2.removeEventListener("transitionend",this._backdropTransitionendHandler),t2.remove(),this._backdropElement===t2&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const CI="cdk-overlay-connected-position-bounding-box",bU=/([A-Za-z%]+)$/;class EU{get positions(){return this._preferredPositions}constructor(t2,n2,r2,o2,i2){this._viewportRuler=n2,this._document=r2,this._platform=o2,this._overlayContainer=i2,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Te,this._resizeSubscription=Fe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t2)}attach(t2){this._validatePositions(),t2.hostElement.classList.add(CI),this._overlayRef=t2,this._boundingBox=t2.hostElement,this._pane=t2.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t2=this._originRect,n2=this._overlayRect,r2=this._viewportRect,o2=this._containerRect,i2=[];let s2;for(let a2 of this._preferredPositions){let l2=this._getOriginPoint(t2,o2,a2),c2=this._getOverlayPoint(l2,n2,a2),u2=this._getOverlayFit(c2,n2,r2,a2);if(u2.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a2,l2);this._canFitWithFlexibleDimensions(u2,c2,r2)?i2.push({position:a2,origin:l2,overlayRect:n2,boundingBoxRect:this._calculateBoundingBoxRect(l2,a2)}):(!s2||s2.overlayFit.visibleArea<u2.visibleArea)&&(s2={overlayFit:u2,overlayPoint:c2,originPoint:l2,position:a2,overlayRect:n2})}if(i2.length){let a2=null,l2=-1;for(const c2 of i2){const u2=c2.boundingBoxRect.width*c2.boundingBoxRect.height*(c2.position.weight||1);u2>l2&&(l2=u2,a2=c2)}return this._isPushed=!1,void this._applyPosition(a2.position,a2.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s2.position,s2.originPoint);this._applyPosition(s2.position,s2.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Co(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(CI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t2=this._lastPosition;if(t2){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n2=this._getOriginPoint(this._originRect,this._containerRect,t2);this._applyPosition(t2,n2)}else this.apply()}withScrollableContainers(t2){return this._scrollables=t2,this}withPositions(t2){return this._preferredPositions=t2,t2.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t2){return this._viewportMargin=t2,this}withFlexibleDimensions(t2=!0){return this._hasFlexibleDimensions=t2,this}withGrowAfterOpen(t2=!0){return this._growAfterOpen=t2,this}withPush(t2=!0){return this._canPush=t2,this}withLockedPosition(t2=!0){return this._positionLocked=t2,this}setOrigin(t2){return this._origin=t2,this}withDefaultOffsetX(t2){return this._offsetX=t2,this}withDefaultOffsetY(t2){return this._offsetY=t2,this}withTransformOriginOn(t2){return this._transformOriginSelector=t2,this}_getOriginPoint(t2,n2,r2){let o2,i2;if(r2.originX=="center")o2=t2.left+t2.width/2;else{const s2=this._isRtl()?t2.right:t2.left,a2=this._isRtl()?t2.left:t2.right;o2=r2.originX=="start"?s2:a2}return n2.left<0&&(o2-=n2.left),i2=r2.originY=="center"?t2.top+t2.height/2:r2.originY=="top"?t2.top:t2.bottom,n2.top<0&&(i2-=n2.top),{x:o2,y:i2}}_getOverlayPoint(t2,n2,r2){let o2,i2;return o2=r2.overlayX=="center"?-n2.width/2:r2.overlayX==="start"?this._isRtl()?-n2.width:0:this._isRtl()?0:-n2.width,i2=r2.overlayY=="center"?-n2.height/2:r2.overlayY=="top"?0:-n2.height,{x:t2.x+o2,y:t2.y+i2}}_getOverlayFit(t2,n2,r2,o2){const i2=II(n2);let{x:s2,y:a2}=t2,l2=this._getOffset(o2,"x"),c2=this._getOffset(o2,"y");l2&&(s2+=l2),c2&&(a2+=c2);let h2=0-a2,f2=a2+i2.height-r2.height,p2=this._subtractOverflows(i2.width,0-s2,s2+i2.width-r2.width),g2=this._subtractOverflows(i2.height,h2,f2),m2=p2*g2;return{visibleArea:m2,isCompletelyWithinViewport:i2.width*i2.height===m2,fitsInViewportVertically:g2===i2.height,fitsInViewportHorizontally:p2==i2.width}}_canFitWithFlexibleDimensions(t2,n2,r2){if(this._hasFlexibleDimensions){const o2=r2.bottom-n2.y,i2=r2.right-n2.x,s2=SI(this._overlayRef.getConfig().minHeight),a2=SI(this._overlayRef.getConfig().minWidth);return(t2.fitsInViewportVertically||s2!=null&&s2<=o2)&&(t2.fitsInViewportHorizontally||a2!=null&&a2<=i2)}return!1}_pushOverlayOnScreen(t2,n2,r2){if(this._previousPushAmount&&this._positionLocked)return{x:t2.x+this._previousPushAmount.x,y:t2.y+this._previousPushAmount.y};const o2=II(n2),i2=this._viewportRect,s2=Math.max(t2.x+o2.width-i2.width,0),a2=Math.max(t2.y+o2.height-i2.height,0),l2=Math.max(i2.top-r2.top-t2.y,0),c2=Math.max(i2.left-r2.left-t2.x,0);let u2=0,d2=0;return u2=o2.width<=i2.width?c2||-s2:t2.x<this._viewportMargin?i2.left-r2.left-t2.x:0,d2=o2.height<=i2.height?l2||-a2:t2.y<this._viewportMargin?i2.top-r2.top-t2.y:0,this._previousPushAmount={x:u2,y:d2},{x:t2.x+u2,y:t2.y+d2}}_applyPosition(t2,n2){if(this._setTransformOrigin(t2),this._setOverlayElementStyles(n2,t2),this._setBoundingBoxStyles(n2,t2),t2.panelClass&&this._addPanelClasses(t2.panelClass),this._positionChanges.observers.length){const r2=this._getScrollVisibility();if(t2!==this._lastPosition||!this._lastScrollVisibility||!function(e22,t22){return e22===t22||e22.isOriginClipped===t22.isOriginClipped&&e22.isOriginOutsideView===t22.isOriginOutsideView&&e22.isOverlayClipped===t22.isOverlayClipped&&e22.isOverlayOutsideView===t22.isOverlayOutsideView}(this._lastScrollVisibility,r2)){const o2=new mU(t2,r2);this._positionChanges.next(o2)}this._lastScrollVisibility=r2}this._lastPosition=t2,this._isInitialRender=!1}_setTransformOrigin(t2){if(!this._transformOriginSelector)return;const n2=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r2,o2=t2.overlayY;r2=t2.overlayX==="center"?"center":this._isRtl()?t2.overlayX==="start"?"right":"left":t2.overlayX==="start"?"left":"right";for(let i2=0;i2<n2.length;i2++)n2[i2].style.transformOrigin=`${r2} ${o2}`}_calculateBoundingBoxRect(t2,n2){const r2=this._viewportRect,o2=this._isRtl();let i2,s2,a2,u2,d2,h2;if(n2.overlayY==="top")s2=t2.y,i2=r2.height-s2+this._viewportMargin;else if(n2.overlayY==="bottom")a2=r2.height-t2.y+2*this._viewportMargin,i2=r2.height-a2+this._viewportMargin;else{const f2=Math.min(r2.bottom-t2.y+r2.top,t2.y),p2=this._lastBoundingBoxSize.height;i2=2*f2,s2=t2.y-f2,i2>p2&&!this._isInitialRender&&!this._growAfterOpen&&(s2=t2.y-p2/2)}if(n2.overlayX==="end"&&!o2||n2.overlayX==="start"&&o2)h2=r2.width-t2.x+2*this._viewportMargin,u2=t2.x-this._viewportMargin;else if(n2.overlayX==="start"&&!o2||n2.overlayX==="end"&&o2)d2=t2.x,u2=r2.right-t2.x;else{const f2=Math.min(r2.right-t2.x+r2.left,t2.x),p2=this._lastBoundingBoxSize.width;u2=2*f2,d2=t2.x-f2,u2>p2&&!this._isInitialRender&&!this._growAfterOpen&&(d2=t2.x-p2/2)}return{top:s2,left:d2,bottom:a2,right:h2,width:u2,height:i2}}_setBoundingBoxStyles(t2,n2){const r2=this._calculateBoundingBoxRect(t2,n2);!this._isInitialRender&&!this._growAfterOpen&&(r2.height=Math.min(r2.height,this._lastBoundingBoxSize.height),r2.width=Math.min(r2.width,this._lastBoundingBoxSize.width));const o2={};if(this._hasExactPosition())o2.top=o2.left="0",o2.bottom=o2.right=o2.maxHeight=o2.maxWidth="",o2.width=o2.height="100%";else{const i2=this._overlayRef.getConfig().maxHeight,s2=this._overlayRef.getConfig().maxWidth;o2.height=Ye(r2.height),o2.top=Ye(r2.top),o2.bottom=Ye(r2.bottom),o2.width=Ye(r2.width),o2.left=Ye(r2.left),o2.right=Ye(r2.right),o2.alignItems=n2.overlayX==="center"?"center":n2.overlayX==="end"?"flex-end":"flex-start",o2.justifyContent=n2.overlayY==="center"?"center":n2.overlayY==="bottom"?"flex-end":"flex-start",i2&&(o2.maxHeight=Ye(i2)),s2&&(o2.maxWidth=Ye(s2))}this._lastBoundingBoxSize=r2,Co(this._boundingBox.style,o2)}_resetBoundingBoxStyles(){Co(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Co(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t2,n2){const r2={},o2=this._hasExactPosition(),i2=this._hasFlexibleDimensions,s2=this._overlayRef.getConfig();if(o2){const u2=this._viewportRuler.getViewportScrollPosition();Co(r2,this._getExactOverlayY(n2,t2,u2)),Co(r2,this._getExactOverlayX(n2,t2,u2))}else r2.position="static";let a2="",l2=this._getOffset(n2,"x"),c2=this._getOffset(n2,"y");l2&&(a2+=`translateX(${l2}px) `),c2&&(a2+=`translateY(${c2}px)`),r2.transform=a2.trim(),s2.maxHeight&&(o2?r2.maxHeight=Ye(s2.maxHeight):i2&&(r2.maxHeight="")),s2.maxWidth&&(o2?r2.maxWidth=Ye(s2.maxWidth):i2&&(r2.maxWidth="")),Co(this._pane.style,r2)}_getExactOverlayY(t2,n2,r2){let o2={top:"",bottom:""},i2=this._getOverlayPoint(n2,this._overlayRect,t2);return this._isPushed&&(i2=this._pushOverlayOnScreen(i2,this._overlayRect,r2)),t2.overlayY==="bottom"?o2.bottom=this._document.documentElement.clientHeight-(i2.y+this._overlayRect.height)+"px":o2.top=Ye(i2.y),o2}_getExactOverlayX(t2,n2,r2){let s2,o2={left:"",right:""},i2=this._getOverlayPoint(n2,this._overlayRect,t2);return this._isPushed&&(i2=this._pushOverlayOnScreen(i2,this._overlayRect,r2)),s2=this._isRtl()?t2.overlayX==="end"?"left":"right":t2.overlayX==="end"?"right":"left",s2==="right"?o2.right=this._document.documentElement.clientWidth-(i2.x+this._overlayRect.width)+"px":o2.left=Ye(i2.x),o2}_getScrollVisibility(){const t2=this._getOriginRect(),n2=this._pane.getBoundingClientRect(),r2=this._scrollables.map(o2=>o2.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bI(t2,r2),isOriginOutsideView:vg(t2,r2),isOverlayClipped:bI(n2,r2),isOverlayOutsideView:vg(n2,r2)}}_subtractOverflows(t2,...n2){return n2.reduce((r2,o2)=>r2-Math.max(o2,0),t2)}_getNarrowedViewportRect(){const t2=this._document.documentElement.clientWidth,n2=this._document.documentElement.clientHeight,r2=this._viewportRuler.getViewportScrollPosition();return{top:r2.top+this._viewportMargin,left:r2.left+this._viewportMargin,right:r2.left+t2-this._viewportMargin,bottom:r2.top+n2-this._viewportMargin,width:t2-2*this._viewportMargin,height:n2-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t2,n2){return n2==="x"?t2.offsetX==null?this._offsetX:t2.offsetX:t2.offsetY==null?this._offsetY:t2.offsetY}_validatePositions(){}_addPanelClasses(t2){this._pane&&OS(t2).forEach(n2=>{n2!==""&&this._appliedPanelClasses.indexOf(n2)===-1&&(this._appliedPanelClasses.push(n2),this._pane.classList.add(n2))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t2=>{this._pane.classList.remove(t2)}),this._appliedPanelClasses=[])}_getOriginRect(){const t2=this._origin;if(t2 instanceof lt)return t2.nativeElement.getBoundingClientRect();if(t2 instanceof Element)return t2.getBoundingClientRect();const n2=t2.width||0,r2=t2.height||0;return{top:t2.y,bottom:t2.y+r2,left:t2.x,right:t2.x+n2,height:r2,width:n2}}}function Co(e22,t2){for(let n2 in t2)t2.hasOwnProperty(n2)&&(e22[n2]=t2[n2]);return e22}function SI(e22){if(typeof e22!="number"&&e22!=null){const[t2,n2]=e22.split(bU);return n2&&n2!=="px"?null:parseFloat(t2)}return e22||null}function II(e22){return{top:Math.floor(e22.top),right:Math.floor(e22.right),bottom:Math.floor(e22.bottom),left:Math.floor(e22.left),width:Math.floor(e22.width),height:Math.floor(e22.height)}}const TI="cdk-global-overlay-wrapper";class DU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t2){const n2=t2.getConfig();this._overlayRef=t2,this._width&&!n2.width&&t2.updateSize({width:this._width}),this._height&&!n2.height&&t2.updateSize({height:this._height}),t2.hostElement.classList.add(TI),this._isDisposed=!1}top(t2=""){return this._bottomOffset="",this._topOffset=t2,this._alignItems="flex-start",this}left(t2=""){return this._xOffset=t2,this._xPosition="left",this}bottom(t2=""){return this._topOffset="",this._bottomOffset=t2,this._alignItems="flex-end",this}right(t2=""){return this._xOffset=t2,this._xPosition="right",this}start(t2=""){return this._xOffset=t2,this._xPosition="start",this}end(t2=""){return this._xOffset=t2,this._xPosition="end",this}width(t2=""){return this._overlayRef?this._overlayRef.updateSize({width:t2}):this._width=t2,this}height(t2=""){return this._overlayRef?this._overlayRef.updateSize({height:t2}):this._height=t2,this}centerHorizontally(t2=""){return this.left(t2),this._xPosition="center",this}centerVertically(t2=""){return this.top(t2),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t2=this._overlayRef.overlayElement.style,n2=this._overlayRef.hostElement.style,r2=this._overlayRef.getConfig(),{width:o2,height:i2,maxWidth:s2,maxHeight:a2}=r2,l2=!(o2!=="100%"&&o2!=="100vw"||s2&&s2!=="100%"&&s2!=="100vw"),c2=!(i2!=="100%"&&i2!=="100vh"||a2&&a2!=="100%"&&a2!=="100vh"),u2=this._xPosition,d2=this._xOffset,h2=this._overlayRef.getConfig().direction==="rtl";let f2="",p2="",g2="";l2?g2="flex-start":u2==="center"?(g2="center",h2?p2=d2:f2=d2):h2?u2==="left"||u2==="end"?(g2="flex-end",f2=d2):(u2==="right"||u2==="start")&&(g2="flex-start",p2=d2):u2==="left"||u2==="start"?(g2="flex-start",f2=d2):(u2==="right"||u2==="end")&&(g2="flex-end",p2=d2),t2.position=this._cssPosition,t2.marginLeft=l2?"0":f2,t2.marginTop=c2?"0":this._topOffset,t2.marginBottom=this._bottomOffset,t2.marginRight=l2?"0":p2,n2.justifyContent=g2,n2.alignItems=c2?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t2=this._overlayRef.overlayElement.style,n2=this._overlayRef.hostElement,r2=n2.style;n2.classList.remove(TI),r2.justifyContent=r2.alignItems=t2.marginTop=t2.marginBottom=t2.marginLeft=t2.marginRight=t2.position="",this._overlayRef=null,this._isDisposed=!0}}let CU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2){this._viewportRuler=n2,this._document=r2,this._platform=o2,this._overlayContainer=i2}global(){return new DU}flexibleConnectedTo(n2){return new EU(n2,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(gI),D(Me),D(Ea),D(DI))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),SU=0,$i=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2,s2,a2,l2,c2,u2,d2,h2,f2){this.scrollStrategies=n2,this._overlayContainer=r2,this._componentFactoryResolver=o2,this._positionBuilder=i2,this._keyboardDispatcher=s2,this._injector=a2,this._ngZone=l2,this._document=c2,this._directionality=u2,this._location=d2,this._outsideClickDispatcher=h2,this._animationsModuleType=f2}create(n2){const r2=this._createHostElement(),o2=this._createPaneElement(r2),i2=this._createPortalOutlet(o2),s2=new gU(n2);return s2.direction=s2.direction||this._directionality.value,new _U(i2,r2,o2,s2,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(nn))}position(){return this._positionBuilder}_createPaneElement(n2){const r2=this._document.createElement("div");return r2.id="cdk-overlay-"+SU++,r2.classList.add("cdk-overlay-pane"),n2.appendChild(r2),r2}_createHostElement(){const n2=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n2),n2}_createPortalOutlet(n2){return this._appRef||(this._appRef=this._injector.get(dn)),new IH(n2,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(pU),D(DI),D(Cr),D(CU),D(yU),D(Re),D(K),D(Me),D(aU),D(GC),D(vU),D(nf,8))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})();const IU=new S2("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e22=E2($i);return()=>e22.scrollStrategies.reposition()}}),MU={provide:IU,deps:[$i],useFactory:function(e22){return()=>e22.scrollStrategies.reposition()}};let _g2=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({providers:[$i,MU],imports:[yg,fg,yI,yI]}));let e22=_e22;return e22})(),MI=(()=>{var _e7,_t3;const _e22=class _e22{create(n2){return typeof MutationObserver>"u"?null:new MutationObserver(n2)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),NU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2){this._mutationObserverFactory=n2,this._observedElements=new Map,this._ngZone=E2(K)}ngOnDestroy(){this._observedElements.forEach((n2,r2)=>this._cleanupObserver(r2))}observe(n2){const r2=NS(n2);return new ot(o2=>{const s2=this._observeElement(r2).pipe(dt(a2=>a2.filter(l2=>!function(e3){if(e3.type==="characterData"&&e3.target instanceof Comment)return!0;if(e3.type==="childList"){for(let t2=0;t2<e3.addedNodes.length;t2++)if(!(e3.addedNodes[t2]instanceof Comment))return!1;for(let t2=0;t2<e3.removedNodes.length;t2++)if(!(e3.removedNodes[t2]instanceof Comment))return!1;return!0}return!1}(l2))),Kt(a2=>!!a2.length)).subscribe(a2=>{this._ngZone.run(()=>{o2.next(a2)})});return()=>{s2.unsubscribe(),this._unobserveElement(r2)}})}_observeElement(n2){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n2))this._observedElements.get(n2).count++;else{const r2=new Te,o2=this._mutationObserverFactory.create(i2=>r2.next(i2));o2&&o2.observe(n2,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n2,{observer:o2,stream:r2,count:1})}return this._observedElements.get(n2).stream})}_unobserveElement(n2){this._observedElements.has(n2)&&(this._observedElements.get(n2).count--,this._observedElements.get(n2).count||this._cleanupObserver(n2))}_cleanupObserver(n2){if(this._observedElements.has(n2)){const{observer:r2,stream:o2}=this._observedElements.get(n2);r2&&r2.disconnect(),o2.complete(),this._observedElements.delete(n2)}}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(MI))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"root"}));let e22=_e22;return e22})(),RU=(()=>{var _e7,_t3;const _e22=class _e22{get disabled(){return this._disabled}set disabled(n2){this._disabled=n2,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n2){this._debounce=function(e3,t2=0){return function(e4){return!isNaN(parseFloat(e4))&&!isNaN(Number(e4))}(e3)?Number(e3):t2}(n2),this._subscribe()}constructor(n2,r2){this._contentObserver=n2,this._elementRef=r2,this.event=new ke,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n2=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n2.pipe(function(e3,t2=cu){return it((n22,r2)=>{let o2=null,i2=null,s2=null;const a2=()=>{if(o2){o2.unsubscribe(),o2=null;const c2=i2;i2=null,r2.next(c2)}};function l2(){const c2=s2+e3,u2=t2.now();if(u2<c2)return o2=this.schedule(void 0,c2-u2),void r2.add(o2);a2()}n22.subscribe(Qe(r2,c2=>{i2=c2,s2=t2.now(),o2||(o2=t2.schedule(l2,e3),r2.add(o2))},()=>{a2(),r2.complete()},void 0,()=>{i2=o2=null}))})}(this.debounce)):n2).subscribe(this.event)}_unsubscribe(){var _a3;(_a3=this._currentSubscription)==null||_a3.unsubscribe()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(NU),L2(lt))}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",_o],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[ar]}));let e22=_e22;return e22})(),PU=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({providers:[MI]}));let e22=_e22;return e22})();const kU=["textContent"],xU=["portalOutlet"];function FU(e22,t2){}function LU(e22,t2){if(1&e22&&(Ks(0),ee(1,"div",4,1),In(3),te(),Qs()),2&e22){const n2=ce();Y(3),Nr(n2.content)}}let AI=(()=>{var _e7,_t3;const _e22=class _e22{set content(n2){this._content=n2,this.isContentPlainString=typeof n2=="string",this.updatePortal()}get content(){return this._content}constructor(n2,r2,o2){this.viewContainerRef=n2,this.cdr=r2,this.injector=o2,this.isContentPlainString=!1}ngOnChanges(n2){var _a3;if(n2.contentTplContext&&this.portal instanceof fu){this.portal.context=this.contentTplContext;const r2=(_a3=this.portalOutlet)==null?void 0:_a3.attachedRef;r2&&!(r2 instanceof yb)&&(r2.context=this.contentTplContext)}}updatePortal(){var _a3;(_a3=this.portal)!=null&&_a3.isAttached&&this.portal.detach();const n2=this._content;if(n2)if(this.isContentPlainString){if(!this.textContent)return;this.portal=new dg(this.textContent)}else this.portal=n2 instanceof Un?new fu(n2,this.viewContainerRef,this.contentTplContext):n2 instanceof lt?new dg(n2):new du(n2,this.viewContainerRef,this.injector),this.cdr.detectChanges()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2(Ft),L2(yo),L2(Re))}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-embed-content"]],viewQuery:function(r2,o2){if(1&r2&&(fo(kU,5),fo(xU,5,oI)),2&r2){let i2;Ar(i2=Or())&&(o2.textContent=i2.first),Ar(i2=Or())&&(o2.portalOutlet=i2.first)}},inputs:{content:"content",contentTplContext:"contentTplContext"},standalone:!0,features:[Yo,Et],decls:3,vars:2,consts:[["portalOutlet",""],["textContent",""],[3,"cdkPortalOutlet"],[4,"ngIf"],["data-testid","embed-content-text"]],template:function(r2,o2){1&r2&&ve(0,FU,0,0,"ng-template",2,0,mo)(2,LU,4,1,"ng-container",3),2&r2&&(z2("cdkPortalOutlet",o2.portal),Y(2),z2("ngIf",o2.isContentPlainString))},dependencies:[fg,oI,Vi],encapsulation:2,changeDetection:0}));let e22=_e22;return e22})();function VU(e22,t2){if(1&e22&&(ee(0,"div",5),In(1),te()),2&e22){const n2=ce();Y(),po(" ",n2.title," ")}}function BU(e22,t2){if(1&e22&&Sn(0,"div",6),2&e22){const n2=ce();un("tooltip-arrow tooltip-arrow-"+n2.arrowPosition),z2("ngClass",n2.tooltipArrowClasses),wn("data-testid","tooltip-arrow-"+n2.arrowPosition)}}let jU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.invisible=!1,this.arrowPosition=null,this.tooltipPosition=null,this.projectContentChanged=new ke}ngOnChanges(n2){(n2.arrowPosition||n2.tooltipPosition)&&(this.tooltipBubbleClasses=`${this.tooltipPosition?`tooltip-${this.tooltipPosition}`:""} ${this.createWrapperClasses()}`),n2.arrowPosition&&(this.tooltipArrowClasses=this.createArrowClasses()),n2.dataCy&&(this.dataCyAttr=this.dataCy?`tooltip-${this.dataCy}`:"tooltip")}createWrapperClasses(){switch(this.arrowPosition){case ne.BottomLeft:return"dmo-flex-col dmo-items-start";case ne.Bottom:return"dmo-flex-col dmo-items-center";case ne.BottomRight:return"dmo-flex-col dmo-items-end";case ne.TopLeft:return"dmo-flex-col-reverse dmo-items-start";case ne.Top:return"dmo-flex-col-reverse dmo-items-center";case ne.TopRight:return"dmo-flex-col-reverse dmo-items-end";case ne.RightTop:return"dmo-flex-row dmo-items-start";case ne.Right:return"dmo-flex-row dmo-items-center";case ne.RightBottom:return"dmo-flex-row dmo-items-end";case ne.LeftTop:return"dmo-flex-row-reverse dmo-items-start";case ne.Left:return"dmo-flex-row-reverse dmo-items-center";case ne.LeftBottom:return"dmo-flex-row-reverse dmo-items-end"}return""}createArrowClasses(){const n2="dmo-relative dmo-w-0 dmo-h-0 dmo-border-transparent",r2=`
			${n2} 
			integromat-tooltip:dmo-border-t-black integromat-tooltip:dmo-border-l-8 integromat-tooltip:dmo-border-r-8 integromat-tooltip:dmo-border-t-8
			domino-tooltip:dmo-border-t-tooltip domino-tooltip:dmo-border-l-6 domino-tooltip:dmo-border-r-6 domino-tooltip:dmo-border-t-6
		`,o2=`
			${n2} 
			integromat-tooltip:dmo-border-b-black integromat-tooltip:dmo-border-l-8 integromat-tooltip:dmo-border-r-8 integromat-tooltip:dmo-border-b-8
			domino-tooltip:dmo-border-b-tooltip domino-tooltip:dmo-border-l-6 domino-tooltip:dmo-border-r-6 domino-tooltip:dmo-border-b-6
		`,i2=`
			${n2}
			integromat-tooltip:dmo-border-r-black integromat-tooltip:dmo-border-t-8 integromat-tooltip:dmo-border-b-8 integromat-tooltip:dmo-border-r-8
			domino-tooltip:dmo-border-r-tooltip domino-tooltip:dmo-border-t-6 domino-tooltip:dmo-border-b-6 domino-tooltip:dmo-border-r-6
		`,s2=`
			${n2}
			integromat-tooltip:dmo-border-l-black integromat-tooltip:dmo-border-t-8 integromat-tooltip:dmo-border-b-8 integromat-tooltip:dmo-border-l-8
			domino-tooltip:dmo-border-l-tooltip domino-tooltip:dmo-border-t-6 domino-tooltip:dmo-border-b-6 domino-tooltip:dmo-border-l-6
		`;switch(this.arrowPosition){case ne.Bottom:return r2;case ne.BottomLeft:return`${r2} integromat-tooltip:dmo-ml-12 domino-tooltip:dmo-ml-16`;case ne.BottomRight:return`${r2} integromat-tooltip:dmo-mr-12 domino-tooltip:dmo-mr-16`;case ne.Top:return o2;case ne.TopLeft:return`${o2} integromat-tooltip:dmo-ml-12 domino-tooltip:dmo-ml-16`;case ne.TopRight:return`${o2} integromat-tooltip:dmo-mr-12 domino-tooltip:dmo-mr-16`;case ne.Left:return i2;case ne.LeftTop:return`${i2} integromat-tooltip:dmo-mt-12 domino-tooltip:dmo-mt-10`;case ne.LeftBottom:return`${i2} integromat-tooltip:dmo-mb-12 domino-tooltip:dmo-mb-10`;case ne.Right:return s2;case ne.RightTop:return`${s2} integromat-tooltip:dmo-mt-12 domino-tooltip:dmo-mt-10`;case ne.RightBottom:return`${s2} integromat-tooltip:dmo-mb-12 domino-tooltip:dmo-mb-10`}return""}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-tooltip-content"]],hostVars:3,hostBindings:function(r2,o2){2&r2&&(wn("data-testid",o2.dataCyAttr),Ni("dmo-invisible",o2.invisible))},inputs:{invisible:"invisible",arrowPosition:"arrowPosition",tooltipPosition:"tooltipPosition",content:"content",title:"title",tplContext:"tplContext",dataCy:"dataCy"},outputs:{projectContentChanged:"projectContentChanged"},standalone:!0,features:[Yo,Et],decls:5,vars:5,consts:[[1,"dmo-flex","dmo-max-w-xs",3,"ngClass"],[1,"integromat-tooltip:dmo-bg-black","integromat-tooltip:dmo-rounded","integromat-tooltip:dmo-px-8","integromat-tooltip:dmo-py-4","integromat-tooltip:dmo-text-white","integromat-tooltip:dmo-text-sm","domino-tooltip:dmo-tooltip-shadow","domino-tooltip:dmo-bg-tooltip","domino-tooltip:dmo-rounded-md","domino-tooltip:dmo-px-12","domino-tooltip:dmo-py-8","domino-tooltip:dmo-text-sm-regular","domino-tooltip:dmo-text-inverse"],["class","dmo-text-sm-medium","data-testid","tooltip-title",4,"ngIf"],[3,"cdkObserveContent","content","contentTplContext"],[3,"ngClass","class",4,"ngIf"],["data-testid","tooltip-title",1,"dmo-text-sm-medium"],[3,"ngClass"]],template:function(r2,o2){1&r2&&(ee(0,"div",0)(1,"div",1),ve(2,VU,2,1,"div",2),ee(3,"dmo-embed-content",3),Vt("cdkObserveContent",function(){return o2.projectContentChanged.emit()}),te()(),ve(4,BU,1,4,"div",4),te()),2&r2&&(z2("ngClass",o2.tooltipBubbleClasses),Y(2),z2("ngIf",o2.title),Y(),z2("content",o2.content)("contentTplContext",o2.tplContext),Y(),z2("ngIf",o2.arrowPosition))},dependencies:[ha,Vi,fg,_g2,PU,RU,AI],encapsulation:2,changeDetection:0}));let e22=_e22;return e22})();new S2("DEFAULT_TOOLTIP_CONFIG");const HU=[{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",weight:4,arrowPosition:ne.Bottom,tooltipPosition:Ae.Top},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",weight:3,arrowPosition:ne.Top,tooltipPosition:Ae.Bottom},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",weight:2,arrowPosition:ne.Right,tooltipPosition:Ae.Left},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",weight:1,arrowPosition:ne.Left,tooltipPosition:Ae.Right},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",weight:0,arrowPosition:ne.BottomLeft,tooltipPosition:Ae.TopLeft},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",weight:0,arrowPosition:ne.BottomRight,tooltipPosition:Ae.TopRight},{originX:"end",originY:"top",overlayX:"start",overlayY:"top",weight:0,arrowPosition:ne.LeftTop,tooltipPosition:Ae.RightTop},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",weight:0,arrowPosition:ne.LeftBottom,tooltipPosition:Ae.RightBottom},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",weight:0,arrowPosition:ne.TopLeft,tooltipPosition:Ae.BottomLeft},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",weight:0,arrowPosition:ne.TopRight,tooltipPosition:Ae.BottomRight},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom",weight:0,arrowPosition:ne.RightBottom,tooltipPosition:Ae.LeftBottom},{originX:"start",originY:"top",overlayX:"end",overlayY:"top",weight:0,arrowPosition:ne.RightTop,tooltipPosition:Ae.LeftTop}];class UU{constructor(t2,n2,r2){this.overlay=t2,this.viewContainerRef=n2,this.destroyRef=r2,this.invisible=!0,this.visibility$=new Te,this.triggerSubscription=new Fe,this.tooltipHovered$=new Te}destroy(){var _a3;(_a3=this.tooltipSubscription)==null||_a3.unsubscribe()}tooltipContentChanged({content:t2,title:n2,offset:r2,position:o2,connectedElement:i2}){this.isContentPlainString=typeof t2=="string",this.setTooltipInput("content",t2),this.setTooltipInput("title",n2),this.updateOpenedTooltipPosition({offset:r2,connectedElement:i2,position:o2})}setTooltipInput(t2,n2){var _a3;(_a3=this.componentRef)==null||_a3.setInput(t2,n2)}showTooltip({trigger:t2,offset:n2,content:r2,title:o2,tplContext:i2,dataCy:s2,connectedElement:a2,position:l2,overlayPanelClass:c2}){var _a3,_b2,_c2,_d3,_e7,_f3;(_a3=this.tooltipSubscription)==null||_a3.unsubscribe(),this.tooltipSubscription=new Fe,this.arrowPosition=null,this.invisible=!0,this.portal=new du(jU,this.viewContainerRef);const u2=this.createPositionStrategy({offset:n2,connectedElement:a2,position:l2}),d2=this.overlay.scrollStrategies.reposition({autoClose:!0,scrollThrottle:5});this.overlayRef=this.overlay.create({panelClass:c2,positionStrategy:u2,scrollStrategy:d2}),this.componentRef=this.overlayRef.attach(this.portal);const h2=(_b2=this.componentRef)==null?void 0:_b2.instance;if(this.tooltipSubscription.add(h2.projectContentChanged.subscribe(()=>{var _a4;return(_a4=this.overlayRef)==null?void 0:_a4.updatePosition()})),(_c2=this.componentRef)==null||_c2.setInput("content",r2),(_d3=this.componentRef)==null||_d3.setInput("title",o2),(_e7=this.componentRef)==null||_e7.setInput("tplContext",i2),(_f3=this.componentRef)==null||_f3.setInput("dataCy",s2),this.subscribePositionStrategy(u2),t2===Hi.Hover){const f2=this.componentRef.location.nativeElement;this.tooltipSubscription.add(Yn(On(f2,"mouseenter").pipe(dt(()=>!0)),On(f2,"mouseleave").pipe(dt(()=>!1))).subscribe(this.tooltipHovered$))}}hideTooltip(){var _a3,_b2;(_a3=this.overlayRef)==null||_a3.dispose(),this.overlayRef=null,(_b2=this.tooltipSubscription)==null||_b2.unsubscribe()}rebindTriggers({disabled:t2,trigger:n2,targetElement:r2,unbindExistingTriggers:o2=!0}){if(o2&&this.unbindTriggers(),t2)return;const i2=r2;let s2;switch(n2){case Hi.Hover:s2=hg([this.tooltipHovered$.pipe(KS(!1)),Yn(On(i2,"mouseenter").pipe(dt(()=>!0)),On(i2,"mouseleave").pipe(dt(()=>!1)))]).pipe(dt(([a2,l2])=>a2||l2));break;case Hi.Click:s2=On(i2,"click").pipe(lI((a2,l2)=>!a2,!1));break;case Hi.Focus:s2=Yn(On(i2,"focus").pipe(dt(()=>!0)),On(i2,"blur").pipe(dt(()=>!1)));break;default:throw new Error(`Unknown tooltip trigger "${n2}"`)}this.triggerSubscription.add(s2.pipe(uu(),dt(a2=>({element:i2,visible:a2})),He(this.destroyRef)).subscribe(this.visibility$))}updateOpenedTooltipPosition({offset:t2,connectedElement:n2,position:r2}){if(!this.overlayRef)return;const o2=this.createPositionStrategy({offset:t2,connectedElement:n2,position:r2});this.subscribePositionStrategy(o2),this.overlayRef.updatePositionStrategy(o2),this.overlayRef.updatePosition()}subscribePositionStrategy(t2){var _a3;(_a3=this.positionUpdateSubscription)==null||_a3.unsubscribe(),this.positionUpdateSubscription=t2.positionChanges.pipe(dt(n2=>n2.connectionPair),uu(),He(this.destroyRef)).subscribe(n2=>{var _a4,_b2,_c2,_d3;(_a4=this.componentRef)==null||_a4.setInput("arrowPosition",n2.arrowPosition),(_b2=this.componentRef)==null||_b2.setInput("tooltipPosition",n2.tooltipPosition),(_c2=this.componentRef)==null||_c2.changeDetectorRef.detectChanges(),(_d3=this.overlayRef)==null||_d3.updatePosition()})}unbindTriggers(){var _a3;(_a3=this.triggerSubscription)==null||_a3.unsubscribe(),this.triggerSubscription=new Fe}createPositionStrategy({offset:t2,connectedElement:n2,position:r2}){return this.overlay.position().flexibleConnectedTo(n2).withPositions(this.createTooltipPosition({offset:t2,position:r2})).withFlexibleDimensions(!1).withGrowAfterOpen(!0).withLockedPosition(!1)}createTooltipPosition({offset:t2,position:n2}){return[...HU].map(o2=>{let i2,s2;const a2=t2||{x:0,y:0,horizontal:0,vertical:0},l2={x:a2.x||0,y:a2.y||0,horizontal:a2.horizontal||0,vertical:a2.vertical||0};switch(o2.tooltipPosition){case Ae.Top:s2=l2.y-l2.vertical,i2=l2.x;break;case Ae.TopLeft:s2=l2.y-l2.vertical,i2=l2.x-l2.horizontal;break;case Ae.TopRight:s2=l2.y-l2.vertical,i2=l2.x+l2.horizontal;break;case Ae.Bottom:s2=l2.y+l2.vertical,i2=l2.x;break;case Ae.BottomLeft:s2=l2.y+l2.vertical,i2=l2.x-l2.horizontal;break;case Ae.BottomRight:s2=l2.y+l2.vertical,i2=l2.x+l2.horizontal;break;case Ae.Right:i2=l2.x+l2.horizontal,s2=l2.y;break;case Ae.RightTop:i2=l2.x+l2.horizontal,s2=l2.y-l2.vertical;break;case Ae.RightBottom:i2=l2.x+l2.horizontal,s2=l2.y+l2.vertical;break;case Ae.Left:i2=l2.x-l2.horizontal,s2=l2.y;break;case Ae.LeftTop:i2=l2.x-l2.horizontal,s2=l2.y-l2.vertical;break;case Ae.LeftBottom:i2=l2.x-l2.horizontal,s2=l2.y+l2.vertical}let c2=o2.weight;if(Array.isArray(n2)){const u2=n2.findIndex(d2=>d2===o2.tooltipPosition);u2!==-1&&(c2=100*(n2.length-u2))}else typeof n2=="string"&&n2===o2.tooltipPosition&&(c2=10);return{...o2,offsetX:i2,offsetY:s2,weight:c2}}).sort((o2,i2)=>o2.weight==null||i2.weight==null?0:i2.weight-o2.weight)}}const $U={offset:{vertical:2,horizontal:2}},OI="dmo-el-tooltip";function NI(e22){if(!e22)return e22;if(typeof e22=="string"){let t2;try{t2=JSON.parse(e22)}catch{t2=e22}return t2}return e22}function RI(e22){return e22&&(typeof e22=="string"?JSON.parse(e22):e22)}const zU=["templateRef"],GU=["*"];function WU(e22,t2){1&e22&&Wn(0)}const qU=`[data-${OI}]`,Ca="data-dmo-el-tooltip";let YU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(n2,r2,o2,i2){this.overlay=n2,this.viewContainerRef=r2,this.destroyRef=o2,this.ngZone=i2,this.trigger=Hi.Hover,this.disabled=!1,this.datasetPrefix=JS(OI),this.visibilitySubscription=new Fe,this.tooltips=[]}ngOnInit(){var _a3;this.anchorElements=document.querySelectorAll(this.selector||qU);const n2=(_a3=globalThis.window.dominoElements)==null?void 0:_a3.events,r2=({data:o2})=>o2.attributeName===Ca;!this.selector&&n2&&(Yn(n2.on$(gt.ATTRIBUTE_ADDED,r2),n2.on$(gt.NODE_ADDED)).pipe(eI(o2=>{if(o2.data.attributeName===Ca)return ig(o2);const i2=[];return o2.type===gt.ATTRIBUTE_ADDED||o2.data.target.querySelectorAll(`[${Ca}]`).forEach(s2=>{s2 instanceof HTMLElement&&i2.push({type:o2.type,data:{target:s2,attributeName:Ca}})}),kr(i2)}),He(this.destroyRef)).subscribe(({data:o2})=>this.ngZone.runTask(()=>this.createTooltipRef(o2.target))),Yn(n2.on$(gt.ATTRIBUTE_REMOVED,r2),n2.on$(gt.NODE_REMOVED,({data:o2})=>o2.attributeName===Ca||this.tooltips.some(i2=>o2.target.contains(i2.el)))).pipe(Kt(()=>!!this.tooltips.length),eI(({data:o2})=>kr(this.tooltips.reduce((i2,s2,a2)=>((s2.el.isSameNode(o2.target)||o2.target.contains(s2.el))&&i2.push(s2),i2),[]))),He(this.destroyRef)).subscribe(o2=>{o2.removed$.next(),o2.ref.hideTooltip();const i2=this.tooltips.findIndex(({el:s2})=>s2.isSameNode(o2.el));i2!==-1&&this.tooltips.splice(i2,1)}),n2.on$(gt.ATTRIBUTE_CHANGED,r2).pipe(dt(o2=>({tooltipInstance:this.tooltips.find(i2=>i2.el.isSameNode(o2.data.target)),event:o2})),Kt(({tooltipInstance:o2})=>!!o2),He(this.destroyRef)).subscribe(({tooltipInstance:o2,event:i2})=>{const{content:s2,title:a2}=this.tooltipData(i2.data.target);o2.ref.setTooltipInput("content",s2),o2.ref.setTooltipInput("title",a2)}))}ngAfterViewInit(){var _a3;if((_a3=this.anchorElements)!=null&&_a3.length)for(let n2=0;n2<this.anchorElements.length;n2++){const r2=this.anchorElements.item(n2);this.createTooltipRef(r2)}}ngOnDestroy(){this.visibilitySubscription.unsubscribe()}createTooltipRef(n2){const r2=new UU(this.overlay,this.viewContainerRef,this.destroyRef),{disabled:o2,trigger:i2,inDelay:s2,outDelay:a2}=this.tooltipData(n2),l2={ref:r2,el:n2,removed$:new Te};this.tooltips.push(l2),this.visibilitySubscription.add(r2.visibility$.pipe(function(e3){return it((t2,n22)=>{try{t2.subscribe(n22)}finally{n22.add(e3)}})}(()=>r2.destroy()),rg(c2=>{const u2=ig(c2);return c2.visible?s2?u2.pipe(nI(s2)):u2:a2?u2.pipe(nI(a2)):u2}),uu((c2,u2)=>c2.visible===u2.visible),au(l2.removed$),He(this.destroyRef)).subscribe(c2=>{const u2=c2.element,{trigger:d2,offset:h2,content:f2,title:p2,dataCy:g2,position:m2}=this.tooltipData(u2);c2.visible?r2.showTooltip({connectedElement:u2,trigger:d2,offset:h2,content:f2,title:p2,dataCy:g2,position:m2,overlayPanelClass:"dmo-el-tooltip-overlay-pane"}):r2.hideTooltip()})),r2.rebindTriggers({disabled:o2,trigger:i2,targetElement:n2,unbindExistingTriggers:!1})}tooltipData(n2){return{content:(n2==null?void 0:n2.dataset[this.datasetPrefix])||this.text||this.templateRef,title:n2==null?void 0:n2.dataset[`${this.datasetPrefix}Title`],trigger:(n2==null?void 0:n2.dataset[`${this.datasetPrefix}Trigger`])||this.trigger,offset:RI(n2==null?void 0:n2.dataset[`${this.datasetPrefix}Offset`])||this.offset||$U.offset,dataCy:(n2==null?void 0:n2.dataset[`${this.datasetPrefix}DataCy`])||this.dataCy,position:NI(n2==null?void 0:n2.dataset[`${this.datasetPrefix}Position`])||this.position,disabled:_o(n2==null?void 0:n2.dataset[`${this.datasetPrefix}Disabled`])||this.disabled,inDelay:da(n2==null?void 0:n2.dataset[`${this.datasetPrefix}InDelay`])||this.inDelay,outDelay:da(n2==null?void 0:n2.dataset[`${this.datasetPrefix}OutDelay`])||this.outDelay}}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(L2($i),L2(Ft),L2(Gt),L2(K))}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],viewQuery:function(r2,o2){if(1&r2&&fo(zU,5),2&r2){let i2;Ar(i2=Or())&&(o2.templateRef=i2.first)}},inputs:{text:"text",title:"title",selector:"selector",trigger:"trigger",offset:[2,"offset","offset",RI],dataCy:"dataCy",position:[2,"position","position",NI],disabled:[2,"disabled","disabled",_o],inDelay:[2,"inDelay","inDelay",da],outDelay:[2,"outDelay","outDelay",da]},standalone:!0,features:[ar,Et],ngContentSelectors:GU,decls:2,vars:0,consts:[["templateRef",""]],template:function(r2,o2){1&r2&&(Gn(),ve(0,WU,1,0,"ng-template",null,0,mo))},encapsulation:2}));let e22=_e22;return e22})();function PI(e22,t2,n2){const r2=ge(e22)||t2||n2?{next:e22,error:t2,complete:n2}:e22;return r2?it((o2,i2)=>{var s2;(s2=r2.subscribe)===null||s2===void 0||s2.call(r2);let a2=!0;o2.subscribe(Qe(i2,l2=>{var c2;(c2=r2.next)===null||c2===void 0||c2.call(r2,l2),i2.next(l2)},()=>{var l2;a2=!1,(l2=r2.complete)===null||l2===void 0||l2.call(r2),i2.complete()},l2=>{var c2;a2=!1,(c2=r2.error)===null||c2===void 0||c2.call(r2,l2),i2.error(l2)},()=>{var l2,c2;a2&&((l2=r2.unsubscribe)===null||l2===void 0||l2.call(r2)),(c2=r2.finalize)===null||c2===void 0||c2.call(r2)}))}):gr}class Sa{constructor(){this._itemClicked$=new Te,this.itemClicked$=this._itemClicked$,this._menuItems$=new No([]),this.menuItems$=this._menuItems$,this._selectedItem$=new No(null),this.selectedItem$=this._selectedItem$,this._focusedItem$=new No(null),this.focusedItem$=this._focusedItem$,this._disabled$=new No(!1),this.disabled$=this._disabled$,this._changeVisibility$=new Te,this.changeVisibility$=this._changeVisibility$}clickItem(t2){this._itemClicked$.next(t2)}addMenuItem(t2){this._menuItems$.next([...this._menuItems$.value,t2])}removeMenuItem(t2){this._menuItems$.next(this._menuItems$.value.filter(n2=>n2!==t2))}selectItem(t2){this._selectedItem$.next(t2)}focusItem(t2){this._focusedItem$.next(t2)}setDisabled(t2){this._disabled$.next(t2)}showDropdown(){this._changeVisibility$.next(!0)}hideDropdown(){this._changeVisibility$.next(!1)}}const QU=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}],kI=new S2("UI_DROPDOWN_OVERLAY_PANEL_CLASS");let XU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.dropdownRef=E2(Sa),this.document=E2(Me),this.destroyRef=E2(Gt),this.cdr=E2(yo),this.hideEvents$=new ng(1),this.viewContainerRef=E2(Ft),this.overlay=E2($i),this.injector=E2(Re),this.overlayPanelClass=E2(kI,{optional:!0})}get opened(){return!!this.overlayRef}get offsetFromAnchor(){return typeof this.overlayOffset=="number"?this.overlayOffset:typeof this.dropdownDefaultOffset=="number"?this.dropdownDefaultOffset:0}ngOnInit(){this.dropdownRef.changeVisibility$.pipe(He(this.destroyRef)).subscribe(n2=>{n2&&!this.opened?this.showDropdown():!n2&&this.opened&&this.hideDropdown()})}toggleDropdown(){this.opened?this.hideDropdown():this.showDropdown()}showDropdown(){var _a3;if(this.overlayRef)return;(_a3=this.dropdownSubscriptions)==null||_a3.unsubscribe();const n2=this.overlay.position().flexibleConnectedTo(this.anchor||this.elm).withPositions(QU).withFlexibleDimensions(!0).withGrowAfterOpen(!0).withDefaultOffsetY(this.offsetFromAnchor).withLockedPosition(!1);this.overlayRef=this.overlay.create({panelClass:this.overlayPanelClass||void 0,positionStrategy:n2,scrollStrategy:this.createScrollStrategy(),disposeOnNavigation:!0}),this.overlayRef.attach(new fu(this.content,this.viewContainerRef,{},this.injector)),this.overlayRef.overlayElement.setAttribute("data-testid",this.dataCy),this.overlayRef.hostElement.setAttribute("data-testid",this.overlayHostDataCy),this.useClickOutsideListener(),this.dropdownSubscriptions=Yn(this.overlayRef.detachments(),this.hideEvents$.pipe(function(){return rg(gr)}()),this.overlayRef.keydownEvents().pipe(Kt(r2=>r2.key==="Escape"))).pipe(He(this.destroyRef)).subscribe(()=>this.hideDropdown()),this.dropdownRef.selectItem(null),this.dropdownRef.focusItem(null),this.dropdownSubscriptions.add(this.dropdownRef.itemClicked$.pipe(Kt(r2=>!r2.stayOnClick)).subscribe(r2=>this.hideDropdown())),this.dropdownSubscriptions.add(this.dropdownRef.disabled$.pipe(uu()).subscribe(r2=>this.disabled=r2)),this.bindKeyboardControls(),this.dropdownRef.showDropdown()}hideDropdown(){var _a3;this.overlayRef&&((_a3=this.dropdownSubscriptions)==null||_a3.unsubscribe(),this.overlayRef.dispose(),this.overlayRef=null,this.dropdownRef.hideDropdown(),this.cdr.markForCheck())}createScrollStrategy(){return this.stayOnScroll?this.overlay.scrollStrategies.noop():this.overlay.scrollStrategies.close()}bindKeyboardControls(){var _a3;if((_a3=this.keyControlsSubscriptions)==null||_a3.unsubscribe(),!this.keyboardControls||!this.overlayRef)return;const n2=this.overlayRef.keydownEvents();this.keyControlsSubscriptions=hg([n2,this.dropdownRef.menuItems$]).pipe(Kt(([r2])=>["ArrowUp","ArrowDown"].includes(r2.key)),PI(([r2])=>r2.preventDefault()),function(...e3){const t2=qS(e3);return it((n22,r2)=>{const o2=e3.length,i2=new Array(o2);let s2=e3.map(()=>!1),a2=!1;for(let l2=0;l2<o2;l2++)Bt(e3[l2]).subscribe(Qe(r2,c2=>{i2[l2]=c2,!a2&&!s2[l2]&&(s2[l2]=!0,(a2=s2.every(gr))&&(s2=null))},Zi));n22.subscribe(Qe(r2,l2=>{if(a2){const c2=[l2,...i2];r2.next(t2?t2(...c2):c2)}}))})}(this.dropdownRef.selectedItem$),lI((r2,[[o2,i2],s2])=>{const a2=i2.filter(u2=>!u2.disabled),l2=a2.length;r2!==s2&&(r2=s2);const c2=r2?a2.indexOf(r2):null;if(c2===null)return a2[0];switch(o2.key){case"ArrowUp":return c2===0?a2[l2-1]:a2[c2-1];case"ArrowDown":return c2===l2-1?a2[0]:a2[c2+1]}return r2},null),He(this.destroyRef)).subscribe(r2=>{this.dropdownRef.selectItem(r2),this.dropdownRef.focusItem(r2)}),this.keyControlsSubscriptions.add(n2.pipe(Kt(r2=>r2.key==="Enter"),PI(r2=>r2.preventDefault()),wo(()=>this.dropdownRef.selectedItem$.pipe(lg(1))),Kt(Boolean),He(this.destroyRef)).subscribe(r2=>{const o2=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:this.document.defaultView});o2.preventDefault(),r2.elm.nativeElement.dispatchEvent(o2),r2.stayOnClick||this.hideDropdown()}))}useClickOutsideListener(){this.hideOnClickOutside?this.overlayRef&&this.hideEvents$.next(this.overlayRef.outsidePointerEvents().pipe(Kt(n2=>n2.target!==this.elm))):this.hideEvents$.next(iu)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,standalone:!0}));let e22=_e22;return e22})(),xI=(()=>{var _e7,_t3;const _e22=class _e22{get selected(){return this._selected}get focused(){return this._focused}set disabled(n2){this._disabled=qn(n2)}get disabled(){return this._disabled}set externalLink(n2){this._externalLink=qn(n2)}get externalLink(){return this._externalLink}set stayOnClick(n2){this._stayOnClick=qn(n2)}get stayOnClick(){return this._stayOnClick}mousemove(){this.disabled||(this.dropdownRef.selectItem(this),this.dropdownRef.focusItem(null))}mouseover(){this.disabled||(this.dropdownRef.selectItem(this),this.dropdownRef.focusItem(null))}mouseout(){this.disabled||(this.dropdownRef.selectItem(null),this.dropdownRef.focusItem(null))}onClick(){this.disabled||this.dropdownRef.clickItem(this)}get noIcon(){var _a3;return typeof((_a3=this.elm.nativeElement)==null?void 0:_a3.querySelector)=="function"&&!this.elm.nativeElement.querySelector("i")}constructor(){this.hostClasses=`
		dmo-flex dmo-flex-row dmo-items-center dmo-no-underline
		integromat-dropdown:dmo-px-24 integromat-dropdown:dmo-py-4 integromat-dropdown:dmo-text-[#374151] integromat-dropdown:dmo-text-base
		domino-dropdown:dmo-pr-10 domino-dropdown:dmo-pl-10 domino-dropdown:dmo-py-4 domino-dropdown:dmo-text-neutral domino-dropdown:dmo-rounded-sm domino-dropdown:dmo-bg-select domino-dropdown:dmo-text-md-regular
		domino-dropdown:dmo-border domino-dropdown:dmo-border-select

		integromat-dropdown:[&.disabled]:dmo-text-[#d1d5db] integromat-dropdown:[&.disabled]:dmo-cursor-not-allowed
		domino-dropdown:[&.disabled]:dmo-opacity-40

		integromat-dropdown:[&:not(.disabled)]:dmo-transition-colors

		[&:not(.disabled).selected]:dmo-cursor-pointer
		integromat-dropdown:[&:not(.disabled).selected]:dmo-bg-[#f3f4f6]
		domino-dropdown:[&:not(.disabled):not(.focused).selected]:dmo-bg-select-hover domino-dropdown:[&:not(.disabled):not(.focused).selected]:dmo-border-select-hover

		integromat-dropdown:[&_i]:dmo-mr-[9px]
		domino-dropdown:[&.no-icon]:dmo-pl-[38px]
		domino-dropdown:[&_i]:dmo-mr-8 domino-dropdown:[&_i]:dmo-size-20 domino-dropdown:[&_i]:dmo-text-[length:--dmo-spacing-16] domino-dropdown:[&_i]:dmo-py-2

		domino-dropdown:[&:not(.disabled).focused]:dmo-border-primary-accented domino-dropdown:[&:not(.disabled).focused]:dmo-border domino-dropdown:[&:not(.disabled).focused]:dmo-border-solid domino-dropdown:[&:not(.disabled).focused]:dmo-bg-select

		[&.externalLink]:after:dmo-fa-light [&.externalLink]:after:dmo-ml-auto [&.externalLink]:after:dmo-inline-block
		[&.externalLink]:after:dmo-leading-none [&.externalLink]:after:dmo-fa-arrow-up-right-from-square
	`,this._disabled=!1,this._externalLink=!1,this._stayOnClick=!1,this._selected=!1,this._focused=!1,this.dropdownRef=E2(Sa),this.cdr=E2(yo),this.destroyRef=E2(Gt),this.elm=E2(lt),this.dropdownRef.addMenuItem(this),hg([this.dropdownRef.selectedItem$,this.dropdownRef.focusedItem$]).pipe(He(this.destroyRef)).subscribe(([n2,r2])=>{this._selected=n2===this,this._focused=r2===this,this.cdr.markForCheck()})}ngOnDestroy(){this.dropdownRef.removeMenuItem(this)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["li","dmoDropdownMenuItem",""],["button","dmoDropdownMenuItem",""],["a","dmoDropdownMenuItem",""]],hostAttrs:[1,"dmo-dropdown-menu-item"],hostVars:12,hostBindings:function(r2,o2){1&r2&&Vt("mousemove",function(){return o2.mousemove()})("mouseover",function(){return o2.mouseover()})("mouseout",function(){return o2.mouseout()})("click",function(){return o2.onClick()}),2&r2&&(un(o2.hostClasses),Ni("selected",o2.selected)("focused",o2.focused)("disabled",o2.disabled)("externalLink",o2.externalLink)("no-icon",o2.noIcon))},inputs:{disabled:[0,"dmoDropdownMenuItemDisabled","disabled"],externalLink:[0,"dmoDropdownMenuItemExternalLink","externalLink"],stayOnClick:[0,"dmoDropdownMenuItemStayOnClick","stayOnClick"]},exportAs:["dmoDropdownMenuItem"],standalone:!0}));let e22=_e22;return e22})(),JU=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.hostClasses=`
			dmo-flex dmo-flex-col dmo-rounded-md dmo-border
			integromat-dropdown:dmo-border-[#d1d5db] integromat-dropdown:dmo-bg-white integromat-dropdown:dmo-py-8
			domino-dropdown:dmo-tooltip-shadow domino-dropdown:dmo-border-neutral-subdued domino-dropdown:dmo-bg-select domino-dropdown:dmo-p-4 domino-dropdown:[&.no-icons_.no-icon]:dmo-pl-12
		`,this.noIcons=!1,this.dropdownRef=E2(Sa),this.destroyRef=E2(Gt)}ngAfterViewInit(){var _a3,_b2;(_a3=this.dropdownMenuItems)==null||_a3.changes.pipe(Jp(uI),He(this.destroyRef)).subscribe(n2=>{this.noIcons=!n2.some(r2=>!r2.noIcon)}),(_b2=this.dropdownMenuItems)==null||_b2.notifyOnChanges()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","dmoDropdownMenu",""]],contentQueries:function(r2,o2,i2){if(1&r2&&qw(i2,xI,4),2&r2){let s2;Ar(s2=Or())&&(o2.dropdownMenuItems=s2)}},hostVars:4,hostBindings:function(r2,o2){2&r2&&(un(o2.hostClasses),Ni("no-icons",o2.noIcons))},exportAs:["dmoDropdownMenu"],standalone:!0}));let e22=_e22;return e22})(),e$=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.hostClasses="integromat-dropdown:after:dmo-border-[#e9ecef] domino-dropdown:after:dmo-border-neutral-subdued after:dmo-content-[''] after:dmo-block after:dmo-w-full after:dmo-my-2 after:dmo-border-t after:dmo-h-px"}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.dir=st({type:_e22,selectors:[["","dmoDropdownMenuDivider",""]],hostVars:2,hostBindings:function(r2,o2){2&r2&&un(o2.hostClasses)},standalone:!0}));let e22=_e22;return e22})();function bg(e22,t2,...n2){if(t2===!0)return void e22();if(t2===!1)return;const r2=new Oo({next:()=>{r2.unsubscribe(),e22()}});return Bt(t2(...n2)).subscribe(r2)}const o$=["*"],FI=["dmo-el-dropdown-item","dmo-el-dropdown-divider"];let LI=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this._dropdownChildren$=new No([]),this.dropdownChildren$=this._dropdownChildren$.asObservable().pipe(function(e3,t2,n2){let r2,o2=!1;return e3&&typeof e3=="object"?{bufferSize:r2=1/0,windowTime:t2=1/0,refCount:o2=!1,scheduler:n2}=e3:r2=e3??1/0,function(e4={}){const{connector:t22=()=>new Te,resetOnError:n22=!0,resetOnComplete:r22=!0,resetOnRefCountZero:o22=!0}=e4;return i2=>{let s2,a2,l2,c2=0,u2=!1,d2=!1;const h2=()=>{a2==null||a2.unsubscribe(),a2=void 0},f2=()=>{h2(),s2=l2=void 0,u2=d2=!1},p2=()=>{const g2=s2;f2(),g2==null||g2.unsubscribe()};return it((g2,m2)=>{c2++,!d2&&!u2&&h2();const v2=l2=l2??t22();m2.add(()=>{c2--,c2===0&&!d2&&!u2&&(a2=bg(p2,o22))}),v2.subscribe(m2),!s2&&c2>0&&(s2=new Oo({next:y2=>v2.next(y2),error:y2=>{d2=!0,h2(),a2=bg(f2,n22,y2),v2.error(y2)},complete:()=>{u2=!0,h2(),a2=bg(f2,r22),v2.complete()}}),Bt(g2).subscribe(s2))})(i2)}}({connector:()=>new ng(r2,t2,n2),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o2})}({bufferSize:1,refCount:!0})),this.elementRef=E2(lt),this.destroyRef=E2(Gt)}get dropdownChildren(){return this._dropdownChildren$.getValue()}ngOnInit(){var n2=this;return re2(function*(){var _a3;n2._dropdownChildren$.next(n2.queryDropdownChildren(n2.elementRef.nativeElement));const r2=(_a3=globalThis.window.dominoElements)==null?void 0:_a3.events,o2=({type:i2,data:s2})=>{if("tagName"in s2&&s2.tagName&&FI.includes(s2.tagName.toLowerCase())){if(i2===gt.NODE_REMOVED)return n2.dropdownChildren.some(a2=>a2.isSameNode(s2.target));if(i2===gt.NODE_ADDED)return n2.elementRef.nativeElement.isSameNode(s2.target.parentElement)}return!1};r2&&Yn(r2.on$(gt.NODE_ADDED,o2),r2.on$(gt.NODE_REMOVED,o2)).pipe(He(n2.destroyRef)).subscribe(i2=>{n2._dropdownChildren$.next(n2.queryDropdownChildren(n2.elementRef.nativeElement))})})()}queryDropdownChildren(n2){return Array.from(n2.querySelectorAll(FI.join(",")))}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-el-dropdown-menu"]],standalone:!0,features:[Et],ngContentSelectors:o$,decls:1,vars:0,template:function(r2,o2){1&r2&&(Gn(),Wn(0))},encapsulation:2}));let e22=_e22;return e22})();const i$=["templateRef"],s$=["*"];function a$(e22,t2){if(1&e22){const n2=lr();ee(0,"li",6),Vt("click",function(o2){return sn(n2),an(ce().$implicit.onClick(o2))}),te()}if(2&e22){const n2=ce().$implicit;Yt(n2.style),un(n2.class),z2("dmoDropdownMenuItemDisabled",n2.disabled)("dmoDropdownMenuItemExternalLink",n2.externalLink)("dmoDropdownMenuItemStayOnClick",n2.stayOnClick)("innerHTML",n2.innerHTML,t_)}}function l$(e22,t2){if(1&e22&&Sn(0,"li",7),2&e22){const n2=ce().$implicit;Yt(n2.style),un(n2.class)}}function c$(e22,t2){1&e22&&(Ks(0,3),ve(1,a$,1,8,"li",4)(2,l$,1,4,"li",5),Qs()),2&e22&&(z2("ngSwitch",t2.$implicit.tagName.toLowerCase()),Y(),z2("ngSwitchCase","dmo-el-dropdown-item"),Y(),z2("ngSwitchCase","dmo-el-dropdown-divider"))}function u$(e22,t2){if(1&e22&&(ee(0,"ul",1),ve(1,c$,3,3,"ng-container",2),function(e3,t22){const n2=Q();let r2;const o2=e3+M2;n2.firstCreatePass?(r2=function(e4,t3){if(t3)for(let n22=t3.length-1;n22>=0;n22--){const r22=t3[n22];if(e4===r22.name)return r22}}(t22,n2.pipeRegistry),n2.data[o2]=r2,r2.onDestroy&&(n2.destroyHooks??(n2.destroyHooks=[])).push(o2,r2.onDestroy)):r2=n2.data[o2];const i2=r2.factory||(r2.factory=$r(r2.type)),a2=Ot(L2);try{const l2=bl(!1),c2=i2();return bl(l2),function(e4,t3,n22,r22){n22>=e4.data.length&&(e4.data[n22]=null,e4.blueprint[n22]=null),t3[n22]=r22}(n2,_2(),o2,c2),c2}finally{Ot(a2)}}(2,"async"),te()),2&e22){const n2=ce();Yt(n2.style),un(n2.class),Y(),z2("ngForOf",SD(2,6,n2.dropdownMenuComponent.dropdownChildren$))("ngForTrackBy",n2.trackByIndex)}}let d$=(()=>{var _e7,_t3;const _e22=class _e22 extends XU{set keyboardControls(n2){this._keyboardControls=qn(n2),this.overlayRef&&this.bindKeyboardControls()}get keyboardControls(){return this._keyboardControls}set stayOnScroll(n2){this._stayOnScroll=qn(n2),this.overlayRef&&this.overlayRef.updateScrollStrategy(this.createScrollStrategy())}get stayOnScroll(){return this._stayOnScroll}set disabled(n2){this._disabled=qn(n2),this._disabled&&this.hideDropdown(),this.dropdownRef.setDisabled(this._disabled)}get disabled(){return this._disabled}set hideOnClickOutside(n2){this._hideOnClickOutside=qn(n2),this.useClickOutsideListener()}get hideOnClickOutside(){return this._hideOnClickOutside}constructor(){super(),this.dataCy="dmo-el-dropdown-content",this.overlayHostDataCy="cdk-overlay-host-via-dmo-el-dropdown",this._keyboardControls=!0,this._stayOnScroll=!1,this._disabled=!1,this._hideOnClickOutside=!0,this.dropdownDefaultOffset=2,this.zone=E2(K),this.elementRef=E2(lt),this.elementRef.nativeElement.show=()=>this.zone.runTask(()=>!this.disabled&&this.showDropdown.bind(this)()),this.elementRef.nativeElement.hide=()=>this.zone.runTask(()=>!this.disabled&&this.hideDropdown.bind(this)()),this.elementRef.nativeElement.detectChanges=()=>this.zone.runTask(()=>this.cdr.detectChanges())}ngOnInit(){super.ngOnInit();const n2=this.document.querySelector(`[data-dmo-el-dropdown="${this.id}"]`);n2&&(this.anchorSelector&&(this.anchor=this.document.querySelector(this.anchorSelector)),this.elm=n2,On(this.elm,"click").pipe(He(this.destroyRef)).subscribe(()=>!this.disabled&&this.toggleDropdown.bind(this)()))}trackByIndex(n2){return n2}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],viewQuery:function(r2,o2){if(1&r2&&(fo(i$,5),fo(LI,5)),2&r2){let i2;Ar(i2=Or())&&(o2.content=i2.first),Ar(i2=Or())&&(o2.dropdownMenuComponent=i2.first)}},inputs:{id:"id",anchorSelector:"anchorSelector",dataCy:"dataCy",overlayHostDataCy:"overlayHostDataCy",overlayOffset:[2,"overlayOffset","overlayOffset",da],style:"style",class:"class",keyboardControls:"keyboardControls",stayOnScroll:"stayOnScroll",disabled:"disabled",hideOnClickOutside:"hideOnClickOutside"},standalone:!0,features:[Kh([{provide:Sa,useClass:Sa},{provide:kI,useValue:"dmo-el-dropdown-overlay-pane"}]),ar,hi,Et],ngContentSelectors:s$,decls:4,vars:0,consts:[["templateRef",""],["dmoDropdownMenu",""],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],["dmoDropdownMenuItem","",3,"style","class","dmoDropdownMenuItemDisabled","dmoDropdownMenuItemExternalLink","dmoDropdownMenuItemStayOnClick","innerHTML","click",4,"ngSwitchCase"],["dmoDropdownMenuDivider","",3,"style","class",4,"ngSwitchCase"],["dmoDropdownMenuItem","",3,"click","dmoDropdownMenuItemDisabled","dmoDropdownMenuItemExternalLink","dmoDropdownMenuItemStayOnClick","innerHTML"],["dmoDropdownMenuDivider",""]],template:function(r2,o2){1&r2&&(Gn(),ve(0,u$,3,8,"ng-template",null,0,mo),ee(2,"dmo-el-dropdown-menu"),Wn(3),te())},dependencies:[aS,pa,Xc,iS,JU,xI,e$,LI],encapsulation:2}));let e22=_e22;return e22})();const f$=["*"];let h$=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.dropdownItemClick=new ke,this.elementRef=E2(lt)}onClick(n2){this.disabled||this.dropdownItemClick.emit(n2)}ngOnInit(){this.elementRef.nativeElement.onClick=this.onClick.bind(this)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],inputs:{disabled:[2,"disabled","disabled",_o],externalLink:[2,"externalLink","externalLink",_o],stayOnClick:[2,"stayOnClick","stayOnClick",_o],class:"class",style:"style"},outputs:{dropdownItemClick:"dropdownItemClick"},standalone:!0,features:[ar,Et],ngContentSelectors:f$,decls:1,vars:0,template:function(r2,o2){1&r2&&(Gn(),Wn(0))},encapsulation:2}));let e22=_e22;return e22})(),p$=(()=>{var _e7,_t3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],inputs:{class:"class",style:"style"},standalone:!0,features:[Et],decls:0,vars:0,template:function(r2,o2){},encapsulation:2}));let e22=_e22;return e22})();var zi=function(e22){return e22.INFO="info",e22.SUCCESS="success",e22.WARNING="warning",e22.DANGER="danger",e22.BRAND="brand",e22}(zi||{});const g$=["*"];let Eg=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.subdued=!1}get hostDefaultClasses(){const n2=["dmo-text-xs dmo-inline-block dmo-rounded-4 dmo-px-12 dmo-py-4 dmo-rounded dmo-font-bold dmo-cursor-pointer dmo-whitespace-nowrap dmo-text-center"];switch(this.type){case zi.INFO:n2.push(this.subdued?"dmo-text-bothblack dmo-bg-static-info-subdued":"dmo-bg-active-info dmo-text-inverse");break;case zi.SUCCESS:n2.push(this.subdued?"dmo-text-bothblack dmo-bg-static-success-subdued":"dmo-bg-active-success dmo-text-inverse");break;case zi.WARNING:n2.push(this.subdued?"dmo-text-bothblack dmo-bg-static-warning-subdued":"dmo-bg-active-warning dmo-text-bothblack");break;case zi.DANGER:n2.push(this.subdued?"dmo-text-bothblack dmo-bg-static-danger-subdued":"dmo-bg-active-danger dmo-text-inverse");break;case zi.BRAND:n2.push(this.subdued?"dmo-text-bothblack dmo-bg-static-brand-subdued":"dmo-bg-active-brand dmo-text-inverse")}return n2.join(" ")}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-notification-button"]],hostVars:2,hostBindings:function(r2,o2){2&r2&&un(o2.hostDefaultClasses)},inputs:{type:"type",subdued:[2,"subdued","subdued",qn]},standalone:!0,features:[ar,Et],ngContentSelectors:g$,decls:1,vars:0,template:function(r2,o2){1&r2&&(Gn(),Wn(0))},encapsulation:2,changeDetection:0}));let e22=_e22;return e22})();var Qt=function(e22){return e22.INFO="info",e22.SUCCESS="success",e22.WARNING="warning",e22.DANGER="danger",e22.BRAND="brand",e22}(Qt||{}),Ia=function(e22){return e22.RIGHT="right",e22.BOTTOM="bottom",e22}(Ia||{});const y$=["*"],v$=(e22,t2,n2,r2,o2)=>({"dmo-fa-solid":e22,"before:dmo-fa-circle-info":t2,"before:dmo-fa-circle-check":n2,"before:dmo-fa-hexagon-exclamation":r2,"domino-icon-error-circle-solid":o2}),_$=e22=>({"min-[320px]:dmo-hidden":e22}),b$=()=>({testid:"static-message-cta-bottom"}),E$=()=>({testid:"static-message-cta-right"});function w$(e22,t2){if(1&e22&&(ee(0,"header",9),In(1),te()),2&e22){const n2=ce();Y(),Nr(n2.title)}}function D$(e22,t2){if(1&e22&&(ee(0,"li"),In(1),te()),2&e22){const n2=t2.$implicit;Y(),Nr(n2)}}function C$(e22,t2){if(1&e22&&(ee(0,"ul",10),ve(1,D$,2,1,"li",11),te()),2&e22){const n2=ce();Y(),z2("ngForOf",n2.bulletPoints)}}function S$(e22,t2){1&e22&&Mr(0)}function I$(e22,t2){if(1&e22&&(ee(0,"div",12),ve(1,S$,1,0,"ng-container",13),te()),2&e22){const n2=ce(),r2=ho(11);z2("ngClass",Cc(3,_$,n2.buttonPosition===n2.UiStaticMessageButtonPosition.RIGHT)),Y(),z2("ngTemplateOutlet",r2)("ngTemplateOutletContext",go(5,b$))}}function T$(e22,t2){1&e22&&Mr(0)}function M$(e22,t2){if(1&e22&&(ee(0,"div",14),ve(1,T$,1,0,"ng-container",13),te()),2&e22){ce();const n2=ho(11);Y(),z2("ngTemplateOutlet",n2)("ngTemplateOutletContext",go(2,E$))}}function A$(e22,t2){if(1&e22){const n2=lr();ee(0,"div",15)(1,"button",16),Vt("click",function(o2){return sn(n2),ce().close(),an(o2.preventDefault())}),Sn(2,"i",17),te()()}}function O$(e22,t2){if(1&e22){const n2=lr();ee(0,"dmo-notification-button",18),Vt("click",function(){return sn(n2),an(ce().buttonClicked.emit())}),In(1),te()}if(2&e22){const n2=t2.testid,r2=ce();z2("type",r2.buttonType),wn("data-testid",n2),Y(),po(" ",r2.buttonLabel," ")}}function N$(e22){if(e22&&![Qt.INFO,Qt.WARNING,Qt.BRAND,Qt.SUCCESS,Qt.DANGER].includes(e22))throw`Unknown static message type "${e22}".`;return e22}function R$(e22){if(e22&&![Ia.BOTTOM,Ia.RIGHT].includes(e22))throw`Unknown static message button position "${e22}".`;return e22}let P$=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.UiStaticMessageType=Qt,this.UiStaticMessageButtonPosition=Ia,this.type=Qt.INFO,this.buttonPosition=Ia.RIGHT,this.showCloseButton=!1,this.closed=new ke,this.buttonClicked=new ke,this.isVisible=!0}get hostDefaultClasses(){const n2=["dmo-rounded dmo-flex dmo-flex-row dmo-border dmo-p-16 dmo-pl-12 dmo-gap-8 dmo-text-xs"];switch(this.type){case Qt.INFO:n2.push("dmo-bg-static-info-subdued","dmo-border-info","dmo-text-info");break;case Qt.SUCCESS:n2.push("dmo-bg-static-success-subdued","dmo-border-success","dmo-text-success");break;case Qt.WARNING:n2.push("dmo-bg-static-warning-subdued","dmo-border-warning","dmo-text-warning");break;case Qt.DANGER:n2.push("dmo-bg-static-danger-subdued","dmo-border-danger","dmo-text-danger");break;case Qt.BRAND:n2.push("dmo-bg-static-brand-subdued","dmo-border-brand","dmo-text-brand")}return this.isVisible||n2.push("dmo-hidden"),n2.join(" ")}get buttonType(){return this.type}close(){this.isVisible=!1,this.closed.emit()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-static-message"]],hostVars:3,hostBindings:function(r2,o2){2&r2&&(wn("aria-label",o2.type),un(o2.hostDefaultClasses))},inputs:{type:[2,"type","type",N$],title:"title",buttonPosition:[2,"buttonPosition","buttonPosition",R$],buttonLabel:"buttonLabel",showCloseButton:[2,"showCloseButton","showCloseButton",qn],bulletPoints:"bulletPoints"},outputs:{closed:"closed",buttonClicked:"buttonClicked"},standalone:!0,features:[ar,Et],ngContentSelectors:y$,decls:12,vars:12,consts:[["button",""],[1,"dmo-mt-2"],["data-testid","static-message-icon",1,"dmo-text-base","dmo-leading-none","dmo-icon",3,"ngClass"],["data-testid","static-message-content",1,"dmo-flex-grow","dmo-text-xs","dmo-leading-4","dmo-mt-4"],["class","dmo-font-bold","data-testid","static-message-title",4,"ngIf"],["class","dmo-mt-16 dmo-mb-0 dmo-list-disc dmo-ml-24",4,"ngIf"],["class","dmo-mt-16",3,"ngClass",4,"ngIf"],["class","max-[320px]:dmo-hidden",4,"ngIf"],["class","dmo-pl-4",4,"ngIf"],["data-testid","static-message-title",1,"dmo-font-bold"],[1,"dmo-mt-16","dmo-mb-0","dmo-list-disc","dmo-ml-24"],[4,"ngFor","ngForOf"],[1,"dmo-mt-16",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"max-[320px]:dmo-hidden"],[1,"dmo-pl-4"],["data-testid","static-message-close-btn",3,"click"],[1,"dmo-far","before:dmo-fa-xmark","dmo-text-base","icon"],[3,"click","type"]],template:function(r2,o2){1&r2&&(Gn(),ee(0,"div",1),Sn(1,"i",2),te(),ee(2,"div",3),ve(3,w$,2,1,"header",4),ee(4,"div"),Wn(5),te(),ve(6,C$,2,1,"ul",5)(7,I$,2,6,"div",6),te(),ve(8,M$,2,3,"div",7)(9,A$,3,0,"div",8)(10,O$,2,3,"ng-template",null,0,mo)),2&r2&&(Y(),z2("ngClass",Sc(6,v$,o2.type!==o2.UiStaticMessageType.DANGER,o2.type===o2.UiStaticMessageType.INFO||o2.type===o2.UiStaticMessageType.BRAND,o2.type===o2.UiStaticMessageType.SUCCESS,o2.type===o2.UiStaticMessageType.WARNING,o2.type===o2.UiStaticMessageType.DANGER)),Y(2),z2("ngIf",o2.title),Y(3),z2("ngIf",o2.bulletPoints&&o2.bulletPoints.length>0),Y(),z2("ngIf",o2.buttonLabel),Y(),z2("ngIf",o2.buttonLabel&&o2.buttonPosition===o2.UiStaticMessageButtonPosition.RIGHT),Y(),z2("ngIf",o2.showCloseButton))},dependencies:[Vi,pa,ha,Eg,Jc],encapsulation:2,changeDetection:0}));let e22=_e22;return e22})();const k$=["*"],x$=(e22,t2,n2,r2,o2)=>({"dmo-fa-solid":e22,"before:dmo-fa-circle-info":t2,"before:dmo-fa-circle-check":n2,"before:dmo-fa-hexagon-exclamation":r2,"domino-icon-error-circle-solid":o2}),F$=e22=>({"min-[320px]:dmo-hidden":e22}),L$=()=>({testid:"static-message-cta-bottom"}),V$=()=>({testid:"static-message-cta-right"});function B$(e22,t2){if(1&e22&&(ee(0,"header",9),In(1),te()),2&e22){const n2=ce();Y(),Nr(n2.title)}}function j$(e22,t2){if(1&e22&&(ee(0,"li"),In(1),te()),2&e22){const n2=t2.$implicit;Y(),Nr(n2)}}function H$(e22,t2){if(1&e22&&(ee(0,"ul",10),ve(1,j$,2,1,"li",11),te()),2&e22){const n2=ce();Y(),z2("ngForOf",n2.bulletPoints)}}function U$(e22,t2){1&e22&&Mr(0)}function $$(e22,t2){if(1&e22&&(ee(0,"div",12),ve(1,U$,1,0,"ng-container",13),te()),2&e22){const n2=ce(),r2=ho(11);z2("ngClass",Cc(3,F$,n2.buttonPosition===n2.UiStaticMessageButtonPosition.RIGHT)),Y(),z2("ngTemplateOutlet",r2)("ngTemplateOutletContext",go(5,L$))}}function z$(e22,t2){1&e22&&Mr(0)}function G$(e22,t2){if(1&e22&&(ee(0,"div",14),ve(1,z$,1,0,"ng-container",13),te()),2&e22){ce();const n2=ho(11);Y(),z2("ngTemplateOutlet",n2)("ngTemplateOutletContext",go(2,V$))}}function W$(e22,t2){if(1&e22){const n2=lr();ee(0,"div",15)(1,"button",16),Vt("click",function(o2){return sn(n2),ce().close(),an(o2.preventDefault())}),Sn(2,"i",17),te()()}}function q$(e22,t2){if(1&e22){const n2=lr();ee(0,"dmo-notification-button",18),Vt("click",function(){return sn(n2),an(ce().buttonClicked.emit())}),In(1),te()}if(2&e22){const n2=t2.testid,r2=ce();z2("type",r2.buttonType),wn("data-testid",n2),Y(),po(" ",r2.buttonLabel," ")}}let Y$=(()=>{var _e7,_t3;const _e22=class _e22 extends P${};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=(()=>{let n2;return function(o2){return(n2||(n2=Yd(_e22)))(o2||_e22)}})()),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],hostAttrs:[1,"dmo-el-static-message"],standalone:!0,features:[hi,Et],ngContentSelectors:k$,decls:12,vars:12,consts:[["button",""],[1,"dmo-mt-2"],["data-testid","static-message-icon",1,"dmo-text-base","dmo-leading-none","dmo-icon",3,"ngClass"],["data-testid","static-message-content",1,"dmo-flex-grow","dmo-text-xs","dmo-leading-4","dmo-mt-4"],["class","dmo-font-bold","data-testid","static-message-title",4,"ngIf"],["class","dmo-mt-16 dmo-mb-0 dmo-list-disc dmo-ml-24",4,"ngIf"],["class","dmo-mt-16",3,"ngClass",4,"ngIf"],["class","max-[320px]:dmo-hidden",4,"ngIf"],["class","dmo-pl-4",4,"ngIf"],["data-testid","static-message-title",1,"dmo-font-bold"],[1,"dmo-mt-16","dmo-mb-0","dmo-list-disc","dmo-ml-24"],[4,"ngFor","ngForOf"],[1,"dmo-mt-16",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"max-[320px]:dmo-hidden"],[1,"dmo-pl-4"],["data-testid","static-message-close-btn",3,"click"],[1,"dmo-far","before:dmo-fa-xmark","dmo-text-base","icon"],[3,"click","type"]],template:function(r2,o2){1&r2&&(Gn(),ee(0,"div",1),Sn(1,"i",2),te(),ee(2,"div",3),ve(3,B$,2,1,"header",4),ee(4,"div"),Wn(5),te(),ve(6,H$,2,1,"ul",5)(7,$$,2,6,"div",6),te(),ve(8,G$,2,3,"div",7)(9,W$,3,0,"div",8)(10,q$,2,3,"ng-template",null,0,mo)),2&r2&&(Y(),z2("ngClass",Sc(6,x$,o2.type!==o2.UiStaticMessageType.DANGER,o2.type===o2.UiStaticMessageType.INFO||o2.type===o2.UiStaticMessageType.BRAND,o2.type===o2.UiStaticMessageType.SUCCESS,o2.type===o2.UiStaticMessageType.WARNING,o2.type===o2.UiStaticMessageType.DANGER)),Y(2),z2("ngIf",o2.title),Y(3),z2("ngIf",o2.bulletPoints&&o2.bulletPoints.length>0),Y(),z2("ngIf",o2.buttonLabel),Y(),z2("ngIf",o2.buttonLabel&&o2.buttonPosition===o2.UiStaticMessageButtonPosition.RIGHT),Y(),z2("ngIf",o2.showCloseButton))},dependencies:[Vi,pa,ha,Eg,Jc],encapsulation:2}));let e22=_e22;return e22})();var Ze=function(e22){return e22.BRAND="brand",e22.INFO="info",e22.SUCCESS="success",e22.WARNING="warning",e22.DANGER="danger",e22}(Ze||{}),Ta=function(e22){return e22.RIGHT="right",e22.BOTTOM="bottom",e22}(Ta||{}),Ke=function(e22){return e22.TOP_CENTER="top-center",e22.TOP_LEFT="top-left",e22.TOP_RIGHT="top-right",e22.BOTTOM_LEFT="bottom-left",e22.BOTTOM_RIGHT="bottom-right",e22.BOTTOM_CENTER="bottom-center",e22.CENTER="top-center",e22.CENTER_LEFT="center-left",e22.CENTER_RIGHT="center-right",e22}(Ke||{});const BI=new S2("UI_TOAST_MESSAGE_SERVICE_OPTIONS"),X$=Ke.BOTTOM_RIGHT,ez=Ze.BRAND,jI=(new S2("UI_TOAST_MESSAGE_CE_UPDATE_VIEW"),new S2("UI_TOAST_MESSAGE_OVERLAY_PANEL_CLASS")),tz=(e22,t2,n2,r2,o2)=>({"dmo-fa-solid":e22,"before:dmo-fa-circle-info":t2,"before:dmo-fa-circle-check":n2,"before:dmo-fa-hexagon-exclamation":r2,"domino-icon-error-circle-solid":o2}),nz=e22=>({"min-[400px]:dmo-hidden":e22}),rz=()=>({testid:"toast-message-cta-bottom"}),oz=()=>({testid:"toast-message-cta-right"});function iz(e22,t2){if(1&e22&&(ee(0,"header",11),In(1),te()),2&e22){const n2=ce();Y(),Nr(n2.title)}}function sz(e22,t2){1&e22&&Mr(0)}function az(e22,t2){if(1&e22&&(ee(0,"div",12),ve(1,sz,1,0,"ng-container",13),te()),2&e22){const n2=ce(),r2=ho(11);z2("ngClass",Cc(3,nz,n2.buttonPosition===n2.UiToastMessageButtonPosition.RIGHT)),Y(),z2("ngTemplateOutlet",r2)("ngTemplateOutletContext",go(5,rz))}}function lz(e22,t2){1&e22&&Mr(0)}function cz(e22,t2){if(1&e22&&(ee(0,"div",14),ve(1,lz,1,0,"ng-container",13),te()),2&e22){ce();const n2=ho(11);Y(),z2("ngTemplateOutlet",n2)("ngTemplateOutletContext",go(2,oz))}}function uz(e22,t2){if(1&e22){const n2=lr();ee(0,"dmo-notification-button",15),Vt("click",function(){return sn(n2),an(ce().buttonClicked.emit())}),In(1),te()}if(2&e22){const n2=t2.testid,r2=ce();z2("type",r2.buttonType),wn("data-testid",n2),Y(),po(" ",r2.buttonLabel," ")}}function dz(e22){const t2=Object.values(Ze);if(e22&&!t2.includes(e22))throw`Unknown alert type "${e22}".`;return e22}function fz(e22){const t2=Object.values(Ta);if(e22&&!t2.includes(e22))throw`Unknown alert button position "${e22}".`;return e22}let hz=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.UiToastMessageType=Ze,this.UiToastMessageButtonPosition=Ta,this.type=Ze.SUCCESS,this.buttonPosition=Ta.RIGHT,this.withoutPadding=!1,this.closeClicked=new ke,this.buttonClicked=new ke}get hostClasses(){const n2=["dmo-toast-shadow dmo-flex dmo-flex-row dmo-gap-8 dmo-rounded dmo-w-[400px] dmo-max-w-[400px] dmo-pointer-events-auto"];switch(this.withoutPadding||n2.push("dmo-p-12"),this.type){case Ze.BRAND:n2.push("dmo-bg-active-primary dmo-text-inverse");break;case Ze.INFO:n2.push("dmo-bg-active-info dmo-text-inverse");break;case Ze.SUCCESS:n2.push("dmo-bg-active-success dmo-text-inverse");break;case Ze.WARNING:n2.push("dmo-bg-active-warning dmo-text-bothblack");break;case Ze.DANGER:n2.push("dmo-bg-active-danger dmo-text-inverse")}return n2.join(" ")}get buttonType(){return this.type}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-toast-message"]],hostVars:3,hostBindings:function(r2,o2){2&r2&&(wn("aria-label",o2.type),un(o2.hostClasses))},inputs:{type:[2,"type","type",dz],text:"text",title:"title",buttonPosition:[2,"buttonPosition","buttonPosition",fz],buttonLabel:"buttonLabel",withoutPadding:"withoutPadding"},outputs:{closeClicked:"closeClicked",buttonClicked:"buttonClicked"},standalone:!0,features:[ar,Et],decls:12,vars:11,consts:[["button",""],[1,"dmo-my-8","dmo-leading-none"],["data-testid","toast-message-icon",1,"dmo-text-base","dmo-icon","dmo-leading-none",3,"ngClass"],["data-testid","toast-message-body",1,"dmo-flex-grow","dmo-text-sm","dmo-mt-8","dmo-mb-4"],["class","dmo-font-bold","data-testid","toast-message-title",4,"ngIf"],["data-testid","toast-message-content",3,"content"],["class","dmo-mt-8",3,"ngClass",4,"ngIf"],["class","max-[400px]:dmo-hidden dmo-mt-2",4,"ngIf"],[1,"dmo-mt-8","dmo-mr-2","dmo-leading-none"],["data-testid","toast-message-close-btn",3,"click"],[1,"dmo-far","before:dmo-fa-xmark","dmo-text-base","dmo-icon","dmo-leading-none"],["data-testid","toast-message-title",1,"dmo-font-bold"],[1,"dmo-mt-8",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"max-[400px]:dmo-hidden","dmo-mt-2"],["subdued","",3,"click","type"]],template:function(r2,o2){if(1&r2){const i2=lr();ee(0,"div",1),Sn(1,"i",2),te(),ee(2,"div",3),ve(3,iz,2,1,"header",4),Sn(4,"dmo-embed-content",5),ve(5,az,2,6,"div",6),te(),ve(6,cz,2,3,"div",7),ee(7,"div",8)(8,"button",9),Vt("click",function(){return sn(i2),an(o2.closeClicked.emit())}),Sn(9,"i",10),te()(),ve(10,uz,2,3,"ng-template",null,0,mo)}2&r2&&(Y(),z2("ngClass",Sc(5,tz,o2.type!==o2.UiToastMessageType.DANGER,o2.type===o2.UiToastMessageType.INFO||o2.type===o2.UiToastMessageType.BRAND,o2.type===o2.UiToastMessageType.SUCCESS,o2.type===o2.UiToastMessageType.WARNING,o2.type===o2.UiToastMessageType.DANGER)),Y(2),z2("ngIf",o2.title),Y(),z2("content",o2.text),Y(),z2("ngIf",o2.buttonLabel),Y(),z2("ngIf",o2.buttonLabel&&o2.buttonPosition===o2.UiToastMessageButtonPosition.RIGHT))},dependencies:[Vi,ha,AI,Eg,Jc],encapsulation:2,changeDetection:0}));let e22=_e22;return e22})();var $3=function(e22){return e22[e22.State=0]="State",e22[e22.Transition=1]="Transition",e22[e22.Sequence=2]="Sequence",e22[e22.Group=3]="Group",e22[e22.Animate=4]="Animate",e22[e22.Keyframes=5]="Keyframes",e22[e22.Style=6]="Style",e22[e22.Trigger=7]="Trigger",e22[e22.Reference=8]="Reference",e22[e22.AnimateChild=9]="AnimateChild",e22[e22.AnimateRef=10]="AnimateRef",e22[e22.Query=11]="Query",e22[e22.Stagger=12]="Stagger",e22}($3||{});const hr="*";function wg(e22,t2){return{type:$3.Trigger,name:e22,definitions:t2,options:{}}}function Dg(e22,t2=null){return{type:$3.Animate,styles:t2,timings:e22}}function Fr(e22){return{type:$3.Style,styles:e22,offset:null}}function mu(e22,t2,n2){return{type:$3.State,name:e22,styles:t2,options:n2}}function Cg(e22,t2,n2=null){return{type:$3.Transition,expr:e22,animation:t2,options:n2}}class Ma{constructor(t2=0,n2=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t2+n2}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t2=>t2()),this._onDoneFns=[])}onStart(t2){this._originalOnStartFns.push(t2),this._onStartFns.push(t2)}onDone(t2){this._originalOnDoneFns.push(t2),this._onDoneFns.push(t2)}onDestroy(t2){this._onDestroyFns.push(t2)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t2=>t2()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t2=>t2()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t2){this._position=this.totalTime?t2*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t2){const n2=t2=="start"?this._onStartFns:this._onDoneFns;n2.forEach(r2=>r2()),n2.length=0}}class HI{constructor(t2){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t2;let n2=0,r2=0,o2=0;const i2=this.players.length;i2==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s2=>{s2.onDone(()=>{++n2==i2&&this._onFinish()}),s2.onDestroy(()=>{++r2==i2&&this._onDestroy()}),s2.onStart(()=>{++o2==i2&&this._onStart()})}),this.totalTime=this.players.reduce((s2,a2)=>Math.max(s2,a2.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t2=>t2()),this._onDoneFns=[])}init(){this.players.forEach(t2=>t2.init())}onStart(t2){this._onStartFns.push(t2)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t2=>t2()),this._onStartFns=[])}onDone(t2){this._onDoneFns.push(t2)}onDestroy(t2){this._onDestroyFns.push(t2)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t2=>t2.play())}pause(){this.players.forEach(t2=>t2.pause())}restart(){this.players.forEach(t2=>t2.restart())}finish(){this._onFinish(),this.players.forEach(t2=>t2.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t2=>t2.destroy()),this._onDestroyFns.forEach(t2=>t2()),this._onDestroyFns=[])}reset(){this.players.forEach(t2=>t2.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t2){const n2=t2*this.totalTime;this.players.forEach(r2=>{const o2=r2.totalTime?Math.min(1,n2/r2.totalTime):1;r2.setPosition(o2)})}getPosition(){const t2=this.players.reduce((n2,r2)=>n2===null||r2.totalTime>n2.totalTime?r2:n2,null);return t2!=null?t2.getPosition():0}beforeDestroy(){this.players.forEach(t2=>{t2.beforeDestroy&&t2.beforeDestroy()})}triggerCallback(t2){const n2=t2=="start"?this._onStartFns:this._onDoneFns;n2.forEach(r2=>r2()),n2.length=0}}const _z=["toasts"];function bz(e22,t2){if(1&e22){const n2=lr();ee(0,"dmo-toast-message",2,0),Vt("@shrinkToast.done",function(o2){const i2=sn(n2).$implicit;return an(ce().onToastShrinkedDone(o2,i2._toastIndex))})("@toastVisible.done",function(o2){const i2=sn(n2).$implicit;return an(ce().onToastVisibilityAnimationDone(o2,i2._toastIndex))})("closeClicked",function(){const o2=sn(n2).$implicit;return an(ce().closeToast.emit(o2._toastIndex))})("buttonClicked",function(){const o2=sn(n2).$implicit;return an(ce().toastButtonClicked.emit(o2._toastIndex))}),te()}if(2&e22){const n2=t2.$implicit,r2=ce();z2("@toastEnter",void 0)("@shrinkToast",n2._shrinkToastAnimation)("@toastVisible",!n2._hidden)("type",n2.type)("text",n2.text)("title",n2.title)("buttonPosition",n2.buttonPosition?n2.buttonPosition:r2.UiToastMessageButtonPosition.RIGHT)("buttonLabel",n2.buttonLabel)("withoutPadding",!0),wn("data-testid","toast-message-"+n2._toastIndex)("aria-hidden",n2._hidden)}}let Ez=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.UiToastMessageButtonPosition=Ta,this.hostClasses="dmo-pointer-events-none",this.closeToast=new ke,this.toastButtonClicked=new ke,this.hovered=new ke,this.cdr=E2(yo),this.visibleToasts={}}onMouseOver(){this.hovered.next(!0)}onMouseOut(){this.hovered.next(!1)}get toasts(){return Object.values(this.visibleToasts).reverse()}addToast(n2){let r2=Number(Object.keys(this.visibleToasts).pop());r2||(r2=0);const o2=r2+1;return this.visibleToasts[o2]={_toastIndex:o2,_hidden:!1,_readyForCleanup:!1,_shrinkToastAnimation:!1,...n2},this.shrinkHiddenToasts(),this.cdr.detectChanges(),o2}hideToast(n2){const r2=this.visibleToasts[n2];return!(!r2||r2._hidden||(this.visibleToasts[n2]._hidden=!0,this.cdr.markForCheck(),0))}updateToast(n2,r2){const o2=this.visibleToasts[n2];r2.title&&(o2.title=r2.title),r2.text&&(o2.text=r2.text),r2.type&&(o2.type=r2.type),this.cdr.markForCheck()}onToastVisibilityAnimationDone(n2,r2){n2.triggerName==="toastVisible"&&!n2.toState&&this.visibleToasts[r2]&&(this.visibleToasts[r2]._readyForCleanup=!0,this.cleanupToasts())}onToastShrinkedDone(n2,r2){n2.triggerName==="shrinkToast"&&n2.toState&&this.removeToast(r2)}isToastVisible(n2){return!this.visibleToasts[n2]._hidden}cleanupToasts(){const n2=Object.keys(this.visibleToasts);for(let r2=n2.length-1;r2>=0;r2--){const o2=Number(n2[r2]);if(!this.visibleToasts[o2]._readyForCleanup)break;this.removeToast(o2)}}shrinkHiddenToasts(){Object.keys(this.visibleToasts).forEach(n2=>{const r2=this.visibleToasts[Number(n2)];r2._hidden&&(r2._shrinkToastAnimation=!0)})}removeToast(n2){delete this.visibleToasts[n2]}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["dmo-toast-container"]],viewQuery:function(r2,o2){if(1&r2&&fo(_z,5,lt),2&r2){let i2;Ar(i2=Or())&&(o2.toastMessageElms=i2)}},hostVars:2,hostBindings:function(r2,o2){1&r2&&Vt("mouseenter",function(){return o2.onMouseOver()})("mouseleave",function(){return o2.onMouseOut()}),2&r2&&un(o2.hostClasses)},outputs:{closeToast:"closeToast",toastButtonClicked:"toastButtonClicked",hovered:"hovered"},standalone:!0,features:[Et],decls:1,vars:1,consts:[["toasts",""],[3,"type","text","title","buttonPosition","buttonLabel","withoutPadding","closeClicked","buttonClicked",4,"ngFor","ngForOf"],[3,"closeClicked","buttonClicked","type","text","title","buttonPosition","buttonLabel","withoutPadding"]],template:function(r2,o2){1&r2&&ve(0,bz,2,11,"dmo-toast-message",1),2&r2&&z2("ngForOf",o2.toasts)},dependencies:[pa,hz],encapsulation:2,data:{animation:[wg("toastVisible",[mu("true",Fr({opacity:1})),mu("false",Fr({opacity:0,visibility:"hidden"})),Cg("true => false",[Dg("200ms")])]),wg("shrinkToast",[mu("true",Fr({height:"0",marginTop:"0",padding:"0"})),mu("false",Fr({height:"*",marginTop:"16px",padding:"12px"})),Cg("false => true",[Dg("150ms")])]),wg("toastEnter",[Cg(":enter",[Fr({transform:"translateX(300px)",marginTop:"16px",padding:"12px"}),Dg("150ms",Fr({transform:"translateX(0px)",padding:"12px"}))])])]},changeDetection:0}));let e22=_e22;return e22})();const yu="__zone_toast_service_shared_instance";let UI=(()=>{var _e7,_t3;const _e22=class _e22{constructor(){this.defaultOptions=E2(BI),this.toastRefs=[],this.overlay=E2($i),this.destroyRef=E2(Gt),this.injector=E2(Re),this.document=E2(Me),this.overlayPanelClass=E2(jI,{optional:!0})}ngOnDestroy(){this.window[yu]=void 0}get container(){if(this.containerInstance||this.createContainer(),!this.containerInstance)throw"Unable to create container for toasts.";return this.containerInstance}get firstNonPermanentToast(){return this.toastRefs.find(n2=>n2.options.expiration!==-1)}get window(){const n2=this.document.defaultView;if(!n2)throw new Error("Toasts can't work outside browser environment.");return n2}get sharedInstance(){return this.window[yu]||(this.window[yu]=this),this.window[yu]}show(n2){return this.sharedInstance.internalShow(n2)}showDanger(n2){return this.sharedInstance.show({expiration:this.defaultOptions.errorMessageExpiration,...n2,type:Ze.DANGER})}showBrand(n2){return this.sharedInstance.show({...n2,type:Ze.BRAND})}showSuccess(n2){return this.sharedInstance.show({...n2,type:Ze.SUCCESS})}showWarning(n2){return this.sharedInstance.show({...n2,type:Ze.WARNING})}showInfo(n2){return this.sharedInstance.show({...n2,type:Ze.INFO})}internalShow(n2){var _a3;if(n2.ignoreRedundant){const l2=this.toastRefs.find(c2=>c2.options.text===n2.text&&c2.options.title===n2.title);if(l2)return l2}this.toastRefs.length===this.defaultOptions.maxToasts&&((_a3=this.firstNonPermanentToast)==null||_a3.close());const r2={...n2,type:n2.type||this.defaultOptions.defaultType},o2=this.container.addToast(r2),i2=()=>{var _a4;if(!this.container.hideToast(o2))return;const l2=this.toastRefs.findIndex(c2=>c2.options===r2);this.toastRefs.splice(l2,1),(_a4=r2.onClose)==null||_a4.call(r2),s2.unsubscribe()},s2=this.createCloseTimerSubscription(n2.expiration,()=>i2()),a2={_timerSubscription:s2,_toastIndex:o2,close:()=>i2(),isVisible:()=>this.container.isToastVisible(o2),options:r2,updateContent:l2=>this.container.updateToast(o2,l2)};return this.toastRefs.push(a2),a2}createContainer(){var _a3;const n2=this.overlay.create({panelClass:this.overlayPanelClass||void 0,positionStrategy:this.getPosition()}),r2=new du(Ez,null,this.injector),o2=n2.attach(r2);n2.updatePosition(),this.containerInstance=o2.instance,(_a3=this.containerSubscription)==null||_a3.unsubscribe(),this.containerSubscription=new Fe,this.containerSubscription.add(this.containerInstance.closeToast.pipe(He(this.destroyRef)).subscribe(i2=>{var _a4;return(_a4=this.findToastRef(i2))==null?void 0:_a4.close()})),this.containerSubscription.add(this.containerInstance.toastButtonClicked.pipe(He(this.destroyRef)).subscribe(i2=>{var _a4,_b2,_c2;(_c2=(_a4=this.findToastRef(i2))==null?void 0:(_b2=_a4.options).onButtonClick)==null||_c2.call(_b2)})),this.containerSubscription.add(this.containerInstance.hovered.pipe(He(this.destroyRef)).subscribe(i2=>{this.toastRefs.forEach(i2?s2=>s2._timerSubscription.unsubscribe():s2=>s2._timerSubscription=this.createCloseTimerSubscription(s2.options.expiration,()=>s2.close()))}))}findToastRef(n2){return this.toastRefs.find(r2=>r2._toastIndex===n2)}getPosition(){const n2=this.defaultOptions.position,r2=this.defaultOptions.positionOffset;let o2=this.overlay.position().global();switch(n2){case Ke.TOP_LEFT:case Ke.CENTER_LEFT:case Ke.BOTTOM_LEFT:o2=o2.left(r2);break;case Ke.TOP_CENTER:case Ke.CENTER:case Ke.BOTTOM_CENTER:o2=o2.centerHorizontally();break;case Ke.TOP_RIGHT:case Ke.CENTER_RIGHT:case Ke.BOTTOM_RIGHT:o2=o2.right(r2)}switch(n2){case Ke.TOP_LEFT:case Ke.TOP_CENTER:case Ke.TOP_RIGHT:o2=o2.top(r2);break;case Ke.BOTTOM_LEFT:case Ke.BOTTOM_CENTER:case Ke.BOTTOM_RIGHT:o2=o2.bottom(r2);break;case Ke.CENTER_LEFT:case Ke.CENTER:case Ke.CENTER_RIGHT:o2=o2.centerVertically()}return o2}createCloseTimerSubscription(n2,r2){return n2===-1?Fe.EMPTY:cg(n2||this.defaultOptions.expiration).pipe(He(this.destroyRef)).subscribe({complete:()=>r2()})}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac,providedIn:"platform"}));let e22=_e22;return e22})();const $I=e22=>[UI,{provide:BI,useValue:{maxToasts:(e22==null?void 0:e22.maxToasts)||5,expiration:(e22==null?void 0:e22.expiration)||3e3,errorMessageExpiration:(e22==null?void 0:e22.errorMessageExpiration)||5e3,position:(e22==null?void 0:e22.position)||X$,positionOffset:(e22==null?void 0:e22.positionOffset)||"32px",defaultType:(e22==null?void 0:e22.defaultType)||ez}}];let wz=(()=>{var _e7,_t3,_n3;const _e22=class _e22{};_e7=new WeakMap,_t3=new WeakMap,_n3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.mod=er({type:_e22})),__privateAdd(_e22,_n3,_e22.inj=Pn({providers:[...$I()],imports:[_g2]}));let e22=_e22;return e22})();function zI(e22){return new b2(3e3,!1)}function Lr(e22){switch(e22.length){case 0:return new Ma;case 1:return e22[0];default:return new HI(e22)}}function GI(e22,t2,n2=new Map,r2=new Map){const o2=[],i2=[];let s2=-1,a2=null;if(t2.forEach(l2=>{const c2=l2.get("offset"),u2=c2==s2,d2=u2&&a2||new Map;l2.forEach((h2,f2)=>{let p2=f2,g2=h2;if(f2!=="offset")switch(p2=e22.normalizePropertyName(p2,o2),g2){case"!":g2=n2.get(f2);break;case hr:g2=r2.get(f2);break;default:g2=e22.normalizeStyleValue(f2,p2,g2,o2)}d2.set(p2,g2)}),u2||i2.push(d2),a2=d2,s2=c2}),o2.length)throw function(e3){return new b2(3502,!1)}();return i2}function Ig(e22,t2,n2,r2){switch(t2){case"start":e22.onStart(()=>r2(n2&&Tg(n2,"start",e22)));break;case"done":e22.onDone(()=>r2(n2&&Tg(n2,"done",e22)));break;case"destroy":e22.onDestroy(()=>r2(n2&&Tg(n2,"destroy",e22)))}}function Tg(e22,t2,n2){const i2=Mg(e22.element,e22.triggerName,e22.fromState,e22.toState,t2||e22.phaseName,n2.totalTime??e22.totalTime,!!n2.disabled),s2=e22._data;return s2!=null&&(i2._data=s2),i2}function Mg(e22,t2,n2,r2,o2="",i2=0,s2){return{element:e22,triggerName:t2,fromState:n2,toState:r2,phaseName:o2,totalTime:i2,disabled:!!s2}}function Xt(e22,t2,n2){let r2=e22.get(t2);return r2||e22.set(t2,r2=n2),r2}function WI(e22){const t2=e22.indexOf(":");return[e22.substring(1,t2),e22.slice(t2+1)]}const r8=typeof document>"u"?null:document.documentElement;function Ag(e22){const t2=e22.parentNode||e22.host||null;return t2===r8?null:t2}let So=null,qI=!1;function YI(e22,t2){for(;t2;){if(t2===e22)return!0;t2=Ag(t2)}return!1}function ZI(e22,t2,n2){if(n2)return Array.from(e22.querySelectorAll(t2));const r2=e22.querySelector(t2);return r2?[r2]:[]}let Og=(()=>{var _e7,_t3;const _e22=class _e22{validateStyleProperty(n2){return function(e3){So||(So=function(){return typeof document<"u"?document.body:null}()||{},qI=!!So.style&&"WebkitAppearance"in So.style);let t2=!0;return So.style&&!function(e4){return e4.substring(1,6)=="ebkit"}(e3)&&(t2=e3 in So.style,!t2&&qI&&(t2="Webkit"+e3.charAt(0).toUpperCase()+e3.slice(1)in So.style)),t2}(n2)}containsElement(n2,r2){return YI(n2,r2)}getParentElement(n2){return Ag(n2)}query(n2,r2,o2){return ZI(n2,r2,o2)}computeStyle(n2,r2,o2){return o2||""}animate(n2,r2,o2,i2,s2,a2=[],l2){return new Ma(o2,i2)}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const _Ng=class _Ng{};_e5=new WeakMap,__privateAdd(_Ng,_e5,_Ng.NOOP=new Og);let Ng=_Ng;class Rg{}const l8=1e3,Pg="ng-enter",vu="ng-leave",_u="ng-trigger",bu=".ng-trigger",QI="ng-animating",kg=".ng-animating";function pr(e22){if(typeof e22=="number")return e22;const t2=e22.match(/^(-?[\.\d]+)(m?s)/);return!t2||t2.length<2?0:xg(parseFloat(t2[1]),t2[2])}function xg(e22,t2){return t2==="s"?e22*l8:e22}function Eu(e22,t2,n2){return e22.hasOwnProperty("duration")?e22:function(e3,t22,n22){let o2,i2=0,s2="";if(typeof e3=="string"){const a2=e3.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(a2===null)return t22.push(zI()),{duration:0,delay:0,easing:""};o2=xg(parseFloat(a2[1]),a2[2]);const l2=a2[3];l2!=null&&(i2=xg(parseFloat(l2),a2[4]));const c2=a2[5];c2&&(s2=c2)}else o2=e3;if(!n22){let a2=!1,l2=t22.length;o2<0&&(t22.push(function(){return new b2(3100,!1)}()),a2=!0),i2<0&&(t22.push(function(){return new b2(3101,!1)}()),a2=!0),a2&&t22.splice(l2,0,zI())}return{duration:o2,delay:i2,easing:s2}}(e22,t2,n2)}function Zn(e22,t2,n2){t2.forEach((r2,o2)=>{const i2=Lg(o2);n2&&!n2.has(o2)&&n2.set(o2,e22.style[i2]),e22.style[i2]=r2})}function Io(e22,t2){t2.forEach((n2,r2)=>{const o2=Lg(r2);e22.style[o2]=""})}function Aa(e22){return Array.isArray(e22)?e22.length==1?e22[0]:function(e3,t2=null){return{type:$3.Sequence,steps:e3,options:t2}}(e22):e22}const Fg=new RegExp("{{\\s*(.+?)\\s*}}","g");function JI(e22){let t2=[];if(typeof e22=="string"){let n2;for(;n2=Fg.exec(e22);)t2.push(n2[1]);Fg.lastIndex=0}return t2}function Oa(e22,t2,n2){const r2=`${e22}`,o2=r2.replace(Fg,(i2,s2)=>{let a2=t2[s2];return a2==null&&(n2.push(function(e3){return new b2(3003,!1)}()),a2=""),a2.toString()});return o2==r2?e22:o2}const h8=/-+([a-z0-9])/g;function Lg(e22){return e22.replace(h8,(...t2)=>t2[1].toUpperCase())}function Jt(e22,t2,n2){switch(t2.type){case $3.Trigger:return e22.visitTrigger(t2,n2);case $3.State:return e22.visitState(t2,n2);case $3.Transition:return e22.visitTransition(t2,n2);case $3.Sequence:return e22.visitSequence(t2,n2);case $3.Group:return e22.visitGroup(t2,n2);case $3.Animate:return e22.visitAnimate(t2,n2);case $3.Keyframes:return e22.visitKeyframes(t2,n2);case $3.Style:return e22.visitStyle(t2,n2);case $3.Reference:return e22.visitReference(t2,n2);case $3.AnimateChild:return e22.visitAnimateChild(t2,n2);case $3.AnimateRef:return e22.visitAnimateRef(t2,n2);case $3.Query:return e22.visitQuery(t2,n2);case $3.Stagger:return e22.visitStagger(t2,n2);default:throw function(e3){return new b2(3004,!1)}()}}function Vg(e22,t2){return window.getComputedStyle(e22)[t2]}const m8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class eT extends Rg{normalizePropertyName(t2,n2){return Lg(t2)}normalizeStyleValue(t2,n2,r2,o2){let i2="";const s2=r2.toString().trim();if(m8.has(n2)&&r2!==0&&r2!=="0")if(typeof r2=="number")i2="px";else{const a2=r2.match(/^[+-]?[\d\.]+([a-z]*)$/);a2&&a2[1].length==0&&o2.push(function(e22,t22){return new b2(3005,!1)}())}return s2+i2}}const wu="*",Du=new Set(["true","1"]),Cu=new Set(["false","0"]);function tT(e22,t2){const n2=Du.has(e22)||Cu.has(e22),r2=Du.has(t2)||Cu.has(t2);return(o2,i2)=>{let s2=e22==wu||e22==o2,a2=t2==wu||t2==i2;return!s2&&n2&&typeof o2=="boolean"&&(s2=o2?Du.has(e22):Cu.has(e22)),!a2&&r2&&typeof i2=="boolean"&&(a2=i2?Du.has(t2):Cu.has(t2)),s2&&a2}}const b8=new RegExp("s*:selfs*,?","g");function Bg(e22,t2,n2,r2){return new E8(e22).build(t2,n2,r2)}class E8{constructor(t2){this._driver=t2}build(t2,n2,r2){const o2=new C8(n2);return this._resetContextStyleTimingState(o2),Jt(this,Aa(t2),o2)}_resetContextStyleTimingState(t2){t2.currentQuerySelector="",t2.collectedStyles=new Map,t2.collectedStyles.set("",new Map),t2.currentTime=0}visitTrigger(t2,n2){let r2=n2.queryCount=0,o2=n2.depCount=0;const i2=[],s2=[];return t2.name.charAt(0)=="@"&&n2.errors.push(function(){return new b2(3006,!1)}()),t2.definitions.forEach(a2=>{if(this._resetContextStyleTimingState(n2),a2.type==$3.State){const l2=a2,c2=l2.name;c2.toString().split(/\s*,\s*/).forEach(u2=>{l2.name=u2,i2.push(this.visitState(l2,n2))}),l2.name=c2}else if(a2.type==$3.Transition){const l2=this.visitTransition(a2,n2);r2+=l2.queryCount,o2+=l2.depCount,s2.push(l2)}else n2.errors.push(function(){return new b2(3007,!1)}())}),{type:$3.Trigger,name:t2.name,states:i2,transitions:s2,queryCount:r2,depCount:o2,options:null}}visitState(t2,n2){const r2=this.visitStyle(t2.styles,n2),o2=t2.options&&t2.options.params||null;if(r2.containsDynamicStyles){const i2=new Set,s2=o2||{};r2.styles.forEach(a2=>{a2 instanceof Map&&a2.forEach(l2=>{JI(l2).forEach(c2=>{s2.hasOwnProperty(c2)||i2.add(c2)})})}),i2.size&&n2.errors.push(function(e22,t22){return new b2(3008,!1)}(0,i2.values()))}return{type:$3.State,name:t2.name,style:r2,options:o2?{params:o2}:null}}visitTransition(t2,n2){n2.queryCount=0,n2.depCount=0;const r2=Jt(this,Aa(t2.animation),n2),o2=function(e22,t22){const n22=[];return typeof e22=="string"?e22.split(/\s*,\s*/).forEach(r22=>function(e3,t3,n3){if(e3[0]==":"){const l2=function(e4,t4){switch(e4){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n4,r4)=>parseFloat(r4)>parseFloat(n4);case":decrement":return(n4,r4)=>parseFloat(r4)<parseFloat(n4);default:return t4.push(function(e5){return new b2(3016,!1)}()),"* => *"}}(e3,n3);if(typeof l2=="function")return void t3.push(l2);e3=l2}const r3=e3.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r3==null||r3.length<4)return n3.push(function(e4){return new b2(3015,!1)}()),t3;const o22=r3[1],i2=r3[2],s2=r3[3];t3.push(tT(o22,s2)),i2[0]=="<"&&(o22!=wu||s2!=wu)&&t3.push(tT(s2,o22))}(r22,n22,t22)):n22.push(e22),n22}(t2.expr,n2.errors);return{type:$3.Transition,matchers:o2,animation:r2,queryCount:n2.queryCount,depCount:n2.depCount,options:To(t2.options)}}visitSequence(t2,n2){return{type:$3.Sequence,steps:t2.steps.map(r2=>Jt(this,r2,n2)),options:To(t2.options)}}visitGroup(t2,n2){const r2=n2.currentTime;let o2=0;const i2=t2.steps.map(s2=>{n2.currentTime=r2;const a2=Jt(this,s2,n2);return o2=Math.max(o2,n2.currentTime),a2});return n2.currentTime=o2,{type:$3.Group,steps:i2,options:To(t2.options)}}visitAnimate(t2,n2){const r2=function(e22,t22){if(e22.hasOwnProperty("duration"))return e22;if(typeof e22=="number")return jg(Eu(e22,t22).duration,0,"");const n22=e22;if(n22.split(/\s+/).some(i22=>i22.charAt(0)=="{"&&i22.charAt(1)=="{")){const i22=jg(0,0,"");return i22.dynamic=!0,i22.strValue=n22,i22}const o22=Eu(n22,t22);return jg(o22.duration,o22.delay,o22.easing)}(t2.timings,n2.errors);n2.currentAnimateTimings=r2;let o2,i2=t2.styles?t2.styles:Fr({});if(i2.type==$3.Keyframes)o2=this.visitKeyframes(i2,n2);else{let s2=t2.styles,a2=!1;if(!s2){a2=!0;const c2={};r2.easing&&(c2.easing=r2.easing),s2=Fr(c2)}n2.currentTime+=r2.duration+r2.delay;const l2=this.visitStyle(s2,n2);l2.isEmptyStep=a2,o2=l2}return n2.currentAnimateTimings=null,{type:$3.Animate,timings:r2,style:o2,options:null}}visitStyle(t2,n2){const r2=this._makeStyleAst(t2,n2);return this._validateStyleAst(r2,n2),r2}_makeStyleAst(t2,n2){const r2=[],o2=Array.isArray(t2.styles)?t2.styles:[t2.styles];for(let a2 of o2)typeof a2=="string"?a2===hr?r2.push(a2):n2.errors.push(new b2(3002,!1)):r2.push(new Map(Object.entries(a2)));let i2=!1,s2=null;return r2.forEach(a2=>{if(a2 instanceof Map&&(a2.has("easing")&&(s2=a2.get("easing"),a2.delete("easing")),!i2)){for(let l2 of a2.values())if(l2.toString().indexOf("{{")>=0){i2=!0;break}}}),{type:$3.Style,styles:r2,easing:s2,offset:t2.offset,containsDynamicStyles:i2,options:null}}_validateStyleAst(t2,n2){const r2=n2.currentAnimateTimings;let o2=n2.currentTime,i2=n2.currentTime;r2&&i2>0&&(i2-=r2.duration+r2.delay),t2.styles.forEach(s2=>{typeof s2!="string"&&s2.forEach((a2,l2)=>{const c2=n2.collectedStyles.get(n2.currentQuerySelector),u2=c2.get(l2);let d2=!0;u2&&(i2!=o2&&i2>=u2.startTime&&o2<=u2.endTime&&(n2.errors.push(function(e22,t22,n22,r22,o22){return new b2(3010,!1)}()),d2=!1),i2=u2.startTime),d2&&c2.set(l2,{startTime:i2,endTime:o2}),n2.options&&function(e22,t22,n22){const r22=t22.params||{},o22=JI(e22);o22.length&&o22.forEach(i22=>{r22.hasOwnProperty(i22)||n22.push(function(e3){return new b2(3001,!1)}())})}(a2,n2.options,n2.errors)})})}visitKeyframes(t2,n2){const r2={type:$3.Keyframes,styles:[],options:null};if(!n2.currentAnimateTimings)return n2.errors.push(function(){return new b2(3011,!1)}()),r2;let i2=0;const s2=[];let a2=!1,l2=!1,c2=0;const u2=t2.steps.map(v2=>{const y2=this._makeStyleAst(v2,n2);let C2=y2.offset!=null?y2.offset:function(e22){if(typeof e22=="string")return null;let t22=null;if(Array.isArray(e22))e22.forEach(n22=>{if(n22 instanceof Map&&n22.has("offset")){const r22=n22;t22=parseFloat(r22.get("offset")),r22.delete("offset")}});else if(e22 instanceof Map&&e22.has("offset")){const n22=e22;t22=parseFloat(n22.get("offset")),n22.delete("offset")}return t22}(y2.styles),T3=0;return C2!=null&&(i2++,T3=y2.offset=C2),l2=l2||T3<0||T3>1,a2=a2||T3<c2,c2=T3,s2.push(T3),y2});l2&&n2.errors.push(function(){return new b2(3012,!1)}()),a2&&n2.errors.push(function(){return new b2(3200,!1)}());const d2=t2.steps.length;let h2=0;i2>0&&i2<d2?n2.errors.push(function(){return new b2(3202,!1)}()):i2==0&&(h2=1/(d2-1));const f2=d2-1,p2=n2.currentTime,g2=n2.currentAnimateTimings,m2=g2.duration;return u2.forEach((v2,y2)=>{const C2=h2>0?y2==f2?1:h2*y2:s2[y2],T3=C2*m2;n2.currentTime=p2+g2.delay+T3,g2.duration=T3,this._validateStyleAst(v2,n2),v2.offset=C2,r2.styles.push(v2)}),r2}visitReference(t2,n2){return{type:$3.Reference,animation:Jt(this,Aa(t2.animation),n2),options:To(t2.options)}}visitAnimateChild(t2,n2){return n2.depCount++,{type:$3.AnimateChild,options:To(t2.options)}}visitAnimateRef(t2,n2){return{type:$3.AnimateRef,animation:this.visitReference(t2.animation,n2),options:To(t2.options)}}visitQuery(t2,n2){const r2=n2.currentQuerySelector,o2=t2.options||{};n2.queryCount++,n2.currentQuery=t2;const[i2,s2]=function(e22){const t22=!!e22.split(/\s*,\s*/).find(n22=>n22==":self");return t22&&(e22=e22.replace(b8,"")),e22=e22.replace(/@\*/g,bu).replace(/@\w+/g,n22=>bu+"-"+n22.slice(1)).replace(/:animating/g,kg),[e22,t22]}(t2.selector);n2.currentQuerySelector=r2.length?r2+" "+i2:i2,Xt(n2.collectedStyles,n2.currentQuerySelector,new Map);const a2=Jt(this,Aa(t2.animation),n2);return n2.currentQuery=null,n2.currentQuerySelector=r2,{type:$3.Query,selector:i2,limit:o2.limit||0,optional:!!o2.optional,includeSelf:s2,animation:a2,originalSelector:t2.selector,options:To(t2.options)}}visitStagger(t2,n2){n2.currentQuery||n2.errors.push(function(){return new b2(3013,!1)}());const r2=t2.timings==="full"?{duration:0,delay:0,easing:"full"}:Eu(t2.timings,n2.errors,!0);return{type:$3.Stagger,animation:Jt(this,Aa(t2.animation),n2),timings:r2,options:null}}}class C8{constructor(t2){this.errors=t2,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function To(e22){return e22?(e22={...e22}).params&&(e22.params=function(e3){return e3?{...e3}:null}(e22.params)):e22={},e22}function jg(e22,t2,n2){return{duration:e22,delay:t2,easing:n2}}function Hg(e22,t2,n2,r2,o2,i2,s2=null,a2=!1){return{type:1,element:e22,keyframes:t2,preStyleProps:n2,postStyleProps:r2,duration:o2,delay:i2,totalTime:o2+i2,easing:s2,subTimeline:a2}}class Su{constructor(){this._map=new Map}get(t2){return this._map.get(t2)||[]}append(t2,n2){let r2=this._map.get(t2);r2||this._map.set(t2,r2=[]),r2.push(...n2)}has(t2){return this._map.has(t2)}clear(){this._map.clear()}}const A8=new RegExp(":enter","g"),N8=new RegExp(":leave","g");function Ug(e22,t2,n2,r2,o2,i2=new Map,s2=new Map,a2,l2,c2=[]){return new R8().buildKeyframes(e22,t2,n2,r2,o2,i2,s2,a2,l2,c2)}class R8{buildKeyframes(t2,n2,r2,o2,i2,s2,a2,l2,c2,u2=[]){c2=c2||new Su;const d2=new $g(t2,n2,c2,o2,i2,u2,[]);d2.options=l2;const h2=l2.delay?pr(l2.delay):0;d2.currentTimeline.delayNextStep(h2),d2.currentTimeline.setStyles([s2],null,d2.errors,l2),Jt(this,r2,d2);const f2=d2.timelines.filter(p2=>p2.containsAnimation());if(f2.length&&a2.size){let p2;for(let g2=f2.length-1;g2>=0;g2--){const m2=f2[g2];if(m2.element===n2){p2=m2;break}}p2&&!p2.allowOnlyTimelineStyles()&&p2.setStyles([a2],null,d2.errors,l2)}return f2.length?f2.map(p2=>p2.buildKeyframes()):[Hg(n2,[],[],[],0,h2,"",!1)]}visitTrigger(t2,n2){}visitState(t2,n2){}visitTransition(t2,n2){}visitAnimateChild(t2,n2){const r2=n2.subInstructions.get(n2.element);if(r2){const o2=n2.createSubContext(t2.options),i2=n2.currentTimeline.currentTime,s2=this._visitSubInstructions(r2,o2,o2.options);i2!=s2&&n2.transformIntoNewTimeline(s2)}n2.previousNode=t2}visitAnimateRef(t2,n2){const r2=n2.createSubContext(t2.options);r2.transformIntoNewTimeline(),this._applyAnimationRefDelays([t2.options,t2.animation.options],n2,r2),this.visitReference(t2.animation,r2),n2.transformIntoNewTimeline(r2.currentTimeline.currentTime),n2.previousNode=t2}_applyAnimationRefDelays(t2,n2,r2){for(const o2 of t2){const i2=o2==null?void 0:o2.delay;if(i2){const s2=typeof i2=="number"?i2:pr(Oa(i2,(o2==null?void 0:o2.params)??{},n2.errors));r2.delayNextStep(s2)}}}_visitSubInstructions(t2,n2,r2){let i2=n2.currentTimeline.currentTime;const s2=r2.duration!=null?pr(r2.duration):null,a2=r2.delay!=null?pr(r2.delay):null;return s2!==0&&t2.forEach(l2=>{const c2=n2.appendInstructionToTimeline(l2,s2,a2);i2=Math.max(i2,c2.duration+c2.delay)}),i2}visitReference(t2,n2){n2.updateOptions(t2.options,!0),Jt(this,t2.animation,n2),n2.previousNode=t2}visitSequence(t2,n2){const r2=n2.subContextCount;let o2=n2;const i2=t2.options;if(i2&&(i2.params||i2.delay)&&(o2=n2.createSubContext(i2),o2.transformIntoNewTimeline(),i2.delay!=null)){o2.previousNode.type==$3.Style&&(o2.currentTimeline.snapshotCurrentStyles(),o2.previousNode=Iu);const s2=pr(i2.delay);o2.delayNextStep(s2)}t2.steps.length&&(t2.steps.forEach(s2=>Jt(this,s2,o2)),o2.currentTimeline.applyStylesToKeyframe(),o2.subContextCount>r2&&o2.transformIntoNewTimeline()),n2.previousNode=t2}visitGroup(t2,n2){const r2=[];let o2=n2.currentTimeline.currentTime;const i2=t2.options&&t2.options.delay?pr(t2.options.delay):0;t2.steps.forEach(s2=>{const a2=n2.createSubContext(t2.options);i2&&a2.delayNextStep(i2),Jt(this,s2,a2),o2=Math.max(o2,a2.currentTimeline.currentTime),r2.push(a2.currentTimeline)}),r2.forEach(s2=>n2.currentTimeline.mergeTimelineCollectedStyles(s2)),n2.transformIntoNewTimeline(o2),n2.previousNode=t2}_visitTiming(t2,n2){if(t2.dynamic){const r2=t2.strValue;return Eu(n2.params?Oa(r2,n2.params,n2.errors):r2,n2.errors)}return{duration:t2.duration,delay:t2.delay,easing:t2.easing}}visitAnimate(t2,n2){const r2=n2.currentAnimateTimings=this._visitTiming(t2.timings,n2),o2=n2.currentTimeline;r2.delay&&(n2.incrementTime(r2.delay),o2.snapshotCurrentStyles());const i2=t2.style;i2.type==$3.Keyframes?this.visitKeyframes(i2,n2):(n2.incrementTime(r2.duration),this.visitStyle(i2,n2),o2.applyStylesToKeyframe()),n2.currentAnimateTimings=null,n2.previousNode=t2}visitStyle(t2,n2){const r2=n2.currentTimeline,o2=n2.currentAnimateTimings;!o2&&r2.hasCurrentStyleProperties()&&r2.forwardFrame();const i2=o2&&o2.easing||t2.easing;t2.isEmptyStep?r2.applyEmptyStep(i2):r2.setStyles(t2.styles,i2,n2.errors,n2.options),n2.previousNode=t2}visitKeyframes(t2,n2){const r2=n2.currentAnimateTimings,o2=n2.currentTimeline.duration,i2=r2.duration,a2=n2.createSubContext().currentTimeline;a2.easing=r2.easing,t2.styles.forEach(l2=>{a2.forwardTime((l2.offset||0)*i2),a2.setStyles(l2.styles,l2.easing,n2.errors,n2.options),a2.applyStylesToKeyframe()}),n2.currentTimeline.mergeTimelineCollectedStyles(a2),n2.transformIntoNewTimeline(o2+i2),n2.previousNode=t2}visitQuery(t2,n2){const r2=n2.currentTimeline.currentTime,o2=t2.options||{},i2=o2.delay?pr(o2.delay):0;i2&&(n2.previousNode.type===$3.Style||r2==0&&n2.currentTimeline.hasCurrentStyleProperties())&&(n2.currentTimeline.snapshotCurrentStyles(),n2.previousNode=Iu);let s2=r2;const a2=n2.invokeQuery(t2.selector,t2.originalSelector,t2.limit,t2.includeSelf,!!o2.optional,n2.errors);n2.currentQueryTotal=a2.length;let l2=null;a2.forEach((c2,u2)=>{n2.currentQueryIndex=u2;const d2=n2.createSubContext(t2.options,c2);i2&&d2.delayNextStep(i2),c2===n2.element&&(l2=d2.currentTimeline),Jt(this,t2.animation,d2),d2.currentTimeline.applyStylesToKeyframe(),s2=Math.max(s2,d2.currentTimeline.currentTime)}),n2.currentQueryIndex=0,n2.currentQueryTotal=0,n2.transformIntoNewTimeline(s2),l2&&(n2.currentTimeline.mergeTimelineCollectedStyles(l2),n2.currentTimeline.snapshotCurrentStyles()),n2.previousNode=t2}visitStagger(t2,n2){const r2=n2.parentContext,o2=n2.currentTimeline,i2=t2.timings,s2=Math.abs(i2.duration),a2=s2*(n2.currentQueryTotal-1);let l2=s2*n2.currentQueryIndex;switch(i2.duration<0?"reverse":i2.easing){case"reverse":l2=a2-l2;break;case"full":l2=r2.currentStaggerTime}const u2=n2.currentTimeline;l2&&u2.delayNextStep(l2);const d2=u2.currentTime;Jt(this,t2.animation,n2),n2.previousNode=t2,r2.currentStaggerTime=o2.currentTime-d2+(o2.startTime-r2.currentTimeline.startTime)}}const Iu={};class $g{constructor(t2,n2,r2,o2,i2,s2,a2,l2){this._driver=t2,this.element=n2,this.subInstructions=r2,this._enterClassName=o2,this._leaveClassName=i2,this.errors=s2,this.timelines=a2,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Iu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l2||new Tu(this._driver,n2,0),a2.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t2,n2){if(!t2)return;const r2=t2;let o2=this.options;r2.duration!=null&&(o2.duration=pr(r2.duration)),r2.delay!=null&&(o2.delay=pr(r2.delay));const i2=r2.params;if(i2){let s2=o2.params;s2||(s2=this.options.params={}),Object.keys(i2).forEach(a2=>{(!n2||!s2.hasOwnProperty(a2))&&(s2[a2]=Oa(i2[a2],s2,this.errors))})}}_copyOptions(){const t2={};if(this.options){const n2=this.options.params;if(n2){const r2=t2.params={};Object.keys(n2).forEach(o2=>{r2[o2]=n2[o2]})}}return t2}createSubContext(t2=null,n2,r2){const o2=n2||this.element,i2=new $g(this._driver,o2,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o2,r2||0));return i2.previousNode=this.previousNode,i2.currentAnimateTimings=this.currentAnimateTimings,i2.options=this._copyOptions(),i2.updateOptions(t2),i2.currentQueryIndex=this.currentQueryIndex,i2.currentQueryTotal=this.currentQueryTotal,i2.parentContext=this,this.subContextCount++,i2}transformIntoNewTimeline(t2){return this.previousNode=Iu,this.currentTimeline=this.currentTimeline.fork(this.element,t2),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t2,n2,r2){const o2={duration:n2??t2.duration,delay:this.currentTimeline.currentTime+(r2??0)+t2.delay,easing:""},i2=new P8(this._driver,t2.element,t2.keyframes,t2.preStyleProps,t2.postStyleProps,o2,t2.stretchStartingKeyframe);return this.timelines.push(i2),o2}incrementTime(t2){this.currentTimeline.forwardTime(this.currentTimeline.duration+t2)}delayNextStep(t2){t2>0&&this.currentTimeline.delayNextStep(t2)}invokeQuery(t2,n2,r2,o2,i2,s2){let a2=[];if(o2&&a2.push(this.element),t2.length>0){t2=(t2=t2.replace(A8,"."+this._enterClassName)).replace(N8,"."+this._leaveClassName);let c2=this._driver.query(this.element,t2,r2!=1);r2!==0&&(c2=r2<0?c2.slice(c2.length+r2,c2.length):c2.slice(0,r2)),a2.push(...c2)}return!i2&&a2.length==0&&s2.push(function(e22){return new b2(3014,!1)}()),a2}}class Tu{constructor(t2,n2,r2,o2){this._driver=t2,this.element=n2,this.startTime=r2,this._elementTimelineStylesLookup=o2,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n2),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n2,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t2){const n2=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n2?(this.forwardTime(this.currentTime+t2),n2&&this.snapshotCurrentStyles()):this.startTime+=t2}fork(t2,n2){return this.applyStylesToKeyframe(),new Tu(this._driver,t2,n2||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t2){this.applyStylesToKeyframe(),this.duration=t2,this._loadKeyframe()}_updateStyle(t2,n2){this._localTimelineStyles.set(t2,n2),this._globalTimelineStyles.set(t2,n2),this._styleSummary.set(t2,{time:this.currentTime,value:n2})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t2){t2&&this._previousKeyframe.set("easing",t2);for(let[n2,r2]of this._globalTimelineStyles)this._backFill.set(n2,r2||hr),this._currentKeyframe.set(n2,hr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t2,n2,r2,o2){n2&&this._previousKeyframe.set("easing",n2);const i2=o2&&o2.params||{},s2=function(e22,t22){const n22=new Map;let r22;return e22.forEach(o22=>{if(o22==="*"){r22??(r22=t22.keys());for(let i22 of r22)n22.set(i22,hr)}else for(let[i22,s22]of o22)n22.set(i22,s22)}),n22}(t2,this._globalTimelineStyles);for(let[a2,l2]of s2){const c2=Oa(l2,i2,r2);this._pendingStyles.set(a2,c2),this._localTimelineStyles.has(a2)||this._backFill.set(a2,this._globalTimelineStyles.get(a2)??hr),this._updateStyle(a2,c2)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t2,n2)=>{this._currentKeyframe.set(n2,t2)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t2,n2)=>{this._currentKeyframe.has(n2)||this._currentKeyframe.set(n2,t2)}))}snapshotCurrentStyles(){for(let[t2,n2]of this._localTimelineStyles)this._pendingStyles.set(t2,n2),this._updateStyle(t2,n2)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t2=[];for(let n2 in this._currentKeyframe)t2.push(n2);return t2}mergeTimelineCollectedStyles(t2){t2._styleSummary.forEach((n2,r2)=>{const o2=this._styleSummary.get(r2);(!o2||n2.time>o2.time)&&this._updateStyle(r2,n2.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t2=new Set,n2=new Set,r2=this._keyframes.size===1&&this.duration===0;let o2=[];this._keyframes.forEach((a2,l2)=>{const c2=new Map([...this._backFill,...a2]);c2.forEach((u2,d2)=>{u2==="!"?t2.add(d2):u2===hr&&n2.add(d2)}),r2||c2.set("offset",l2/this.duration),o2.push(c2)});const i2=[...t2.values()],s2=[...n2.values()];if(r2){const a2=o2[0],l2=new Map(a2);a2.set("offset",0),l2.set("offset",1),o2=[a2,l2]}return Hg(this.element,o2,i2,s2,this.duration,this.startTime,this.easing,!1)}}class P8 extends Tu{constructor(t2,n2,r2,o2,i2,s2,a2=!1){super(t2,n2,s2.delay),this.keyframes=r2,this.preStyleProps=o2,this.postStyleProps=i2,this._stretchStartingKeyframe=a2,this.timings={duration:s2.duration,delay:s2.delay,easing:s2.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t2=this.keyframes,{delay:n2,duration:r2,easing:o2}=this.timings;if(this._stretchStartingKeyframe&&n2){const i2=[],s2=r2+n2,a2=n2/s2,l2=new Map(t2[0]);l2.set("offset",0),i2.push(l2);const c2=new Map(t2[0]);c2.set("offset",oT(a2)),i2.push(c2);const u2=t2.length-1;for(let d2=1;d2<=u2;d2++){let h2=new Map(t2[d2]);const f2=h2.get("offset");h2.set("offset",oT((n2+f2*r2)/s2)),i2.push(h2)}r2=s2,n2=0,o2="",t2=i2}return Hg(this.element,t2,this.preStyleProps,this.postStyleProps,r2,n2,o2,!0)}}function oT(e22,t2=3){const n2=Math.pow(10,t2-1);return Math.round(e22*n2)/n2}function iT(e22,t2,n2,r2,o2,i2,s2,a2,l2,c2,u2,d2,h2){return{type:0,element:e22,triggerName:t2,isRemovalTransition:o2,fromState:n2,fromStyles:i2,toState:r2,toStyles:s2,timelines:a2,queriedElements:l2,preStyleProps:c2,postStyleProps:u2,totalTime:d2,errors:h2}}const zg={};class sT{constructor(t2,n2,r2){this._triggerName=t2,this.ast=n2,this._stateStyles=r2}match(t2,n2,r2,o2){return function(e22,t22,n22,r22,o22){return e22.some(i2=>i2(t22,n22,r22,o22))}(this.ast.matchers,t2,n2,r2,o2)}buildStyles(t2,n2,r2){let o2=this._stateStyles.get("*");return t2!==void 0&&(o2=this._stateStyles.get(t2==null?void 0:t2.toString())||o2),o2?o2.buildStyles(n2,r2):new Map}build(t2,n2,r2,o2,i2,s2,a2,l2,c2,u2){var _a3;const d2=[],h2=this.ast.options&&this.ast.options.params||zg,p2=this.buildStyles(r2,a2&&a2.params||zg,d2),g2=l2&&l2.params||zg,m2=this.buildStyles(o2,g2,d2),v2=new Set,y2=new Map,C2=new Map,T3=o2==="void",Z3={params:aT(g2,h2),delay:(_a3=this.ast.options)==null?void 0:_a3.delay},ie=u2?[]:Ug(t2,n2,this.ast.animation,i2,s2,p2,m2,Z3,c2,d2);let pe=0;return ie.forEach(Ue=>{pe=Math.max(Ue.duration+Ue.delay,pe)}),d2.length?iT(n2,this._triggerName,r2,o2,T3,p2,m2,[],[],y2,C2,pe,d2):(ie.forEach(Ue=>{const Kn=Ue.element,Vr=Xt(y2,Kn,new Set);Ue.preStyleProps.forEach(Mo=>Vr.add(Mo));const ET=Xt(C2,Kn,new Set);Ue.postStyleProps.forEach(Mo=>ET.add(Mo)),Kn!==n2&&v2.add(Kn)}),iT(n2,this._triggerName,r2,o2,T3,p2,m2,ie,[...v2.values()],y2,C2,pe))}}function aT(e22,t2){const n2={...t2};return Object.entries(e22).forEach(([r2,o2])=>{o2!=null&&(n2[r2]=o2)}),n2}class F8{constructor(t2,n2,r2){this.styles=t2,this.defaultParams=n2,this.normalizer=r2}buildStyles(t2,n2){const r2=new Map,o2=aT(t2,this.defaultParams);return this.styles.styles.forEach(i2=>{typeof i2!="string"&&i2.forEach((s2,a2)=>{s2&&(s2=Oa(s2,o2,n2));const l2=this.normalizer.normalizePropertyName(a2,n2);s2=this.normalizer.normalizeStyleValue(a2,l2,s2,n2),r2.set(a2,s2)})}),r2}}class V8{constructor(t2,n2,r2){this.name=t2,this.ast=n2,this._normalizer=r2,this.transitionFactories=[],this.states=new Map,n2.states.forEach(o2=>{this.states.set(o2.name,new F8(o2.style,o2.options&&o2.options.params||{},r2))}),lT(this.states,"true","1"),lT(this.states,"false","0"),n2.transitions.forEach(o2=>{this.transitionFactories.push(new sT(t2,o2,this.states))}),this.fallbackTransition=function(e22,t22,n22){return new sT(e22,{type:$3.Transition,animation:{type:$3.Sequence,steps:[],options:null},matchers:[(s2,a2)=>!0],options:null,queryCount:0,depCount:0},t22)}(t2,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t2,n2,r2,o2){return this.transitionFactories.find(s2=>s2.match(t2,n2,r2,o2))||null}matchStyles(t2,n2,r2){return this.fallbackTransition.buildStyles(t2,n2,r2)}}function lT(e22,t2,n2){e22.has(t2)?e22.has(n2)||e22.set(n2,e22.get(t2)):e22.has(n2)&&e22.set(t2,e22.get(n2))}const j8=new Su;class H8{constructor(t2,n2,r2){this.bodyNode=t2,this._driver=n2,this._normalizer=r2,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t2,n2){const r2=[],i2=Bg(this._driver,n2,r2,[]);if(r2.length)throw function(e22){return new b2(3503,!1)}();this._animations.set(t2,i2)}_buildPlayer(t2,n2,r2){const o2=t2.element,i2=GI(this._normalizer,t2.keyframes,n2,r2);return this._driver.animate(o2,i2,t2.duration,t2.delay,t2.easing,[],!0)}create(t2,n2,r2={}){const o2=[],i2=this._animations.get(t2);let s2;const a2=new Map;if(i2?(s2=Ug(this._driver,n2,i2,Pg,vu,new Map,new Map,r2,j8,o2),s2.forEach(u2=>{const d2=Xt(a2,u2.element,new Map);u2.postStyleProps.forEach(h2=>d2.set(h2,null))})):(o2.push(function(){return new b2(3300,!1)}()),s2=[]),o2.length)throw function(e22){return new b2(3504,!1)}();a2.forEach((u2,d2)=>{u2.forEach((h2,f2)=>{u2.set(f2,this._driver.computeStyle(d2,f2,hr))})});const c2=Lr(s2.map(u2=>{const d2=a2.get(u2.element);return this._buildPlayer(u2,new Map,d2)}));return this._playersById.set(t2,c2),c2.onDestroy(()=>this.destroy(t2)),this.players.push(c2),c2}destroy(t2){const n2=this._getPlayer(t2);n2.destroy(),this._playersById.delete(t2);const r2=this.players.indexOf(n2);r2>=0&&this.players.splice(r2,1)}_getPlayer(t2){const n2=this._playersById.get(t2);if(!n2)throw function(e22){return new b2(3301,!1)}();return n2}listen(t2,n2,r2,o2){const i2=Mg(n2,"","","");return Ig(this._getPlayer(t2),r2,i2,o2),()=>{}}command(t2,n2,r2,o2){if(r2=="register")return void this.register(t2,o2[0]);if(r2=="create")return void this.create(t2,n2,o2[0]||{});const i2=this._getPlayer(t2);switch(r2){case"play":i2.play();break;case"pause":i2.pause();break;case"reset":i2.reset();break;case"restart":i2.restart();break;case"finish":i2.finish();break;case"init":i2.init();break;case"setPosition":i2.setPosition(parseFloat(o2[0]));break;case"destroy":this.destroy(t2)}}}const cT="ng-animate-queued",Gg="ng-animate-disabled",W8=[],uT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nn="__ng_removed";class Wg{get params(){return this.options.params}constructor(t2,n2=""){this.namespaceId=n2;const r2=t2&&t2.hasOwnProperty("value");if(this.value=function(e22){return e22??null}(r2?t2.value:t2),r2){const{value:i2,...s2}=t2;this.options=s2}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t2){const n2=t2.params;if(n2){const r2=this.options.params;Object.keys(n2).forEach(o2=>{r2[o2]==null&&(r2[o2]=n2[o2])})}}}const Na="void",qg=new Wg(Na);class Y8{constructor(t2,n2,r2){this.id=t2,this.hostElement=n2,this._engine=r2,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t2,pn(n2,this._hostClassName)}listen(t2,n2,r2,o2){if(!this._triggers.has(n2))throw function(e22,t22){return new b2(3302,!1)}();if(r2==null||r2.length==0)throw function(e22){return new b2(3303,!1)}();if(!function(e22){return e22=="start"||e22=="done"}(r2))throw function(e22,t22){return new b2(3400,!1)}();const i2=Xt(this._elementListeners,t2,[]),s2={name:n2,phase:r2,callback:o2};i2.push(s2);const a2=Xt(this._engine.statesByElement,t2,new Map);return a2.has(n2)||(pn(t2,_u),pn(t2,_u+"-"+n2),a2.set(n2,qg)),()=>{this._engine.afterFlush(()=>{const l2=i2.indexOf(s2);l2>=0&&i2.splice(l2,1),this._triggers.has(n2)||a2.delete(n2)})}}register(t2,n2){return!this._triggers.has(t2)&&(this._triggers.set(t2,n2),!0)}_getTrigger(t2){const n2=this._triggers.get(t2);if(!n2)throw function(e22){return new b2(3401,!1)}();return n2}trigger(t2,n2,r2,o2=!0){const i2=this._getTrigger(n2),s2=new Yg(this.id,n2,t2);let a2=this._engine.statesByElement.get(t2);a2||(pn(t2,_u),pn(t2,_u+"-"+n2),this._engine.statesByElement.set(t2,a2=new Map));let l2=a2.get(n2);const c2=new Wg(r2,this.id);if(!(r2&&r2.hasOwnProperty("value"))&&l2&&c2.absorbOptions(l2.options),a2.set(n2,c2),l2||(l2=qg),c2.value!==Na&&l2.value===c2.value){if(!function(e22,t22){const n22=Object.keys(e22),r22=Object.keys(t22);if(n22.length!=r22.length)return!1;for(let o22=0;o22<n22.length;o22++){const i22=n22[o22];if(!t22.hasOwnProperty(i22)||e22[i22]!==t22[i22])return!1}return!0}(l2.params,c2.params)){const g2=[],m2=i2.matchStyles(l2.value,l2.params,g2),v2=i2.matchStyles(c2.value,c2.params,g2);g2.length?this._engine.reportError(g2):this._engine.afterFlush(()=>{Io(t2,m2),Zn(t2,v2)})}return}const h2=Xt(this._engine.playersByElement,t2,[]);h2.forEach(g2=>{g2.namespaceId==this.id&&g2.triggerName==n2&&g2.queued&&g2.destroy()});let f2=i2.matchTransition(l2.value,c2.value,t2,c2.params),p2=!1;if(!f2){if(!o2)return;f2=i2.fallbackTransition,p2=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t2,triggerName:n2,transition:f2,fromState:l2,toState:c2,player:s2,isFallbackTransition:p2}),p2||(pn(t2,cT),s2.onStart(()=>{Gi(t2,cT)})),s2.onDone(()=>{let g2=this.players.indexOf(s2);g2>=0&&this.players.splice(g2,1);const m2=this._engine.playersByElement.get(t2);if(m2){let v2=m2.indexOf(s2);v2>=0&&m2.splice(v2,1)}}),this.players.push(s2),h2.push(s2),s2}deregister(t2){this._triggers.delete(t2),this._engine.statesByElement.forEach(n2=>n2.delete(t2)),this._elementListeners.forEach((n2,r2)=>{this._elementListeners.set(r2,n2.filter(o2=>o2.name!=t2))})}clearElementCache(t2){this._engine.statesByElement.delete(t2),this._elementListeners.delete(t2);const n2=this._engine.playersByElement.get(t2);n2&&(n2.forEach(r2=>r2.destroy()),this._engine.playersByElement.delete(t2))}_signalRemovalForInnerTriggers(t2,n2){const r2=this._engine.driver.query(t2,bu,!0);r2.forEach(o2=>{if(o2[Nn])return;const i2=this._engine.fetchNamespacesByElement(o2);i2.size?i2.forEach(s2=>s2.triggerLeaveAnimation(o2,n2,!1,!0)):this.clearElementCache(o2)}),this._engine.afterFlushAnimationsDone(()=>r2.forEach(o2=>this.clearElementCache(o2)))}triggerLeaveAnimation(t2,n2,r2,o2){const i2=this._engine.statesByElement.get(t2),s2=new Map;if(i2){const a2=[];if(i2.forEach((l2,c2)=>{if(s2.set(c2,l2.value),this._triggers.has(c2)){const u2=this.trigger(t2,c2,Na,o2);u2&&a2.push(u2)}}),a2.length)return this._engine.markElementAsRemoved(this.id,t2,!0,n2,s2),r2&&Lr(a2).onDone(()=>this._engine.processLeaveNode(t2)),!0}return!1}prepareLeaveAnimationListeners(t2){const n2=this._elementListeners.get(t2),r2=this._engine.statesByElement.get(t2);if(n2&&r2){const o2=new Set;n2.forEach(i2=>{const s2=i2.name;if(o2.has(s2))return;o2.add(s2);const l2=this._triggers.get(s2).fallbackTransition,c2=r2.get(s2)||qg,u2=new Wg(Na),d2=new Yg(this.id,s2,t2);this._engine.totalQueuedPlayers++,this._queue.push({element:t2,triggerName:s2,transition:l2,fromState:c2,toState:u2,player:d2,isFallbackTransition:!0})})}}removeNode(t2,n2){const r2=this._engine;if(t2.childElementCount&&this._signalRemovalForInnerTriggers(t2,n2),this.triggerLeaveAnimation(t2,n2,!0))return;let o2=!1;if(r2.totalAnimations){const i2=r2.players.length?r2.playersByQueriedElement.get(t2):[];if(i2&&i2.length)o2=!0;else{let s2=t2;for(;s2=s2.parentNode;)if(r2.statesByElement.get(s2)){o2=!0;break}}}if(this.prepareLeaveAnimationListeners(t2),o2)r2.markElementAsRemoved(this.id,t2,!1,n2);else{const i2=t2[Nn];(!i2||i2===uT)&&(r2.afterFlush(()=>this.clearElementCache(t2)),r2.destroyInnerAnimations(t2),r2._onRemovalComplete(t2,n2))}}insertNode(t2,n2){pn(t2,this._hostClassName)}drainQueuedTransitions(t2){const n2=[];return this._queue.forEach(r2=>{const o2=r2.player;if(o2.destroyed)return;const i2=r2.element,s2=this._elementListeners.get(i2);s2&&s2.forEach(a2=>{if(a2.name==r2.triggerName){const l2=Mg(i2,r2.triggerName,r2.fromState.value,r2.toState.value);l2._data=t2,Ig(r2.player,a2.phase,l2,a2.callback)}}),o2.markedForDestroy?this._engine.afterFlush(()=>{o2.destroy()}):n2.push(r2)}),this._queue=[],n2.sort((r2,o2)=>{const i2=r2.transition.ast.depCount,s2=o2.transition.ast.depCount;return i2==0||s2==0?i2-s2:this._engine.driver.containsElement(r2.element,o2.element)?1:-1})}destroy(t2){this.players.forEach(n2=>n2.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t2)}}class Z8{_onRemovalComplete(t2,n2){this.onRemovalComplete(t2,n2)}constructor(t2,n2,r2){this.bodyNode=t2,this.driver=n2,this._normalizer=r2,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o2,i2)=>{}}get queuedPlayers(){const t2=[];return this._namespaceList.forEach(n2=>{n2.players.forEach(r2=>{r2.queued&&t2.push(r2)})}),t2}createNamespace(t2,n2){const r2=new Y8(t2,n2,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n2)?this._balanceNamespaceList(r2,n2):(this.newHostElements.set(n2,r2),this.collectEnterElement(n2)),this._namespaceLookup[t2]=r2}_balanceNamespaceList(t2,n2){const r2=this._namespaceList,o2=this.namespacesByHostElement;if(r2.length-1>=0){let s2=!1,a2=this.driver.getParentElement(n2);for(;a2;){const l2=o2.get(a2);if(l2){const c2=r2.indexOf(l2);r2.splice(c2+1,0,t2),s2=!0;break}a2=this.driver.getParentElement(a2)}s2||r2.unshift(t2)}else r2.push(t2);return o2.set(n2,t2),t2}register(t2,n2){let r2=this._namespaceLookup[t2];return r2||(r2=this.createNamespace(t2,n2)),r2}registerTrigger(t2,n2,r2){let o2=this._namespaceLookup[t2];o2&&o2.register(n2,r2)&&this.totalAnimations++}destroy(t2,n2){t2&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r2=this._fetchNamespace(t2);this.namespacesByHostElement.delete(r2.hostElement);const o2=this._namespaceList.indexOf(r2);o2>=0&&this._namespaceList.splice(o2,1),r2.destroy(n2),delete this._namespaceLookup[t2]}))}_fetchNamespace(t2){return this._namespaceLookup[t2]}fetchNamespacesByElement(t2){const n2=new Set,r2=this.statesByElement.get(t2);if(r2){for(let o2 of r2.values())if(o2.namespaceId){const i2=this._fetchNamespace(o2.namespaceId);i2&&n2.add(i2)}}return n2}trigger(t2,n2,r2,o2){if(Mu(n2)){const i2=this._fetchNamespace(t2);if(i2)return i2.trigger(n2,r2,o2),!0}return!1}insertNode(t2,n2,r2,o2){if(!Mu(n2))return;const i2=n2[Nn];if(i2&&i2.setForRemoval){i2.setForRemoval=!1,i2.setForMove=!0;const s2=this.collectedLeaveElements.indexOf(n2);s2>=0&&this.collectedLeaveElements.splice(s2,1)}if(t2){const s2=this._fetchNamespace(t2);s2&&s2.insertNode(n2,r2)}o2&&this.collectEnterElement(n2)}collectEnterElement(t2){this.collectedEnterElements.push(t2)}markElementAsDisabled(t2,n2){n2?this.disabledNodes.has(t2)||(this.disabledNodes.add(t2),pn(t2,Gg)):this.disabledNodes.has(t2)&&(this.disabledNodes.delete(t2),Gi(t2,Gg))}removeNode(t2,n2,r2){if(Mu(n2)){const o2=t2?this._fetchNamespace(t2):null;o2?o2.removeNode(n2,r2):this.markElementAsRemoved(t2,n2,!1,r2);const i2=this.namespacesByHostElement.get(n2);i2&&i2.id!==t2&&i2.removeNode(n2,r2)}else this._onRemovalComplete(n2,r2)}markElementAsRemoved(t2,n2,r2,o2,i2){this.collectedLeaveElements.push(n2),n2[Nn]={namespaceId:t2,setForRemoval:o2,hasAnimation:r2,removedBeforeQueried:!1,previousTriggersValues:i2}}listen(t2,n2,r2,o2,i2){return Mu(n2)?this._fetchNamespace(t2).listen(n2,r2,o2,i2):()=>{}}_buildInstruction(t2,n2,r2,o2,i2){return t2.transition.build(this.driver,t2.element,t2.fromState.value,t2.toState.value,r2,o2,t2.fromState.options,t2.toState.options,n2,i2)}destroyInnerAnimations(t2){let n2=this.driver.query(t2,bu,!0);n2.forEach(r2=>this.destroyActiveAnimationsForElement(r2)),this.playersByQueriedElement.size!=0&&(n2=this.driver.query(t2,kg,!0),n2.forEach(r2=>this.finishActiveQueriedAnimationOnElement(r2)))}destroyActiveAnimationsForElement(t2){const n2=this.playersByElement.get(t2);n2&&n2.forEach(r2=>{r2.queued?r2.markedForDestroy=!0:r2.destroy()})}finishActiveQueriedAnimationOnElement(t2){const n2=this.playersByQueriedElement.get(t2);n2&&n2.forEach(r2=>r2.finish())}whenRenderingDone(){return new Promise(t2=>{if(this.players.length)return Lr(this.players).onDone(()=>t2());t2()})}processLeaveNode(t2){var _a3;const n2=t2[Nn];if(n2&&n2.setForRemoval){if(t2[Nn]=uT,n2.namespaceId){this.destroyInnerAnimations(t2);const r2=this._fetchNamespace(n2.namespaceId);r2&&r2.clearElementCache(t2)}this._onRemovalComplete(t2,n2.setForRemoval)}(_a3=t2.classList)!=null&&_a3.contains(Gg)&&this.markElementAsDisabled(t2,!1),this.driver.query(t2,".ng-animate-disabled",!0).forEach(r2=>{this.markElementAsDisabled(r2,!1)})}flush(t2=-1){let n2=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r2,o2)=>this._balanceNamespaceList(r2,o2)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r2=0;r2<this.collectedEnterElements.length;r2++)pn(this.collectedEnterElements[r2],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r2=[];try{n2=this._flushAnimations(r2,t2)}finally{for(let o2=0;o2<r2.length;o2++)r2[o2]()}}else for(let r2=0;r2<this.collectedLeaveElements.length;r2++)this.processLeaveNode(this.collectedLeaveElements[r2]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r2=>r2()),this._flushFns=[],this._whenQuietFns.length){const r2=this._whenQuietFns;this._whenQuietFns=[],n2.length?Lr(n2).onDone(()=>{r2.forEach(o2=>o2())}):r2.forEach(o2=>o2())}}reportError(t2){throw function(e22){return new b2(3402,!1)}()}_flushAnimations(t2,n2){const r2=new Su,o2=[],i2=new Map,s2=[],a2=new Map,l2=new Map,c2=new Map,u2=new Set;this.disabledNodes.forEach(I2=>{u2.add(I2);const k2=this.driver.query(I2,".ng-animate-queued",!0);for(let j3=0;j3<k2.length;j3++)u2.add(k2[j3])});const d2=this.bodyNode,h2=Array.from(this.statesByElement.keys()),f2=hT(h2,this.collectedEnterElements),p2=new Map;let g2=0;f2.forEach((I2,k2)=>{const j3=Pg+g2++;p2.set(k2,j3),I2.forEach(le=>pn(le,j3))});const m2=[],v2=new Set,y2=new Set;for(let I2=0;I2<this.collectedLeaveElements.length;I2++){const k2=this.collectedLeaveElements[I2],j3=k2[Nn];j3&&j3.setForRemoval&&(m2.push(k2),v2.add(k2),j3.hasAnimation?this.driver.query(k2,".ng-star-inserted",!0).forEach(le=>v2.add(le)):y2.add(k2))}const C2=new Map,T3=hT(h2,Array.from(v2));T3.forEach((I2,k2)=>{const j3=vu+g2++;C2.set(k2,j3),I2.forEach(le=>pn(le,j3))}),t2.push(()=>{f2.forEach((I2,k2)=>{const j3=p2.get(k2);I2.forEach(le=>Gi(le,j3))}),T3.forEach((I2,k2)=>{const j3=C2.get(k2);I2.forEach(le=>Gi(le,j3))}),m2.forEach(I2=>{this.processLeaveNode(I2)})});const Z3=[],ie=[];for(let I2=this._namespaceList.length-1;I2>=0;I2--)this._namespaceList[I2].drainQueuedTransitions(n2).forEach(j3=>{const le=j3.player,ct=j3.element;if(Z3.push(le),this.collectedEnterElements.length){const wt=ct[Nn];if(wt&&wt.setForMove){if(wt.previousTriggersValues&&wt.previousTriggersValues.has(j3.triggerName)){const Ao=wt.previousTriggersValues.get(j3.triggerName),gn=this.statesByElement.get(j3.element);if(gn&&gn.has(j3.triggerName)){const Ou=gn.get(j3.triggerName);Ou.value=Ao,gn.set(j3.triggerName,Ou)}}return void le.destroy()}}const Qn=!d2||!this.driver.containsElement(d2,ct),en=C2.get(ct),Br=p2.get(ct),xe=this._buildInstruction(j3,r2,Br,en,Qn);if(xe.errors&&xe.errors.length)return void ie.push(xe);if(Qn)return le.onStart(()=>Io(ct,xe.fromStyles)),le.onDestroy(()=>Zn(ct,xe.toStyles)),void o2.push(le);if(j3.isFallbackTransition)return le.onStart(()=>Io(ct,xe.fromStyles)),le.onDestroy(()=>Zn(ct,xe.toStyles)),void o2.push(le);const CT=[];xe.timelines.forEach(wt=>{wt.stretchStartingKeyframe=!0,this.disabledNodes.has(wt.element)||CT.push(wt)}),xe.timelines=CT,r2.append(ct,xe.timelines),s2.push({instruction:xe,player:le,element:ct}),xe.queriedElements.forEach(wt=>Xt(a2,wt,[]).push(le)),xe.preStyleProps.forEach((wt,Ao)=>{if(wt.size){let gn=l2.get(Ao);gn||l2.set(Ao,gn=new Set),wt.forEach((Ou,Qg)=>gn.add(Qg))}}),xe.postStyleProps.forEach((wt,Ao)=>{let gn=c2.get(Ao);gn||c2.set(Ao,gn=new Set),wt.forEach((Ou,Qg)=>gn.add(Qg))})});if(ie.length){const I2=[];ie.forEach(k2=>{I2.push(function(e22,t22){return new b2(3505,!1)}())}),Z3.forEach(k2=>k2.destroy()),this.reportError(I2)}const pe=new Map,Ue=new Map;s2.forEach(I2=>{const k2=I2.element;r2.has(k2)&&(Ue.set(k2,k2),this._beforeAnimationBuild(I2.player.namespaceId,I2.instruction,pe))}),o2.forEach(I2=>{const k2=I2.element;this._getPreviousPlayers(k2,!1,I2.namespaceId,I2.triggerName,null).forEach(le=>{Xt(pe,k2,[]).push(le),le.destroy()})});const Kn=m2.filter(I2=>gT(I2,l2,c2)),Vr=new Map;fT(Vr,this.driver,y2,c2,hr).forEach(I2=>{gT(I2,l2,c2)&&Kn.push(I2)});const Mo=new Map;f2.forEach((I2,k2)=>{fT(Mo,this.driver,new Set(I2),l2,"!")}),Kn.forEach(I2=>{const k2=Vr.get(I2),j3=Mo.get(I2);Vr.set(I2,new Map([...(k2==null?void 0:k2.entries())??[],...(j3==null?void 0:j3.entries())??[]]))});const Kg=[],wT=[],DT={};s2.forEach(I2=>{const{element:k2,player:j3,instruction:le}=I2;if(r2.has(k2)){if(u2.has(k2))return j3.onDestroy(()=>Zn(k2,le.toStyles)),j3.disabled=!0,j3.overrideTotalTime(le.totalTime),void o2.push(j3);let ct=DT;if(Ue.size>1){let en=k2;const Br=[];for(;en=en.parentNode;){const xe=Ue.get(en);if(xe){ct=xe;break}Br.push(en)}Br.forEach(xe=>Ue.set(xe,ct))}const Qn=this._buildAnimation(j3.namespaceId,le,pe,i2,Mo,Vr);if(j3.setRealPlayer(Qn),ct===DT)Kg.push(j3);else{const en=this.playersByElement.get(ct);en&&en.length&&(j3.parentPlayer=Lr(en)),o2.push(j3)}}else Io(k2,le.fromStyles),j3.onDestroy(()=>Zn(k2,le.toStyles)),wT.push(j3),u2.has(k2)&&o2.push(j3)}),wT.forEach(I2=>{const k2=i2.get(I2.element);if(k2&&k2.length){const j3=Lr(k2);I2.setRealPlayer(j3)}}),o2.forEach(I2=>{I2.parentPlayer?I2.syncPlayerEvents(I2.parentPlayer):I2.destroy()});for(let I2=0;I2<m2.length;I2++){const k2=m2[I2],j3=k2[Nn];if(Gi(k2,vu),j3&&j3.hasAnimation)continue;let le=[];if(a2.size){let Qn=a2.get(k2);Qn&&Qn.length&&le.push(...Qn);let en=this.driver.query(k2,kg,!0);for(let Br=0;Br<en.length;Br++){let xe=a2.get(en[Br]);xe&&xe.length&&le.push(...xe)}}const ct=le.filter(Qn=>!Qn.destroyed);ct.length?J8(this,k2,ct):this.processLeaveNode(k2)}return m2.length=0,Kg.forEach(I2=>{this.players.push(I2),I2.onDone(()=>{I2.destroy();const k2=this.players.indexOf(I2);this.players.splice(k2,1)}),I2.play()}),Kg}afterFlush(t2){this._flushFns.push(t2)}afterFlushAnimationsDone(t2){this._whenQuietFns.push(t2)}_getPreviousPlayers(t2,n2,r2,o2,i2){let s2=[];if(n2){const a2=this.playersByQueriedElement.get(t2);a2&&(s2=a2)}else{const a2=this.playersByElement.get(t2);if(a2){const l2=!i2||i2==Na;a2.forEach(c2=>{c2.queued||!l2&&c2.triggerName!=o2||s2.push(c2)})}}return(r2||o2)&&(s2=s2.filter(a2=>!(r2&&r2!=a2.namespaceId||o2&&o2!=a2.triggerName))),s2}_beforeAnimationBuild(t2,n2,r2){const i2=n2.element,s2=n2.isRemovalTransition?void 0:t2,a2=n2.isRemovalTransition?void 0:n2.triggerName;for(const l2 of n2.timelines){const c2=l2.element,u2=c2!==i2,d2=Xt(r2,c2,[]);this._getPreviousPlayers(c2,u2,s2,a2,n2.toState).forEach(f2=>{const p2=f2.getRealPlayer();p2.beforeDestroy&&p2.beforeDestroy(),f2.destroy(),d2.push(f2)})}Io(i2,n2.fromStyles)}_buildAnimation(t2,n2,r2,o2,i2,s2){const a2=n2.triggerName,l2=n2.element,c2=[],u2=new Set,d2=new Set,h2=n2.timelines.map(p2=>{const g2=p2.element;u2.add(g2);const m2=g2[Nn];if(m2&&m2.removedBeforeQueried)return new Ma(p2.duration,p2.delay);const v2=g2!==l2,y2=function(e22){const t22=[];return pT(e22,t22),t22}((r2.get(g2)||W8).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===g2),C2=i2.get(g2),T3=s2.get(g2),Z3=GI(this._normalizer,p2.keyframes,C2,T3),ie=this._buildPlayer(p2,Z3,y2);if(p2.subTimeline&&o2&&d2.add(g2),v2){const pe=new Yg(t2,a2,g2);pe.setRealPlayer(ie),c2.push(pe)}return ie});c2.forEach(p2=>{Xt(this.playersByQueriedElement,p2.element,[]).push(p2),p2.onDone(()=>function(e22,t22,n22){let r22=e22.get(t22);if(r22){if(r22.length){const o22=r22.indexOf(n22);r22.splice(o22,1)}r22.length==0&&e22.delete(t22)}return r22}(this.playersByQueriedElement,p2.element,p2))}),u2.forEach(p2=>pn(p2,QI));const f2=Lr(h2);return f2.onDestroy(()=>{u2.forEach(p2=>Gi(p2,QI)),Zn(l2,n2.toStyles)}),d2.forEach(p2=>{Xt(o2,p2,[]).push(f2)}),f2}_buildPlayer(t2,n2,r2){return n2.length>0?this.driver.animate(t2.element,n2,t2.duration,t2.delay,t2.easing,r2):new Ma(t2.duration,t2.delay)}}class Yg{constructor(t2,n2,r2){this.namespaceId=t2,this.triggerName=n2,this.element=r2,this._player=new Ma,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t2){this._containsRealPlayer||(this._player=t2,this._queuedCallbacks.forEach((n2,r2)=>{n2.forEach(o2=>Ig(t2,r2,void 0,o2))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t2.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t2){this.totalTime=t2}syncPlayerEvents(t2){const n2=this._player;n2.triggerCallback&&t2.onStart(()=>n2.triggerCallback("start")),t2.onDone(()=>this.finish()),t2.onDestroy(()=>this.destroy())}_queueEvent(t2,n2){Xt(this._queuedCallbacks,t2,[]).push(n2)}onDone(t2){this.queued&&this._queueEvent("done",t2),this._player.onDone(t2)}onStart(t2){this.queued&&this._queueEvent("start",t2),this._player.onStart(t2)}onDestroy(t2){this.queued&&this._queueEvent("destroy",t2),this._player.onDestroy(t2)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t2){this.queued||this._player.setPosition(t2)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t2){const n2=this._player;n2.triggerCallback&&n2.triggerCallback(t2)}}function Mu(e22){return e22&&e22.nodeType===1}function dT(e22,t2){const n2=e22.style.display;return e22.style.display=t2??"none",n2}function fT(e22,t2,n2,r2,o2){const i2=[];n2.forEach(l2=>i2.push(dT(l2)));const s2=[];r2.forEach((l2,c2)=>{const u2=new Map;l2.forEach(d2=>{const h2=t2.computeStyle(c2,d2,o2);u2.set(d2,h2),(!h2||h2.length==0)&&(c2[Nn]=q8,s2.push(c2))}),e22.set(c2,u2)});let a2=0;return n2.forEach(l2=>dT(l2,i2[a2++])),s2}function hT(e22,t2){const n2=new Map;if(e22.forEach(a2=>n2.set(a2,[])),t2.length==0)return n2;const o2=new Set(t2),i2=new Map;function s2(a2){if(!a2)return 1;let l2=i2.get(a2);if(l2)return l2;const c2=a2.parentNode;return l2=n2.has(c2)?c2:o2.has(c2)?1:s2(c2),i2.set(a2,l2),l2}return t2.forEach(a2=>{const l2=s2(a2);l2!==1&&n2.get(l2).push(a2)}),n2}function pn(e22,t2){var _a3;(_a3=e22.classList)==null||_a3.add(t2)}function Gi(e22,t2){var _a3;(_a3=e22.classList)==null||_a3.remove(t2)}function J8(e22,t2,n2){Lr(n2).onDone(()=>e22.processLeaveNode(t2))}function pT(e22,t2){for(let n2=0;n2<e22.length;n2++){const r2=e22[n2];r2 instanceof HI?pT(r2.players,t2):t2.push(r2)}}function gT(e22,t2,n2){const r2=n2.get(e22);if(!r2)return!1;let o2=t2.get(e22);return o2?r2.forEach(i2=>o2.add(i2)):t2.set(e22,r2),n2.delete(e22),!0}class Ra{constructor(t2,n2,r2){this._driver=n2,this._normalizer=r2,this._triggerCache={},this.onRemovalComplete=(o2,i2)=>{},this._transitionEngine=new Z8(t2.body,n2,r2),this._timelineEngine=new H8(t2.body,n2,r2),this._transitionEngine.onRemovalComplete=(o2,i2)=>this.onRemovalComplete(o2,i2)}registerTrigger(t2,n2,r2,o2,i2){const s2=t2+"-"+o2;let a2=this._triggerCache[s2];if(!a2){const l2=[],u2=Bg(this._driver,i2,l2,[]);if(l2.length)throw function(e22,t22){return new b2(3404,!1)}();a2=function(e22,t22,n22){return new V8(e22,t22,n22)}(o2,u2,this._normalizer),this._triggerCache[s2]=a2}this._transitionEngine.registerTrigger(n2,o2,a2)}register(t2,n2){this._transitionEngine.register(t2,n2)}destroy(t2,n2){this._transitionEngine.destroy(t2,n2)}onInsert(t2,n2,r2,o2){this._transitionEngine.insertNode(t2,n2,r2,o2)}onRemove(t2,n2,r2){this._transitionEngine.removeNode(t2,n2,r2)}disableAnimations(t2,n2){this._transitionEngine.markElementAsDisabled(t2,n2)}process(t2,n2,r2,o2){if(r2.charAt(0)=="@"){const[i2,s2]=WI(r2);this._timelineEngine.command(i2,n2,s2,o2)}else this._transitionEngine.trigger(t2,n2,r2,o2)}listen(t2,n2,r2,o2,i2){if(r2.charAt(0)=="@"){const[s2,a2]=WI(r2);return this._timelineEngine.listen(s2,n2,a2,i2)}return this._transitionEngine.listen(t2,n2,r2,o2,i2)}flush(t2=-1){this._transitionEngine.flush(t2)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t2){this._transitionEngine.afterFlushAnimationsDone(t2)}}const _Pa=class _Pa{constructor(t2,n2,r2){this._element=t2,this._startStyles=n2,this._endStyles=r2,this._state=0;let o2=_Pa.initialStylesByElement.get(t2);o2||_Pa.initialStylesByElement.set(t2,o2=new Map),this._initialStyles=o2}start(){this._state<1&&(this._startStyles&&Zn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zn(this._element,this._initialStyles),this._endStyles&&(Zn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_Pa.initialStylesByElement.delete(this._element),this._startStyles&&(Io(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Io(this._element,this._endStyles),this._endStyles=null),Zn(this._element,this._initialStyles),this._state=3)}};_e6=new WeakMap,__privateAdd(_Pa,_e6,_Pa.initialStylesByElement=new WeakMap);let Pa=_Pa;function Zg(e22){let t2=null;return e22.forEach((n2,r2)=>{(function(e3){return e3==="display"||e3==="position"})(r2)&&(t2=t2||new Map,t2.set(r2,n2))}),t2}class mT{constructor(t2,n2,r2,o2){this.element=t2,this.keyframes=n2,this.options=r2,this._specialStyles=o2,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r2.duration,this._delay=r2.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t2=>t2()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t2=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t2,this.options),this._finalKeyframe=t2.length?t2[t2.length-1]:new Map;const n2=()=>this._onFinish();this.domPlayer.addEventListener("finish",n2),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n2)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t2){const n2=[];return t2.forEach(r2=>{n2.push(Object.fromEntries(r2))}),n2}_triggerWebAnimation(t2,n2,r2){return t2.animate(this._convertKeyframesToObject(n2),r2)}onStart(t2){this._originalOnStartFns.push(t2),this._onStartFns.push(t2)}onDone(t2){this._originalOnDoneFns.push(t2),this._onDoneFns.push(t2)}onDestroy(t2){this._onDestroyFns.push(t2)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t2=>t2()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t2=>t2()),this._onDestroyFns=[])}setPosition(t2){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t2*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t2=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r2,o2)=>{o2!=="offset"&&t2.set(o2,this._finished?r2:Vg(this.element,o2))}),this.currentSnapshot=t2}triggerCallback(t2){const n2=t2==="start"?this._onStartFns:this._onDoneFns;n2.forEach(r2=>r2()),n2.length=0}}class yT{validateStyleProperty(t2){return!0}validateAnimatableStyleProperty(t2){return!0}containsElement(t2,n2){return YI(t2,n2)}getParentElement(t2){return Ag(t2)}query(t2,n2,r2){return ZI(t2,n2,r2)}computeStyle(t2,n2,r2){return Vg(t2,n2)}animate(t2,n2,r2,o2,i2,s2=[]){const l2={duration:r2,delay:o2,fill:o2==0?"both":"forwards"};i2&&(l2.easing=i2);const c2=new Map,u2=s2.filter(f2=>f2 instanceof mT);(function(e22,t22){return e22===0||t22===0})(r2,o2)&&u2.forEach(f2=>{f2.currentSnapshot.forEach((p2,g2)=>c2.set(g2,p2))});let d2=function(e22){return e22.length?e22[0]instanceof Map?e22:e22.map(t22=>new Map(Object.entries(t22))):[]}(n2).map(f2=>new Map(f2));d2=function(e22,t22,n22){if(n22.size&&t22.length){let r22=t22[0],o22=[];if(n22.forEach((i22,s22)=>{r22.has(s22)||o22.push(s22),r22.set(s22,i22)}),o22.length)for(let i22=1;i22<t22.length;i22++){let s22=t22[i22];o22.forEach(a2=>s22.set(a2,Vg(e22,a2)))}}return t22}(t2,d2,c2);const h2=function(e22,t22){let n22=null,r22=null;return Array.isArray(t22)&&t22.length?(n22=Zg(t22[0]),t22.length>1&&(r22=Zg(t22[t22.length-1]))):t22 instanceof Map&&(n22=Zg(t22)),n22||r22?new Pa(e22,n22,r22):null}(t2,d2);return new mT(t2,d2,l2,h2)}}const vT="@.disabled";class _T{constructor(t2,n2,r2,o2){this.namespaceId=t2,this.delegate=n2,this.engine=r2,this._onDestroy=o2,this.type=0}get data(){return this.delegate.data}destroyNode(t2){var _a3,_b2;(_b2=(_a3=this.delegate).destroyNode)==null||_b2.call(_a3,t2)}destroy(){var _a3;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),(_a3=this._onDestroy)==null||_a3.call(this)}createElement(t2,n2){return this.delegate.createElement(t2,n2)}createComment(t2){return this.delegate.createComment(t2)}createText(t2){return this.delegate.createText(t2)}appendChild(t2,n2){this.delegate.appendChild(t2,n2),this.engine.onInsert(this.namespaceId,n2,t2,!1)}insertBefore(t2,n2,r2,o2=!0){this.delegate.insertBefore(t2,n2,r2),this.engine.onInsert(this.namespaceId,n2,t2,o2)}removeChild(t2,n2,r2){this.engine.onRemove(this.namespaceId,n2,this.delegate)}selectRootElement(t2,n2){return this.delegate.selectRootElement(t2,n2)}parentNode(t2){return this.delegate.parentNode(t2)}nextSibling(t2){return this.delegate.nextSibling(t2)}setAttribute(t2,n2,r2,o2){this.delegate.setAttribute(t2,n2,r2,o2)}removeAttribute(t2,n2,r2){this.delegate.removeAttribute(t2,n2,r2)}addClass(t2,n2){this.delegate.addClass(t2,n2)}removeClass(t2,n2){this.delegate.removeClass(t2,n2)}setStyle(t2,n2,r2,o2){this.delegate.setStyle(t2,n2,r2,o2)}removeStyle(t2,n2,r2){this.delegate.removeStyle(t2,n2,r2)}setProperty(t2,n2,r2){n2.charAt(0)=="@"&&n2==vT?this.disableAnimations(t2,!!r2):this.delegate.setProperty(t2,n2,r2)}setValue(t2,n2){this.delegate.setValue(t2,n2)}listen(t2,n2,r2){return this.delegate.listen(t2,n2,r2)}disableAnimations(t2,n2){this.engine.disableAnimations(t2,n2)}}class o3 extends _T{constructor(t2,n2,r2,o2,i2){super(n2,r2,o2,i2),this.factory=t2,this.namespaceId=n2}setProperty(t2,n2,r2){n2.charAt(0)=="@"?n2.charAt(1)=="."&&n2==vT?this.disableAnimations(t2,r2=r2===void 0||!!r2):this.engine.process(this.namespaceId,t2,n2.slice(1),r2):this.delegate.setProperty(t2,n2,r2)}listen(t2,n2,r2){if(n2.charAt(0)=="@"){const o2=function(e22){switch(e22){case"body":return document.body;case"document":return document;case"window":return window;default:return e22}}(t2);let i2=n2.slice(1),s2="";return i2.charAt(0)!="@"&&([i2,s2]=function(e22){const t22=e22.indexOf(".");return[e22.substring(0,t22),e22.slice(t22+1)]}(i2)),this.engine.listen(this.namespaceId,o2,i2,s2,a2=>{this.factory.scheduleListenerCallback(a2._data||-1,r2,a2)})}return this.delegate.listen(t2,n2,r2)}}class a3{constructor(t2,n2,r2){this.delegate=t2,this.engine=n2,this._zone=r2,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n2.onRemovalComplete=(o2,i2)=>{const s2=i2==null?void 0:i2.parentNode(o2);s2&&i2.removeChild(s2,o2)}}createRenderer(t2,n2){var _a4;const o2=this.delegate.createRenderer(t2,n2);if(!t2||!((_a4=n2==null?void 0:n2.data)!=null&&_a4.animation)){const c2=this._rendererCache;let u2=c2.get(o2);return u2||(u2=new _T("",o2,this.engine,()=>c2.delete(o2)),c2.set(o2,u2)),u2}const i2=n2.id,s2=n2.id+"-"+this._currentId;this._currentId++,this.engine.register(s2,t2);const a2=c2=>{Array.isArray(c2)?c2.forEach(a2):this.engine.registerTrigger(i2,s2,t2,c2.name,c2)};return n2.data.animation.forEach(a2),new o3(this,s2,o2,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t2,n2,r2){if(t2>=0&&t2<this._microtaskId)return void this._zone.run(()=>n2(r2));const o2=this._animationCallbacksBuffer;o2.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o2.forEach(i2=>{const[s2,a2]=i2;s2(a2)}),this._animationCallbacksBuffer=[]})}),o2.push([n2,r2])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let l3=(()=>{var _e7,_t3;const _e22=class _e22 extends Ra{constructor(n2,r2,o2){super(n2,r2,o2)}ngOnDestroy(){this.flush()}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)(D(Me),D(Ng),D(Rg))}),__privateAdd(_e22,_t3,_e22.prov=O({token:_e22,factory:_e22.fac}));let e22=_e22;return e22})();const bT=[{provide:Rg,useFactory:function(){return new eT}},{provide:Ra,useClass:l3},{provide:rc,useFactory:function(e22,t2,n2){return new a3(e22,t2,n2)},deps:[zp,Ra,K]}],d3=[{provide:Ng,useFactory:()=>new yT},{provide:nf,useValue:"BrowserAnimations"},...bT];function h3(){return bt("NgEagerAnimations"),[...d3]}let p3=(()=>{var _e7,_t3;const _e22=class _e22{set defaultOptions(n2){this.toastService.defaultOptions=JSON.parse(n2)}constructor(){this.elm=E2(lt),this.zone=E2(K),this.toastService=E2(UI);const n2=this.elm.nativeElement;n2.show=r2=>this.zone.runTask(()=>this.toastService.show(r2)),n2.showBrand=r2=>n2.show({...r2,type:Ze.BRAND}),n2.showSuccess=r2=>n2.show({...r2,type:Ze.SUCCESS}),n2.showDanger=r2=>n2.show({...r2,type:Ze.DANGER}),n2.showWarning=r2=>n2.show({...r2,type:Ze.WARNING}),n2.showInfo=r2=>n2.show({...r2,type:Ze.INFO})}};_e7=new WeakMap,_t3=new WeakMap,__privateAdd(_e22,_e7,_e22.fac=function(r2){return new(r2||_e22)}),__privateAdd(_e22,_t3,_e22.cmp=mt({type:_e22,selectors:[["ng-component"]],inputs:{defaultOptions:"defaultOptions"},standalone:!0,features:[Kh([h3(),$I(),{provide:jI,useValue:"dmo-el-toast-message-overlay-pane"}]),Et],decls:0,vars:0,template:function(r2,o2){},dependencies:[wz,_g2],encapsulation:2}));let e22=_e22;return e22})();const g3=J(177).rE;var e2;(e2=re2(function*(t2){const n2=new Kj(g3),r2=new yH(t2,customElements,n2),o2=new vH(t2,n2);yield n2.init(t2,re2(function*(){const i2=yield function(e22){return oV(function(e3){return{appProviders:[...Q2],platformProviders:Z2}}())}();yield r2.defineCustomElements(i2.injector,[{name:"dmo-el-button",component:lj},{name:"dmo-el-tooltip",component:YU},{name:"dmo-el-dropdown",component:d$},{name:"dmo-el-dropdown-item",component:h$},{name:"dmo-el-dropdown-divider",component:p$},{name:"dmo-el-static-message",component:Y$},{name:"dmo-el-toast-message",component:p3}]),yield o2.observe({relatedAttributeNames:["data-dmo-el-tooltip"]})}))}),function(t2){return e2.apply(this,arguments)})(document)})()})();class Toaster{constructor(toastElement){this.toastElement=toastElement}get dominoElement(){return this.toastElement}show(text,type=imt.mode==="master"?"success":"brand",options){const{permanent:isPermanent,...messageOptions}=options??{},message={text,type,...messageOptions,...isPermanent&&{expiration:-1}};return this.emitImtEvent(text,this.convertToLegacyToastType(type),null,isPermanent??!1,!0),this.createToastRef(message)}showLegacy(text,icon,permanent,closeable){let severity;typeof text=="object"&&({text,icon,permanent,closeable,severity}=text);const oldType=severity==="error"?"error":"info",type=this.convertFromLegacyToastType(oldType);this.emitImtEvent(text,oldType,icon,permanent,closeable);const message={text,type};return permanent&&(message.expiration=-1),this.createToastRef(message)}createToastRef(message){const toastPromise=window.dominoElements.whenInitialized().then(()=>this.dominoElement.show(message));return new ToastRef(toastPromise)}emitImtEvent(text,type,icon,permanent,closeable){imtEvents&&imtEvents.dispatch("flash.show_toast",{type,ico:icon,closeable,text,permanent,delay:3e3,__dominoWrapper:!0})}convertFromLegacyToastType(type){switch(type){case"error":return"danger";case"success":return imt.mode==="master"?"success":"brand";case"info":return imt.mode==="master"?"success":"brand";case"warning":return"warning";default:return imt.mode==="master"?"success":"brand"}}convertToLegacyToastType(type){switch(type){case"danger":return"error";case"success":return"success";case"info":return"info";case"warning":return"warning";case"brand":return imt.mode==="master"?"success":"info";default:return"info"}}}class ToastRef{constructor(dominoRefPromise){this.dominoRefPromise=dominoRefPromise}close(){this.dominoRefPromise.then(ref=>ref.close())}}class TooltipBuilder{constructor(title){this.title="",this.position="",this.trigger="",this.inDelay=0,this.outDelay=0,this.offset={},this.disabled=!1,this.title=title}withTitle(title){return this.title=title,this}withPosition(position){return this.position=position,this}withTrigger(trigger){return this.trigger=trigger,this}withInDelay(delay2){return this.inDelay=delay2,this}withOutDelay(delay2){return this.outDelay=delay2,this}withOffset(offset2){return this.offset=offset2,this}withDisabled(disabled){return this.disabled=disabled,this}setAttribute(el,attribute,value){typeof value!="object"&&value?el.setAttribute(attribute,typeof value=="string"?value:JSON.stringify(value)):typeof value=="object"&&Object.keys(value).length!==0&&el.setAttribute(attribute,JSON.stringify(value))}async toElement(el){var _a2;const element2=el instanceof HTMLElement?el:el.__dom;await((_a2=window.dominoElements)==null?void 0:_a2.whenInitialized()),this.setAttribute(element2,"data-dmo-el-tooltip",this.title),this.setAttribute(element2,"data-dmo-el-tooltip-trigger",this.trigger),this.setAttribute(element2,"data-dmo-el-tooltip-in-delay",this.inDelay),this.setAttribute(element2,"data-dmo-el-tooltip-out-delay",this.outDelay),this.setAttribute(element2,"data-dmo-el-tooltip-position",this.position),this.setAttribute(element2,"data-dmo-el-tooltip-offset",this.offset),this.setAttribute(element2,"data-dmo-el-tooltip-disabed",this.disabled)}}function registerTooltip(){return title=>new TooltipBuilder(title)}function createDominoElement(selector){let element2=document.querySelector(selector);return element2||(element2=document.createElement(selector),document.body.appendChild(element2)),element2}const toaster=new Toaster(createDominoElement("dmo-el-toast-message"));createDominoElement("dmo-el-tooltip");const tooltip=registerTooltip();/*!
	 * simDOM
	 * http://simdom.org/

	 * Released under the MIT license
	 * http://simdom.org/license
	*/(function(window2){if((window2==null?void 0:window2.sim)!=null)return;let JQUERY=(window2==null?void 0:window2.jQuery)!=null;const FF=(navigator==null?void 0:navigator.userAgent.toLowerCase().indexOf("firefox"))>-1,WHEEL_EVENT=window2?"onwheel"in window2.document.createElement("div")?"wheel":window2.document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll":"wheel";let TEMP_ID=0;const TAGS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],JQUERY_POLYFILLS=["animate","stop","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle"];let READY_LISTENERS=[],CSS_SHEET=null;const CSS_NUMBER={columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},COMPONENT=Object.create(null);let HAS_COMPONENTS=!1;const NAMESPACE=Object.create(null),EVENT_CONSTRUCTOR={resize:"UIEvent",scroll:"UIEvent"},BOOTSTRAP_EVENT=/^[^\.]+\.bs\.[^\.]+$/,ALTERNATIVE_EVENT_CONSTRUCTORS={CustomEvent(name,options){return this.initCustomEvent(name,options.bubbles!=null?options.bubbles:!0,options.cancelable!=null?options.cancelable:!1,options.detail!=null?options.detail:{})},UIEvent(name,options){return this.initUIEvent(name,options.bubbles!=null?options.bubbles:!0,options.cancelable!=null?options.cancelable:!1,window2,0)}};var sim2=function(selector){if(selector==null)return null;if(selector instanceof SIMBase||selector instanceof SIMArray2)return selector;if(selector.__sim__ instanceof SIMBase)return selector.__sim__;if(typeof selector=="function")return sim2.ready(selector);if(typeof selector=="string")return["html","body"].includes(selector)||/^#([a-z]+[_a-z0-9-]*)$/i.test(selector)?sim2(query(window2.document,selector)):simArray(queryAll(window2.document,selector));if(Array.isArray(selector))return new SIMArray2(selector);if(selector.nodeType===3)return new SIMText(selector);if(selector.nodeType===9)return new SIMDocument(selector);if(selector.nodeType===1){const defaultKlass=NAMESPACE[selector.namespaceURI]!=null?NAMESPACE[selector.namespaceURI]:SIMElement2;if(HAS_COMPONENTS){if(selector.hasAttribute("sim-component")){let left;return new((left=COMPONENT[selector.getAttribute("sim-component")])!=null?left:defaultKlass)(selector)}else if(selector.hasAttribute("data-sim-component")){let left1;return new((left1=COMPONENT[selector.getAttribute("data-sim-component")])!=null?left1:defaultKlass)(selector)}}return new defaultKlass(selector)}return JQUERY&&selector instanceof window2.jQuery?new SIMArray2(selector.toArray()):window2.Window!=null&&selector.constructor===window2.Window?new SIMWindow(selector):null},simArray=function(array2){return array2 instanceof SIMArray2?array2:new SIMArray2(array2)};window2.sim=sim2,window2.document.addEventListener("DOMContentLoaded",()=>sim2.ready());const setImmediate2=window2.setImmediate||(fn2=>setTimeout(fn2,0));window2.clearImmediate;var query=(dom,selector)=>queryDo("querySelector",dom,selector),queryAll=(dom,selector)=>Array.prototype.slice.call(queryDo("querySelectorAll",dom,selector)),queryDo=function(method,dom,selector){let res,tempId=!1;selector=selector.replace(/@([a-z]+[_a-z0-9-]*)/gi,(a2,b2)=>`[sim-component="${b2}"]`),selector.substr(0,7)===":scope "&&(dom.hasAttribute("id")||(tempId=!0,dom.setAttribute("id",`sim-temp-id-${TEMP_ID++}`)),selector=`#${dom.getAttribute("id")} ${selector.substr(7)}`);try{res=dom[method](selector)}catch(ex){return console.error(`simdom query '${selector}' failed: ${ex.message}`),method==="querySelectorAll"?[]:null}return tempId&&dom.removeAttribute("id"),res};const check=function(value,...types){let type;for(type of Array.from(types))if((()=>{switch(type){case String:return typeof value=="string";case Number:return typeof value=="number";case Boolean:return typeof value=="boolean";case Function:return typeof value=="function";default:return value instanceof type}})())return!0;throw new Error(`Type '${type.name}' expeceted.`)};var parse=function(selectors){const conditions=[];if(typeof selectors=="string"&&selectors.length){let condition=null,parsing=null,buffer="",cursor=-1;const{length}=selectors;let instr=!1,inarg=!1;const next=function(type){if(buffer=buffer.trim(),buffer.length)switch(parsing){case"tag":condition.tag=buffer;break;case"id":condition.id=buffer;break;case"class":condition.class.push(buffer);break;case"component":condition.attribute.push({name:"sim-component",operator:"=",value:buffer});break;case"attr":var match2=buffer.match(/^([_a-z0-9-]+)(?:=(.*))?\]$/i);match2&&condition.attribute.push({name:match2[1],operator:"=",value:match2[2]});break;case"pseudo":match2=buffer.match(/^([-a-z]+)(?:\((.*))?$/i),match2&&condition.pseudo.push({name:match2[1],conditions:parse(match2[2])});break}return buffer="",parsing=type},cond=function(){return next("tag"),condition={id:null,tag:null,class:[],attribute:[],pseudo:[]},conditions.push(condition)};for(cond();++cursor<length;){const chr=selectors.charAt(cursor);if(instr){chr==='"'?instr=!1:buffer+=chr;continue}else if(inarg){chr===")"?inarg=!1:buffer+=chr;continue}switch(chr){case".":next("class");break;case"#":next("id");break;case"[":next("attr");break;case":":next("pseudo");break;case"@":next("component");break;case"(":parsing==="pseudo"?(buffer+=chr,inarg=!0):parsing=null;break;case'"':parsing==="attr"?instr=!0:parsing=null;break;case",":cond();break;default:buffer+=chr}}next(null)}return conditions},matches=function(elm,conditions,index2){var _a2,_b2;if(index2==null&&(index2=0),conditions.length===0)return!0;if(elm instanceof SIMText)return!1;for(let condition of Array.from(conditions)){var fulfilled,name;if(condition.tag!=null){if(condition.tag==="*"){if(!(elm instanceof SIMElement2))continue}else if(elm.prop("tagName").toLowerCase()!==condition.tag)continue}if(!(condition.id!=null&&elm.attr("id")!==condition.id)){if(condition.class.length){fulfilled=!0;for(name of Array.from(condition.class))if(!elm.hasClass(name)){fulfilled=!1;break}if(!fulfilled)continue}if(condition.attribute.length){fulfilled=!0;for(let attr of Array.from(condition.attribute))if(attr.value!=null){if(attr.value!==elm.attr(attr.name)){fulfilled=!1;break}}else if(!elm.__dom.hasAttribute(attr.name)){fulfilled=!1;break}if(!fulfilled)continue}if(condition.pseudo.length){fulfilled=!0;for(let ps of Array.from(condition.pseudo))switch(ps.name){case"visible":if(elm.__dom.offsetWidth===0||elm.__dom.offsetHeight===0){fulfilled=!1;break}break;case"disabled":if(elm.__dom.disabled!==!0){fulfilled=!1;break}break;case"focus":if(elm.__dom.ownerDocument.activeElement!==elm.__dom){fulfilled=!1;break}break;case"first-child":case"first":if(((_a2=elm.__dom.parentNode)==null?void 0:_a2.firstChild)!==elm.__dom){fulfilled=!1;break}break;case"last-child":case"last":if(((_b2=elm.__dom.parentNode)==null?void 0:_b2.lastChild)!==elm.__dom){fulfilled=!1;break}break;case"checked":if(elm.__dom.checked!==!0){fulfilled=!1;break}break;case"odd":if(index2%2===1){fulfilled=!1;break}break;case"even":if(index2%2===0){fulfilled=!1;break}break;case"not":if(matches(elm,ps.conditions)){fulfilled=!1;break}break}if(!fulfilled)continue}return!0}}return!1};const normalizeCssKey=key=>key.replace(/\-(.)/g,(a2,b2)=>b2.toUpperCase()),normalizeCssValue=function(key,value){return typeof value=="number"&&!CSS_NUMBER[key]?`${value}px`:value},sanitize2=text=>text.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),filter2=function(array2,selectors){let index2,item;const arr=new SIMArray2;if(selectors==null){for(item of Array.from(array2))item instanceof SIMText||arr.push(item);return arr}if(typeof selectors=="function"){for(index2=0;index2<array2.length;index2++)item=array2[index2],item instanceof SIMText||selectors.call(item,item,index2,array2)&&arr.push(item);return arr}const conditions=parse(selectors);for(index2=0;index2<array2.length;index2++)item=array2[index2],!(item instanceof SIMText)&&matches(item,conditions,index2)&&arr.push(item);return arr};class SIMArray2{static initClass(){this.prototype.length=0,this.prototype.indexOf=Array.prototype.indexOf,this.prototype.reverse=Array.prototype.reverse,this.prototype.shift=Array.prototype.shift}constructor(elms){let e2;if(elms instanceof SIMElement2||elms instanceof SIMText)this.push(elms);else if(elms instanceof SIMArray2||Array.isArray(elms))for(let elm of Array.from(elms))e2=sim2(elm),e2&&this.push(e2);else e2=sim2(elms),e2&&this.push(e2)}addClass(){for(let elm of Array.from(this))elm.addClass(...arguments);return this}appendTo(){for(let elm of Array.from(this))elm.appendTo(...arguments);return this}attr(key,value){var _a2;if(arguments.length===1)return(_a2=this.first())==null?void 0:_a2.attr(key);for(let elm of Array.from(this))elm.attr(key,value);return this}after(){for(let elm of Array.from(this))elm.after(...arguments);return this}append(){for(let elm of Array.from(this))elm.append(...arguments);return this}blur(){var _a2;return(_a2=this.first())==null||_a2.blur(),this}css(key,value){var _a2;let elm;if(typeof key=="object"){for(elm of Array.from(this))elm.css(key);return this}else{if(arguments.length===1)return(_a2=this.first())==null?void 0:_a2.css(key);for(elm of Array.from(this))elm.css(key,value);return this}}children(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.children(...arguments));return arr}clone(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.clone(...arguments));return arr}data(key,value){var _a2;if(arguments.length<2)return(_a2=this.first())==null?void 0:_a2.data(key);for(let elm of Array.from(this))elm.data(key,value);return this}detach(){for(let elm of Array.from(this))elm.detach();return this}do(method){for(let elm of Array.from(this))method.call(elm);return this}each(method){for(let index2=0;index2<this.length;index2++){const item=this[index2];method.call(item,index2,item)}return this}emit(){for(let elm of Array.from(this))elm.emit(...arguments);return this}empty(){for(let elm of Array.from(this))elm.empty();return this}filter(selectors){return selectors==null?new SIMArray2:filter2(this,selectors)}find(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.find(...arguments));return arr}first(){return this[0]}focus(){var _a2;return(_a2=this.first())==null||_a2.focus(),this}hasClass(name){for(let elm of Array.from(this))if(elm.hasClass(name))return!0;return!1}height(value){var _a2;if(arguments.length){for(let elm of Array.from(this))elm.height(value);return this}else{let left;return(left=(_a2=this.first())==null?void 0:_a2.height())!=null?left:0}}hide(){for(let elm of Array.from(this))elm.hide(...arguments);return this}html(value){var _a2;if(arguments.length){for(let elm of Array.from(this))elm.html(value);return this}else{let left;return(left=(_a2=this.first())==null?void 0:_a2.html())!=null?left:""}}insertAfter(){for(let elm of Array.from(this))elm.insertAfter(...arguments);return this}insertBefore(){for(let elm of Array.from(this))elm.insertBefore(...arguments);return this}inspect(){return`[SIMArray ${Array.from(this).map(elm=>elm.inspect()).join(", ")}]`}last(){return this[this.length-1]}map(method){return Array.from(this).map(item=>method(item))}next(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.next(...arguments));return arr}nextAll(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.nextAll(...arguments));return arr}not(selectors){let item;const arr=new SIMArray2;if(selectors==null){for(item of Array.from(this))arr.push(item);return arr}const conditions=parse(selectors);for(let index2=0;index2<this.length;index2++)item=this[index2],matches(item,conditions,index2)||arr.push(item);return arr}off(){for(let elm of Array.from(this))elm.off(...arguments);return this}on(){for(let elm of Array.from(this))elm.on(...arguments);return this}once(){for(let elm of Array.from(this))elm.once(...arguments);return this}outerHeight(margin){var _a2;let left;return(left=(_a2=this.first())==null?void 0:_a2.outerHeight(margin))!=null?left:0}outerWidth(margin){var _a2;let left;return(left=(_a2=this.first())==null?void 0:_a2.outerWidth(margin))!=null?left:0}parent(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.parent(...arguments));return arr}push(elm){if(elm==null)return this;if(check(elm,SIMElement2,SIMText,SIMArray2),elm instanceof SIMArray2){for(let e2 of Array.from(elm))this.push(e2);return this}return Array.prototype.push.call(this,elm),this}prependTo(){for(let elm of Array.from(this))elm.prependTo(...arguments);return this}prev(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.prev(...arguments));return arr}prevAll(){const arr=new SIMArray2;for(let elm of Array.from(this))arr.push(elm.prevAll(...arguments));return arr}prop(key,value){var _a2;if(arguments.length===1)return(_a2=this.first())==null?void 0:_a2.prop(key);for(let elm of Array.from(this))elm.prop(key,value);return this}remove(){for(let elm of Array.from(this))elm.remove();return this}removeClass(){for(let elm of Array.from(this))elm.removeClass(...arguments);return this}show(){for(let elm of Array.from(this))elm.show(...arguments);return this}slice(begin,end2){const arr=new SIMArray2,len=this.length;let start2=begin||0;start2=start2>=0?start2:Math.max(0,len+start2);let upto=typeof end2=="number"?Math.min(end2,len):len;end2<0&&(upto=len+end2);const size=upto-start2;if(size>0)for(let i2=0,end1=size,asc=0<=end1;asc?i2<end1:i2>end1;asc?i2++:i2--)arr.push(this[start2+i2]);return arr}sort(){return new SIMArray2(Array.prototype.sort.apply(this,arguments))}splice(){return this}text(value){var _a2;if(arguments.length){for(let elm of Array.from(this))elm.text(value);return this}else{let left;return(left=(_a2=this.first())==null?void 0:_a2.text())!=null?left:""}}toArray(){return Array.from(this)}toggleClass(){for(let elm of Array.from(this))elm.toggleClass(...arguments);return this}toString(){return Array.from(this).map(elm=>elm.toString()).join("")}trigger(){for(let elm of Array.from(this))elm.trigger(...arguments);return this}val(value){var _a2;if(arguments.length){for(let elm of Array.from(this))elm.val(value);return this}else{let left;return(left=(_a2=this.first())==null?void 0:_a2.val())!=null?left:null}}width(value){var _a2;if(arguments.length){for(let elm of Array.from(this))elm.width(value);return this}else{let left;return(left=(_a2=this.first())==null?void 0:_a2.width())!=null?left:0}}}SIMArray2.initClass();class SIMBase{constructor(dom){Object.defineProperty(this,"__dom",{value:dom}),Object.defineProperty(this,"__handlers",{value:Object.create(null)}),Object.defineProperty(this,"__data",{value:Object.create(null)});try{Object.defineProperty(dom,"__sim__",{value:this})}catch{}}}Object.defineProperties(SIMBase.prototype,{nodeType:{get(){return this.__dom.nodeType}}});class SIMElement2 extends SIMBase{constructor(tag,parent2,props,next){if(typeof props=="function"&&(next=props,props=void 0),typeof parent2=="string"&&(props=parent2,parent2=null),parent2!=null&&check(parent2,SIMElement2),tag instanceof SIMElement2)super(tag.__dom);else if(JQUERY&&tag instanceof window2.jQuery)super(tag[0]);else if(tag.nodeName)super(tag);else if(typeof tag=="string")super(window2.document.createElement(tag));else throw new Error("Invalid arguments.");if(typeof props=="string"){if(props=parse(props)[0],props.id!=null&&this.attr("id",props.id),props.class!=null)for(let klass of Array.from(props.class))this.addClass(klass);if(props.attribute!=null)for(let attr of Array.from(props.attribute))this.attr(attr.name,attr.value)}parent2!=null&&this.appendTo(parent2),next==null||next.call(this)}addClass(names){if(typeof names!="string")return this;const classes2=this.__dom.className.length===0?[]:this.__dom.className.split(" ");for(let name of Array.from(names.split(" ")))Array.from(classes2).includes(name)||classes2.push(name);return this.__dom.className=classes2.join(" "),this}after(children){children=simArray(children).reverse();for(let child of Array.from(children))this.__dom.parentNode.insertBefore(child.__dom,this.__dom.nextSibling);return this}append(children){children=simArray(children);for(let child of Array.from(children))this.__dom.appendChild(child.__dom);return this}attr(key,value){return arguments.length===1?this.__dom.getAttribute(key):(value!=null?["disabled","checked"].includes(key)&&[!0,!1].includes(value)?value?this.__dom.setAttribute(key,key):this.__dom.removeAttribute(key):this.__dom.setAttribute(key,value):this.__dom.removeAttribute(key),this)}appendTo(parent2){return parent2=sim2(parent2),parent2.append(this),this}before(children){var _a2;children=simArray(children);for(let child of Array.from(children))(_a2=this.__dom.parentNode)==null||_a2.insertBefore(child.__dom,this.__dom);return this}blur(){return this.__dom.blur(),this}css(key,value){let styles;if(typeof key=="object"?styles=key:arguments.length>1&&(styles={},styles[key]=value),styles==null)return this.__dom.ownerDocument.body.contains(this.__dom)?this.__dom.ownerDocument.defaultView.getComputedStyle(this.__dom,null).getPropertyValue(key):(key=normalizeCssKey(key),this.__dom.style[key]);for(key in styles)value=styles[key],key=normalizeCssKey(key),value=normalizeCssValue(key,value),value!=null?this.__dom.style[key]=value:delete this.__dom.style[key];return this}closest(selector){const conditions=parse(selector);let parent2=SIMElement2.prototype.parent.call(this);if(!parent2)return null;for(;!matches(parent2,conditions);)if(parent2=SIMElement2.prototype.parent.call(parent2),parent2==null)return null;return parent2}contains(descendants){if(descendants=simArray(descendants),descendants.length===0)return!1;for(let descendant of Array.from(descendants))if(descendant===this||!this.__dom.contains(descendant.__dom))return!1;return!0}contents(){return simArray(Array.prototype.slice.call(this.__dom.childNodes))}clone(withDataAndEvents){const elm=sim2(this.__dom.cloneNode(!0));if(withDataAndEvents)for(let event in this.__handlers){var fn2;const o2=this.__handlers[event];for(fn2 of Array.from(o2.original!=null?o2.original:[]))elm.on(event,fn2);for(let selector in o2.selector){const oo=o2.selector[selector];for(fn2 of Array.from(oo.original!=null?oo.original:[]))elm.on(event,selector,fn2)}}return elm}data(key,value){if(arguments.length===0){const obj={};for(let attr of Array.from(this.__dom.attributes))/^data-(.*)$/.exec(attr.name)&&(obj[RegExp.$1]=attr.value);for(key in this.__data)value=this.__data[key],obj[key]=value;return obj}else return arguments.length===1?this.__data[key]!=null?this.__data[key]:this.__dom.getAttribute(`data-${key}`):(typeof value=="object"?(this.__dom.hasAttribute(`data-${key}`)&&this.__dom.removeAttribute(`data-${key}`),this.__data[key]=value):(this.__data[key]=value,this.__dom.setAttribute(`data-${key}`,value)),this)}detach(){return this.remove(...arguments)}do(method){return method.call(this),this}emit(name,options){if(options==null&&(options={}),!(FF&&this.__dom.disabled)){if(BOOTSTRAP_EVENT.test(name)){const jq=this.toJquery();jq.trigger.apply(jq,arguments)}else{let event;if(typeof name=="string"){const klass=EVENT_CONSTRUCTOR[name]!=null?EVENT_CONSTRUCTOR[name]:"CustomEvent";try{event=new window2[klass](name,options)}catch{event=(this.__dom.ownerDocument!=null?this.__dom.ownerDocument:this.__dom.document).createEvent(klass),ALTERNATIVE_EVENT_CONSTRUCTORS[klass].call(event,name,options)}}else throw new Error("Invalid arguments.");this.__dom.dispatchEvent(event)}return this}}empty(){for(;this.__dom.hasChildNodes();)this.__dom.removeChild(this.__dom.lastChild);return this}find(selector){if(selector==null)return new SIMArray2;if(typeof selector=="string")return simArray(queryAll(this.__dom,selector));throw new Error("Invalid arguments.")}findOne(selector){return selector==null?null:sim2(query(this.__dom,selector))}focus(){return this.__dom.focus(),this}hasClass(names){if(this.__dom.className.length===0)return!1;const classes2=(this.__dom.className instanceof SVGAnimatedString?this.__dom.className.baseVal:this.__dom.className).split(" ");for(let name of Array.from(names.split(" ")))if(!Array.from(classes2).includes(name))return!1;return!0}height(value){if(arguments.length)return this.css("height",typeof value=="string"?value:`${value}px`),this;if(this.is(":visible"))return this.__dom.offsetHeight;{const h2=parseFloat(this.css("height"));return isNaN(h2)?0:h2}}hide(){return this.css("display","none")}html(value){return arguments.length?(this.__dom.innerHTML=value,this):this.__dom.innerHTML}children(selector){return filter2(simArray(Array.prototype.slice.call(this.__dom.childNodes)),selector)}insertAfter(elms){elms=simArray(elms);for(let elm of Array.from(elms))SIMElement2.prototype.after.call(elm,this);return this}insertBefore(elms){elms=simArray(elms);for(let elm of Array.from(elms))SIMElement2.prototype.before.call(elm,this);return this}inspect(){return`[SIMElement ${this.__dom.nodeName.toLowerCase()}${this.__dom.id?`#${this.__dom.id}`:""}]`}is(selector){return matches(this,parse(selector))}next(selector){const elm=sim2(this.__dom.nextSibling);return elm==null||selector!=null&&!matches(elm,parse(selector))?null:elm}nextAll(selector){if(!this.__dom.parentNode)return simArray();const index2=Array.prototype.indexOf.call(this.__dom.parentNode.childNodes,this.__dom);return index2===-1?simArray():filter2(simArray(Array.prototype.slice.call(this.__dom.parentNode.childNodes,index2+1)),selector)}off(events2,selector,handler){var _a2,_b2,_c2;typeof selector=="function"&&(handler=selector,selector=void 0);let fn2=handler;events2==null&&(events2=Object.keys(this.__handlers).join(" "));for(let event of Array.from(events2.split(" "))){var index2;if(FF&&(event==="focusin"?event="focus":event==="focusout"&&(event="blur")),["wheel","mousewheel"].includes(event)&&(event=WHEEL_EVENT),selector){if(index2=(_b2=(_a2=this.__handlers[event])==null?void 0:_a2.selector[selector])==null?void 0:_b2.original.indexOf(handler),index2==null||index2===-1)return this;fn2=this.__handlers[event].selector[selector].temporary[index2],this.__handlers[event].selector[selector].original.splice(index2,1),this.__handlers[event].selector[selector].temporary.splice(index2,1)}else{if(index2=(_c2=this.__handlers[event])==null?void 0:_c2.original.indexOf(handler),index2==null||index2===-1)return this;fn2=this.__handlers[event].temporary[index2],this.__handlers[event].original.splice(index2,1),this.__handlers[event].temporary.splice(index2,1)}BOOTSTRAP_EVENT.test(event)?this.toJquery().off(event,fn2):this.__dom.removeEventListener(event,fn2)}return this}offset(){const bounds=this.__dom.getBoundingClientRect();return{left:bounds.left+this.__dom.ownerDocument.defaultView.pageXOffset,top:bounds.top+this.__dom.ownerDocument.defaultView.pageYOffset}}on(events2,selector,handler,_once){var _a2;if(typeof selector=="function"&&(handler=selector,selector=void 0),typeof handler!="function")throw new Error("Invalid arguments.");const self2=this;let jqevt=!1,capture;for(let event of Array.from(events2.split(" "))){var fn2,index2;if(FF&&(event==="focusin"?(event="focus",capture=!0):event==="focusout"&&(event="blur",capture=!0)),["wheel","mousewheel"].includes(event)&&(event=WHEEL_EVENT),this.__handlers[event]==null&&(this.__handlers[event]={original:[],temporary:[],selector:Object.create(null)}),selector){if(index2=(_a2=this.__handlers[event].selector[selector])==null?void 0:_a2.original.indexOf(handler),index2!=null&&index2!==-1)return this;fn2=function(e2){var _a3,_b2;let ret;if(_once){const eventType=jqevt?`${e2.type}${e2.namespace?`.${e2.namespace}`:""}`:e2.type;SIMElement2.prototype.off.call(self2,eventType,selector,handler)}const target=sim2(e2.target);if(target.is(selector))return ret=handler.apply(target,arguments),ret===!1&&((_a3=e2.preventDefault)==null||_a3.call(e2)),ret;const closest2=target.closest(selector);return closest2?(ret=handler.apply(closest2,arguments),ret===!1&&((_b2=e2.preventDefault)==null||_b2.call(e2)),ret):null},this.__handlers[event].selector[selector]==null&&(this.__handlers[event].selector[selector]={original:[],temporary:[]}),this.__handlers[event].selector[selector].original.push(handler),this.__handlers[event].selector[selector].temporary.push(fn2)}else{if(index2=this.__handlers[event].original.indexOf(handler),index2!=null&&index2!==-1)return this;fn2=function(e2){var _a3;if(_once){const eventType=jqevt?`${e2.type}${e2.namespace?`.${e2.namespace}`:""}`:e2.type;SIMElement2.prototype.off.call(self2,eventType,selector,handler)}e2.type==="DOMMouseScroll"&&(e2.wheelDelta=e2.detail*-20);const ret=handler.call(self2,e2);return ret===!1&&((_a3=e2.preventDefault)==null||_a3.call(e2)),ret},this.__handlers[event].original.push(handler),this.__handlers[event].temporary.push(fn2)}BOOTSTRAP_EVENT.test(event)?(jqevt=!0,this.toJquery().on(event,fn2)):this.__dom.addEventListener(event,fn2,capture)}return this}once(event,selector,handler){return typeof selector=="function"&&(handler=selector,selector=void 0),SIMElement2.prototype.on.call(this,event,selector,handler,!0),this}outerHeight(margin){let add=0;if(margin){let m2=parseFloat(this.css("margin-top"));isNaN(m2)||(add+=m2),m2=parseFloat(this.css("margin-bottom")),isNaN(m2)||(add+=m2)}return SIMElement2.prototype.height.call(this)+add}outerWidth(margin){let add=0;if(margin){let m2=parseFloat(this.css("margin-left"));isNaN(m2)||(add+=m2),m2=parseFloat(this.css("margin-right")),isNaN(m2)||(add+=m2)}return SIMElement2.prototype.width.call(this)+add}parent(){return this.__dom.parentNode===this.__dom.ownerDocument?null:sim2(this.__dom.parentNode)}prepend(children){children=simArray(children).reverse();for(let child of Array.from(children))this.__dom.hasChildNodes()?this.__dom.insertBefore(child.__dom,this.__dom.firstChild):this.__dom.appendChild(child.__dom);return this}prependTo(parent2){return parent2=sim2(parent2),SIMElement2.prototype.prepend.call(parent2,this),this}prev(selector){const elm=sim2(this.__dom.previousSibling);return elm==null||selector!=null&&!matches(elm,parse(selector))?null:elm}prevAll(selector){if(!this.__dom.parentNode)return simArray();const index2=Array.prototype.indexOf.call(this.__dom.parentNode.childNodes,this.__dom);return index2<=0?simArray():filter2(simArray(Array.prototype.slice.call(this.__dom.parentNode.childNodes,0,index2)),selector)}prop(key,value){return arguments.length===1?this.__dom[key]:(["disabled","selected","checked"].includes(key)&&(value?this.__dom.setAttribute(key,key):this.__dom.removeAttribute(key)),this.__dom[key]=value,this)}remove(child){var _a2;return child==null?((_a2=this.__dom.parentNode)==null||_a2.removeChild(this.__dom),this):(child=sim2(child),this.__dom.removeChild(child.__dom),this)}removeClass(names){if(this.__dom.className.length===0)return this;const classes2=this.__dom.className.split(" ");for(let name of Array.from(names.split(" "))){const index2=classes2.indexOf(name);if(index2!==-1&&classes2.splice(index2,1),classes2.length===0)return this.__dom.className=classes2.join(" "),this}return this.__dom.className=classes2.join(" "),this}replaceWith(children){var _a2,_b2;children=simArray(children);for(let child of Array.from(children))(_a2=this.__dom.parentNode)==null||_a2.insertBefore(child.__dom,this.__dom);return(_b2=this.__dom.parentNode)==null||_b2.removeChild(this.__dom),this}scrollLeft(){return this.__dom.scrollLeft}scrollTop(){return this.__dom.scrollTop}show(){return SIMElement2.prototype.css.call(this,"display","block")}text(value){return arguments.length?(this.__dom.textContent=value,this):this.__dom.textContent}toggleClass(names){for(let name of Array.from(names.split(" ")))this.hasClass(name)?this.removeClass(name):this.addClass(name);return this}toString(){return this.__dom.outerHTML}trigger(){return SIMElement2.prototype.emit.apply(this,arguments)}val(value){return arguments.length?(this.__dom.value=value??"",this):this.__dom.value}width(value){if(arguments.length)return this.css("width",typeof value=="string"?value:`${value}px`),this;if(this.is(":visible"))return this.__dom.offsetWidth;{const w2=parseFloat(this.css("width"));return isNaN(w2)?0:w2}}write(text){return/&#?([a-z0-9]+);/gi.test(text)&&(text=sim2.div().html(sanitize2(text)).text()),SIMElement2.prototype.append.call(this,new SIMText(text))}}Object.defineProperties(SIMElement2.prototype,{enabled:{get(){return!this.is(":disabled")},set(value){return this.prop("disabled",!value)}},checked:{get(){return this.is(":checked")},set(value){return this.prop("checked",value)}},value:{get(){return this.val()},set(value){return this.val(value)}},visible:{get(){return this.is(":visible")},set(value){return this[value?"show":"hide"]()}}});class SIMText extends SIMBase{static initClass(){this.prototype.after=SIMElement2.prototype.after,this.prototype.appendTo=SIMElement2.prototype.appendTo,this.prototype.before=SIMElement2.prototype.before,this.prototype.detach=SIMElement2.prototype.detach,this.prototype.prependTo=SIMElement2.prototype.prependTo,this.prototype.insertBefore=SIMElement2.prototype.insertBefore,this.prototype.insertAfter=SIMElement2.prototype.insertAfter,this.prototype.next=SIMElement2.prototype.next,this.prototype.nextAll=SIMElement2.prototype.nextAll,this.prototype.parent=SIMElement2.prototype.parent,this.prototype.prev=SIMElement2.prototype.prev,this.prototype.prevAll=SIMElement2.prototype.prevAll,this.prototype.remove=SIMElement2.prototype.remove,this.prototype.text=SIMElement2.prototype.text}constructor(text){if(text==null)super(window2.document.createTextNode(""));else if(typeof text=="string")super(window2.document.createTextNode(text));else if(text.nodeType===3)super(text);else throw new Error("Invalid arguments.")}closest(){return null}hasClass(){return!1}inspect(){return`[SIMText '${this.__dom.textContent}']`}is(){return!1}}SIMText.initClass();class SIMDocument extends SIMBase{static initClass(){this.prototype.emit=SIMElement2.prototype.emit,this.prototype.on=SIMElement2.prototype.on,this.prototype.once=SIMElement2.prototype.once,this.prototype.off=SIMElement2.prototype.off,this.prototype.trigger=SIMElement2.prototype.trigger}closest(){return null}height(){return window2.document.documentElement.offsetHeight}inspect(){return"[SIMDocument]"}is(selector){return selector==="document"}toString(){return`<!DOCTYPE html>${this.__dom.documentElement.outerHTML}`}width(){return window2.document.documentElement.offsetWidth}}SIMDocument.initClass();class SIMWindow extends SIMBase{static initClass(){this.prototype.emit=SIMElement2.prototype.emit,this.prototype.on=SIMElement2.prototype.on,this.prototype.once=SIMElement2.prototype.once,this.prototype.off=SIMElement2.prototype.off,this.prototype.trigger=SIMElement2.prototype.trigger}closest(){return null}height(){return window2.document.documentElement.clientHeight}inspect(){return"[SIMWindow]"}is(){return!1}open(){return window2.open(...arguments)}scrollLeft(){return this.__dom.pageXOffset}scrollTop(){return this.__dom.pageYOffset}toString(){return this.inspect()}width(){return window2.document.documentElement.clientWidth}}SIMWindow.initClass(),Object.defineProperties(SIMWindow.prototype,{devicePixelRatio:{get(){return this.__dom.devicePixelRatio!=null?this.__dom.devicePixelRatio:1}},document:{get(){return sim2(window2.document)}},history:{get(){return window2.history}},location:{get(){return window2.location},set(value){return window2.location=value}}}),sim2.create=function(tag,parent2,props){const klass=this.prototype instanceof SIMElement2?this:SIMElement2;return HAS_COMPONENTS&&/@([-a-z0-9_]+)/i.exec(props)?new(COMPONENT[RegExp.$1]!=null?COMPONENT[RegExp.$1]:klass)(...arguments):new klass(...arguments)},sim2.one=function(){let res=sim2(...arguments);return res instanceof SIMArray2&&(res=res.first()),res},sim2.array=function(...args){return args.length===0?new SIMArray2:args.length===1?new SIMArray2(args[0]):new SIMArray2(args)},sim2.html=sim2.create.bind(SIMElement2,"html",null),sim2.text=text=>new SIMText(text),sim2.ready=function(handler){if(arguments.length===0){if(sim2.isReady)return;sim2.isReady=!0;for(let listener of Array.from(READY_LISTENERS))listener();READY_LISTENERS=null;return}return sim2.isReady?setImmediate2(handler):(READY_LISTENERS.push(handler),this)},sim2.registerComponent=function(name,klass,init2){if(init2==null&&(init2=!1),!(klass.prototype instanceof SIMElement2))throw new Error("Invalid arguments.");return COMPONENT[name]=klass,HAS_COMPONENTS=!0,init2&&sim2(`[sim-component="${name}"]`),this},sim2.registerNamespace=function(name,klass){if(!(klass.prototype instanceof SIMElement2))throw new Error("Invalid arguments.");return NAMESPACE[name]=klass,this},sim2.css=function(name,style){if(CSS_SHEET==null){const elm=window2.document.createElement("style");window2.document.head.appendChild(elm),CSS_SHEET=elm.sheet}return CSS_SHEET.insertRule(`${name} {${(()=>{const result=[];for(let key in style){const value=style[key];result.push(`${key}: ${value}`)}return result})().join("; ")}}`,0),null},sim2.cookies={get(name){name+="=";const ca=window2.document.cookie.split(";");for(let c2 of Array.from(ca)){for(;c2.charAt(0)===" ";)c2=c2.substring(1,c2.length);if(c2.indexOf(name)===0)return c2.substring(name.length,c2.length)}return null},set(name,value,minutes){let expires;if(value==null&&(value="",minutes=-1),minutes){const date=new Date;date.setTime(date.getTime()+minutes*60*1e3),expires=`; expires=${date.toGMTString()}`}else expires="";return window2.document.cookie=`${name}=${value}${expires}; path=/`}},sim2.parse=function(html){const wrapper2=window2.document.createElement("div");return wrapper2.innerHTML=html,sim2.array.apply(sim2,wrapper2.childNodes)},sim2.render=function(next){const container=sim2.div();return next.call(container),container.html()},sim2.SIMElement=SIMElement2,sim2.SIMArray=SIMArray2,sim2.SIMDocument=SIMDocument,sim2.SIMWindow=SIMWindow,sim2.SIMText=SIMText,function(){for(let tag of Array.from(TAGS))sim2.hasOwnProperty(tag)||(sim2[tag]=sim2.create.bind(SIMElement2,tag,null)),function(tag2){if(!SIMElement2.prototype.hasOwnProperty(tag2))return Object.defineProperty(SIMElement2.prototype,tag2,{enumerable:!1,configurable:!0,writable:!0,value(){return sim2.create.call(SIMElement2,tag2,this,...arguments)}})}(tag);JQUERY&&(sim2.ajax=window2.jQuery.ajax.bind(jQuery));for(let name of Array.from(JQUERY_POLYFILLS))(function(name2){return SIMElement2.prototype[name2]=function(){if(JQUERY==null)throw new Error(`jQuery is required in order to use '${name2}' method.`);return this.toJquery()[name2](...arguments)},SIMArray2.prototype[name2]=function(){if(JQUERY==null)throw new Error(`jQuery is required in order to use '${name2}' method.`);return this.toJquery()[name2](...arguments)}})(name);return SIMBase.prototype.toJquery=function(){if(!JQUERY)throw new Error("jQuery is required in order to use 'toJquery' method.");return window2.jQuery(this.__dom)},SIMArray2.prototype.toJquery=function(){if(!JQUERY)throw new Error("jQuery is required in order to use 'toJquery' method.");return window2.jQuery(Array.from(this).map(elm=>elm.__dom))}}()})(window??null);const window$2=self;window$2.SIMElement=sim.SIMElement,window$2.SIMArray=sim.SIMArray,window$2.$=window$2.sim;for(var fn of["tab","modal","tooltip","datetimepicker","popover","dropdown"])(function(fn2){return SIMElement.prototype[fn2]=function(){return jQuery(this.__dom)[fn2](...arguments)},SIMArray.prototype[fn2]=function(){return this.map(elm=>jQuery(elm.__dom)[fn2](...arguments))}})(fn);SIMArray.prototype.sortOn=function(key,custom){return this.sort(function(a2,b2){return typeof key=="function"?(a2=key(a2),b2=key(b2)):(a2=a2[key],b2=b2[key]),typeof custom=="function"?custom(a2,b2):String.prototype.localeCompare?String(a2).localeCompare(b2):a2>b2?1:a2<b2?-1:0})},SIMElement.prototype.show=function(){return this.css("display",""),this.css("display")==="none"&&this.css("display","block"),this};let EventEmitter$1=class{constructor(){this.events=new Map}destructor(){this.events.clear()}destroy(){this.destructor()}emit(event,...payloads){var _a2;const handlers=(_a2=this.events.get(event))==null?void 0:_a2.slice();if(handlers)for(const handler of handlers)handler(...payloads);return this}on(events2,handler){for(const event of events2.split(" ")){let handlers=this.events.get(event);handlers||(handlers=[]),handlers.includes(handler)||handlers.push(handler),this.events.set(event,handlers)}return this}once(events2,handler){for(const event of events2.split(" ")){const onceHandler=(...params)=>{this.off(event,onceHandler),handler(...params)};this.on(event,onceHandler)}return this}off(events2,handler){for(const event of events2.split(" ")){const handlers=this.events.get(event);if(!handlers)continue;const index2=handlers.indexOf(handler);index2!==-1&&(handlers.splice(index2,1),handlers.length===0?this.events.delete(event):this.events.set(event,handlers))}return this}};Object.clone=function(obj){return obj==null?null:extend({},obj)},Object.cloneDeep=function(obj,options){if(obj!==void 0){if(obj===null)return null;if(typeof obj=="object"){if(Array.isArray(obj))return obj.map(o2=>Object.cloneDeep(o2,options));if(obj instanceof String||obj instanceof Number||obj instanceof Boolean)return out.valueOf();if(obj instanceof Date)return new Date(obj.getTime());if(obj instanceof RegExp)return;var out={};for(var key in obj){var value=obj[key];out[key]=Object.cloneDeep(value,options)}return out}else if(typeof obj=="function")return options!=null&&options.preserveFunctions?obj:void 0;return obj}},Object.assign??(Object.assign=function(target,...sources){for(var source of sources)if(source!=null)for(var key in source){var value=source[key];Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=value)}return target}),Array.isArray??(Array.isArray=value=>value instanceof Array),Array.prototype.some||Object.defineProperty(Array.prototype,"some",{enumerable:!1,writable:!0,value(fce,context=null){for(let index2=0;index2<this.length;index2++){var item=this[index2];if(fce.call(context,item,index2,this))return!0}return!1}}),Object.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!0,value(item){return this.indexOf(item)!==-1}}),Object.defineProperty(Array.prototype,"clear",{enumerable:!1,writable:!0,value(fce){if(fce instanceof Function)for(var item of this)fce(item);return this.splice(0,this.length)}}),Object.defineProperty(Array.prototype,"clone",{enumerable:!1,writable:!0,value(){return this.slice(0)}}),Object.defineProperty(Array.prototype,"append",{enumerable:!1,writable:!0,value(array2){return this.push.apply(this,array2)}}),Object.defineProperty(Array.prototype,"prepend",{enumerable:!1,writable:!0,value(array2){return this.unshift.apply(this,array2)}}),Object.defineProperty(Array.prototype,"remove",{enumerable:!1,writable:!0,value(item){const index2=this.indexOf(item);return index2===-1?null:this.splice(index2,1)}}),Object.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!0,value(){return this[this.length-1]}}),Object.defineProperty(Array.prototype,"toObject",{enumerable:!1,writable:!0,value(key,value){const o2={};for(var item of this)o2[item[key]]=value?item[value]:item;return o2}}),Object.defineProperty(Array.prototype,"sortOn",{enumerable:!1,writable:!0,value(key,custom){return Array.isArray(key)?this.sort(function(a2,b2){for(var k2 of key)if(String.prototype.localeCompare){var c2=String(a2[k2]).localeCompare(b2[k2]);if(c2!==0)return c2}else{if(a2[k2]>b2[k2])return 1;if(a2[k2]<b2[k2])return-1}return 0}):this.sort(function(a2,b2){return typeof key=="function"?(a2=key(a2),b2=key(b2)):(a2=a2[key],b2=b2[key]),typeof custom=="function"?custom(a2,b2):String.prototype.localeCompare?String(a2).localeCompare(b2):a2>b2?1:a2<b2?-1:0})}}),Object.defineProperty(Function.prototype,"property",{enumerable:!1,writable:!0,value(prop,desc){return desc?Object.defineProperty(this.prototype,prop,desc):Object.getOwnPropertyDescriptor(this,prop)}}),String.prototype.trim||Object.defineProperty(String.prototype,"trim",{enumerable:!1,writable:!0,value(){return this.replace(/^\s+|\s+$/g,"")}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,writable:!0,value(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search}}),Object.defineProperty(String.prototype,"inject",{enumerable:!1,writable:!0,value(index2,text){return`${this.substr(0,index2)}${text}${this.substr(index2)}`}}),Object.defineProperty(String.prototype,"format",{enumerable:!1,writable:!0,value(data2,escape){return this.replace(/{{([^}]*)}}/g,function(p2){let value;const key=p2.substr(2,p2.length-4).split(".");if(key.length>1){let cur=data2;for(;cur&&key.length;)cur=cur[key.shift()];value=cur??""}else value=data2[key[0]];return escape&&(value=escapeHtml(value)),value})}}),Object.defineProperty(String.prototype,"capitalize",{enumerable:!1,writable:!0,value(){return this.charAt(0).toUpperCase()+this.slice(1)}}),Object.defineProperty(Number.prototype,"toRad",{enumerable:!1,writable:!0,value(){return this*(Math.PI/180)}}),Object.defineProperty(Number.prototype,"toDeg",{enumerable:!1,writable:!0,value(){return this*(180/Math.PI)}}),Object.defineProperty(Number.prototype,"digits",{enumerable:!1,writable:!0,value(length=2){const dif=length-this.toString().length;return dif>0?`${__range__(1,dif).map(i2=>"0").join("")}${this.toString()}`:this.toString()}}),Object.defineProperty(Date.prototype,"getISOTimezoneOffset",{enumerable:!1,writable:!0,value(){const tzo=-this.getTimezoneOffset();return tzo===0?"Z":`${tzo<0?"-":"+"}${(Math.abs(tzo)/60).digits(2)}:${(Math.abs(tzo)%60).digits(2)}`}}),Function.prototype.name==null&&Object.defineProperty(Function.prototype,"name",{writable:!0,configurable:!0,get(){const name=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:name}),name}}),globalThis.EventEmitter=EventEmitter$1,globalThis.trace=function(){var _a2;return(_a2=console==null?void 0:console.log)==null?void 0:_a2.call(console,...arguments)},globalThis.inspect=function(){var _a2;return(_a2=console==null?void 0:console.dir)==null?void 0:_a2.call(console,...arguments)},Error.prototype.toJSON=function(){const o2={name:this.name,message:this.message,stack:this.stack};for(var k2 in this){var v2=this[k2];o2[k2]=v2}return o2};function __range__(left,right,inclusive){let range2=[],ascending=left<right,end2=ascending?right+1:right-1;for(let i2=left;ascending?i2<end2:i2>end2;ascending?i2++:i2--)range2.push(i2);return range2}let ImtColor$1=class ImtColor2{constructor(arg1,arg2,arg3,arg4){if(this._a=1,this._r=0,this._g=0,this._b=0,typeof arg1=="string")if(arg1.charAt(0)==="#"){const color=arg1.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/,(_m,r2,g2,b2)=>r2+r2+g2+g2+b2+b2),res=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(color);res&&(this._r=parseInt(res[1],16),this._g=parseInt(res[2],16),this._b=parseInt(res[3],16),this._a=1)}else/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i.exec(arg1)?(this._r=parseInt(RegExp.$1),this._g=parseInt(RegExp.$2),this._b=parseInt(RegExp.$3),this._a=1):/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+\.?\d*)\s*\)$/i.exec(arg1)&&(this._r=parseInt(RegExp.$1),this._g=parseInt(RegExp.$2),this._b=parseInt(RegExp.$3),this._a=parseFloat(RegExp.$4));else typeof arg1=="number"?(this._r=arg1??0,this._g=arg2??0,this._b=arg3??0,this._a=arg4??1):arg1 instanceof ImtColor2&&(this._r=arg1._r,this._g=arg1._g,this._b=arg1._b,this._a=arg1._a)}get alpha(){return this._a}set alpha(value){this._a=parseInt(value)}get red(){return this._r}set red(value){this._r=parseInt(value)}get green(){return this._g}set green(value){this._g=parseInt(value)}get blue(){return this._b}set blue(value){this._b=parseInt(value)}get luminance(){return(.3*this.color.r+.59*this.color.g+.11*this.color.b)/255}get color(){return{r:this._r,g:this._g,b:this._b,a:this._a}}clone(){return this.copy()}copy(){return new ImtColor2(this)}darker(amount){return amount?new ImtColor2(Math.max(0,this._r-amount),Math.max(0,this._g-amount),Math.max(0,this._b-amount)):this}determineForegroundColor(){return this.alpha<.5?new ImtColor2:this.luminance<=.82?new ImtColor2(255,255,255):new ImtColor2}equal(color){return color instanceof ImtColor2?this.red===color.red&&this.green===color.green&&this.blue===color.blue&&this.alpha===color.alpha:!1}isDark(){return this.luminance<=.82}isLight(){return this.luminance>.82}lighter(amount){return amount?new ImtColor2(Math.min(255,this._r+amount),Math.min(255,this._g+amount),Math.min(255,this._b+amount)):this}mix(color,amount=.5){if(!(color instanceof ImtColor2))throw console.error("Color expected",typeof color,color),new Error("Color expected.");amount=Math.max(0,Math.min(amount,1));const r2=this._r+(color._r-this._r)*amount,g2=this._g+(color._g-this._g)*amount,b2=this._b+(color._b-this._b)*amount,a2=this._a+(color._a-this._a)*amount;return new ImtColor2(Math.round(r2),Math.round(g2),Math.round(b2),a2)}toHex(){const pad=function(n2){return n2.length<2?`0${n2}`:n2};return`#${pad(this._r.toString(16))}${pad(this._g.toString(16))}${pad(this._b.toString(16))}`}toRGB(){return`rgb(${this._r},${this._g},${this._b})`}toRGBA(){return`rgba(${this._r},${this._g},${this._b},${this._a})`}toString(){return this.toHex()}toJSON(){return this.toHex()}transparent(value){return new ImtColor2(this._r,this._g,this._b,value)}valueOf(){return this.toHex()}static random(){const r2=Math.round(Math.random()*255),g2=Math.round(Math.random()*255),b2=Math.round(Math.random()*255);return new ImtColor2(r2,g2,b2,1)}};function initConfig(){(function(){const cache={};return Object.defineProperties(imt.config,{showIDs:{get(){var _a2;return(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.tutorial?!1:cache.showIDs!=null?cache.showIDs:cache.showIDs=imt.localStorage.getItem("config:showIDs")!=="false"},set(value=!1){return cache.showIDs=value,imt.localStorage.setItem("config:showIDs",JSON.stringify(value))},configurable:!0},showRouteOrder:{get(){return cache.showRouteOrder!=null||(cache.showRouteOrder=JSON.parse(imt.localStorage.getItem("config:showRouteOrder"))??!0),cache.showRouteOrder},set(value=!1){return cache.showRouteOrder=value,imt.localStorage.setItem("config:showRouteOrder",JSON.stringify(value))},configurable:!0}})})()}function initDebug(){(function(){if(browser.simulator)return imt.debug=node.require("debug");let store=null;return imt.debug=(section,color)=>function(...args){if(!store[section])return;const text=(()=>{const result=[];for(;["string","number","boolean"].includes(typeof args[0]);)result.push(args.shift());return result})();return text.unshift(`%c[${section}]`),args.unshift(`color: ${color}`),args.unshift(text.join(" ")),console.log.apply(console,args)},imt.debug.enable=function(section){return store[section]=!0,imt.localStorage.setItem("config:debug",JSON.stringify(store))},imt.debug.disable=function(section){return delete store[section],imt.localStorage.setItem("config:debug",JSON.stringify(store))},imt.debug.isEnabled=section=>store[section]===!0,imt.debug.help=()=>(()=>{const result=[];for(var key in store)store[key],result.push(console.log(`- ${key}`));return result})(),store=JSON.parse(imt.localStorage.getItem("config:debug")??"{}")})()}const ANIMATION_FPS=60,ANIMATION_EASING={linear(t2,b2,c2,d2){return c2*t2/d2+b2}};globalThis.animate=function(object2,properties,duration,callback){let p2;if(arguments.length===5?(p2={},p2[arguments[1]]=arguments[2],duration=arguments[3],callback=arguments[4],properties=p2):arguments.length===4?typeof properties=="string"&&(p2={},p2[arguments[1]]=arguments[2],duration=arguments[3],callback=null,properties=p2):arguments.length===3&&typeof properties=="string"&&(p2={},p2[arguments[1]]=arguments[2],duration=400,callback=null,properties=p2),!properties){setImmediate(()=>callback==null?void 0:callback(null));return}const start2=Date.now(),easing=ANIMATION_EASING.linear,fces=[];for(var property in properties){var value=properties[property];(function(property2,value2){const beginning=object2[property2],change=value2-beginning;return object2[property2]=easing(0,beginning,change,duration,null),fces.push(time=>object2[property2]=easing(Math.min(time,duration),beginning,change,duration,null))})(property,value)}var interval=setInterval(function(){const time=Date.now()-start2;for(var fce of fces)fce(time);if(time>=duration)return clearInterval(interval),setImmediate(()=>callback==null?void 0:callback(!1))},1e3/ANIMATION_FPS);return{stop(complete=!1){if(clearInterval(interval),complete)return setImmediate(()=>callback==null?void 0:callback(!0))}}},sim("body aside").each(function(){const container=sim("#asidenav > .navbar-nav:first-child").first();if(!container)return;const items=container.children();if(!items.length)return;const ct=container.offset().top,ih=items.last().offset().top-ct+items.last().height();let panel=null;const more=sim.button(".nav-item.nav-more.d-flex.w-100",function(){const icon=this.div(".nav-icon");return icon.i(".fas.fa-fw.fa-ellipsis-v"),this.on("click",function(event){var _a2;return event.stopPropagation(),((_a2=Panels.one)==null?void 0:_a2._relative)===icon?(Panels.one.close(),!1):(panel=Panels.one=new Panel(icon),panel.position="bottom",panel.offsetY=20,panel.width(250),render(panel),!1)})});sim.ready(()=>more.div().text(imt.l("base","common.more")));var render=panel2=>panel2.content=sim.div(".list-group.list-group-small",function(){return(()=>{const result=[];for(var item of items)if(item.css("visibility")==="hidden"){if(item.is(".nav-divider"))continue;result.push(this.a(".list-group-item",function(){return this.attr("href",item.attr("href")),this.i(".list-group-icon").addClass(item.find("i").attr("class")),this.div(".list-group-title").text(item.children().last().text())}))}return result})()});const calc=function(){const oh=container.height();if(items.css("visibility",""),sim(window).width()>=576&&ih>oh){let h2=ih,i2=1;for(;h2>oh-43;){var item=items[items.length-i2++];if(!item)break;h2-=item.outerHeight(!0),item.css("visibility","hidden")}const prev=items[items.length-i2+1];if(prev?more.css("top",prev.offset().top-ct-(prev.is(".nav-divider")?12:0)):more.css("top",0),container.append(more),panel)return render(panel)}else return more.detach(),panel==null?void 0:panel.close()};return sim(window).on("resize",calc),calc()});const SIGNED_USER_MENU=(_a=sim("#signedmenucontent"))==null?void 0:_a.detach().removeClass("d-none");sim(document).on("click",".i-signed-menu",function(event){var _a2;if(!SIGNED_USER_MENU)return!0;event.stopPropagation();const relative=this.children(".nav-icon").first();if(((_a2=Panels.one)==null?void 0:_a2._relative)===relative)return Panels.one.close(),!1;const panel=Panels.one=new Panel(relative);return panel.position="top",panel.offsetY=20,panel.width(250),panel.content=SIGNED_USER_MENU,!1}),globalThis.browser={mobile:!1,touch:!0,mouse:!0,keyboard:!0,simulator:!1,standalone:"standalone"in window.navigator&&window.navigator.standalone},globalThis.os={mobile:!1},function(){const version2=function(s2,f2){const i2=s2.indexOf(f2);if(i2===-1)return 0;const v2=parseFloat(s2.substr(i2+f2.length+1));return isNaN(v2)?0:v2};try{navigator.appName==="Microsoft Internet Explorer"?navigator.userAgent.match(/IEMobile/i)?(browser.mobile=!0,browser.ie={version:version2(navigator.userAgent,"IEMobile")},os.mobile=!0,os.windowsphone={version:version2(navigator.userAgent,"Windows Phone")},imt.browser=`windowsphone:${os.windowsphone.version}/ie:${browser.ie.version}`):(browser.ie={version:0},os.windows={version:0},new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null&&(browser.ie.version=parseFloat(RegExp.$1)),imt.browser=`win/ie:${browser.ie.version}`):navigator.appName==="Netscape"&&navigator.userAgent.match(/Trident/i)?(browser.ie={version:11},os.windows={version:0},imt.browser=`win/ie:${browser.ie.version}`):navigator.appName==="Netscape"&&navigator.userAgent.match(/Edge/i)?(browser.ie={version:12},os.windows={version:0},imt.browser=`win/ie:${browser.ie.version}`):navigator.platform.match(/Win/i)?(os.windows={version:0},navigator.userAgent.match(/OPR/i)?(browser.opera={version:version2(navigator.userAgent,"OPR")},imt.browser=`win/opera:${browser.opera.version}`):navigator.userAgent.match(/Opera/i)?(browser.opera={version:version2(navigator.userAgent,"Opera")},imt.browser=`win/opera:${browser.opera.version}`):navigator.userAgent.match(/Chrome/i)?(browser.chrome={version:version2(navigator.userAgent,"Chrome")},imt.browser=`win/chrome:${browser.chrome.version}`):navigator.userAgent.match(/Safari/i)?(browser.safari={version:version2(navigator.userAgent,"Version")},imt.browser=`win/safari:${browser.safari.version}`):navigator.userAgent.match(/Firefox/i)?(browser.firefox={version:version2(navigator.userAgent,"Firefox")},imt.browser=`win/firefox:${browser.firefox.version}`):navigator.appName==="simDOM"?(imt.browser="win/simDOM",browser.simulator=!0):imt.browser="win/unknown"):navigator.platform.match(/Mac/i)?(os.mac={version:0},navigator.userAgent.match(/OPR/i)?(browser.opera={version:version2(navigator.userAgent,"OPR")},imt.browser=`mac/opera:${browser.opera.version}`):navigator.userAgent.match(/Opera/i)?(browser.opera={version:version2(navigator.userAgent,"Opera")},imt.browser=`mac/opera:${browser.opera.version}`):navigator.userAgent.match(/Chrome/i)?(browser.chrome={version:version2(navigator.userAgent,"Chrome")},imt.browser=`mac/chrome:${browser.chrome.version}`):navigator.userAgent.match(/Safari/i)?(browser.safari={version:version2(navigator.userAgent,"Version")},imt.browser=`mac/safari:${browser.safari.version}`):navigator.userAgent.match(/Firefox/i)?(browser.firefox={version:version2(navigator.userAgent,"Firefox")},imt.browser=`mac/firefox:${browser.firefox.version}`):navigator.appName==="simDOM"?(imt.browser="mac/simDOM",browser.simulator=!0):imt.browser="mac/unknown"):navigator.userAgent.match(/(iPod|iPhone|iPad)/i)?(browser.mobile=!0,browser.mouse=!1,browser.keyboard=!1,os.mobile=!0,os.ios={version:version2(navigator.appVersion.replace(/_/g,"."),"OS")},navigator.userAgent.match(/CriOS/i)?(browser.chrome={version:version2(navigator.userAgent,"CriOS"),mobile:!0},imt.browser=`ios:${os.ios.version}/chrome:${browser.chrome.version}`):navigator.userAgent.match(/AppleWebKit/i)?(browser.safari={version:version2(navigator.userAgent,"Version"),mobile:!0},imt.browser=`ios:${os.ios.version}/safari:${browser.safari.version}`):imt.browser=`ios:${os.ios.version}/unknown`):navigator.userAgent.match(/Android/i)?(browser.mobile=!0,os.mobile=!0,os.android={version:version2(navigator.userAgent,"Android")},navigator.userAgent.match(/OPR/i)?(browser.opera={version:version2(navigator.userAgent,"OPR")},imt.browser=`android:${os.android.version}/opera:${browser.opera.version}`):navigator.userAgent.match(/Chrome/i)?(browser.chrome={version:version2(navigator.userAgent,"Chrome"),mobile:!0},imt.browser=`android:${os.android.version}/chrome:${browser.chrome.version}`):navigator.userAgent.match(/Firefox/i)?(browser.firefox={version:version2(navigator.userAgent,"Firefox"),mobile:!0},imt.browser=`android:${os.android.version}/firefox:${browser.firefox.version}`):(imt.browser=`android:${os.android.version}/stock`,browser.mouse=!1)):navigator.userAgent.match(/BlackBerry/i)&&(browser.mobile=!0,os.mobile=!0,os.blackBerry={version:0},imt.browser="blackberry/unknown")}catch{}if(browser.mobile&&sim("html").addClass("mobile"),browser.standalone&&sim("html").addClass("standalone"),browser.ie)return sim(document).on("click","button[form]",function(){return sim(`#${this.attr("form")}`).__dom.submit(),!1})}();let CONTEXT_MENU=null;const CONTEXT_MENU_OFFSET=5,CONTEXT_MENU_MARGIN=10;globalThis.ContextMenu=class extends SIMElement{constructor(menu,x2,y2){super("div"),CONTEXT_MENU==null||CONTEXT_MENU.destroy();const self2=CONTEXT_MENU=this;this.addClass("imt i-contextmenu"),this.appendTo(document.body),this.on("mouseup",function(event){if(event.which!==3&&!self2.contains(event.target))return self2.destroy()}),menu=sim.ul(".list-unstyled",function(){for(var item of menu)(item2=>this.li(function(){return item2.default===!0&&this.addClass("i-contextmenu-default"),this.a(function(){if(this.attr("href","#"),this.text(item2.label),this.on("click",function(event){var _a2;return event.preventDefault(),event.stopPropagation(),self2.destroy(),(_a2=item2.click)==null||_a2.call(item2),!1}),item2.icon)return this.prepend(sim.i(`.fal.fa-fw.fa-${item2.icon}`))})}))(item);return null}),this.append(menu),x2+=CONTEXT_MENU_OFFSET,y2+=CONTEXT_MENU_OFFSET,x2+menu.outerWidth()+CONTEXT_MENU_MARGIN>sim(window).width()&&(x2=sim(window).width()-menu.outerWidth()-CONTEXT_MENU_MARGIN),y2+menu.outerHeight()+CONTEXT_MENU_MARGIN>sim(window).height()&&(y2=sim(window).height()-menu.outerHeight()-CONTEXT_MENU_MARGIN),menu.css({left:x2,top:y2}),setImmediate(()=>this.addClass("in"))}destroy(){return CONTEXT_MENU=null,this.emit("destroy"),this.remove(),this}},(globalThis.Dictionary=class Dictionary2{static initClass(){this.prototype._map=null}constructor(name,mutation){this.name=name,this.mutation=mutation,this._map={}}l(key,options){var _a2;let text=this._map[key];if(text!=null){if(Array.isArray(text)){let index2;const n2=parseInt((_a2=options==null?void 0:options.data)==null?void 0:_a2.n);if(n2===0?index2=0:n2===1?index2=1:[2,3,4].includes(n2)?index2=2:index2=3,text[index2]==null)return console.warn(`Keyword '${key}[${index2}]' was not found in dictionary '${this.name}'.`),`##${key}[${index2}]`;text=text[index2]}options!=null&&options.data&&(text=text.format(options.data))}else return options!=null&&options.optional?void 0:(console.warn(`Keyword '${key}' was not found in dictionary '${this.name}'.`),`##${key}`);return text}static create(document2,mutation,data2){var _a2;let dict;return(_a2=imt.dictionaries)[document2]??(_a2[document2]={}),imt.dictionaries[document2][mutation]=dict=new Dictionary2(document2,mutation),this._iterate(dict,data2,""),null}static overload(document2,mutation,data2){const dict=imt.dictionaries[document2][mutation];return this._iterate(dict,data2,"")}static _iterate(dict,level2,prefix){return(()=>{var _a2;const result=[];for(var key in level2){var value=level2[key];typeof value=="object"&&!Array.isArray(value)?result.push(this._iterate(dict,value,`${prefix}${key}.`)):(typeof value=="string"&&(value=value.replace(/{{integromat}}/g,(_a2=imt.brand)==null?void 0:_a2.title)),result.push(dict._map[`${prefix}${key}`]=value))}return result})()}}).initClass(),function(){const resolveType=function(data2){if(typeof data2=="object"){if(data2 instanceof Date)return"datetime"}else if(typeof data2=="number")return"number";return null},formatBytes=function(bytes){if(bytes==null||isNaN(bytes))return"-";const sizes=["B","KB","MB","GB","TB"];if(bytes===0)return"0";const i2=parseInt(Math.floor(Math.log(bytes)/Math.log(1024)));return`${(bytes/Math.pow(1024,i2)).toFixed(1)} ${sizes[i2]}`},formatDuration=function(milliseconds,spacer=" "){const seconds=milliseconds/1e3;if(seconds<1)return imt.l("base","time.lts");const o2=[],d2=Math.floor(seconds/86400),h2=Math.floor(seconds%86400/3600),m2=Math.floor(seconds%3600/60),s2=Math.floor(seconds%60);return d2?(o2.push(imt.l("base","time.days",{data:{n:d2}})),h2&&o2.push(imt.l("base","time.hours",{data:{n:h2}}))):h2?(o2.push(imt.l("base","time.hours",{data:{n:h2}})),m2&&o2.push(imt.l("base","time.minutes",{data:{n:m2}}))):m2?o2.push(imt.l("base","time.minutes",{data:{n:m2}})):s2&&o2.push(imt.l("base","time.seconds",{data:{n:s2}})),o2.join(spacer)};return globalThis.format=function(data2,type,options={}){switch(type??(type=resolveType(data2)),type){case"date":if(!data2)return"";var m2=moment.tz(data2,"UTC");return options.timezone?m2.tz(options.timezone):m2.local(),m2.format(options.format??"LL");case"datetime":return data2?(m2=moment.tz(data2,"UTC"),options.timezone?m2.tz(options.timezone):m2.local(),m2.format(options.format??"LLL")):"";case"time":return m2=moment(data2,"HH:mm"),m2.format(options.format??"LT");case"byte":case"bytes":return formatBytes(parseInt(data2));case"duration":return options.precise?`${parseInt(data2)} ms`:formatDuration(parseInt(data2),options.spacer);case"number":return Number(data2).toLocaleString();case"progress":return`${Math.max(0,Math.min(100,Math.round(data2*100)))}%`;case"currency":return Number(data2).toLocaleString(imt.user.language,{style:"currency",currency:typeof options=="string"?options:options.currency,currencyDisplay:"symbol"});case"markdown":var codes=[];return escapeHtml(data2).replace(/\{\{l:([^@]+)@([^\}]+)\}\}/g,(a2,b2,c2)=>imt.l(c2,b2)).replace(/\[([^\]]*)\]\(([^\)]*)\)/g,function(a2,b2,c2){return c2=c2.replace(/_/g,"%5f"),/^kb:\/\/(.*)$/i.test(c2)?(imt.brand.theme.startsWith("ems")?c2=`/ems-automation/help/${RegExp.$1}`:c2=`${imt.helpUrl}${RegExp.$1}`,`<a target="_blank" class="i-open-help" href="${c2}">${b2}</a>`):`<a target="_blank" href="${c2}">${b2}</a>`}).replace(/`([^`]+)`/g,function(a2,b2){return codes.push(`<code>${b2}</code>`),`{{code:${codes.length-1}}}`}).replace(/__([^_]+)__/g,(a2,b2)=>`<strong>${b2}</strong>`).replace(/_([^_]+)_/g,(a2,b2)=>`<em>${b2}</em>`).replace(/\*\*([^\*]+)\*\*/g,(a2,b2)=>`<strong>${b2}</strong>`).replace(/\*([^\*]+)\*/g,(a2,b2)=>`<em>${b2}</em>`).replace(/\n/g,(a2,b2)=>"<br>").replace(/\{\{code:(\d+)\}\}/g,(a2,b2)=>codes[b2]);case"countdown":return format(Math.max(0,data2-Date.now()),"duration",options);case"scheduling":switch(data2.type){case"immediately":return imt.l("base","scheduling.immediately");case"on-demand":return imt.l("base","scheduling.ondemand");case"indefinitely":return imt.l("base","scheduling.indefinitely",{data:{interval:format(data2.interval*1e3,"duration")}});case"once":return imt.l("base","scheduling.once",{data:{date:format(data2.date,"datetime",{timezone:imt.user.timezone})}});case"daily":return imt.l("base","scheduling.daily",{data:{time:format(data2.time,"time",{timezone:imt.user.timezone})}});case"weekly":return imt.l("base","scheduling.weekly",{data:{daysofweek:data2.days.map(day=>moment.weekdays(day)).join(", "),time:format(data2.time,"time",{timezone:imt.user.timezone})}});case"monthly":return imt.l("base","scheduling.monthly",{data:{days:data2.days.map(day=>`${day}.`).join(", "),time:format(data2.time,"time",{timezone:imt.user.timezone})}});case"yearly":return imt.l("base","scheduling.yearly",{data:{days:data2.days.map(day=>`${day}.`).join(", "),months:data2.months.map(month=>moment.months(month-1)).join(", "),time:format(data2.time,"time",{timezone:imt.user.timezone})}});default:return""}default:return data2}}}(),globalThis.Point=class Point2{constructor(x2=0,y2=0){this.x=x2,this.y=y2}distance(point){return Math.sqrt(Math.pow(this.x-point.x,2)+Math.pow(this.y-point.y,2))}negative(){return this.x*=-1,this.y*=-1,this}transform(matrix){if(!(matrix instanceof Matrix))throw new TypeError("Matrix expected.");const x2=this.x*matrix._matrix[0][0]+this.y*matrix._matrix[0][1]+matrix._matrix[0][2],y2=this.x*matrix._matrix[1][0]+this.y*matrix._matrix[1][1]+matrix._matrix[1][2];return this.x=x2,this.y=y2,this}translate(x2=0,y2=0){return x2 instanceof Point2?(this.x+=x2.x,this.y+=x2.y):(this.x+=x2,this.y+=y2),this}};let Cls$a=globalThis.Rectangle=class Rectangle2{static initClass(){this.prototype.x=0,this.prototype.y=0,this.prototype.width=0,this.prototype.height=0,this.property("center",{get(){return new Point(this.x+this.width/2,this.y+this.height/2)}})}constructor(x2=0,y2=0,width=0,height=0){this.x=x2,this.y=y2,this.width=width,this.height=height}contains(point){if(!(point instanceof Point))throw new TypeError("Point expected.");let{x:x2}=this,{y:y2}=this,{width}=this,{height}=this;return width<0&&(x2=x2+width,width=-width),height<0&&(y2=y2+height,height=-height),x2<point.x&&x2+width>point.x&&y2<point.y&&y2+height>point.y}inflate(item){if(item instanceof Rectangle2)this.inflate(new Point(item.x,item.y)),this.inflate(new Point(item.x+item.width,item.y+item.height));else if(item instanceof Point)item.x<this.x&&(this.width+=this.x-item.x,this.x=item.x),item.y<this.y&&(this.height+=this.y-item.y,this.y=item.y),this.width=Math.max(this.x+this.width,item.x)-this.x,this.height=Math.max(this.y+this.height,item.y)-this.y;else throw new TypeError("Point or Rectangle expected.");return this}intersect(rect){if(!(rect instanceof Rectangle2))throw new TypeError("Rectangle expected.");return rect.x<this.x+this.width&&this.x<rect.x+rect.width&&rect.y<this.y+this.height?this.y<rect.y+rect.height:!1}scale(scale=1){return this.x*=scale,this.y*=scale,this.width*=scale,this.height*=scale,this}toString(){return`{x: ${this.x.toFixed(0)}, y: ${this.y.toFixed(0)}, width: ${this.width.toFixed(0)}, height: ${this.height.toFixed(0)}}`}translate(x2=0,y2=0){return x2 instanceof Point?(this.x+=x2.x,this.y+=x2.y):(this.x+=x2,this.y+=y2),this}};Cls$a.initClass(),Cls$a=globalThis.Matrix=class Matrix2{static initClass(){this.prototype._matrix=null,this.property("width",{get(){var _a2;return((_a2=this._matrix)==null?void 0:_a2[0].length)??0}}),this.property("height",{get(){var _a2;return(_a2=this._matrix)==null?void 0:_a2.length}}),this.property("a",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[0])==null?void 0:_b2[0]}}),this.property("b",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[1])==null?void 0:_b2[0]}}),this.property("c",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[0])==null?void 0:_b2[1]}}),this.property("d",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[1])==null?void 0:_b2[1]}}),this.property("tx",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[0])==null?void 0:_b2[2]}}),this.property("ty",{get(){var _a2,_b2;return(_b2=(_a2=this._matrix)==null?void 0:_a2[1])==null?void 0:_b2[2]}}),this.property("isIdentity",{get(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}})}constructor(a2=1,b2=0,c2=0,d2=1,tx=0,ty=0){a2 instanceof Array?this._matrix=a2:this._matrix=[[a2,c2,tx],[b2,d2,ty],[0,0,1]]}clone(){return new Matrix2(this.a,this.b,this.c,this.d,this.tx,this.ty)}concat(matrix){const result=[];let i2=0;for(;i2<this.height;){result[i2]=[];for(var j2=0;j2<matrix.width;){for(var sum=0,k2=0;k2<this.width;)sum+=this._matrix[i2][k2]*matrix.matrix[k2][j2],k2++;result[i2][j2]=sum,j2++}i2++}return this._matrix=result,this}identity(){return this._matrix=[[1,0,0],[0,1,0],[0,0,1]],this}invert(){let{a:a2}=this,{b:b2}=this,{c:c2}=this,{d:d2}=this,{tx}=this,{ty}=this;return a2!==0&&(a2=1/a2),b2!==0&&(b2=1/b2),c2!==0&&(c2=1/c2),d2!==0&&(d2=1/d2),tx!==0&&(tx=-tx),ty!==0&&(ty=-ty),this._matrix=[[a2,c2,tx],[b2,d2,ty],[0,0,1]],this}rotate(angle){return this._matrix=[[Math.cos(angle),Math.sin(angle),0],[-Math.sin(angle),Math.cos(angle),0],[0,0,1]],this}scale(sx,sy){return this._matrix=[[sx,0,0],[0,sy??sx,0],[0,0,1]],this}translate(dx,dy){return this._matrix=[[1,0,dx],[0,1,dy],[0,0,1]],this}},Cls$a.initClass();let LOADER_STORE={};const PARSERS={manifest(key,value,headers){if(/^rpc:\/\/(?:([^\/@]*)(?:@(\d+))?\/)?([^\/]+)$/.exec(value)){const pkg=RegExp.$1,ver=RegExp.$2,mdl=RegExp.$3;value=`rpc://${pkg||encodeURIComponent(headers["package-name"])}/${ver||headers["package-version"]}/${mdl}`}return value}};globalThis.Loader=class{static ajax(url,options,callback){var _a2;let queue2;if(url==null&&setImmediate(()=>callback(new Error("Loader: Can't load empty URL."))),options instanceof Function&&(callback=options,options={}),options.store!=null){if(queue2=[callback],LOADER_STORE[options.store]){LOADER_STORE[options.store].loaded?setImmediate(()=>{var _a3,_b2;return callback(null,(_a3=LOADER_STORE[options.store])==null?void 0:_a3.data,200,(_b2=LOADER_STORE[options.store])==null?void 0:_b2.headers)}):LOADER_STORE[options.store].queue.push(callback);return}LOADER_STORE[options.store]={loaded:!1,queue:queue2}}options.method??(options.method="GET"),["POST","PATCH","DELETE","PUT"].includes(options.method)?options.data instanceof FormData?options.contentType=!1:options.contentType??(options.contentType="application/json; charset=utf-8"):options.contentType=void 0,imt.base()&&/^\/([^\/]|$)/.test(url)&&!url.startsWith(imt.base())&&(url=imt.base(url)),options.headers||(options.headers={});const processData=!(options.data instanceof FormData);return processData&&((_a2=options==null?void 0:options.data)==null?void 0:_a2.teamId)!=null&&delete options.data.teamId,sim.ajax({url,async:options.async??!0,type:options.method,data:options.data,processData,dataType:options.parser?"text":options.dataType??"json",contentType:options.contentType,cache:options.cache??!1,headers:options.headers,xhrFields:{withCredentials:options.withCredentials??!1},success(data2,status,xhr){let match2;const headers={},hdrs=xhr.getAllResponseHeaders(),re=/^x\-imt\-([^:]*):\s*(.*)/gm;for(;match2=re.exec(hdrs);)headers[match2[1]]=match2[2];if(options.parser&&(typeof options.parser=="string"&&(options.parser=PARSERS[options.parser]),typeof options.parser=="function"&&(data2=JSON.parse(data2,(key,value)=>options.parser(key,value,headers)))),options.postProcess!=null&&(data2=options.postProcess(data2)),options.dataObject!=null&&(data2=data2[options.dataObject]),options.store!=null){LOADER_STORE[options.store]={loaded:!0,data:data2,headers};for(var method of queue2)method(null,data2,xhr.status,headers)}else callback(null,data2,xhr.status,headers);if(options.requestId)return imtEvents.dispatch(options.requestId,data2)},error(xhr,status,err){let error;if(xhr.responseJSON&&xhr.responseJSON.message?(error=xhr.responseJSON,err=new Error(error.message),error.detail&&(err.detail=error.detail),error.suberrors&&(err.suberrors=error.suberrors),error.debug&&(err.debug=error.debug),error.code&&(err.code=error.code)):(err||(err="Payload Too Large"),err=new Error(`Connection error. ${err}`)),options.store!=null){delete LOADER_STORE[options.store];for(var method of queue2)method(err)}else callback(err);return options.requestId?imtEvents.dispatchError(options.requestId,err,error):imtEvents.dispatchError("loader.error",err)}})}static api(source,options,callback){var _a2;options instanceof Function&&(callback=options,options={});const done=function(err,data2,status,headers){let entry;if(data2=data2||{},headers=headers||{},err)return callback(err);if(Array.isArray(data2.debug))for(entry of data2.debug)IMTDevTool!=null&&IMTDevTool.connected&&IMTDevTool.pushLiveStreamEvent(entry),(!(IMTDevTool!=null&&IMTDevTool.connected)||IMTDevTool.settings.console)&&console.log("%c[rpc:debug]","color: #a4a9ae",...entry);if(Array.isArray(data2.log))for(entry of data2.log)IMTDevTool!=null&&IMTDevTool.connected&&IMTDevTool.pushLiveStreamEvent(entry),(!(IMTDevTool!=null&&IMTDevTool.connected)||IMTDevTool.settings.console)&&console.log(`[rpc:log] ${entry}`);if(status<400){let enumData,args=[null];data2&&(data2.formula?data2.formula.data?enumData=data2.formula.data:enumData=data2:data2.usersRoles?enumData=data2.usersRoles.filter(role=>role.subsidiary):enumData=data2&&(data2.timezones||data2.countries||data2.locales||data2.languages||data2.organizations||data2.organization||data2.connections||data2.connection||data2.apps||data2.devices||data2.app||data2.hooks||data2.keys||data2.agents||data2.keysTypes||data2.userApiTokenScopes||data2.incomingStat||data2.dataStructures||data2.dataStores||data2.incomingStat||data2.teams||data2.imtRegions||(data2.incoming?data2.incoming.data||data2.incoming:null)));const responseData=enumData||data2.response||data2;return headers["multiple-results"]==="yes"?args=args.concat(responseData):args.push(responseData),args.push(headers),args.push(data2.metadata),callback(...args)}else{const e2=new Error(data2.message);return e2.name=data2.name,e2.code=data2.code,data2.stack!=null&&(e2.stack=data2.stack),data2.suberrors!=null&&(e2.errors=data2.suberrors),data2.prompt!=null&&(e2.prompt=data2.prompt),callback(e2)}};options.headers??(options.headers={}),(_a2=options.headers)["x-imt-language"]??(_a2["x-imt-language"]=imt.user.language);const url=`${imt.apiurl}/${source}`.replace("/admin/admin","/admin");return options.data instanceof FormData?this.ajax(url,options,done):this.json(url,options,done)}static apip(source,options={}){return new Promise((res,rej)=>this.api(source,options,(err,data2)=>err?rej(err):res(data2)))}static rpc(source,options,callback){var _a2,_b2;options instanceof Function&&(callback=options,options={}),(!options.method||options.method==="GET")&&((_a2=options.headers)==null?void 0:_a2["imt-remote-formula"])===1&&(options.method="OPTIONS"),options.method!=="OPTIONS"&&(options.method="POST");const validateSchema=((_b2=options.headers)==null?void 0:_b2["x-imt-validate-schema"])==="yes",schema=validateSchema?options.data.schema:void 0,data2=(validateSchema?options.data.data:options.data)??{},cur=source.indexOf("?");if(cur!==-1){try{const params={};for(var param of source.match(/(\?|\&)[^\&\#\=]+=[^\&\#]+/g)){var qs=/^[\?\&]([^=]+)=(.*)$/g.exec(param);params[qs[1]]!=null?(Array.isArray(params[qs[1]])||(params[qs[1]]=[params[qs[1]]]),params[qs[1]].push(qs[2])):params[qs[1]]=qs[2]}for(var key in params){var value=params[key];validateSchema&&schema.push({name:key,type:"text"}),data2[key]=value}}catch{console.warn("Failed to parse query string to post data.")}source=source.substr(0,cur)}return options.data={data:data2,schema},options.headers??(options.headers={}),this.api(`rpcs/${source}`,options,callback)}static streamer(source,options,callback){return this.json(`${imt.streamerurl}/${source}`,options,callback)}static json(source,options,callback){return options instanceof Function&&(callback=options,options={}),["POST","PATCH","DELETE","PUT"].includes(options.method)&&(options.data=JSON.stringify(options.data)),options.dataType="json",options.contentType=["POST","PATCH","DELETE","PUT"].includes(options.method)?"application/json; charset=utf-8":null,this.ajax(source,options,callback)}static image(source,options,callback){options instanceof Function&&(callback=options,options={});const image=new globalThis.Image;return options.crossOrigin!=null&&(image.crossOrigin=options.crossOrigin),image.onload=()=>callback(null,image),image.onerror=()=>callback(new Error(`Failed to load image '${source}'`)),imt.base()&&/^\/([^\/]|$)/.test(source)&&!source.startsWith(imt.base())&&(source=imt.base(source)),image.src=source}static load(source,options,callback){return typeof options=="function"&&(callback=options,options={}),/^api:\/\/(.*)$/i.exec(source)?(options.headers??(options.headers={}),options.headers["imt-remote-formula"]=1,this.api(RegExp.$1,options,callback)):/^streamer:\/\/(.*)$/i.exec(source)?this.streamer(RegExp.$1,options,callback):/^rpc:\/\/(.*)$/i.exec(source)?this.rpc(RegExp.$1,options,callback):this.json(source,options,callback)}static font(name,text,size,callback){const context=document.createElement("canvas").getContext("2d"),started=Date.now();context.font=`40px ${name}`,context.textAlign="left",context.textBaseline="middle";const check=function(){if(Math.round(context.measureText(text).width)===size)return clearInterval(timer),callback(null);if(Date.now()-started>1e4)return clearInterval(timer),console.warn(name,"got:",Math.round(context.measureText(text).width),"expect:",size),callback(new Error(`Font ${name} failed to load in 10s.`))};var timer=setInterval(check,10);return check()}static clearStore(){return LOADER_STORE={}}};const MODAL_SIZES={LARGE:"modal-lg",SMALL:"modal-sm",MEDIUM:null};(globalThis.Modal=class extends SIMElement{static initClass(){this.prototype._body=null,this.prototype._header=null,this.prototype._foooter=null,this.prototype._loading=null,this.prototype.__loading=!1,this.prototype.__status="",this.property("theme",{get(){return new ImtColor(this.header.css("backgroundColor"))},set(value){if(!(value instanceof ImtColor))throw new TypeError("Color expected.");return this.header.css({color:value.determineForegroundColor(),backgroundColor:value.toHex(),borderBottomColor:value.darker(30).toHex()})}}),this.property("title",{get(){return this._header.children("h4").text()},set(value){return this._header.children("h4").text(value)}}),this.property("message",{get(){return this._body.text()},set(value){return this._body.empty().p().text(value)}}),this.property("loading",{get(){return this.__loading},set(value){if(this.__loading!==value)if(this.__loading=value,value){const self2=this;return this._body.children().hide(),this._loading=sim.div(".i-loading.text-center",function(){if(this.i(".far.fa-circle-notch.fa-spin"),this.appendTo(self2._body),self2._status)return this.append(self2._status)})}else return this._loading.remove(),this._loading=null,this._body.children().show()}}),this.property("status",{get(){return this.__status},set(value){var _a2;if(this.__status!==value)return this.__status=value,this._status?this._status.text(value):(this._status=sim.span().text(value),(_a2=this._loading)==null?void 0:_a2.append(this._status))}}),this.property("content",{get(){return this._body.children()},set(value){if(this._body.contents().detach(),value instanceof Array)return(()=>{const result=[];for(var item of value)value!=null&&(item instanceof SIMElement?result.push(this._body.append(item)):result.push(this._body.append(value)));return result})();if(value instanceof SIMElement)return this._body.append(value);if(value!=null)return this._body.append(value)}}),this.property("size",{get(){return this._dialog.hasClass("modal-lg")?MODAL_SIZES.LARGE:this._dialog.hasClass("modal-sm")?MODAL_SIZES.SMALL:MODAL_SIZES.NORMAL},set(value){return value=value.toUpperCase(),this._dialog.removeClass("modal-lg").removeClass("modal-sm"),this._dialog.addClass(MODAL_SIZES[value])}})}constructor(){super("div"),this.addClass("modal fade imt"),this.attr("tabindex","-1");const self2=this;this.append(sim.div(".modal-dialog",function(){return self2._dialog=this,this.div(".modal-content",function(){return self2._content=this,this.div(".modal-header",function(){return self2._header=this,this.h4(".modal-title").text("Modal"),this.button(".close",function(){return this.attr("type","button"),this.attr("data-dismiss","modal"),this.html("&times;")})}),this.div(".modal-body",function(){return self2._body=this}),this.div(".modal-footer",function(){return self2._footer=this,this.button(".btn.btn-sm.btn-outline-secondary",function(){return self2._close=this,this.attr("type","button"),this.text(imt.l("base","common.close")),self2!=null&&self2.content&&self2.content[0]instanceof Formula?this.on("mousedown",function(event){if((event==null?void 0:event.which)===1)return self2.hide()}):this.attr("data-dismiss","modal")})})})})),this.on("hide.bs.modal",function(){return this.emit("before-hide")}),this.on("hidden.bs.modal",function(){return this.remove(),this.emit("hide"),this._body.contents().detach(),this._footer.empty().append(this._close),this.loading=!1,this._footer.show()})}destructor(){return super.destructor()}addButton(label,style="default"){const self2=this;return sim.button(`.btn.btn-sm.btn-${style}`,function(){return this.attr("type","button"),this.attr("data-dismiss","modal"),this.text(label),this.appendTo(self2._footer)})}hide(){if(this.is(":visible"))return this.modal("hide"),this}show(onShown){const instance=this.modal("show");if(onShown)return instance.on("shown.bs.modal",()=>onShown())}warn(message,content){this.loading=!1;const exception=sim.div(".i-exception",function(){if(message instanceof Error){const ex=message;return this.h5().text(imt.l("base","common.error")),this.p(function(){var _a2;if(this.text(ex.detail||ex.message),(_a2=ex.suberrors)!=null&&_a2.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return ex.suberrors.map(serr=>this.li(function(){return this.text(`${serr.message}`),this.prepend(sim.i(".far.fa-fw.fa-angle-right"))}))})})}else return this.h5().text(imt.l("base","common.error")),this.p().text(message)});return content?this.content=[exception,content]:this.content=exception}}).initClass();const domObjects={init:init$4,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function blank(){}function init$4(window2){const win2=window2;domObjects.document=win2.document,domObjects.DocumentFragment=win2.DocumentFragment||blank,domObjects.SVGElement=win2.SVGElement||blank,domObjects.SVGSVGElement=win2.SVGSVGElement||blank,domObjects.SVGElementInstance=win2.SVGElementInstance||blank,domObjects.Element=win2.Element||blank,domObjects.HTMLElement=win2.HTMLElement||domObjects.Element,domObjects.Event=win2.Event,domObjects.Touch=win2.Touch||blank,domObjects.PointerEvent=win2.PointerEvent||win2.MSPointerEvent}var isWindow=thing=>!!(thing&&thing.Window)&&thing instanceof thing.Window;let realWindow,win;function init$3(window2){realWindow=window2;const el=window2.document.createTextNode("");el.ownerDocument!==window2.document&&typeof window2.wrap=="function"&&window2.wrap(el)===el&&(window2=window2.wrap(window2)),win=window2}typeof window<"u"&&window&&init$3(window);function getWindow(node2){return isWindow(node2)?node2:(node2.ownerDocument||node2).defaultView||win.window}const window$1=thing=>thing===win||isWindow(thing),docFrag=thing=>object(thing)&&thing.nodeType===11,object=thing=>!!thing&&typeof thing=="object",func=thing=>typeof thing=="function";var is={window:window$1,docFrag,object,func,number:thing=>typeof thing=="number",bool:thing=>typeof thing=="boolean",string:thing=>typeof thing=="string",element:thing=>{if(!thing||typeof thing!="object")return!1;const _window=getWindow(thing)||win;return/object|function/.test(typeof Element)?thing instanceof Element||thing instanceof _window.Element:thing.nodeType===1&&typeof thing.nodeName=="string"},plainObject:thing=>object(thing)&&!!thing.constructor&&/function Object\b/.test(thing.constructor.toString()),array:thing=>object(thing)&&typeof thing.length<"u"&&func(thing.splice)};const browser$1={init:init$2,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function init$2(window2){const Element2=domObjects.Element,navigator2=window2.navigator||{};browser$1.supportsTouch="ontouchstart"in window2||is.func(window2.DocumentTouch)&&domObjects.document instanceof window2.DocumentTouch,browser$1.supportsPointerEvent=navigator2.pointerEnabled!==!1&&!!domObjects.PointerEvent,browser$1.isIOS=/iP(hone|od|ad)/.test(navigator2.platform),browser$1.isIOS7=/iP(hone|od|ad)/.test(navigator2.platform)&&/OS 7[^\d]/.test(navigator2.appVersion),browser$1.isIe9=/MSIE 9/.test(navigator2.userAgent),browser$1.isOperaMobile=navigator2.appName==="Opera"&&browser$1.supportsTouch&&/Presto/.test(navigator2.userAgent),browser$1.prefixedMatchesSelector="matches"in Element2.prototype?"matches":"webkitMatchesSelector"in Element2.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element2.prototype?"mozMatchesSelector":"oMatchesSelector"in Element2.prototype?"oMatchesSelector":"msMatchesSelector",browser$1.pEventTypes=browser$1.supportsPointerEvent?domObjects.PointerEvent===window2.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,browser$1.wheelEvent=domObjects.document&&"onmousewheel"in domObjects.document?"mousewheel":"wheel"}function nodeContains(parent2,child){if(parent2.contains)return parent2.contains(child);for(;child;){if(child===parent2)return!0;child=child.parentNode}return!1}function closest(element2,selector){for(;is.element(element2);){if(matchesSelector(element2,selector))return element2;element2=parentNode(element2)}return null}function parentNode(node2){let parent2=node2.parentNode;if(is.docFrag(parent2)){for(;(parent2=parent2.host)&&is.docFrag(parent2););return parent2}return parent2}function matchesSelector(element2,selector){return win!==realWindow&&(selector=selector.replace(/\/deep\//g," ")),element2[browser$1.prefixedMatchesSelector](selector)}function matchesUpTo(element2,selector,limit){for(;is.element(element2);){if(matchesSelector(element2,selector))return!0;if(element2=parentNode(element2),element2===limit)return matchesSelector(element2,selector)}return!1}function getActualElement(element2){return element2.correspondingUseElement||element2}function getScrollXY(relevantWindow){return relevantWindow=relevantWindow||win,{x:relevantWindow.scrollX||relevantWindow.document.documentElement.scrollLeft,y:relevantWindow.scrollY||relevantWindow.document.documentElement.scrollTop}}function getElementClientRect(element2){const clientRect=element2 instanceof domObjects.SVGElement?element2.getBoundingClientRect():element2.getClientRects()[0];return clientRect&&{left:clientRect.left,right:clientRect.right,top:clientRect.top,bottom:clientRect.bottom,width:clientRect.width||clientRect.right-clientRect.left,height:clientRect.height||clientRect.bottom-clientRect.top}}function getElementRect$1(element2){const clientRect=getElementClientRect(element2);if(!browser$1.isIOS7&&clientRect){const scroll=getScrollXY(getWindow(element2));clientRect.left+=scroll.x,clientRect.right+=scroll.x,clientRect.top+=scroll.y,clientRect.bottom+=scroll.y}return clientRect}function trySelector(value){return is.string(value)?(domObjects.document.querySelector(value),!0):!1}function extend$1(dest,source){for(const prop in source)dest[prop]=source[prop];return dest}function warnOnce(method,message){let warned=!1;return function(){return warned||(win.console.warn(message),warned=!0),method.apply(this,arguments)}}function copyAction(dest,src){return dest.name=src.name,dest.axis=src.axis,dest.edges=src.edges,dest}function install$6(scope2){const{Interactable:Interactable2}=scope2;Interactable2.prototype.getAction=function(pointer,event,interaction,element2){const action=defaultActionChecker(this,event,interaction,element2,scope2);return this.options.actionChecker?this.options.actionChecker(pointer,event,action,this,element2,interaction):action},Interactable2.prototype.ignoreFrom=warnOnce(function(newValue){return this._backCompatOption("ignoreFrom",newValue)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),Interactable2.prototype.allowFrom=warnOnce(function(newValue){return this._backCompatOption("allowFrom",newValue)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),Interactable2.prototype.actionChecker=actionChecker,Interactable2.prototype.styleCursor=styleCursor}function defaultActionChecker(interactable,event,interaction,element2,scope2){const rect=interactable.getRect(element2),buttons=event.buttons||{0:1,1:4,3:8,4:16}[event.button],arg={action:null,interactable,interaction,element:element2,rect,buttons};return scope2.fire("auto-start:check",arg),arg.action}function styleCursor(newValue){return is.bool(newValue)?(this.options.styleCursor=newValue,this):newValue===null?(delete this.options.styleCursor,this):this.options.styleCursor}function actionChecker(checker){return is.func(checker)?(this.options.actionChecker=checker,this):checker===null?(delete this.options.actionChecker,this):this.options.actionChecker}var InteractableMethods={id:"auto-start/interactableMethods",install:install$6};function install$5(scope2){const{interactStatic:interact2,defaults:defaults2}=scope2;scope2.usePlugin(InteractableMethods),defaults2.base.actionChecker=null,defaults2.base.styleCursor=!0,extend$1(defaults2.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),interact2.maxInteractions=newValue=>maxInteractions(newValue,scope2),scope2.autoStart={maxInteractions:1/0,withinInteractionLimit,cursorElement:null}}function prepareOnDown(_ref,scope2){let{interaction,pointer,event,eventTarget}=_ref;if(interaction.interacting())return;const actionInfo=getActionInfo(interaction,pointer,event,eventTarget,scope2);prepare(interaction,actionInfo,scope2)}function prepareOnMove(_ref2,scope2){let{interaction,pointer,event,eventTarget}=_ref2;if(interaction.pointerType!=="mouse"||interaction.pointerIsDown||interaction.interacting())return;const actionInfo=getActionInfo(interaction,pointer,event,eventTarget,scope2);prepare(interaction,actionInfo,scope2)}function startOnMove(arg,scope2){const{interaction}=arg;if(!interaction.pointerIsDown||interaction.interacting()||!interaction.pointerWasMoved||!interaction.prepared.name)return;scope2.fire("autoStart:before-start",arg);const{interactable}=interaction,actionName=interaction.prepared.name;actionName&&interactable&&(interactable.options[actionName].manualStart||!withinInteractionLimit(interactable,interaction.element,interaction.prepared,scope2)?interaction.stop():(interaction.start(interaction.prepared,interactable,interaction.element),setInteractionCursor(interaction,scope2)))}function clearCursorOnStop(_ref3,scope2){let{interaction}=_ref3;const{interactable}=interaction;interactable&&interactable.options.styleCursor&&setCursor(interaction.element,"",scope2)}function validateAction(action,interactable,element2,eventTarget,scope2){return interactable.testIgnoreAllow(interactable.options[action.name],element2,eventTarget)&&interactable.options[action.name].enabled&&withinInteractionLimit(interactable,element2,action,scope2)?action:null}function validateMatches(interaction,pointer,event,matches,matchElements,eventTarget,scope2){for(let i2=0,len=matches.length;i2<len;i2++){const match2=matches[i2],matchElement=matchElements[i2],matchAction=match2.getAction(pointer,event,interaction,matchElement);if(!matchAction)continue;const action=validateAction(matchAction,match2,matchElement,eventTarget,scope2);if(action)return{action,interactable:match2,element:matchElement}}return{action:null,interactable:null,element:null}}function getActionInfo(interaction,pointer,event,eventTarget,scope2){let matches=[],matchElements=[],element2=eventTarget;function pushMatches(interactable){matches.push(interactable),matchElements.push(element2)}for(;is.element(element2);){matches=[],matchElements=[],scope2.interactables.forEachMatch(element2,pushMatches);const actionInfo=validateMatches(interaction,pointer,event,matches,matchElements,eventTarget,scope2);if(actionInfo.action&&!actionInfo.interactable.options[actionInfo.action.name].manualStart)return actionInfo;element2=parentNode(element2)}return{action:null,interactable:null,element:null}}function prepare(interaction,_ref4,scope2){let{action,interactable,element:element2}=_ref4;action=action||{name:null},interaction.interactable=interactable,interaction.element=element2,copyAction(interaction.prepared,action),interaction.rect=interactable&&action.name?interactable.getRect(element2):null,setInteractionCursor(interaction,scope2),scope2.fire("autoStart:prepared",{interaction})}function withinInteractionLimit(interactable,element2,action,scope2){const options=interactable.options,maxActions=options[action.name].max,maxPerElement=options[action.name].maxPerElement,autoStartMax=scope2.autoStart.maxInteractions;let activeInteractions=0,interactableCount=0,elementCount=0;if(!(maxActions&&maxPerElement&&autoStartMax))return!1;for(const interaction of scope2.interactions.list){const otherAction=interaction.prepared.name;if(interaction.interacting()){if(activeInteractions++,activeInteractions>=autoStartMax)return!1;if(interaction.interactable===interactable&&(interactableCount+=otherAction===action.name?1:0,interactableCount>=maxActions||interaction.element===element2&&(elementCount++,otherAction===action.name&&elementCount>=maxPerElement)))return!1}}return autoStartMax>0}function maxInteractions(newValue,scope2){return is.number(newValue)?(scope2.autoStart.maxInteractions=newValue,this):scope2.autoStart.maxInteractions}function setCursor(element2,cursor,scope2){const{cursorElement:prevCursorElement}=scope2.autoStart;prevCursorElement&&prevCursorElement!==element2&&(prevCursorElement.style.cursor=""),element2.ownerDocument.documentElement.style.cursor=cursor,element2.style.cursor=cursor,scope2.autoStart.cursorElement=cursor?element2:null}function setInteractionCursor(interaction,scope2){const{interactable,element:element2,prepared}=interaction;if(!(interaction.pointerType==="mouse"&&interactable&&interactable.options.styleCursor)){scope2.autoStart.cursorElement&&setCursor(scope2.autoStart.cursorElement,"",scope2);return}let cursor="";if(prepared.name){const cursorChecker=interactable.options[prepared.name].cursorChecker;is.func(cursorChecker)?cursor=cursorChecker(prepared,interactable,element2,interaction._interacting):cursor=scope2.actions.map[prepared.name].getCursor(prepared)}setCursor(interaction.element,cursor||"",scope2)}const autoStart={id:"auto-start/base",before:["actions"],install:install$5,listeners:{"interactions:down":prepareOnDown,"interactions:move":(arg,scope2)=>{prepareOnMove(arg,scope2),startOnMove(arg,scope2)},"interactions:stop":clearCursorOnStop},maxInteractions,withinInteractionLimit,validateAction};function beforeStart(_ref,scope2){let{interaction,eventTarget,dx,dy}=_ref;if(interaction.prepared.name!=="drag")return;const absX=Math.abs(dx),absY=Math.abs(dy),targetOptions=interaction.interactable.options.drag,startAxis=targetOptions.startAxis,currentAxis=absX>absY?"x":absX<absY?"y":"xy";if(interaction.prepared.axis=targetOptions.lockAxis==="start"?currentAxis[0]:targetOptions.lockAxis,currentAxis!=="xy"&&startAxis!=="xy"&&startAxis!==currentAxis){interaction.prepared.name=null;let element2=eventTarget;const getDraggable=function(interactable){if(interactable===interaction.interactable)return;const options=interaction.interactable.options.drag;if(!options.manualStart&&interactable.testIgnoreAllow(options,element2,eventTarget)){const action=interactable.getAction(interaction.downPointer,interaction.downEvent,interaction,element2);if(action&&action.name==="drag"&&checkStartAxis(currentAxis,interactable)&&autoStart.validateAction(action,interactable,element2,eventTarget,scope2))return interactable}};for(;is.element(element2);){const interactable=scope2.interactables.forEachMatch(element2,getDraggable);if(interactable){interaction.prepared.name="drag",interaction.interactable=interactable,interaction.element=element2;break}element2=parentNode(element2)}}}function checkStartAxis(startAxis,interactable){if(!interactable)return!1;const thisAxis=interactable.options.drag.startAxis;return startAxis==="xy"||thisAxis==="xy"||thisAxis===startAxis}var dragAxis={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":beforeStart}};function install$4(scope2){const{defaults:defaults2}=scope2;scope2.usePlugin(autoStart),defaults2.perAction.hold=0,defaults2.perAction.delay=0}function getHoldDuration(interaction){const actionName=interaction.prepared&&interaction.prepared.name;if(!actionName)return null;const options=interaction.interactable.options;return options[actionName].hold||options[actionName].delay}const hold={id:"auto-start/hold",install:install$4,listeners:{"interactions:new":_ref=>{let{interaction}=_ref;interaction.autoStartHoldTimer=null},"autoStart:prepared":_ref2=>{let{interaction}=_ref2;const hold2=getHoldDuration(interaction);hold2>0&&(interaction.autoStartHoldTimer=setTimeout(()=>{interaction.start(interaction.prepared,interaction.interactable,interaction.element)},hold2))},"interactions:move":_ref3=>{let{interaction,duplicate}=_ref3;interaction.autoStartHoldTimer&&interaction.pointerWasMoved&&!duplicate&&(clearTimeout(interaction.autoStartHoldTimer),interaction.autoStartHoldTimer=null)},"autoStart:before-start":_ref4=>{let{interaction}=_ref4;getHoldDuration(interaction)>0&&(interaction.prepared.name=null)}},getHoldDuration};var plugin={id:"auto-start",install(scope2){scope2.usePlugin(autoStart),scope2.usePlugin(hold),scope2.usePlugin(dragAxis)}};const merge$1=(target,source)=>{for(const item of source)target.push(item);return target},from=source=>merge$1([],source),findIndex=(array2,func2)=>{for(let i2=0;i2<array2.length;i2++)if(func2(array2[i2],i2,array2))return i2;return-1},find=(array2,func2)=>array2[findIndex(array2,func2)];function clone(source){const dest={};for(const prop in source){const value=source[prop];is.plainObject(value)?dest[prop]=clone(value):is.array(value)?dest[prop]=from(value):dest[prop]=value}return dest}let lastTime=0,request,cancel;function init$1(global2){if(request=global2.requestAnimationFrame,cancel=global2.cancelAnimationFrame,!request){const vendors=["ms","moz","webkit","o"];for(const vendor of vendors)request=global2[`${vendor}RequestAnimationFrame`],cancel=global2[`${vendor}CancelAnimationFrame`]||global2[`${vendor}CancelRequestAnimationFrame`]}request=request&&request.bind(global2),cancel=cancel&&cancel.bind(global2),request||(request=callback=>{const currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-lastTime)),token=global2.setTimeout(()=>{callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,token},cancel=token=>clearTimeout(token))}var raf={request:callback=>request(callback),cancel:token=>cancel(token),init:init$1};function normalize$3(type,listeners){let filter2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_typeOrPrefix=>!0,result=arguments.length>3?arguments[3]:void 0;if(result=result||{},is.string(type)&&type.search(" ")!==-1&&(type=split(type)),is.array(type))return type.forEach(t2=>normalize$3(t2,listeners,filter2,result)),result;if(is.object(type)&&(listeners=type,type=""),is.func(listeners)&&filter2(type))result[type]=result[type]||[],result[type].push(listeners);else if(is.array(listeners))for(const l2 of listeners)normalize$3(type,l2,filter2,result);else if(is.object(listeners))for(const prefix in listeners){const combinedTypes=split(prefix).map(p2=>`${type}${p2}`);normalize$3(combinedTypes,listeners[prefix],filter2,result)}return result}function split(type){return type.trim().split(/ +/)}function fireUntilImmediateStopped(event,listeners){for(const listener of listeners){if(event.immediatePropagationStopped)break;listener(event)}}class Eventable{constructor(options){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=extend$1({},options||{})}fire(event){let listeners;const global2=this.global;(listeners=this.types[event.type])&&fireUntilImmediateStopped(event,listeners),!event.propagationStopped&&global2&&(listeners=global2[event.type])&&fireUntilImmediateStopped(event,listeners)}on(type,listener){const listeners=normalize$3(type,listener);for(type in listeners)this.types[type]=merge$1(this.types[type]||[],listeners[type])}off(type,listener){const listeners=normalize$3(type,listener);for(type in listeners){const eventList=this.types[type];if(!(!eventList||!eventList.length))for(const subListener of listeners[type]){const index2=eventList.indexOf(subListener);index2!==-1&&eventList.splice(index2,1)}}}getRect(_element){return null}}const VENDOR_PREFIXES=["webkit","moz"];function pointerExtend(dest,source){dest.__set||(dest.__set={});for(const prop in source)VENDOR_PREFIXES.some(prefix=>prop.indexOf(prefix)===0)||typeof dest[prop]!="function"&&prop!=="__set"&&Object.defineProperty(dest,prop,{get(){return prop in dest.__set?dest.__set[prop]:dest.__set[prop]=source[prop]},set(value){dest.__set[prop]=value},configurable:!0});return dest}var hypot=(x2,y2)=>Math.sqrt(x2*x2+y2*y2);function copyCoords(dest,src){dest.page=dest.page||{},dest.page.x=src.page.x,dest.page.y=src.page.y,dest.client=dest.client||{},dest.client.x=src.client.x,dest.client.y=src.client.y,dest.timeStamp=src.timeStamp}function setCoordDeltas(targetObj,prev,cur){targetObj.page.x=cur.page.x-prev.page.x,targetObj.page.y=cur.page.y-prev.page.y,targetObj.client.x=cur.client.x-prev.client.x,targetObj.client.y=cur.client.y-prev.client.y,targetObj.timeStamp=cur.timeStamp-prev.timeStamp}function setCoordVelocity(targetObj,delta){const dt=Math.max(delta.timeStamp/1e3,.001);targetObj.page.x=delta.page.x/dt,targetObj.page.y=delta.page.y/dt,targetObj.client.x=delta.client.x/dt,targetObj.client.y=delta.client.y/dt,targetObj.timeStamp=dt}function setZeroCoords(targetObj){targetObj.page.x=0,targetObj.page.y=0,targetObj.client.x=0,targetObj.client.y=0}function isNativePointer(pointer){return pointer instanceof domObjects.Event||pointer instanceof domObjects.Touch}function getXY(type,pointer,xy){return xy=xy||{},type=type||"page",xy.x=pointer[type+"X"],xy.y=pointer[type+"Y"],xy}function getPageXY(pointer,page){return page=page||{x:0,y:0},browser$1.isOperaMobile&&isNativePointer(pointer)?(getXY("screen",pointer,page),page.x+=window.scrollX,page.y+=window.scrollY):getXY("page",pointer,page),page}function getClientXY(pointer,client){return client=client||{},browser$1.isOperaMobile&&isNativePointer(pointer)?getXY("screen",pointer,client):getXY("client",pointer,client),client}function getPointerId(pointer){return is.number(pointer.pointerId)?pointer.pointerId:pointer.identifier}function setCoords(dest,pointers,timeStamp){const pointer=pointers.length>1?pointerAverage(pointers):pointers[0];getPageXY(pointer,dest.page),getClientXY(pointer,dest.client),dest.timeStamp=timeStamp}function getTouchPair(event){const touches=[];return is.array(event)?(touches[0]=event[0],touches[1]=event[1]):event.type==="touchend"?event.touches.length===1?(touches[0]=event.touches[0],touches[1]=event.changedTouches[0]):event.touches.length===0&&(touches[0]=event.changedTouches[0],touches[1]=event.changedTouches[1]):(touches[0]=event.touches[0],touches[1]=event.touches[1]),touches}function pointerAverage(pointers){const average={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const pointer of pointers)for(const prop in average)average[prop]+=pointer[prop];for(const prop in average)average[prop]/=pointers.length;return average}function touchBBox(event){if(!event.length)return null;const touches=getTouchPair(event),minX=Math.min(touches[0].pageX,touches[1].pageX),minY=Math.min(touches[0].pageY,touches[1].pageY),maxX=Math.max(touches[0].pageX,touches[1].pageX),maxY=Math.max(touches[0].pageY,touches[1].pageY);return{x:minX,y:minY,left:minX,top:minY,right:maxX,bottom:maxY,width:maxX-minX,height:maxY-minY}}function touchDistance(event,deltaSource){const sourceX=deltaSource+"X",sourceY=deltaSource+"Y",touches=getTouchPair(event),dx=touches[0][sourceX]-touches[1][sourceX],dy=touches[0][sourceY]-touches[1][sourceY];return hypot(dx,dy)}function touchAngle(event,deltaSource){const sourceX=deltaSource+"X",sourceY=deltaSource+"Y",touches=getTouchPair(event),dx=touches[1][sourceX]-touches[0][sourceX],dy=touches[1][sourceY]-touches[0][sourceY];return 180*Math.atan2(dy,dx)/Math.PI}function getPointerType(pointer){return is.string(pointer.pointerType)?pointer.pointerType:is.number(pointer.pointerType)?[void 0,void 0,"touch","pen","mouse"][pointer.pointerType]:/touch/.test(pointer.type||"")||pointer instanceof domObjects.Touch?"touch":"mouse"}function getEventTargets(event){const path=is.func(event.composedPath)?event.composedPath():event.path;return[getActualElement(path?path[0]:event.target),getActualElement(event.currentTarget)]}function newCoords(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function install$3(scope2){var _scope$document;const targets=[],delegatedEvents={},documents=[],eventsMethods={add,remove,addDelegate,removeDelegate,delegateListener,delegateUseCapture,delegatedEvents,documents,targets,supportsOptions:!1,supportsPassive:!1};(_scope$document=scope2.document)==null||_scope$document.createElement("div").addEventListener("test",null,{get capture(){return eventsMethods.supportsOptions=!0},get passive(){return eventsMethods.supportsPassive=!0}}),scope2.events=eventsMethods;function add(eventTarget,type,listener,optionalArg){if(!eventTarget.addEventListener)return;const options=getOptions(optionalArg);let target=find(targets,t2=>t2.eventTarget===eventTarget);target||(target={eventTarget,events:{}},targets.push(target)),target.events[type]||(target.events[type]=[]),find(target.events[type],l2=>l2.func===listener&&optionsMatch(l2.options,options))||(eventTarget.addEventListener(type,listener,eventsMethods.supportsOptions?options:options.capture),target.events[type].push({func:listener,options}))}function remove(eventTarget,type,listener,optionalArg){if(!eventTarget.addEventListener||!eventTarget.removeEventListener)return;const targetIndex=findIndex(targets,t2=>t2.eventTarget===eventTarget),target=targets[targetIndex];if(!target||!target.events)return;if(type==="all"){for(type in target.events)target.events.hasOwnProperty(type)&&remove(eventTarget,type,"all");return}let typeIsEmpty=!1;const typeListeners=target.events[type];if(typeListeners)if(listener==="all"){for(let i2=typeListeners.length-1;i2>=0;i2--){const entry=typeListeners[i2];remove(eventTarget,type,entry.func,entry.options)}return}else{const options=getOptions(optionalArg);for(let i2=0;i2<typeListeners.length;i2++){const entry=typeListeners[i2];if(entry.func===listener&&optionsMatch(entry.options,options)){eventTarget.removeEventListener(type,listener,eventsMethods.supportsOptions?options:options.capture),typeListeners.splice(i2,1),typeListeners.length===0&&(delete target.events[type],typeIsEmpty=!0);break}}}typeIsEmpty&&!Object.keys(target.events).length&&targets.splice(targetIndex,1)}function addDelegate(selector,context,type,listener,optionalArg){const options=getOptions(optionalArg);if(!delegatedEvents[type]){delegatedEvents[type]=[];for(const doc of documents)add(doc,type,delegateListener),add(doc,type,delegateUseCapture,!0)}const delegates=delegatedEvents[type];let delegate=find(delegates,d2=>d2.selector===selector&&d2.context===context);delegate||(delegate={selector,context,listeners:[]},delegates.push(delegate)),delegate.listeners.push({func:listener,options})}function removeDelegate(selector,context,type,listener,optionalArg){const options=getOptions(optionalArg),delegates=delegatedEvents[type];let matchFound=!1,index2;if(delegates)for(index2=delegates.length-1;index2>=0;index2--){const cur=delegates[index2];if(cur.selector===selector&&cur.context===context){const{listeners}=cur;for(let i2=listeners.length-1;i2>=0;i2--){const entry=listeners[i2];if(entry.func===listener&&optionsMatch(entry.options,options)){listeners.splice(i2,1),listeners.length||(delegates.splice(index2,1),remove(context,type,delegateListener),remove(context,type,delegateUseCapture,!0)),matchFound=!0;break}}if(matchFound)break}}}function delegateListener(event,optionalArg){const options=getOptions(optionalArg),fakeEvent=new FakeEvent(event),delegates=delegatedEvents[event.type],[eventTarget]=getEventTargets(event);let element2=eventTarget;for(;is.element(element2);){for(let i2=0;i2<delegates.length;i2++){const cur=delegates[i2],{selector,context}=cur;if(matchesSelector(element2,selector)&&nodeContains(context,eventTarget)&&nodeContains(context,element2)){const{listeners}=cur;fakeEvent.currentTarget=element2;for(const entry of listeners)optionsMatch(entry.options,options)&&entry.func(fakeEvent)}}element2=parentNode(element2)}}function delegateUseCapture(event){return delegateListener.call(this,event,!0)}return eventsMethods}class FakeEvent{constructor(originalEvent){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=originalEvent,pointerExtend(this,originalEvent)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function getOptions(param){return is.object(param)?{capture:!!param.capture,passive:!!param.passive}:{capture:!!param,passive:!1}}function optionsMatch(a2,b2){return a2===b2?!0:typeof a2=="boolean"?!!b2.capture===a2&&!b2.passive:!!a2.capture==!!b2.capture&&!!a2.passive==!!b2.passive}var events={id:"events",install:install$3};const preventDefault=function(newValue){return/^(always|never|auto)$/.test(newValue)?(this.options.preventDefault=newValue,this):is.bool(newValue)?(this.options.preventDefault=newValue?"always":"never",this):this.options.preventDefault};function checkAndPreventDefault(interactable,scope2,event){const setting=interactable.options.preventDefault;if(setting!=="never"){if(setting==="always"){event.preventDefault();return}if(scope2.events.supportsPassive&&/^touch(start|move)$/.test(event.type)){const doc=getWindow(event.target).document,docOptions=scope2.getDocOptions(doc);if(!(docOptions&&docOptions.events)||docOptions.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(event.type)||is.element(event.target)&&matchesSelector(event.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||event.preventDefault()}}function onInteractionEvent(_ref){let{interaction,event}=_ref;interaction.interactable&&interaction.interactable.checkAndPreventDefault(event)}function install$2(scope2){const{Interactable:Interactable2}=scope2;Interactable2.prototype.preventDefault=preventDefault,Interactable2.prototype.checkAndPreventDefault=function(event){return checkAndPreventDefault(this,scope2,event)},scope2.interactions.docEvents.push({type:"dragstart",listener(event){for(const interaction of scope2.interactions.list)if(interaction.element&&(interaction.element===event.target||nodeContains(interaction.element,event.target))){interaction.interactable.checkAndPreventDefault(event);return}}})}var interactablePreventDefault={id:"core/interactablePreventDefault",install:install$2,listeners:["down","move","up","cancel"].reduce((acc,eventType)=>(acc[`interactions:${eventType}`]=onInteractionEvent,acc),{})};function getStringOptionResult(value,target,element2){return value==="parent"?parentNode(element2):value==="self"?target.getRect(element2):closest(element2,value)}function resolveRectLike(value,target,element2,functionArgs){let returnValue=value;return is.string(returnValue)?returnValue=getStringOptionResult(returnValue,target,element2):is.func(returnValue)&&(returnValue=returnValue(...functionArgs)),is.element(returnValue)&&(returnValue=getElementRect$1(returnValue)),returnValue}function rectToXY(rect){return rect&&{x:"x"in rect?rect.x:rect.left,y:"y"in rect?rect.y:rect.top}}function xywhToTlbr(rect){return rect&&!("left"in rect&&"top"in rect)&&(rect=extend$1({},rect),rect.left=rect.x||0,rect.top=rect.y||0,rect.right=rect.right||rect.left+rect.width,rect.bottom=rect.bottom||rect.top+rect.height),rect}function tlbrToXywh(rect){return rect&&!("x"in rect&&"y"in rect)&&(rect=extend$1({},rect),rect.x=rect.left||0,rect.y=rect.top||0,rect.width=rect.width||(rect.right||0)-rect.x,rect.height=rect.height||(rect.bottom||0)-rect.y),rect}function addEdges(edges,rect,delta){edges.left&&(rect.left+=delta.x),edges.right&&(rect.right+=delta.x),edges.top&&(rect.top+=delta.y),edges.bottom&&(rect.bottom+=delta.y),rect.width=rect.right-rect.left,rect.height=rect.bottom-rect.top}function getOriginXY(target,element2,actionName){const actionOptions=actionName&&target.options[actionName],origin=actionOptions&&actionOptions.origin||target.options.origin,originRect=resolveRectLike(origin,target,element2,[target&&element2]);return rectToXY(originRect)||{x:0,y:0}}class BaseEvent{constructor(interaction){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=interaction}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(BaseEvent.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const defaults$6={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class InteractEvent extends BaseEvent{constructor(interaction,event,actionName,phase,element2,preEnd,type){super(interaction),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,element2=element2||interaction.element;const target=interaction.interactable,deltaSource=(target&&target.options||defaults$6).deltaSource,origin=getOriginXY(target,element2,actionName),starting=phase==="start",ending=phase==="end",prevEvent=starting?this:interaction.prevEvent,coords=starting?interaction.coords.start:ending?{page:prevEvent.page,client:prevEvent.client,timeStamp:interaction.coords.cur.timeStamp}:interaction.coords.cur;this.page=extend$1({},coords.page),this.client=extend$1({},coords.client),this.rect=extend$1({},interaction.rect),this.timeStamp=coords.timeStamp,ending||(this.page.x-=origin.x,this.page.y-=origin.y,this.client.x-=origin.x,this.client.y-=origin.y),this.ctrlKey=event.ctrlKey,this.altKey=event.altKey,this.shiftKey=event.shiftKey,this.metaKey=event.metaKey,this.button=event.button,this.buttons=event.buttons,this.target=element2,this.currentTarget=element2,this.preEnd=preEnd,this.type=type||actionName+(phase||""),this.interactable=target,this.t0=starting?interaction.pointers[interaction.pointers.length-1].downTime:prevEvent.t0,this.x0=interaction.coords.start.page.x-origin.x,this.y0=interaction.coords.start.page.y-origin.y,this.clientX0=interaction.coords.start.client.x-origin.x,this.clientY0=interaction.coords.start.client.y-origin.y,starting||ending?this.delta={x:0,y:0}:this.delta={x:this[deltaSource].x-prevEvent[deltaSource].x,y:this[deltaSource].y-prevEvent[deltaSource].y},this.dt=interaction.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=extend$1({},interaction.coords.velocity[deltaSource]),this.speed=hypot(this.velocity.x,this.velocity.y),this.swipe=ending||phase==="inertiastart"?this.getSwipe():null}getSwipe(){const interaction=this._interaction;if(interaction.prevEvent.speed<600||this.timeStamp-interaction.prevEvent.timeStamp>150)return null;let angle=180*Math.atan2(interaction.prevEvent.velocityY,interaction.prevEvent.velocityX)/Math.PI;const overlap=22.5;angle<0&&(angle+=360);const left=135-overlap<=angle&&angle<225+overlap,up=225-overlap<=angle&&angle<315+overlap,right=!left&&(315-overlap<=angle||angle<45+overlap),down=!up&&45-overlap<=angle&&angle<135+overlap;return{up,down,left,right,angle,speed:interaction.prevEvent.speed,velocity:{x:interaction.prevEvent.velocityX,y:interaction.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(InteractEvent.prototype,{pageX:{get(){return this.page.x},set(value){this.page.x=value}},pageY:{get(){return this.page.y},set(value){this.page.y=value}},clientX:{get(){return this.client.x},set(value){this.client.x=value}},clientY:{get(){return this.client.y},set(value){this.client.y=value}},dx:{get(){return this.delta.x},set(value){this.delta.x=value}},dy:{get(){return this.delta.y},set(value){this.delta.y=value}},velocityX:{get(){return this.velocity.x},set(value){this.velocity.x=value}},velocityY:{get(){return this.velocity.y},set(value){this.velocity.y=value}}});class PointerInfo{constructor(id,pointer,event,downTime,downTarget){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=id,this.pointer=pointer,this.event=event,this.downTime=downTime,this.downTarget=downTarget}}let _ProxyValues=function(_ProxyValues2){return _ProxyValues2.interactable="",_ProxyValues2.element="",_ProxyValues2.prepared="",_ProxyValues2.pointerIsDown="",_ProxyValues2.pointerWasMoved="",_ProxyValues2._proxy="",_ProxyValues2}({}),_ProxyMethods=function(_ProxyMethods2){return _ProxyMethods2.start="",_ProxyMethods2.move="",_ProxyMethods2.end="",_ProxyMethods2.stop="",_ProxyMethods2.interacting="",_ProxyMethods2}({}),idCounter=0;class Interaction{get pointerMoveTolerance(){return 1}constructor(_ref){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=warnOnce(function(signalArg){this.move(signalArg)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:newCoords(),prev:newCoords(),cur:newCoords(),delta:newCoords(),velocity:newCoords()},this._id=idCounter++;let{pointerType,scopeFire}=_ref;this._scopeFire=scopeFire,this.pointerType=pointerType;const that=this;this._proxy={};for(const key in _ProxyValues)Object.defineProperty(this._proxy,key,{get(){return that[key]}});for(const key in _ProxyMethods)Object.defineProperty(this._proxy,key,{value:function(){return that[key](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(pointer,event,eventTarget){const pointerIndex=this.updatePointer(pointer,event,eventTarget,!0),pointerInfo=this.pointers[pointerIndex];this._scopeFire("interactions:down",{pointer,event,eventTarget,pointerIndex,pointerInfo,type:"down",interaction:this})}start(action,interactable,element2){return this.interacting()||!this.pointerIsDown||this.pointers.length<(action.name==="gesture"?2:1)||!interactable.options[action.name].enabled?!1:(copyAction(this.prepared,action),this.interactable=interactable,this.element=element2,this.rect=interactable.getRect(element2),this.edges=this.prepared.edges?extend$1({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(pointer,event,eventTarget){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(pointer,event,eventTarget,!1);const duplicateMove=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let dx,dy;this.pointerIsDown&&!this.pointerWasMoved&&(dx=this.coords.cur.client.x-this.coords.start.client.x,dy=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=hypot(dx,dy)>this.pointerMoveTolerance);const pointerIndex=this.getPointerIndex(pointer),signalArg={pointer,pointerIndex,pointerInfo:this.pointers[pointerIndex],event,type:"move",eventTarget,dx,dy,duplicate:duplicateMove,interaction:this};duplicateMove||setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",signalArg),!duplicateMove&&!this.simulation&&(this.interacting()&&(signalArg.type=null,this.move(signalArg)),this.pointerWasMoved&&copyCoords(this.coords.prev,this.coords.cur))}move(signalArg){(!signalArg||!signalArg.event)&&setZeroCoords(this.coords.delta),signalArg=extend$1({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},signalArg||{}),signalArg.phase="move",this._doPhase(signalArg)}pointerUp(pointer,event,eventTarget,curEventTarget){let pointerIndex=this.getPointerIndex(pointer);pointerIndex===-1&&(pointerIndex=this.updatePointer(pointer,event,eventTarget,!1));const type=/cancel$/i.test(event.type)?"cancel":"up";this._scopeFire(`interactions:${type}`,{pointer,pointerIndex,pointerInfo:this.pointers[pointerIndex],event,eventTarget,type,curEventTarget,interaction:this}),this.simulation||this.end(event),this.removePointer(pointer,event)}documentBlur(event){this.end(event),this._scopeFire("interactions:blur",{event,type:"blur",interaction:this})}end(event){this._ending=!0,event=event||this._latestPointer.event;let endPhaseResult;this.interacting()&&(endPhaseResult=this._doPhase({event,interaction:this,phase:"end"})),this._ending=!1,endPhaseResult===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(pointer){const pointerId=getPointerId(pointer);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:findIndex(this.pointers,curPointer=>curPointer.id===pointerId)}getPointerInfo(pointer){return this.pointers[this.getPointerIndex(pointer)]}updatePointer(pointer,event,eventTarget,down){const id=getPointerId(pointer);let pointerIndex=this.getPointerIndex(pointer),pointerInfo=this.pointers[pointerIndex];return down=down===!1?!1:down||/(down|start)$/i.test(event.type),pointerInfo?pointerInfo.pointer=pointer:(pointerInfo=new PointerInfo(id,pointer,event,null,null),pointerIndex=this.pointers.length,this.pointers.push(pointerInfo)),setCoords(this.coords.cur,this.pointers.map(p2=>p2.pointer),this._now()),setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),down&&(this.pointerIsDown=!0,pointerInfo.downTime=this.coords.cur.timeStamp,pointerInfo.downTarget=eventTarget,pointerExtend(this.downPointer,pointer),this.interacting()||(copyCoords(this.coords.start,this.coords.cur),copyCoords(this.coords.prev,this.coords.cur),this.downEvent=event,this.pointerWasMoved=!1)),this._updateLatestPointer(pointer,event,eventTarget),this._scopeFire("interactions:update-pointer",{pointer,event,eventTarget,down,pointerInfo,pointerIndex,interaction:this}),pointerIndex}removePointer(pointer,event){const pointerIndex=this.getPointerIndex(pointer);if(pointerIndex===-1)return;const pointerInfo=this.pointers[pointerIndex];this._scopeFire("interactions:remove-pointer",{pointer,event,eventTarget:null,pointerIndex,pointerInfo,interaction:this}),this.pointers.splice(pointerIndex,1),this.pointerIsDown=!1}_updateLatestPointer(pointer,event,eventTarget){this._latestPointer.pointer=pointer,this._latestPointer.event=event,this._latestPointer.eventTarget=eventTarget}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(event,phase,preEnd,type){return new InteractEvent(this,event,this.prepared.name,phase,this.element,preEnd,type)}_fireEvent(iEvent){var _this$interactable;(_this$interactable=this.interactable)==null||_this$interactable.fire(iEvent),(!this.prevEvent||iEvent.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=iEvent)}_doPhase(signalArg){const{event,phase,preEnd,type}=signalArg,{rect}=this;if(rect&&phase==="move"&&(addEdges(this.edges,rect,this.coords.delta[this.interactable.options.deltaSource]),rect.width=rect.right-rect.left,rect.height=rect.bottom-rect.top),this._scopeFire(`interactions:before-action-${phase}`,signalArg)===!1)return!1;const iEvent=signalArg.iEvent=this._createPreparedEvent(event,phase,preEnd,type);return this._scopeFire(`interactions:action-${phase}`,signalArg),phase==="start"&&(this.prevEvent=iEvent),this._fireEvent(iEvent),this._scopeFire(`interactions:after-action-${phase}`,signalArg),!0}_now(){return Date.now()}}const finder={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(details){for(const method of finder.methodOrder){const interaction=finder[method](details);if(interaction)return interaction}return null},simulationResume(_ref){let{pointerType,eventType,eventTarget,scope:scope2}=_ref;if(!/down|start/i.test(eventType))return null;for(const interaction of scope2.interactions.list){let element2=eventTarget;if(interaction.simulation&&interaction.simulation.allowResume&&interaction.pointerType===pointerType)for(;element2;){if(element2===interaction.element)return interaction;element2=parentNode(element2)}}return null},mouseOrPen(_ref2){let{pointerId,pointerType,eventType,scope:scope2}=_ref2;if(pointerType!=="mouse"&&pointerType!=="pen")return null;let firstNonActive;for(const interaction of scope2.interactions.list)if(interaction.pointerType===pointerType){if(interaction.simulation&&!hasPointerId(interaction,pointerId))continue;if(interaction.interacting())return interaction;firstNonActive||(firstNonActive=interaction)}if(firstNonActive)return firstNonActive;for(const interaction of scope2.interactions.list)if(interaction.pointerType===pointerType&&!(/down/i.test(eventType)&&interaction.simulation))return interaction;return null},hasPointer(_ref3){let{pointerId,scope:scope2}=_ref3;for(const interaction of scope2.interactions.list)if(hasPointerId(interaction,pointerId))return interaction;return null},idle(_ref4){let{pointerType,scope:scope2}=_ref4;for(const interaction of scope2.interactions.list){if(interaction.pointers.length===1){const target=interaction.interactable;if(target&&!(target.options.gesture&&target.options.gesture.enabled))continue}else if(interaction.pointers.length>=2)continue;if(!interaction.interacting()&&pointerType===interaction.pointerType)return interaction}return null}};function hasPointerId(interaction,pointerId){return interaction.pointers.some(_ref5=>{let{id}=_ref5;return id===pointerId})}const methodNames=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function install$1(scope2){const listeners={};for(const method of methodNames)listeners[method]=doOnInteractions(method,scope2);const pEventTypes=browser$1.pEventTypes;let docEvents;domObjects.PointerEvent?docEvents=[{type:pEventTypes.down,listener:releasePointersOnRemovedEls},{type:pEventTypes.down,listener:listeners.pointerDown},{type:pEventTypes.move,listener:listeners.pointerMove},{type:pEventTypes.up,listener:listeners.pointerUp},{type:pEventTypes.cancel,listener:listeners.pointerUp}]:docEvents=[{type:"mousedown",listener:listeners.pointerDown},{type:"mousemove",listener:listeners.pointerMove},{type:"mouseup",listener:listeners.pointerUp},{type:"touchstart",listener:releasePointersOnRemovedEls},{type:"touchstart",listener:listeners.pointerDown},{type:"touchmove",listener:listeners.pointerMove},{type:"touchend",listener:listeners.pointerUp},{type:"touchcancel",listener:listeners.pointerUp}],docEvents.push({type:"blur",listener(event){for(const interaction of scope2.interactions.list)interaction.documentBlur(event)}}),scope2.prevTouchTime=0,scope2.Interaction=class extends Interaction{get pointerMoveTolerance(){return scope2.interactions.pointerMoveTolerance}set pointerMoveTolerance(value){scope2.interactions.pointerMoveTolerance=value}_now(){return scope2.now()}},scope2.interactions={list:[],new(options){options.scopeFire=(name,arg)=>scope2.fire(name,arg);const interaction=new scope2.Interaction(options);return scope2.interactions.list.push(interaction),interaction},listeners,docEvents,pointerMoveTolerance:1};function releasePointersOnRemovedEls(){for(const interaction of scope2.interactions.list)if(!(!interaction.pointerIsDown||interaction.pointerType!=="touch"||interaction._interacting))for(const pointer of interaction.pointers)scope2.documents.some(_ref=>{let{doc}=_ref;return nodeContains(doc,pointer.downTarget)})||interaction.removePointer(pointer.pointer,pointer.event)}scope2.usePlugin(interactablePreventDefault)}function doOnInteractions(method,scope2){return function(event){const interactions2=scope2.interactions.list,pointerType=getPointerType(event),[eventTarget,curEventTarget]=getEventTargets(event),matches=[];if(/^touch/.test(event.type)){scope2.prevTouchTime=scope2.now();for(const changedTouch of event.changedTouches){const pointer=changedTouch,pointerId=getPointerId(pointer),searchDetails={pointer,pointerId,pointerType,eventType:event.type,eventTarget,curEventTarget,scope:scope2},interaction=getInteraction(searchDetails);matches.push([searchDetails.pointer,searchDetails.eventTarget,searchDetails.curEventTarget,interaction])}}else{let invalidPointer=!1;if(!browser$1.supportsPointerEvent&&/mouse/.test(event.type)){for(let i2=0;i2<interactions2.length&&!invalidPointer;i2++)invalidPointer=interactions2[i2].pointerType!=="mouse"&&interactions2[i2].pointerIsDown;invalidPointer=invalidPointer||scope2.now()-scope2.prevTouchTime<500||event.timeStamp===0}if(!invalidPointer){const searchDetails={pointer:event,pointerId:getPointerId(event),pointerType,eventType:event.type,curEventTarget,eventTarget,scope:scope2},interaction=getInteraction(searchDetails);matches.push([searchDetails.pointer,searchDetails.eventTarget,searchDetails.curEventTarget,interaction])}}for(const[pointer,eventTarget2,curEventTarget2,interaction]of matches)interaction[method](pointer,event,eventTarget2,curEventTarget2)}}function getInteraction(searchDetails){const{pointerType,scope:scope2}=searchDetails,signalArg={interaction:finder.search(searchDetails),searchDetails};return scope2.fire("interactions:find",signalArg),signalArg.interaction||scope2.interactions.new({pointerType})}function onDocSignal(_ref2,eventMethodName){let{doc,scope:scope2,options}=_ref2;const{interactions:{docEvents},events:events2}=scope2,eventMethod=events2[eventMethodName];scope2.browser.isIOS&&!options.events&&(options.events={passive:!1});for(const eventType in events2.delegatedEvents)eventMethod(doc,eventType,events2.delegateListener),eventMethod(doc,eventType,events2.delegateUseCapture,!0);const eventOptions=options&&options.events;for(const{type,listener}of docEvents)eventMethod(doc,type,listener,eventOptions)}const interactions={id:"core/interactions",install:install$1,listeners:{"scope:add-document":arg=>onDocSignal(arg,"add"),"scope:remove-document":arg=>onDocSignal(arg,"remove"),"interactable:unset":(_ref3,scope2)=>{let{interactable}=_ref3;for(let i2=scope2.interactions.list.length-1;i2>=0;i2--){const interaction=scope2.interactions.list[i2];interaction.interactable===interactable&&(interaction.stop(),scope2.fire("interactions:destroy",{interaction}),interaction.destroy(),scope2.interactions.list.length>2&&scope2.interactions.list.splice(i2,1))}}},onDocSignal,doOnInteractions,methodNames};function isNonNativeEvent(type,actions){if(actions.phaselessTypes[type])return!0;for(const name in actions.map)if(type.indexOf(name)===0&&type.substr(name.length)in actions.phases)return!0;return!1}var OnOffMethod=function(OnOffMethod2){return OnOffMethod2[OnOffMethod2.On=0]="On",OnOffMethod2[OnOffMethod2.Off=1]="Off",OnOffMethod2}(OnOffMethod||{});class Interactable{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(target,options,defaultContext,scopeEvents){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=options.actions,this.target=target,this._context=options.context||defaultContext,this._win=getWindow(trySelector(target)?this._context:target),this._doc=this._win.document,this._scopeEvents=scopeEvents,this.set(options)}setOnEvents(actionName,phases){return is.func(phases.onstart)&&this.on(`${actionName}start`,phases.onstart),is.func(phases.onmove)&&this.on(`${actionName}move`,phases.onmove),is.func(phases.onend)&&this.on(`${actionName}end`,phases.onend),is.func(phases.oninertiastart)&&this.on(`${actionName}inertiastart`,phases.oninertiastart),this}updatePerActionListeners(actionName,prev,cur){var _this$_actions$map$ac;const actionFilter=(_this$_actions$map$ac=this._actions.map[actionName])==null?void 0:_this$_actions$map$ac.filterEventType,filter2=type=>(actionFilter==null||actionFilter(type))&&isNonNativeEvent(type,this._actions);(is.array(prev)||is.object(prev))&&this._onOff(OnOffMethod.Off,actionName,prev,void 0,filter2),(is.array(cur)||is.object(cur))&&this._onOff(OnOffMethod.On,actionName,cur,void 0,filter2)}setPerAction(actionName,options){const defaults2=this._defaults;for(const optionName_ in options){const optionName=optionName_,actionOptions=this.options[actionName],optionValue=options[optionName];optionName==="listeners"&&this.updatePerActionListeners(actionName,actionOptions.listeners,optionValue),is.array(optionValue)?actionOptions[optionName]=from(optionValue):is.plainObject(optionValue)?(actionOptions[optionName]=extend$1(actionOptions[optionName]||{},clone(optionValue)),is.object(defaults2.perAction[optionName])&&"enabled"in defaults2.perAction[optionName]&&(actionOptions[optionName].enabled=optionValue.enabled!==!1)):is.bool(optionValue)&&is.object(defaults2.perAction[optionName])?actionOptions[optionName].enabled=optionValue:actionOptions[optionName]=optionValue}}getRect(element2){return element2=element2||(is.element(this.target)?this.target:null),is.string(this.target)&&(element2=element2||this._context.querySelector(this.target)),getElementRect$1(element2)}rectChecker(checker){return is.func(checker)?(this.getRect=element2=>{const rect=extend$1({},checker.apply(this,element2));return"width"in rect||(rect.width=rect.right-rect.left,rect.height=rect.bottom-rect.top),rect},this):checker===null?(delete this.getRect,this):this.getRect}_backCompatOption(optionName,newValue){if(trySelector(newValue)||is.object(newValue)){this.options[optionName]=newValue;for(const action in this._actions.map)this.options[action][optionName]=newValue;return this}return this.options[optionName]}origin(newValue){return this._backCompatOption("origin",newValue)}deltaSource(newValue){return newValue==="page"||newValue==="client"?(this.options.deltaSource=newValue,this):this.options.deltaSource}getAllElements(){const{target}=this;return is.string(target)?Array.from(this._context.querySelectorAll(target)):is.func(target)&&target.getAllElements?target.getAllElements():is.element(target)?[target]:[]}context(){return this._context}inContext(element2){return this._context===element2.ownerDocument||nodeContains(this._context,element2)}testIgnoreAllow(options,targetNode,eventTarget){return!this.testIgnore(options.ignoreFrom,targetNode,eventTarget)&&this.testAllow(options.allowFrom,targetNode,eventTarget)}testAllow(allowFrom,targetNode,element2){return allowFrom?is.element(element2)?is.string(allowFrom)?matchesUpTo(element2,allowFrom,targetNode):is.element(allowFrom)?nodeContains(allowFrom,element2):!1:!1:!0}testIgnore(ignoreFrom,targetNode,element2){return!ignoreFrom||!is.element(element2)?!1:is.string(ignoreFrom)?matchesUpTo(element2,ignoreFrom,targetNode):is.element(ignoreFrom)?nodeContains(ignoreFrom,element2):!1}fire(iEvent){return this.events.fire(iEvent),this}_onOff(method,typeArg,listenerArg,options,filter2){is.object(typeArg)&&!is.array(typeArg)&&(options=listenerArg,listenerArg=null);const listeners=normalize$3(typeArg,listenerArg,filter2);for(let type in listeners){type==="wheel"&&(type=browser$1.wheelEvent);for(const listener of listeners[type])isNonNativeEvent(type,this._actions)?this.events[method===OnOffMethod.On?"on":"off"](type,listener):is.string(this.target)?this._scopeEvents[method===OnOffMethod.On?"addDelegate":"removeDelegate"](this.target,this._context,type,listener,options):this._scopeEvents[method===OnOffMethod.On?"add":"remove"](this.target,type,listener,options)}return this}on(types,listener,options){return this._onOff(OnOffMethod.On,types,listener,options)}off(types,listener,options){return this._onOff(OnOffMethod.Off,types,listener,options)}set(options){const defaults2=this._defaults;is.object(options)||(options={}),this.options=clone(defaults2.base);for(const actionName_ in this._actions.methodDict){const actionName=actionName_,methodName=this._actions.methodDict[actionName];this.options[actionName]={},this.setPerAction(actionName,extend$1(extend$1({},defaults2.perAction),defaults2.actions[actionName])),this[methodName](options[actionName])}for(const setting in options){if(setting==="getRect"){this.rectChecker(options.getRect);continue}is.func(this[setting])&&this[setting](options[setting])}return this}unset(){if(is.string(this.target))for(const type in this._scopeEvents.delegatedEvents){const delegated=this._scopeEvents.delegatedEvents[type];for(let i2=delegated.length-1;i2>=0;i2--){const{selector,context,listeners}=delegated[i2];selector===this.target&&context===this._context&&delegated.splice(i2,1);for(let l2=listeners.length-1;l2>=0;l2--)this._scopeEvents.removeDelegate(this.target,this._context,type,listeners[l2][0],listeners[l2][1])}}else this._scopeEvents.remove(this.target,"all")}}class InteractableSet{constructor(scope2){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=scope2,scope2.addListeners({"interactable:unset":_ref=>{let{interactable}=_ref;const{target}=interactable,interactablesOnTarget=is.string(target)?this.selectorMap[target]:target[this.scope.id],targetIndex=findIndex(interactablesOnTarget,i2=>i2===interactable);interactablesOnTarget.splice(targetIndex,1)}})}new(target,options){options=extend$1(options||{},{actions:this.scope.actions});const interactable=new this.scope.Interactable(target,options,this.scope.document,this.scope.events);return this.scope.addDocument(interactable._doc),this.list.push(interactable),is.string(target)?(this.selectorMap[target]||(this.selectorMap[target]=[]),this.selectorMap[target].push(interactable)):(interactable.target[this.scope.id]||Object.defineProperty(target,this.scope.id,{value:[],configurable:!0}),target[this.scope.id].push(interactable)),this.scope.fire("interactable:new",{target,options,interactable,win:this.scope._win}),interactable}getExisting(target,options){const context=options&&options.context||this.scope.document,isSelector=is.string(target),interactablesOnTarget=isSelector?this.selectorMap[target]:target[this.scope.id];if(interactablesOnTarget)return find(interactablesOnTarget,interactable=>interactable._context===context&&(isSelector||interactable.inContext(target)))}forEachMatch(node2,callback){for(const interactable of this.list){let ret;if((is.string(interactable.target)?is.element(node2)&&matchesSelector(node2,interactable.target):node2===interactable.target)&&interactable.inContext(node2)&&(ret=callback(interactable)),ret!==void 0)return ret}}}function createInteractStatic(scope2){const interact2=(target,options)=>{let interactable=scope2.interactables.getExisting(target,options);return interactable||(interactable=scope2.interactables.new(target,options),interactable.events.global=interact2.globalEvents),interactable};return interact2.getPointerAverage=pointerAverage,interact2.getTouchBBox=touchBBox,interact2.getTouchDistance=touchDistance,interact2.getTouchAngle=touchAngle,interact2.getElementRect=getElementRect$1,interact2.getElementClientRect=getElementClientRect,interact2.matchesSelector=matchesSelector,interact2.closest=closest,interact2.globalEvents={},interact2.version="1.10.26",interact2.scope=scope2,interact2.use=function(plugin2,options){return this.scope.usePlugin(plugin2,options),this},interact2.isSet=function(target,options){return!!this.scope.interactables.get(target,options&&options.context)},interact2.on=warnOnce(function(type,listener,options){if(is.string(type)&&type.search(" ")!==-1&&(type=type.trim().split(/ +/)),is.array(type)){for(const eventType of type)this.on(eventType,listener,options);return this}if(is.object(type)){for(const prop in type)this.on(prop,type[prop],listener);return this}return isNonNativeEvent(type,this.scope.actions)?this.globalEvents[type]?this.globalEvents[type].push(listener):this.globalEvents[type]=[listener]:this.scope.events.add(this.scope.document,type,listener,{options}),this},"The interact.on() method is being deprecated"),interact2.off=warnOnce(function(type,listener,options){if(is.string(type)&&type.search(" ")!==-1&&(type=type.trim().split(/ +/)),is.array(type)){for(const eventType of type)this.off(eventType,listener,options);return this}if(is.object(type)){for(const prop in type)this.off(prop,type[prop],listener);return this}if(isNonNativeEvent(type,this.scope.actions)){let index2;type in this.globalEvents&&(index2=this.globalEvents[type].indexOf(listener))!==-1&&this.globalEvents[type].splice(index2,1)}else this.scope.events.remove(this.scope.document,type,listener,options);return this},"The interact.off() method is being deprecated"),interact2.debug=function(){return this.scope},interact2.supportsTouch=function(){return browser$1.supportsTouch},interact2.supportsPointerEvent=function(){return browser$1.supportsPointerEvent},interact2.stop=function(){for(const interaction of this.scope.interactions.list)interaction.stop();return this},interact2.pointerMoveTolerance=function(newValue){return is.number(newValue)?(this.scope.interactions.pointerMoveTolerance=newValue,this):this.scope.interactions.pointerMoveTolerance},interact2.addDocument=function(doc,options){this.scope.addDocument(doc,options)},interact2.removeDocument=function(doc){this.scope.removeDocument(doc)},interact2}let Scope$1=class{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=browser$1,this.defaults=clone(defaults$6),this.Eventable=Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=createInteractStatic(this),this.InteractEvent=InteractEvent,this.Interactable=void 0,this.interactables=new InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=event=>this.removeDocument(event.target);const scope2=this;this.Interactable=class extends Interactable{get _defaults(){return scope2.defaults}set(options){return super.set(options),scope2.fire("interactable:set",{options,interactable:this}),this}unset(){super.unset();const index2=scope2.interactables.list.indexOf(this);index2<0||(scope2.interactables.list.splice(index2,1),scope2.fire("interactable:unset",{interactable:this}))}}}addListeners(map2,id){this.listenerMaps.push({id,map:map2})}fire(name,arg){for(const{map:{[name]:listener}}of this.listenerMaps)if(listener&&listener(arg,this,name)===!1)return!1}init(window2){return this.isInitialized?this:initScope(this,window2)}pluginIsInstalled(plugin2){const{id}=plugin2;return id?!!this._plugins.map[id]:this._plugins.list.indexOf(plugin2)!==-1}usePlugin(plugin2,options){if(!this.isInitialized)return this;if(this.pluginIsInstalled(plugin2))return this;if(plugin2.id&&(this._plugins.map[plugin2.id]=plugin2),this._plugins.list.push(plugin2),plugin2.install&&plugin2.install(this,options),plugin2.listeners&&plugin2.before){let index2=0;const len=this.listenerMaps.length,before=plugin2.before.reduce((acc,id)=>(acc[id]=!0,acc[pluginIdRoot(id)]=!0,acc),{});for(;index2<len;index2++){const otherId=this.listenerMaps[index2].id;if(otherId&&(before[otherId]||before[pluginIdRoot(otherId)]))break}this.listenerMaps.splice(index2,0,{id:plugin2.id,map:plugin2.listeners})}else plugin2.listeners&&this.listenerMaps.push({id:plugin2.id,map:plugin2.listeners});return this}addDocument(doc,options){if(this.getDocIndex(doc)!==-1)return!1;const window2=getWindow(doc);options=options?extend$1({},options):{},this.documents.push({doc,options}),this.events.documents.push(doc),doc!==this.document&&this.events.add(window2,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc,window:window2,scope:this,options})}removeDocument(doc){const index2=this.getDocIndex(doc),window2=getWindow(doc),options=this.documents[index2].options;this.events.remove(window2,"unload",this.onWindowUnload),this.documents.splice(index2,1),this.events.documents.splice(index2,1),this.fire("scope:remove-document",{doc,window:window2,scope:this,options})}getDocIndex(doc){for(let i2=0;i2<this.documents.length;i2++)if(this.documents[i2].doc===doc)return i2;return-1}getDocOptions(doc){const docIndex=this.getDocIndex(doc);return docIndex===-1?null:this.documents[docIndex].options}now(){return(this.window.Date||Date).now()}};function initScope(scope2,window2){return scope2.isInitialized=!0,is.window(window2)&&init$3(window2),domObjects.init(window2),browser$1.init(window2),raf.init(window2),scope2.window=window2,scope2.document=window2.document,scope2.usePlugin(interactions),scope2.usePlugin(events),scope2}function pluginIdRoot(id){return id&&id.replace(/\/.*$/,"")}const scope=new Scope$1,interact=scope.interactStatic,_global=typeof globalThis<"u"?globalThis:window;scope.init(_global),interact.use(plugin);function install(scope2){const{actions,browser:browser2,Interactable:Interactable2,defaults:defaults2}=scope2;resize.cursors=initCursors(browser2),resize.defaultMargin=browser2.supportsTouch||browser2.supportsPointerEvent?20:10,Interactable2.prototype.resizable=function(options){return resizable(this,options,scope2)},actions.map.resize=resize,actions.methodDict.resize="resizable",defaults2.actions.resize=resize.defaults}function resizeChecker(arg){const{interaction,interactable,element:element2,rect,buttons}=arg;if(!rect)return;const page=extend$1({},interaction.coords.cur.page),resizeOptions=interactable.options.resize;if(!(!(resizeOptions&&resizeOptions.enabled)||interaction.pointerIsDown&&/mouse|pointer/.test(interaction.pointerType)&&!(buttons&resizeOptions.mouseButtons))){if(is.object(resizeOptions.edges)){const resizeEdges={left:!1,right:!1,top:!1,bottom:!1};for(const edge in resizeEdges)resizeEdges[edge]=checkResizeEdge(edge,resizeOptions.edges[edge],page,interaction._latestPointer.eventTarget,element2,rect,resizeOptions.margin||resize.defaultMargin);resizeEdges.left=resizeEdges.left&&!resizeEdges.right,resizeEdges.top=resizeEdges.top&&!resizeEdges.bottom,(resizeEdges.left||resizeEdges.right||resizeEdges.top||resizeEdges.bottom)&&(arg.action={name:"resize",edges:resizeEdges})}else{const right=resizeOptions.axis!=="y"&&page.x>rect.right-resize.defaultMargin,bottom=resizeOptions.axis!=="x"&&page.y>rect.bottom-resize.defaultMargin;(right||bottom)&&(arg.action={name:"resize",axes:(right?"x":"")+(bottom?"y":"")})}return arg.action?!1:void 0}}function resizable(interactable,options,scope2){return is.object(options)?(interactable.options.resize.enabled=options.enabled!==!1,interactable.setPerAction("resize",options),interactable.setOnEvents("resize",options),is.string(options.axis)&&/^x$|^y$|^xy$/.test(options.axis)?interactable.options.resize.axis=options.axis:options.axis===null&&(interactable.options.resize.axis=scope2.defaults.actions.resize.axis),is.bool(options.preserveAspectRatio)?interactable.options.resize.preserveAspectRatio=options.preserveAspectRatio:is.bool(options.square)&&(interactable.options.resize.square=options.square),interactable):is.bool(options)?(interactable.options.resize.enabled=options,interactable):interactable.options.resize}function checkResizeEdge(name,value,page,element2,interactableElement,rect,margin){if(!value)return!1;if(value===!0){const width=is.number(rect.width)?rect.width:rect.right-rect.left,height=is.number(rect.height)?rect.height:rect.bottom-rect.top;if(margin=Math.min(margin,Math.abs((name==="left"||name==="right"?width:height)/2)),width<0&&(name==="left"?name="right":name==="right"&&(name="left")),height<0&&(name==="top"?name="bottom":name==="bottom"&&(name="top")),name==="left"){const edge=width>=0?rect.left:rect.right;return page.x<edge+margin}if(name==="top"){const edge=height>=0?rect.top:rect.bottom;return page.y<edge+margin}if(name==="right")return page.x>(width>=0?rect.right:rect.left)-margin;if(name==="bottom")return page.y>(height>=0?rect.bottom:rect.top)-margin}return is.element(element2)?is.element(value)?value===element2:matchesUpTo(element2,value,interactableElement):!1}function initCursors(browser2){return browser2.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function start$6(_ref){let{iEvent,interaction}=_ref;if(interaction.prepared.name!=="resize"||!interaction.prepared.edges)return;const resizeEvent=iEvent,rect=interaction.rect;interaction._rects={start:extend$1({},rect),corrected:extend$1({},rect),previous:extend$1({},rect),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},resizeEvent.edges=interaction.prepared.edges,resizeEvent.rect=interaction._rects.corrected,resizeEvent.deltaRect=interaction._rects.delta}function move(_ref2){let{iEvent,interaction}=_ref2;if(interaction.prepared.name!=="resize"||!interaction.prepared.edges)return;const resizeEvent=iEvent,invert=interaction.interactable.options.resize.invert,invertible=invert==="reposition"||invert==="negate",current=interaction.rect,{start:startRect,corrected,delta:deltaRect,previous}=interaction._rects;if(extend$1(previous,corrected),invertible){if(extend$1(corrected,current),invert==="reposition"){if(corrected.top>corrected.bottom){const swap=corrected.top;corrected.top=corrected.bottom,corrected.bottom=swap}if(corrected.left>corrected.right){const swap=corrected.left;corrected.left=corrected.right,corrected.right=swap}}}else corrected.top=Math.min(current.top,startRect.bottom),corrected.bottom=Math.max(current.bottom,startRect.top),corrected.left=Math.min(current.left,startRect.right),corrected.right=Math.max(current.right,startRect.left);corrected.width=corrected.right-corrected.left,corrected.height=corrected.bottom-corrected.top;for(const edge in corrected)deltaRect[edge]=corrected[edge]-previous[edge];resizeEvent.edges=interaction.prepared.edges,resizeEvent.rect=corrected,resizeEvent.deltaRect=deltaRect}function end(_ref3){let{iEvent,interaction}=_ref3;if(interaction.prepared.name!=="resize"||!interaction.prepared.edges)return;const resizeEvent=iEvent;resizeEvent.edges=interaction.prepared.edges,resizeEvent.rect=interaction._rects.corrected,resizeEvent.deltaRect=interaction._rects.delta}function updateEventAxes(_ref4){let{iEvent,interaction}=_ref4;if(interaction.prepared.name!=="resize"||!interaction.resizeAxes)return;const options=interaction.interactable.options,resizeEvent=iEvent;options.resize.square?(interaction.resizeAxes==="y"?resizeEvent.delta.x=resizeEvent.delta.y:resizeEvent.delta.y=resizeEvent.delta.x,resizeEvent.axes="xy"):(resizeEvent.axes=interaction.resizeAxes,interaction.resizeAxes==="x"?resizeEvent.delta.y=0:interaction.resizeAxes==="y"&&(resizeEvent.delta.x=0))}const resize={id:"actions/resize",before:["actions/drag"],install,listeners:{"interactions:new":_ref5=>{let{interaction}=_ref5;interaction.resizeAxes="xy"},"interactions:action-start":arg=>{start$6(arg),updateEventAxes(arg)},"interactions:action-move":arg=>{move(arg),updateEventAxes(arg)},"interactions:action-end":end,"auto-start:check":resizeChecker},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor(_ref6){let{edges,axis,name}=_ref6;const cursors=resize.cursors;let result=null;if(axis)result=cursors[name+axis];else if(edges){let cursorKey="";for(const edge of["top","bottom","left","right"])edges[edge]&&(cursorKey+=edge);result=cursors[cursorKey]}return result},filterEventType:type=>type.search("resize")===0,defaultMargin:null};interact.use(resize);var edgeTarget=()=>{},elements=()=>{},grid=grid2=>{const coordFields=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(_ref=>{let[xField,yField]=_ref;return xField in grid2||yField in grid2}),gridFunc=(x2,y2)=>{const{range:range2,limits={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:offset2={x:0,y:0}}=grid2,result={range:range2,grid:grid2,x:null,y:null};for(const[xField,yField]of coordFields){const gridx=Math.round((x2-offset2.x)/grid2[xField]),gridy=Math.round((y2-offset2.y)/grid2[yField]);result[xField]=Math.max(limits.left,Math.min(limits.right,gridx*grid2[xField]+offset2.x)),result[yField]=Math.max(limits.top,Math.min(limits.bottom,gridy*grid2[yField]+offset2.y))}return result};return gridFunc.grid=grid2,gridFunc.coordFields=coordFields,gridFunc},allSnappers=Object.freeze({__proto__:null,edgeTarget,elements,grid});const snappersPlugin={id:"snappers",install(scope2){const{interactStatic:interact2}=scope2;interact2.snappers=extend$1(interact2.snappers||{},allSnappers),interact2.createSnapGrid=interact2.snappers.grid}};class Modification{constructor(interaction){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=interaction,this.result=createResult(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}start(_ref,pageCoords){let{phase}=_ref;const{interaction}=this,modifierList=getModifierList(interaction);this.prepareStates(modifierList),this.startEdges=extend$1({},interaction.edges),this.edges=extend$1({},this.startEdges),this.startOffset=getRectOffset(interaction.rect,pageCoords),this.startDelta={x:0,y:0};const arg=this.fillArg({phase,pageCoords,preEnd:!1});return this.result=createResult(),this.startAll(arg),this.result=this.setAll(arg)}fillArg(arg){const{interaction}=this;return arg.interaction=interaction,arg.interactable=interaction.interactable,arg.element=interaction.element,arg.rect||(arg.rect=interaction.rect),arg.edges||(arg.edges=this.startEdges),arg.startOffset=this.startOffset,arg}startAll(arg){for(const state of this.states)state.methods.start&&(arg.state=state,state.methods.start(arg))}setAll(arg){const{phase,preEnd,skipModifiers,rect:unmodifiedRect,edges:unmodifiedEdges}=arg;arg.coords=extend$1({},arg.pageCoords),arg.rect=extend$1({},unmodifiedRect),arg.edges=extend$1({},unmodifiedEdges);const states=skipModifiers?this.states.slice(skipModifiers):this.states,newResult=createResult(arg.coords,arg.rect);for(const state of states){var _state$methods;const{options}=state,lastModifierCoords=extend$1({},arg.coords);let returnValue=null;(_state$methods=state.methods)!=null&&_state$methods.set&&this.shouldDo(options,preEnd,phase)&&(arg.state=state,returnValue=state.methods.set(arg),addEdges(arg.edges,arg.rect,{x:arg.coords.x-lastModifierCoords.x,y:arg.coords.y-lastModifierCoords.y})),newResult.eventProps.push(returnValue)}extend$1(this.edges,arg.edges),newResult.delta.x=arg.coords.x-arg.pageCoords.x,newResult.delta.y=arg.coords.y-arg.pageCoords.y,newResult.rectDelta.left=arg.rect.left-unmodifiedRect.left,newResult.rectDelta.right=arg.rect.right-unmodifiedRect.right,newResult.rectDelta.top=arg.rect.top-unmodifiedRect.top,newResult.rectDelta.bottom=arg.rect.bottom-unmodifiedRect.bottom;const prevCoords=this.result.coords,prevRect=this.result.rect;if(prevCoords&&prevRect){const rectChanged=newResult.rect.left!==prevRect.left||newResult.rect.right!==prevRect.right||newResult.rect.top!==prevRect.top||newResult.rect.bottom!==prevRect.bottom;newResult.changed=rectChanged||prevCoords.x!==newResult.coords.x||prevCoords.y!==newResult.coords.y}return newResult}applyToInteraction(arg){const{interaction}=this,{phase}=arg,curCoords=interaction.coords.cur,startCoords=interaction.coords.start,{result,startDelta}=this,curDelta=result.delta;phase==="start"&&extend$1(this.startDelta,result.delta);for(const[coordsSet,delta]of[[startCoords,startDelta],[curCoords,curDelta]])coordsSet.page.x+=delta.x,coordsSet.page.y+=delta.y,coordsSet.client.x+=delta.x,coordsSet.client.y+=delta.y;const{rectDelta}=this.result,rect=arg.rect||interaction.rect;rect.left+=rectDelta.left,rect.right+=rectDelta.right,rect.top+=rectDelta.top,rect.bottom+=rectDelta.bottom,rect.width=rect.right-rect.left,rect.height=rect.bottom-rect.top}setAndApply(arg){const{interaction}=this,{phase,preEnd,skipModifiers}=arg,result=this.setAll(this.fillArg({preEnd,phase,pageCoords:arg.modifiedCoords||interaction.coords.cur.page}));if(this.result=result,!result.changed&&(!skipModifiers||skipModifiers<this.states.length)&&interaction.interacting())return!1;if(arg.modifiedCoords){const{page}=interaction.coords.cur,adjustment={x:arg.modifiedCoords.x-page.x,y:arg.modifiedCoords.y-page.y};result.coords.x+=adjustment.x,result.coords.y+=adjustment.y,result.delta.x+=adjustment.x,result.delta.y+=adjustment.y}this.applyToInteraction(arg)}beforeEnd(arg){const{interaction,event}=arg,states=this.states;if(!states||!states.length)return;let doPreend=!1;for(const state of states){arg.state=state;const{options,methods}=state,endPosition=methods.beforeEnd&&methods.beforeEnd(arg);if(endPosition)return this.endResult=endPosition,!1;doPreend=doPreend||!doPreend&&this.shouldDo(options,!0,arg.phase,!0)}doPreend&&interaction.move({event,preEnd:!0})}stop(arg){const{interaction}=arg;if(!this.states||!this.states.length)return;const modifierArg=extend$1({states:this.states,interactable:interaction.interactable,element:interaction.element,rect:null},arg);this.fillArg(modifierArg);for(const state of this.states)modifierArg.state=state,state.methods.stop&&state.methods.stop(modifierArg);this.states=null,this.endResult=null}prepareStates(modifierList){this.states=[];for(let index2=0;index2<modifierList.length;index2++){const{options,methods,name}=modifierList[index2];this.states.push({options,methods,index:index2,name})}return this.states}restoreInteractionCoords(_ref2){let{interaction:{coords,rect,modification}}=_ref2;if(!modification.result)return;const{startDelta}=modification,{delta:curDelta,rectDelta}=modification.result,coordsAndDeltas=[[coords.start,startDelta],[coords.cur,curDelta]];for(const[coordsSet,delta]of coordsAndDeltas)coordsSet.page.x-=delta.x,coordsSet.page.y-=delta.y,coordsSet.client.x-=delta.x,coordsSet.client.y-=delta.y;rect.left-=rectDelta.left,rect.right-=rectDelta.right,rect.top-=rectDelta.top,rect.bottom-=rectDelta.bottom}shouldDo(options,preEnd,phase,requireEndOnly){return!(!options||options.enabled===!1||requireEndOnly&&!options.endOnly||options.endOnly&&!preEnd||phase==="start"&&!options.setStart)}copyFrom(other){this.startOffset=other.startOffset,this.startDelta=other.startDelta,this.startEdges=other.startEdges,this.edges=other.edges,this.states=other.states.map(s2=>clone(s2)),this.result=createResult(extend$1({},other.result.coords),extend$1({},other.result.rect))}destroy(){for(const prop in this)this[prop]=null}}function createResult(coords,rect){return{rect,coords,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function getModifierList(interaction){const actionOptions=interaction.interactable.options[interaction.prepared.name],actionModifiers=actionOptions.modifiers;return actionModifiers&&actionModifiers.length?actionModifiers:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(type=>{const options=actionOptions[type];return options&&options.enabled&&{options,methods:options._methods}}).filter(m2=>!!m2)}function getRectOffset(rect,coords){return rect?{left:coords.x-rect.left,top:coords.y-rect.top,right:rect.right-coords.x,bottom:rect.bottom-coords.y}:{left:0,top:0,right:0,bottom:0}}function makeModifier(module2,name){const{defaults:defaults2}=module2,methods={start:module2.start,set:module2.set,beforeEnd:module2.beforeEnd,stop:module2.stop},modifier=_options=>{const options=_options||{};options.enabled=options.enabled!==!1;for(const prop in defaults2)prop in options||(options[prop]=defaults2[prop]);const m2={options,methods,name,enable:()=>(options.enabled=!0,m2),disable:()=>(options.enabled=!1,m2)};return m2};return name&&typeof name=="string"&&(modifier._defaults=defaults2,modifier._methods=methods),modifier}function addEventModifiers(_ref){let{iEvent,interaction}=_ref;const result=interaction.modification.result;result&&(iEvent.modifiers=result.eventProps)}const modifiersBase={id:"modifiers/base",before:["actions"],install:scope2=>{scope2.defaults.perAction.modifiers=[]},listeners:{"interactions:new":_ref2=>{let{interaction}=_ref2;interaction.modification=new Modification(interaction)},"interactions:before-action-start":arg=>{const{interaction}=arg,modification=arg.interaction.modification;modification.start(arg,interaction.coords.start.page),interaction.edges=modification.edges,modification.applyToInteraction(arg)},"interactions:before-action-move":arg=>{const{interaction}=arg,{modification}=interaction,ret=modification.setAndApply(arg);return interaction.edges=modification.edges,ret},"interactions:before-action-end":arg=>{const{interaction}=arg,{modification}=interaction,ret=modification.beforeEnd(arg);return interaction.edges=modification.startEdges,ret},"interactions:action-start":addEventModifiers,"interactions:action-move":addEventModifiers,"interactions:action-end":addEventModifiers,"interactions:after-action-start":arg=>arg.interaction.modification.restoreInteractionCoords(arg),"interactions:after-action-move":arg=>arg.interaction.modification.restoreInteractionCoords(arg),"interactions:stop":arg=>arg.interaction.modification.stop(arg)}},aspectRatio={start(arg){const{state,rect,edges,pageCoords:coords}=arg;let{ratio,enabled}=state.options;const{equalDelta,modifiers:modifiers2}=state.options;ratio==="preserve"&&(ratio=rect.width/rect.height),state.startCoords=extend$1({},coords),state.startRect=extend$1({},rect),state.ratio=ratio,state.equalDelta=equalDelta;const linkedEdges=state.linkedEdges={top:edges.top||edges.left&&!edges.bottom,left:edges.left||edges.top&&!edges.right,bottom:edges.bottom||edges.right&&!edges.top,right:edges.right||edges.bottom&&!edges.left};if(state.xIsPrimaryAxis=!!(edges.left||edges.right),state.equalDelta){const sign=(linkedEdges.left?1:-1)*(linkedEdges.top?1:-1);state.edgeSign={x:sign,y:sign}}else state.edgeSign={x:linkedEdges.left?-1:1,y:linkedEdges.top?-1:1};if(enabled!==!1&&extend$1(edges,linkedEdges),!(modifiers2!=null&&modifiers2.length))return;const subModification=new Modification(arg.interaction);subModification.copyFrom(arg.interaction.modification),subModification.prepareStates(modifiers2),state.subModification=subModification,subModification.startAll({...arg})},set(arg){const{state,rect,coords}=arg,{linkedEdges}=state,initialCoords=extend$1({},coords),aspectMethod=state.equalDelta?setEqualDelta:setRatio;if(extend$1(arg.edges,linkedEdges),aspectMethod(state,state.xIsPrimaryAxis,coords,rect),!state.subModification)return null;const correctedRect=extend$1({},rect);addEdges(linkedEdges,correctedRect,{x:coords.x-initialCoords.x,y:coords.y-initialCoords.y});const result=state.subModification.setAll({...arg,rect:correctedRect,edges:linkedEdges,pageCoords:coords,prevCoords:coords,prevRect:correctedRect}),{delta}=result;if(result.changed){const xIsCriticalAxis=Math.abs(delta.x)>Math.abs(delta.y);aspectMethod(state,xIsCriticalAxis,result.coords,result.rect),extend$1(coords,result.coords)}return result.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function setEqualDelta(_ref,xIsPrimaryAxis,coords){let{startCoords,edgeSign}=_ref;xIsPrimaryAxis?coords.y=startCoords.y+(coords.x-startCoords.x)*edgeSign.y:coords.x=startCoords.x+(coords.y-startCoords.y)*edgeSign.x}function setRatio(_ref2,xIsPrimaryAxis,coords,rect){let{startRect,startCoords,ratio,edgeSign}=_ref2;if(xIsPrimaryAxis){const newHeight=rect.width/ratio;coords.y=startCoords.y+(newHeight-startRect.height)*edgeSign.y}else{const newWidth=rect.height*ratio;coords.x=startCoords.x+(newWidth-startRect.width)*edgeSign.x}}var aspectRatio$1=makeModifier(aspectRatio,"aspectRatio");function start$5(_ref){let{rect,startOffset,state,interaction,pageCoords}=_ref;const{options}=state,{elementRect}=options,offset2=extend$1({left:0,top:0,right:0,bottom:0},options.offset||{});if(rect&&elementRect){const restriction=getRestrictionRect(options.restriction,interaction,pageCoords);if(restriction){const widthDiff=restriction.right-restriction.left-rect.width,heightDiff=restriction.bottom-restriction.top-rect.height;widthDiff<0&&(offset2.left+=widthDiff,offset2.right+=widthDiff),heightDiff<0&&(offset2.top+=heightDiff,offset2.bottom+=heightDiff)}offset2.left+=startOffset.left-rect.width*elementRect.left,offset2.top+=startOffset.top-rect.height*elementRect.top,offset2.right+=startOffset.right-rect.width*(1-elementRect.right),offset2.bottom+=startOffset.bottom-rect.height*(1-elementRect.bottom)}state.offset=offset2}function set$4(_ref2){let{coords,interaction,state}=_ref2;const{options,offset:offset2}=state,restriction=getRestrictionRect(options.restriction,interaction,coords);if(!restriction)return;const rect=xywhToTlbr(restriction);coords.x=Math.max(Math.min(rect.right-offset2.right,coords.x),rect.left+offset2.left),coords.y=Math.max(Math.min(rect.bottom-offset2.bottom,coords.y),rect.top+offset2.top)}function getRestrictionRect(value,interaction,coords){return is.func(value)?resolveRectLike(value,interaction.interactable,interaction.element,[coords.x,coords.y,interaction]):resolveRectLike(value,interaction.interactable,interaction.element)}const restrict={start:start$5,set:set$4,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var restrict$1=makeModifier(restrict,"restrict");const noInner={top:1/0,left:1/0,bottom:-1/0,right:-1/0},noOuter={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function start$4(_ref){let{interaction,startOffset,state}=_ref;const{options}=state;let offset2;if(options){const offsetRect=getRestrictionRect(options.offset,interaction,interaction.coords.start.page);offset2=rectToXY(offsetRect)}offset2=offset2||{x:0,y:0},state.offset={top:offset2.y+startOffset.top,left:offset2.x+startOffset.left,bottom:offset2.y-startOffset.bottom,right:offset2.x-startOffset.right}}function set$3(_ref2){let{coords,edges,interaction,state}=_ref2;const{offset:offset2,options}=state;if(!edges)return;const page=extend$1({},coords),inner=getRestrictionRect(options.inner,interaction,page)||{},outer=getRestrictionRect(options.outer,interaction,page)||{};fixRect(inner,noInner),fixRect(outer,noOuter),edges.top?coords.y=Math.min(Math.max(outer.top+offset2.top,page.y),inner.top+offset2.top):edges.bottom&&(coords.y=Math.max(Math.min(outer.bottom+offset2.bottom,page.y),inner.bottom+offset2.bottom)),edges.left?coords.x=Math.min(Math.max(outer.left+offset2.left,page.x),inner.left+offset2.left):edges.right&&(coords.x=Math.max(Math.min(outer.right+offset2.right,page.x),inner.right+offset2.right))}function fixRect(rect,defaults2){for(const edge of["top","left","bottom","right"])edge in rect||(rect[edge]=defaults2[edge]);return rect}const restrictEdges={noInner,noOuter,start:start$4,set:set$3,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var restrictEdges$1=makeModifier(restrictEdges,"restrictEdges");const defaults$3=extend$1({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(_2){}},restrict.defaults),restrictRect={start:restrict.start,set:restrict.set,defaults:defaults$3};var restrictRect$1=makeModifier(restrictRect,"restrictRect");const noMin={width:-1/0,height:-1/0},noMax={width:1/0,height:1/0};function start$3(arg){return restrictEdges.start(arg)}function set$2(arg){const{interaction,state,rect,edges}=arg,{options}=state;if(!edges)return;const minSize=tlbrToXywh(getRestrictionRect(options.min,interaction,arg.coords))||noMin,maxSize=tlbrToXywh(getRestrictionRect(options.max,interaction,arg.coords))||noMax;state.options={endOnly:options.endOnly,inner:extend$1({},restrictEdges.noInner),outer:extend$1({},restrictEdges.noOuter)},edges.top?(state.options.inner.top=rect.bottom-minSize.height,state.options.outer.top=rect.bottom-maxSize.height):edges.bottom&&(state.options.inner.bottom=rect.top+minSize.height,state.options.outer.bottom=rect.top+maxSize.height),edges.left?(state.options.inner.left=rect.right-minSize.width,state.options.outer.left=rect.right-maxSize.width):edges.right&&(state.options.inner.right=rect.left+minSize.width,state.options.outer.right=rect.left+maxSize.width),restrictEdges.set(arg),state.options=options}var restrictSize$1=makeModifier({start:start$3,set:set$2,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function start$2(arg){const{interaction,interactable,element:element2,rect,state,startOffset}=arg,{options}=state,origin=options.offsetWithOrigin?getOrigin(arg):{x:0,y:0};let snapOffset;if(options.offset==="startCoords")snapOffset={x:interaction.coords.start.page.x,y:interaction.coords.start.page.y};else{const offsetRect=resolveRectLike(options.offset,interactable,element2,[interaction]);snapOffset=rectToXY(offsetRect)||{x:0,y:0},snapOffset.x+=origin.x,snapOffset.y+=origin.y}const{relativePoints}=options;state.offsets=rect&&relativePoints&&relativePoints.length?relativePoints.map((relativePoint,index2)=>({index:index2,relativePoint,x:startOffset.left-rect.width*relativePoint.x+snapOffset.x,y:startOffset.top-rect.height*relativePoint.y+snapOffset.y})):[{index:0,relativePoint:null,x:snapOffset.x,y:snapOffset.y}]}function set$1(arg){const{interaction,coords,state}=arg,{options,offsets}=state,origin=getOriginXY(interaction.interactable,interaction.element,interaction.prepared.name),page=extend$1({},coords),targets=[];options.offsetWithOrigin||(page.x-=origin.x,page.y-=origin.y);for(const offset2 of offsets){const relativeX=page.x-offset2.x,relativeY=page.y-offset2.y;for(let index2=0,len=options.targets.length;index2<len;index2++){const snapTarget=options.targets[index2];let target;is.func(snapTarget)?target=snapTarget(relativeX,relativeY,interaction._proxy,offset2,index2):target=snapTarget,target&&targets.push({x:(is.number(target.x)?target.x:relativeX)+offset2.x,y:(is.number(target.y)?target.y:relativeY)+offset2.y,range:is.number(target.range)?target.range:options.range,source:snapTarget,index:index2,offset:offset2})}}const closest2={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const target of targets){const range2=target.range,dx=target.x-page.x,dy=target.y-page.y,distance=hypot(dx,dy);let inRange=distance<=range2;range2===1/0&&closest2.inRange&&closest2.range!==1/0&&(inRange=!1),(!closest2.target||(inRange?closest2.inRange&&range2!==1/0?distance/range2<closest2.distance/closest2.range:range2===1/0&&closest2.range!==1/0||distance<closest2.distance:!closest2.inRange&&distance<closest2.distance))&&(closest2.target=target,closest2.distance=distance,closest2.range=range2,closest2.inRange=inRange,closest2.delta.x=dx,closest2.delta.y=dy)}return closest2.inRange&&(coords.x=closest2.target.x,coords.y=closest2.target.y),state.closest=closest2,closest2}function getOrigin(arg){const{element:element2}=arg.interaction;return rectToXY(resolveRectLike(arg.state.options.origin,null,null,[element2]))||getOriginXY(arg.interactable,element2,arg.interaction.prepared.name)}const snap={start:start$2,set:set$1,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var snap$1=makeModifier(snap,"snap");function start$1(arg){const{state,edges}=arg,{options}=state;if(!edges)return null;arg.state={options:{targets:null,relativePoints:[{x:edges.left?0:1,y:edges.top?0:1}],offset:options.offset||"self",origin:{x:0,y:0},range:options.range}},state.targetFields=state.targetFields||[["width","height"],["x","y"]],snap.start(arg),state.offsets=arg.state.offsets,arg.state=state}function set(arg){const{interaction,state,coords}=arg,{options,offsets}=state,relative={x:coords.x-offsets[0].x,y:coords.y-offsets[0].y};state.options=extend$1({},options),state.options.targets=[];for(const snapTarget of options.targets||[]){let target;if(is.func(snapTarget)?target=snapTarget(relative.x,relative.y,interaction):target=snapTarget,!!target){for(const[xField,yField]of state.targetFields)if(xField in target||yField in target){target.x=target[xField],target.y=target[yField];break}state.options.targets.push(target)}}const returnValue=snap.set(arg);return state.options=options,returnValue}const snapSize={start:start$1,set,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var snapSize$1=makeModifier(snapSize,"snapSize");function start(arg){const{edges}=arg;return edges?(arg.state.targetFields=arg.state.targetFields||[[edges.left?"left":"right",edges.top?"top":"bottom"]],snapSize.start(arg)):null}const snapEdges={start,set:snapSize.set,defaults:extend$1(clone(snapSize.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})};var snapEdges$1=makeModifier(snapEdges,"snapEdges");const noop=()=>{};noop._defaults={};var all={aspectRatio:aspectRatio$1,restrictEdges:restrictEdges$1,restrict:restrict$1,restrictRect:restrictRect$1,restrictSize:restrictSize$1,snapEdges:snapEdges$1,snap:snap$1,snapSize:snapSize$1,spring:noop,avoid:noop,transform:noop,rubberband:noop};const modifiers={id:"modifiers",install(scope2){const{interactStatic:interact2}=scope2;scope2.usePlugin(modifiersBase),scope2.usePlugin(snappersPlugin),interact2.modifiers=all;for(const type in all){const{_defaults,_methods}=all[type];_defaults._methods=_methods,scope2.defaults.perAction[type]=_defaults}}};interact.use(modifiers);const remoteStorages=[];function resolveRemoteStorageValue(feature){for(const storage of remoteStorages){const value=storage.getValue(feature);if(value!==null)return value}return null}function resolveRemoteStorageIsOn(feature){for(const storage of remoteStorages)return storage.isOn(feature);return!1}function resolveLocalStorage(feature){const value=localStorage.getItem(feature);return value!==null?JSON.parse(value):null}function getFeatureValue(feature,defaultValue=null){const remoteStorage=resolveRemoteStorageValue(feature);return remoteStorage!==null?remoteStorage:resolveLocalStorage(feature)??defaultValue}function isFeatureOn(feature,defaultValue=!1){const remoteOn=resolveRemoteStorageIsOn(feature);return remoteOn||(resolveLocalStorage(feature)??defaultValue)}function registerRemoteStorage(storage){return remoteStorages.find(s2=>s2===storage)?null:remoteStorages.push(storage)-1}function unregisterRemoteStorage(id){if(typeof id!="number"){const index2=remoteStorages.indexOf(id);return index2!==-1?(remoteStorages.splice(index2,1),!0):!1}return remoteStorages.length>id?(remoteStorages.splice(id,1),!0):!1}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$4=globalThis,e$7=t$4.ShadowRoot&&(t$4.ShadyCSS===void 0||t$4.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$7=new WeakMap;let n$6=class{constructor(t2,e2,o2){if(this._$cssResult$=!0,o2!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t2,this.t=e2}get styleSheet(){let t2=this.o;const s2=this.t;if(e$7&&t2===void 0){const e2=s2!==void 0&&s2.length===1;e2&&(t2=o$7.get(s2)),t2===void 0&&((this.o=t2=new CSSStyleSheet).replaceSync(this.cssText),e2&&o$7.set(s2,t2))}return t2}toString(){return this.cssText}};const r$7=t2=>new n$6(typeof t2=="string"?t2:t2+"",void 0,s$4),S$1=(s2,o2)=>{if(e$7)s2.adoptedStyleSheets=o2.map(t2=>t2 instanceof CSSStyleSheet?t2:t2.styleSheet);else for(const e2 of o2){const o3=document.createElement("style"),n2=t$4.litNonce;n2!==void 0&&o3.setAttribute("nonce",n2),o3.textContent=e2.cssText,s2.appendChild(o3)}},c$4=e$7?t2=>t2:t2=>t2 instanceof CSSStyleSheet?(t3=>{let e2="";for(const s2 of t3.cssRules)e2+=s2.cssText;return r$7(e2)})(t2):t2;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$3,defineProperty:e$6,getOwnPropertyDescriptor:r$6,getOwnPropertyNames:h$3,getOwnPropertySymbols:o$6,getPrototypeOf:n$5}=Object,a$1=globalThis,c$3=a$1.trustedTypes,l$1=c$3?c$3.emptyScript:"",p$2=a$1.reactiveElementPolyfillSupport,d$1=(t2,s2)=>t2,u$3={toAttribute(t2,s2){switch(s2){case Boolean:t2=t2?l$1:null;break;case Object:case Array:t2=t2==null?t2:JSON.stringify(t2)}return t2},fromAttribute(t2,s2){let i2=t2;switch(s2){case Boolean:i2=t2!==null;break;case Number:i2=t2===null?null:Number(t2);break;case Object:case Array:try{i2=JSON.parse(t2)}catch{i2=null}}return i2}},f$3=(t2,s2)=>!i$3(t2,s2),y$1={attribute:!0,type:String,converter:u$3,reflect:!1,hasChanged:f$3};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$1.litPropertyMetadata??(a$1.litPropertyMetadata=new WeakMap);class b extends HTMLElement{static addInitializer(t2){this._$Ei(),(this.l??(this.l=[])).push(t2)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t2,s2=y$1){if(s2.state&&(s2.attribute=!1),this._$Ei(),this.elementProperties.set(t2,s2),!s2.noAccessor){const i2=Symbol(),r2=this.getPropertyDescriptor(t2,i2,s2);r2!==void 0&&e$6(this.prototype,t2,r2)}}static getPropertyDescriptor(t2,s2,i2){const{get:e2,set:h2}=r$6(this.prototype,t2)??{get(){return this[s2]},set(t3){this[s2]=t3}};return{get(){return e2==null?void 0:e2.call(this)},set(s3){const r2=e2==null?void 0:e2.call(this);h2.call(this,s3),this.requestUpdate(t2,r2,i2)},configurable:!0,enumerable:!0}}static getPropertyOptions(t2){return this.elementProperties.get(t2)??y$1}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const t2=n$5(this);t2.finalize(),t2.l!==void 0&&(this.l=[...t2.l]),this.elementProperties=new Map(t2.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const t3=this.properties,s2=[...h$3(t3),...o$6(t3)];for(const i2 of s2)this.createProperty(i2,t3[i2])}const t2=this[Symbol.metadata];if(t2!==null){const s2=litPropertyMetadata.get(t2);if(s2!==void 0)for(const[t3,i2]of s2)this.elementProperties.set(t3,i2)}this._$Eh=new Map;for(const[t3,s2]of this.elementProperties){const i2=this._$Eu(t3,s2);i2!==void 0&&this._$Eh.set(i2,t3)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s2){const i2=[];if(Array.isArray(s2)){const e2=new Set(s2.flat(1/0).reverse());for(const s3 of e2)i2.unshift(c$4(s3))}else s2!==void 0&&i2.push(c$4(s2));return i2}static _$Eu(t2,s2){const i2=s2.attribute;return i2===!1?void 0:typeof i2=="string"?i2:typeof t2=="string"?t2.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var _a2;this._$ES=new Promise(t2=>this.enableUpdating=t2),this._$AL=new Map,this._$E_(),this.requestUpdate(),(_a2=this.constructor.l)==null||_a2.forEach(t2=>t2(this))}addController(t2){var _a2;(this._$EO??(this._$EO=new Set)).add(t2),this.renderRoot!==void 0&&this.isConnected&&((_a2=t2.hostConnected)==null||_a2.call(t2))}removeController(t2){var _a2;(_a2=this._$EO)==null||_a2.delete(t2)}_$E_(){const t2=new Map,s2=this.constructor.elementProperties;for(const i2 of s2.keys())this.hasOwnProperty(i2)&&(t2.set(i2,this[i2]),delete this[i2]);t2.size>0&&(this._$Ep=t2)}createRenderRoot(){const t2=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(t2,this.constructor.elementStyles),t2}connectedCallback(){var _a2;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(_a2=this._$EO)==null||_a2.forEach(t2=>{var _a3;return(_a3=t2.hostConnected)==null?void 0:_a3.call(t2)})}enableUpdating(t2){}disconnectedCallback(){var _a2;(_a2=this._$EO)==null||_a2.forEach(t2=>{var _a3;return(_a3=t2.hostDisconnected)==null?void 0:_a3.call(t2)})}attributeChangedCallback(t2,s2,i2){this._$AK(t2,i2)}_$EC(t2,s2){var _a2;const i2=this.constructor.elementProperties.get(t2),e2=this.constructor._$Eu(t2,i2);if(e2!==void 0&&i2.reflect===!0){const r2=(((_a2=i2.converter)==null?void 0:_a2.toAttribute)!==void 0?i2.converter:u$3).toAttribute(s2,i2.type);this._$Em=t2,r2==null?this.removeAttribute(e2):this.setAttribute(e2,r2),this._$Em=null}}_$AK(t2,s2){var _a2;const i2=this.constructor,e2=i2._$Eh.get(t2);if(e2!==void 0&&this._$Em!==e2){const t3=i2.getPropertyOptions(e2),r2=typeof t3.converter=="function"?{fromAttribute:t3.converter}:((_a2=t3.converter)==null?void 0:_a2.fromAttribute)!==void 0?t3.converter:u$3;this._$Em=e2,this[e2]=r2.fromAttribute(s2,t3.type),this._$Em=null}}requestUpdate(t2,s2,i2){if(t2!==void 0){if(i2??(i2=this.constructor.getPropertyOptions(t2)),!(i2.hasChanged??f$3)(this[t2],s2))return;this.P(t2,s2,i2)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t2,s2,i2){this._$AL.has(t2)||this._$AL.set(t2,s2),i2.reflect===!0&&this._$Em!==t2&&(this._$Ej??(this._$Ej=new Set)).add(t2)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t3){Promise.reject(t3)}const t2=this.scheduleUpdate();return t2!=null&&await t2,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var _a2;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[t4,s3]of this._$Ep)this[t4]=s3;this._$Ep=void 0}const t3=this.constructor.elementProperties;if(t3.size>0)for(const[s3,i2]of t3)i2.wrapped!==!0||this._$AL.has(s3)||this[s3]===void 0||this.P(s3,this[s3],i2)}let t2=!1;const s2=this._$AL;try{t2=this.shouldUpdate(s2),t2?(this.willUpdate(s2),(_a2=this._$EO)==null||_a2.forEach(t3=>{var _a3;return(_a3=t3.hostUpdate)==null?void 0:_a3.call(t3)}),this.update(s2)):this._$EU()}catch(s3){throw t2=!1,this._$EU(),s3}t2&&this._$AE(s2)}willUpdate(t2){}_$AE(t2){var _a2;(_a2=this._$EO)==null||_a2.forEach(t3=>{var _a3;return(_a3=t3.hostUpdated)==null?void 0:_a3.call(t3)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t2)),this.updated(t2)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t2){return!0}update(t2){this._$Ej&&(this._$Ej=this._$Ej.forEach(t3=>this._$EC(t3,this[t3]))),this._$EU()}updated(t2){}firstUpdated(t2){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[d$1("elementProperties")]=new Map,b[d$1("finalized")]=new Map,p$2==null||p$2({ReactiveElement:b}),(a$1.reactiveElementVersions??(a$1.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=globalThis,i$2=t$3.trustedTypes,s$3=i$2?i$2.createPolicy("lit-html",{createHTML:t2=>t2}):void 0,e$5="$lit$",h$2=`lit$${Math.random().toFixed(9).slice(2)}$`,o$5="?"+h$2,n$4=`<${o$5}>`,r$5=document,l=()=>r$5.createComment(""),c$2=t2=>t2===null||typeof t2!="object"&&typeof t2!="function",a=Array.isArray,u$2=t2=>a(t2)||typeof(t2==null?void 0:t2[Symbol.iterator])=="function",d=`[ 	
\f\r]`,f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,_=/>/g,m$1=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$1=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y=t2=>(i2,...s2)=>({_$litType$:t2,strings:i2,values:s2}),x=y(1),w=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),A=new WeakMap,E=r$5.createTreeWalker(r$5,129);function C(t2,i2){if(!Array.isArray(t2)||!t2.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$3!==void 0?s$3.createHTML(i2):i2}const P=(t2,i2)=>{const s2=t2.length-1,o2=[];let r2,l2=i2===2?"<svg>":"",c2=f$2;for(let i3=0;i3<s2;i3++){const s3=t2[i3];let a2,u2,d2=-1,y2=0;for(;y2<s3.length&&(c2.lastIndex=y2,u2=c2.exec(s3),u2!==null);)y2=c2.lastIndex,c2===f$2?u2[1]==="!--"?c2=v$1:u2[1]!==void 0?c2=_:u2[2]!==void 0?($.test(u2[2])&&(r2=RegExp("</"+u2[2],"g")),c2=m$1):u2[3]!==void 0&&(c2=m$1):c2===m$1?u2[0]===">"?(c2=r2??f$2,d2=-1):u2[1]===void 0?d2=-2:(d2=c2.lastIndex-u2[2].length,a2=u2[1],c2=u2[3]===void 0?m$1:u2[3]==='"'?g:p$1):c2===g||c2===p$1?c2=m$1:c2===v$1||c2===_?c2=f$2:(c2=m$1,r2=void 0);const x2=c2===m$1&&t2[i3+1].startsWith("/>")?" ":"";l2+=c2===f$2?s3+n$4:d2>=0?(o2.push(a2),s3.slice(0,d2)+e$5+s3.slice(d2)+h$2+x2):s3+h$2+(d2===-2?i3:x2)}return[C(t2,l2+(t2[s2]||"<?>")+(i2===2?"</svg>":"")),o2]};class V{constructor({strings:t2,_$litType$:s2},n2){let r2;this.parts=[];let c2=0,a2=0;const u2=t2.length-1,d2=this.parts,[f2,v2]=P(t2,s2);if(this.el=V.createElement(f2,n2),E.currentNode=this.el.content,s2===2){const t3=this.el.content.firstChild;t3.replaceWith(...t3.childNodes)}for(;(r2=E.nextNode())!==null&&d2.length<u2;){if(r2.nodeType===1){if(r2.hasAttributes())for(const t3 of r2.getAttributeNames())if(t3.endsWith(e$5)){const i2=v2[a2++],s3=r2.getAttribute(t3).split(h$2),e2=/([.?@])?(.*)/.exec(i2);d2.push({type:1,index:c2,name:e2[2],strings:s3,ctor:e2[1]==="."?k:e2[1]==="?"?H:e2[1]==="@"?I:R}),r2.removeAttribute(t3)}else t3.startsWith(h$2)&&(d2.push({type:6,index:c2}),r2.removeAttribute(t3));if($.test(r2.tagName)){const t3=r2.textContent.split(h$2),s3=t3.length-1;if(s3>0){r2.textContent=i$2?i$2.emptyScript:"";for(let i2=0;i2<s3;i2++)r2.append(t3[i2],l()),E.nextNode(),d2.push({type:2,index:++c2});r2.append(t3[s3],l())}}}else if(r2.nodeType===8)if(r2.data===o$5)d2.push({type:2,index:c2});else{let t3=-1;for(;(t3=r2.data.indexOf(h$2,t3+1))!==-1;)d2.push({type:7,index:c2}),t3+=h$2.length-1}c2++}}static createElement(t2,i2){const s2=r$5.createElement("template");return s2.innerHTML=t2,s2}}function N(t2,i2,s2=t2,e2){var _a2,_b2;if(i2===w)return i2;let h2=e2!==void 0?(_a2=s2._$Co)==null?void 0:_a2[e2]:s2._$Cl;const o2=c$2(i2)?void 0:i2._$litDirective$;return(h2==null?void 0:h2.constructor)!==o2&&((_b2=h2==null?void 0:h2._$AO)==null||_b2.call(h2,!1),o2===void 0?h2=void 0:(h2=new o2(t2),h2._$AT(t2,s2,e2)),e2!==void 0?(s2._$Co??(s2._$Co=[]))[e2]=h2:s2._$Cl=h2),h2!==void 0&&(i2=N(t2,h2._$AS(t2,i2.values),h2,e2)),i2}class S{constructor(t2,i2){this._$AV=[],this._$AN=void 0,this._$AD=t2,this._$AM=i2}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t2){const{el:{content:i2},parts:s2}=this._$AD,e2=((t2==null?void 0:t2.creationScope)??r$5).importNode(i2,!0);E.currentNode=e2;let h2=E.nextNode(),o2=0,n2=0,l2=s2[0];for(;l2!==void 0;){if(o2===l2.index){let i3;l2.type===2?i3=new M(h2,h2.nextSibling,this,t2):l2.type===1?i3=new l2.ctor(h2,l2.name,l2.strings,this,t2):l2.type===6&&(i3=new L(h2,this,t2)),this._$AV.push(i3),l2=s2[++n2]}o2!==(l2==null?void 0:l2.index)&&(h2=E.nextNode(),o2++)}return E.currentNode=r$5,e2}p(t2){let i2=0;for(const s2 of this._$AV)s2!==void 0&&(s2.strings!==void 0?(s2._$AI(t2,s2,i2),i2+=s2.strings.length-2):s2._$AI(t2[i2])),i2++}}class M{get _$AU(){var _a2;return((_a2=this._$AM)==null?void 0:_a2._$AU)??this._$Cv}constructor(t2,i2,s2,e2){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t2,this._$AB=i2,this._$AM=s2,this.options=e2,this._$Cv=(e2==null?void 0:e2.isConnected)??!0}get parentNode(){let t2=this._$AA.parentNode;const i2=this._$AM;return i2!==void 0&&(t2==null?void 0:t2.nodeType)===11&&(t2=i2.parentNode),t2}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t2,i2=this){t2=N(this,t2,i2),c$2(t2)?t2===T||t2==null||t2===""?(this._$AH!==T&&this._$AR(),this._$AH=T):t2!==this._$AH&&t2!==w&&this._(t2):t2._$litType$!==void 0?this.$(t2):t2.nodeType!==void 0?this.T(t2):u$2(t2)?this.k(t2):this._(t2)}S(t2){return this._$AA.parentNode.insertBefore(t2,this._$AB)}T(t2){this._$AH!==t2&&(this._$AR(),this._$AH=this.S(t2))}_(t2){this._$AH!==T&&c$2(this._$AH)?this._$AA.nextSibling.data=t2:this.T(r$5.createTextNode(t2)),this._$AH=t2}$(t2){var _a2;const{values:i2,_$litType$:s2}=t2,e2=typeof s2=="number"?this._$AC(t2):(s2.el===void 0&&(s2.el=V.createElement(C(s2.h,s2.h[0]),this.options)),s2);if(((_a2=this._$AH)==null?void 0:_a2._$AD)===e2)this._$AH.p(i2);else{const t3=new S(e2,this),s3=t3.u(this.options);t3.p(i2),this.T(s3),this._$AH=t3}}_$AC(t2){let i2=A.get(t2.strings);return i2===void 0&&A.set(t2.strings,i2=new V(t2)),i2}k(t2){a(this._$AH)||(this._$AH=[],this._$AR());const i2=this._$AH;let s2,e2=0;for(const h2 of t2)e2===i2.length?i2.push(s2=new M(this.S(l()),this.S(l()),this,this.options)):s2=i2[e2],s2._$AI(h2),e2++;e2<i2.length&&(this._$AR(s2&&s2._$AB.nextSibling,e2),i2.length=e2)}_$AR(t2=this._$AA.nextSibling,i2){var _a2;for((_a2=this._$AP)==null?void 0:_a2.call(this,!1,!0,i2);t2&&t2!==this._$AB;){const i3=t2.nextSibling;t2.remove(),t2=i3}}setConnected(t2){var _a2;this._$AM===void 0&&(this._$Cv=t2,(_a2=this._$AP)==null||_a2.call(this,t2))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t2,i2,s2,e2,h2){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t2,this.name=i2,this._$AM=e2,this.options=h2,s2.length>2||s2[0]!==""||s2[1]!==""?(this._$AH=Array(s2.length-1).fill(new String),this.strings=s2):this._$AH=T}_$AI(t2,i2=this,s2,e2){const h2=this.strings;let o2=!1;if(h2===void 0)t2=N(this,t2,i2,0),o2=!c$2(t2)||t2!==this._$AH&&t2!==w,o2&&(this._$AH=t2);else{const e3=t2;let n2,r2;for(t2=h2[0],n2=0;n2<h2.length-1;n2++)r2=N(this,e3[s2+n2],i2,n2),r2===w&&(r2=this._$AH[n2]),o2||(o2=!c$2(r2)||r2!==this._$AH[n2]),r2===T?t2=T:t2!==T&&(t2+=(r2??"")+h2[n2+1]),this._$AH[n2]=r2}o2&&!e2&&this.j(t2)}j(t2){t2===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t2??"")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t2){this.element[this.name]=t2===T?void 0:t2}}class H extends R{constructor(){super(...arguments),this.type=4}j(t2){this.element.toggleAttribute(this.name,!!t2&&t2!==T)}}class I extends R{constructor(t2,i2,s2,e2,h2){super(t2,i2,s2,e2,h2),this.type=5}_$AI(t2,i2=this){if((t2=N(this,t2,i2,0)??T)===w)return;const s2=this._$AH,e2=t2===T&&s2!==T||t2.capture!==s2.capture||t2.once!==s2.once||t2.passive!==s2.passive,h2=t2!==T&&(s2===T||e2);e2&&this.element.removeEventListener(this.name,this,s2),h2&&this.element.addEventListener(this.name,this,t2),this._$AH=t2}handleEvent(t2){var _a2;typeof this._$AH=="function"?this._$AH.call(((_a2=this.options)==null?void 0:_a2.host)??this.element,t2):this._$AH.handleEvent(t2)}}class L{constructor(t2,i2,s2){this.element=t2,this.type=6,this._$AN=void 0,this._$AM=i2,this.options=s2}get _$AU(){return this._$AM._$AU}_$AI(t2){N(this,t2)}}const z={P:e$5,A:h$2,C:o$5,M:1,L:P,R:S,D:u$2,V:N,I:M,H:R,N:H,U:I,B:k,F:L},Z=t$3.litHtmlPolyfillSupport;Z==null||Z(V,M),(t$3.litHtmlVersions??(t$3.litHtmlVersions=[])).push("3.1.4");const j=(t2,i2,s2)=>{const e2=(s2==null?void 0:s2.renderBefore)??i2;let h2=e2._$litPart$;if(h2===void 0){const t3=(s2==null?void 0:s2.renderBefore)??null;e2._$litPart$=h2=new M(i2.insertBefore(l(),t3),t3,void 0,s2??{})}return h2._$AI(t2),h2};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let s$2=class extends b{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var _a2;const t2=super.createRenderRoot();return(_a2=this.renderOptions).renderBefore??(_a2.renderBefore=t2.firstChild),t2}update(t2){const i2=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t2),this._$Do=j(i2,this.renderRoot,this.renderOptions)}connectedCallback(){var _a2;super.connectedCallback(),(_a2=this._$Do)==null||_a2.setConnected(!0)}disconnectedCallback(){var _a2;super.disconnectedCallback(),(_a2=this._$Do)==null||_a2.setConnected(!1)}render(){return w}};s$2._$litElement$=!0,s$2.finalized=!0,(_b=globalThis.litElementHydrateSupport)==null||_b.call(globalThis,{LitElement:s$2});const r$4=globalThis.litElementPolyfillSupport;r$4==null||r$4({LitElement:s$2}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2=t2=>(e2,o2)=>{o2!==void 0?o2.addInitializer(()=>{customElements.define(t2,e2)}):customElements.define(t2,e2)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$4={attribute:!0,type:String,converter:u$3,reflect:!1,hasChanged:f$3},r$3=(t2=o$4,e2,r2)=>{const{kind:n2,metadata:i2}=r2;let s2=globalThis.litPropertyMetadata.get(i2);if(s2===void 0&&globalThis.litPropertyMetadata.set(i2,s2=new Map),s2.set(r2.name,t2),n2==="accessor"){const{name:o2}=r2;return{set(r3){const n3=e2.get.call(this);e2.set.call(this,r3),this.requestUpdate(o2,n3,t2)},init(e3){return e3!==void 0&&this.P(o2,void 0,t2),e3}}}if(n2==="setter"){const{name:o2}=r2;return function(r3){const n3=this[o2];e2.call(this,r3),this.requestUpdate(o2,n3,t2)}}throw Error("Unsupported decorator location: "+n2)};function n$3(t2){return(e2,o2)=>typeof o2=="object"?r$3(t2,e2,o2):((t3,e3,o3)=>{const r2=e3.hasOwnProperty(o3);return e3.constructor.createProperty(o3,r2?{...t3,wrapped:!0}:t3),r2?Object.getOwnPropertyDescriptor(e3,o3):void 0})(t2,e2,o2)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$2(r2){return n$3({...r2,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$4=(e2,t2,c2)=>(c2.configurable=!0,c2.enumerable=!0,Reflect.decorate&&typeof t2!="object"&&Object.defineProperty(e2,t2,c2),c2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function e$3(e2,r2){return(n2,s2,i2)=>{const o2=t2=>{var _a2;return((_a2=t2.renderRoot)==null?void 0:_a2.querySelector(e2))??null};return e$4(n2,s2,{get(){return o2(this)}})}}var RuntimeStatus=(RuntimeStatus2=>(RuntimeStatus2[RuntimeStatus2.Success=1]="Success",RuntimeStatus2[RuntimeStatus2.Warning=2]="Warning",RuntimeStatus2[RuntimeStatus2.Error=3]="Error",RuntimeStatus2))(RuntimeStatus||{}),__defProp$j=Object.defineProperty,__getOwnPropDesc$i=Object.getOwnPropertyDescriptor,__decorateClass$j=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$i(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$j(target,key,result),result};class AiButtonClickEvent extends CustomEvent{constructor(detail){super("ai-button-click",{detail,bubbles:!0})}}let AiButton=class extends s$2{constructor(){super(...arguments),this.highlight=!1,this.kind="moduleConfig"}createRenderRoot(){return this}updated(){const detail=this.getDetail();detail!=null&&detail.errors&&detail.errors.length&&(this.highlight=!0)}render(){return x`<button @click="${this.sendAiEvent}" type="button" class="panel-ai-button ${this.highlight&&"highlight"}"><i class="fas fa-sparkles"></i></button>`}sendAiEvent(){const detail=this.getDetail();detail&&(this.dispatchEvent(new AiButtonClickEvent(detail)),imtEvents.dispatch("scenario.ai_button_clicked",detail))}getDetail(){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k;const errors=[],warnings=[];if(this.module){const runtime=(_c2=(_b2=(_a2=this.runtime)==null?void 0:_a2.roundtrips)==null?void 0:_b2[this.runtime.roundtripId])==null?void 0:_c2[this.module.id],init2=(_d2=this.runtime)==null?void 0:_d2.inits[this.module.id],final=(_e2=this.runtime)==null?void 0:_e2.finals[this.module.id];if(init2&&(init2.status===RuntimeStatus.Warning?warnings.push({...init2.warning,origin:"initialize"}):init2.status===RuntimeStatus.Error&&errors.push({...init2.error,origin:"initialize"})),runtime){for(const operation of runtime.operations)operation.status===RuntimeStatus.Warning?warnings.push({...operation.warning,origin:"operation"}):operation.status===RuntimeStatus.Error&&errors.push({...operation.error,origin:"operation"});((_f2=runtime.rollback)==null?void 0:_f2.status)===RuntimeStatus.Warning?warnings.push({...runtime.rollback.warning,origin:"operationRollback"}):((_g2=runtime.rollback)==null?void 0:_g2.status)===RuntimeStatus.Error&&errors.push({...runtime.rollback.error,origin:"operationRollback"})}else this.runtime&&console.warn("Incorrect roundtrip passed to ai button",(_h2=this.runtime)==null?void 0:_h2.roundtripId);final&&(final.status===RuntimeStatus.Warning?warnings.push({...final.warning,origin:"finalize"}):final.status===RuntimeStatus.Error&&errors.push({...final.error,origin:"finalize"}))}return{moduleId:(_i2=this.module)==null?void 0:_i2.id,appVersion:(_j2=this.module)==null?void 0:_j2.appVersion,moduleName:(_k=this.module)==null?void 0:_k.name,kind:this.kind,forman:this.forman,warnings,errors}}};__decorateClass$j([n$3()],AiButton.prototype,"highlight",2),__decorateClass$j([n$3()],AiButton.prototype,"forman",2),__decorateClass$j([n$3()],AiButton.prototype,"module",2),__decorateClass$j([n$3()],AiButton.prototype,"runtime",2),__decorateClass$j([n$3()],AiButton.prototype,"kind",2),AiButton=__decorateClass$j([t$2("ai-button")],AiButton);const PANEL_PADDING=10,PANEL_MARGIN=10,PANEL_WIDTH=450;let PANEL_ONE=null;(globalThis.Panel=class extends SIMElement{static initClass(){this.prototype.offsetX=0,this.prototype.offsetY=0,this.prototype._relative=null,this.prototype._loading=null,this.prototype._arrow=null,this.prototype._body=null,this.prototype._footer=null,this.prototype._savedWidth=null,this.prototype._status=null,this.prototype._bg=null,this.prototype._expanded=!1,this.prototype._hidden=!1,this.prototype._aside=null,this.prototype._destroyed=!1,this.prototype._closed=!1,this.prototype._resizeObserver=null,this.prototype._heightResized=!1,this.prototype._rectWidth=null,this.prototype._rectHeight=null,this.prototype.__loading=!1,this.prototype.__status="",this.prototype.__modal=!1,this.prototype.__expandable=!1,this.prototype.__help=null,this.prototype.__closeable=!0,this.prototype.__position="right",this.prototype.__translateX=0,this.prototype.__translateY=0,this.prototype.__isPanelMenuVisible=!0,this.property("isPanelMenuVisible",{get(){return this.__isPanelMenuVisible},set(value){return this.__isPanelMenuVisible=value,value?this._header.children(".panel-menu").show():this._header.children(".panel-menu").hide()}}),this.property("closeable",{get(){return this.__closeable},set(value){if(this.__closeable!==value&&(this.__closeable=value,!value))return this._header.children(".close").remove()}}),this.property("content",{get(){return this._body.children()},set(value){if(this._body.contents().detach(),value instanceof Array)for(var item of value)value!=null&&(item instanceof SIMElement?this._body.append(item):this._body.append(value));else value instanceof SIMElement?this._body.append(value):value!=null&&this._body.append(value);return this._move(),this.__dom.querySelector("imt-forman")?this.addClass("i-panel-forman"):this.removeClass("i-panel-forman")}}),this.property("expandable",{get(){return this.__expandable},set(value){if(this.__expandable!==value)return value?this._setResizable():interact(this.__dom).unset(),this.__expandable=value}}),this.property("gradient",{set(value){return this._header.css("background",`linear-gradient(115deg, ${value[0].toHex()} 0%, ${value[1].toHex()} 100%)`)}}),this.property("help",{get(){return this.__help},set(value){return/^kb:\/\/(.*)$/i.test(value)&&(imt.brand.theme.startsWith("ems")?value=`/ems-automation/help/${RegExp.$1}`:value=`${imt.helpUrl}${RegExp.$1}`),this.__help=value}}),this.property("loading",{get(){return this.__loading},set(value){var _a2,_b2;if(this.__loading!==value){if(this.__loading=value,value){const self2=this;this.addClass("cursor-progress"),this._scroll.hide(),this._header.hide(),this._footer.hide(),(_a2=this._aside)==null||_a2.hide(),this._savedWidth=this.outerWidth(),this.width("auto"),this._loading=sim.div(".i-loading",function(){if(this.i(".far.fa-circle-notch.fa-spin"),this.appendTo(self2),self2._status)return this.append(self2._status)})}else this.removeClass("cursor-progress"),this._scroll.show(),this._header.css("display","flex"),this._footer.show(),(_b2=this._aside)==null||_b2.show(),this.width(this._savedWidth),this._loading.remove(),this._loading=null;return this._move()}}}),this.property("modal",{get(){return this.__modal},set(value){if(this.__modal===value)return;this.__modal=value;const self2=this;return value?(this.addClass("i-panel-modal"),this._bg=sim.div(".i-panel-bg",function(){return this.appendTo(document.body),this.append(self2),this.on("click",function(event){return event.stopPropagation(),!1})})):(this.removeClass("i-panel-modal"),self2.appendTo(document.body),this._bg.remove(),this._bg=null)}}),this.property("position",{get(){return this.__position},set(value){if(this.__position!==value)return this.__position=value,this._move()}}),this.property("title",{get(){return this._header.find("h1").text()},set(value){if(this._header.empty(),value!=null){const self2=this;if(this._header.h1().text(value),isFeatureOn("ai-module-button-enabled")&&this._header.__dom.append(this._aiButton),this.isPanelMenuVisible&&this._header.button(".panel-menu",function(){return this.attr("type","button"),this.i(".fas.fa-ellipsis-v"),this.on("click",function(){return window.uiPanelMenuService.open(this.__dom)})}),this.__expandable&&this._header.button(".expand",function(){return this.attr("type","button"),this.i(".far.fa-expand-arrows"),this.on("click",()=>self2._expand())}),this.__help&&this._header.button(".help",function(){return this.attr("type","button"),this.i(".fas.fa-question"),this.on("click",function(event){return event.preventDefault(),event.stopPropagation(),sim(window).openHelp(self2.__help),!1})}),this.__closeable&&this._header.button(".close",function(){return this.attr("type","button"),this.i(".far.fa-times"),this.on("click",self2._close)}),!this.__isPanelMenuVisible)return this.isPanelMenuVisible=!1}}}),this.property("status",{get(){return this.__status},set(value){var _a2;if(this.__status!==value)return this.__status=value,this._status?this._status.text(value):(this._status=sim.span().text(value),(_a2=this._loading)==null?void 0:_a2.append(this._status))}}),this.property("hasUnsavedChanges",{get(){var _a2;if(this._closed||((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)!=="edit")return!1;const form=this._body.find(".i-formula").first();if(form!=null&&form.changed)return!0;for(var panel of Panels)if(panel.parentPanel===this&&panel.hasUnsavedChanges)return!0;return!1}}),this.property("parentPanel",{get(){var _a2,_b2;if(this._relative!=null)return typeof Surface<"u"&&Surface!==null&&this._relative instanceof Surface.DisplayObject?void 0:((_b2=(_a2=this._relative)==null?void 0:_a2.closest(".i-panel"))==null?void 0:_b2.data("panel"))||void 0}})}get isValid(){const form=this._body.find(".i-formula").first();return(form==null?void 0:form.isValid)&&(form==null?void 0:form.isValid())}constructor(_relative){var _a2,_b2,_c2,_d2,_e2;super("div"),this._close=this._close.bind(this),this._expand=this._expand.bind(this),this._move=this._move.bind(this),this._resize=this._resize.bind(this),this._relative=_relative,this._aiButton=document.createElement("ai-button"),this._aiButton.hidden=!0,Panels.push(this),imt.debug("imt:panels","#ea17c7")(`
Panel:`,this.constructor.name,`
Arguments:`,Array.from(arguments)),this.data("panel",this),this.addClass("imt i-panel"),this._arrow=sim.div(".i-arrow"),this._arrow.visible=this._relative!=null,this.append(this._arrow),this._header=sim.div(".i-panel-header.gradient"),this.append(this._header),this._scroll=sim.div(".i-panel-scroll"),this.append(this._scroll),this._body=sim.div(".i-panel-body"),this._scroll.append(this._body),this._footer=sim.div(".i-panel-footer"),this.append(this._footer),this.css({width:`${PANEL_WIDTH}px`}),this._relative!=null?typeof Surface<"u"&&Surface!==null&&this._relative instanceof Surface.DisplayObject?(this.appendTo(document.body),this._relative.on("move",this._move),this._relative.on("detach",this._close),this._relative.stage.on("move",this._move),this._relative.stage.surface.camera.on("zoom",this._move),this._relative.theme!=null&&this._header.addClass(`theme-${(_a2=this._relative.theme)==null?void 0:_a2.toHex().substr(1)}`)):(this._relative.closest(".modal")?this.appendTo(this._relative.closest(".modal")):this.appendTo(document.body),(_b2=this._relative.closest(".i-paper"))==null||_b2.on("close",this._close),(_c2=this.parentPanel)==null||_c2.on("move",this._move),(_d2=this.parentPanel)==null||_d2.on("close",this._close),(_e2=this.parentPanel)==null||_e2._scroll.on("scroll",this._move),this._relative.closest(".i-panel")&&this.addClass("i-panel-nested")):this.appendTo(document.body),sim(window).on("resize scroll",this._move),sim(window).on("ngredirect",this._close),sim(window).on("popstate",this._close);try{const self2=this;this._resizeObserver=new ResizeObserver(()=>self2._move()),Inspector!=null&&Inspector.instance&&this._resizeObserver.observe(Inspector.instance.container.__dom)}catch(ex){console.warn("Failed to instantiate ResizeObserver: ",ex)}setImmediate(()=>(this.addClass("in"),this._move()))}destroy(){var _a2,_b2,_c2,_d2,_e2;if(!this._destroyed)return this._destroyed=!0,Panels.splice(Panels.indexOf(this),1),this._relative!=null&&(typeof Surface<"u"&&Surface!==null&&this._relative instanceof Surface.DisplayObject?(this._relative.off("move",this._move),this._relative.off("detach",this._close),this._relative.stage.off("move",this._move),this._relative.stage.surface.camera.off("zoom",this._move)):((_a2=this._relative.closest(".i-paper"))==null||_a2.off("close",this._close),(_b2=this.parentPanel)==null||_b2.off("move",this._move),(_c2=this.parentPanel)==null||_c2.off("close",this._close),(_d2=this.parentPanel)==null||_d2._scroll.off("scroll",this._move))),sim(window).off("resize scroll",this._move),sim(window).off("ngredirect",this._close),sim(window).off("popstate",this._close),this._resizeObserver&&(Inspector!=null&&Inspector.instance)&&this._resizeObserver.unobserve(Inspector.instance.container.__dom),(_e2=this._bg)==null||_e2.remove(),this.removeClass("in"),delay(100,()=>(this.emit("destroy"),this.remove()))}aside(ctx){return this._aside=sim.div(".i-panel-aside",ctx),this.loading&&this._aside.hide(),this.addClass("i-panel-has-aside"),this.prepend(this._aside),this._aside}close(){return this._close()}_close(){return this._closed=!0,this.emit("close"),this.__expandable&&interact(this.__dom).unset(),this.destroy()}_expand(){return this._expanded?(this._expanded=!1,this._header.find(".expand i").addClass("fa-expand-arrows").removeClass("fa-compress"),this.emit("compress"),this.stop().animate({width:this._savedWidth},{duration:"fast",progress:this._move,complete:this._move})):(this._expanded=!0,this._header.find(".expand i").removeClass("fa-expand-arrows").addClass("fa-compress"),this.emit("expand"),this._savedWidth=this.outerWidth(),this.stop().animate({width:Math.min(this._savedWidth*2,sim(window).width()-PANEL_PADDING*2)},{duration:"fast",progress:this._move,complete:this._move}))}_move(){var _a2,_b2,_c2,_d2;let left,offset2,position;if(this.css("transform",""),this.__translateX=0,this.__translateY=0,this._relative!=null){let coords;({position}=this);let surfaceOffset=0;if(typeof Surface<"u"&&Surface!==null&&this._relative instanceof Surface.DisplayObject){if(coords=this._relative.documentCoords,["top","bottom"].includes(position)?offset2=0:offset2=this.offsetX*(((_a2=this._relative.stage)==null?void 0:_a2.scale)??1),Inspector!=null&&Inspector.instance){const notesAsideWidth=sim(".i-inspector-notes.aside-info").outerWidth();surfaceOffset=notesAsideWidth&&notesAsideWidth>0?sim(window).width()-notesAsideWidth-((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2._surface.width):sim(window).width()-((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2._surface.width)}}else coords=new Point(this._relative.offset().left+this._relative.outerWidth()/2,this._relative.offset().top+this._relative.outerHeight()/2),offset2=["top","bottom"].includes(position)?this.loading?0:this.offsetX:this._relative.outerWidth()/2+this.offsetX;const requiredWidth=this.outerWidth()+offset2;this._arrow.removeClass("i-arrow-left i-arrow-right i-arrow-top i-arrow-bottom"),["top","bottom"].includes(position)?(left=coords.x-requiredWidth/2+surfaceOffset,left>sim(window).width()-requiredWidth-PANEL_MARGIN&&(left=sim(window).width()-requiredWidth-PANEL_MARGIN),left+this.outerWidth()>sim(window).width()&&(left=sim(window).width()-this.outerWidth()-PANEL_MARGIN),left<PANEL_MARGIN&&(left=PANEL_MARGIN),this._arrow.addClass(`i-arrow-${position}`).css("left",`${coords.x-(left-surfaceOffset)}px`),this.css("left",`${left}px`)):(position==="left"&&coords.x-requiredWidth<PANEL_MARGIN&&(position="auto"),position==="right"&&sim(window).width()-coords.x<requiredWidth+PANEL_MARGIN&&coords.x>requiredWidth&&(position="auto"),position==="auto"&&(position=coords.x>sim(window).width()-coords.x?"left":"right"),position==="left"?(left=coords.x-requiredWidth+surfaceOffset,left>sim(window).width()-this.outerWidth()-PANEL_MARGIN&&(left=sim(window).width()-this.outerWidth()-PANEL_MARGIN),left<PANEL_MARGIN&&(left=PANEL_MARGIN),this._arrow.addClass("i-arrow-left"),this.css("left",`${left}px`)):(left=coords.x+offset2+surfaceOffset,left<PANEL_MARGIN&&(left=PANEL_MARGIN),left>sim(window).width()-this.outerWidth()-PANEL_MARGIN&&(left=sim(window).width()-this.outerWidth()-PANEL_MARGIN),this._arrow.addClass("i-arrow-right"),this.css("left",`${left}px`)))}else this.css("left",`${(sim(window).width()-this.outerWidth())/2}px`);if(this._resize(),this.__expandable){const maxWidth=sim(window).width(),maxHeight=sim(window).height();let surfaceWidthOffset=0;Inspector!=null&&Inspector.instance&&(surfaceWidthOffset=maxWidth-((_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2._surface.width)),offset2=this.offset(),interact(this.__dom).resizable({edges:{left:position!=="right",right:position!=="left",bottom:position!=="top",top:position!=="bottom"},modifiers:[interact.modifiers.restrictSize({max:{width:position!=="left"?maxWidth-offset2.left-PANEL_MARGIN:offset2.left+this.width()-PANEL_MARGIN-surfaceWidthOffset,height:position!=="top"?maxHeight-PANEL_MARGIN:offset2.top+this.height()-PANEL_MARGIN},min:{width:260,height:260}})]})}return this.emit("move")}_resize(){var _a2,_b2,_c2,_d2,_e2,_f2;let coords,height,scroll,top;const{position}=this;if(this.css({transform:""}),this._relative!=null)if(typeof Surface<"u"&&Surface!==null&&this._relative instanceof Surface.DisplayObject){if(coords=this._relative.documentCoords,["left","right"].includes(position)&&(coords.y+=this.offsetY*(((_a2=this._relative.stage)==null?void 0:_a2.scale)??1),Inspector!=null&&Inspector.instance&&sim(window).height()!==((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2._surface.height))){const surfaceOffset=sim(window).height()-((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2._surface.height);coords.y+=surfaceOffset}}else{if(!this._hidden&&!this._relative.is(":visible"))return this._hidden=!0,this.hide();if(this._hidden&&this._relative.is(":visible"))return this._hidden=!1,this.show();coords=new Point(this._relative.offset().left+this._relative.outerWidth()/2,this._relative.offset().top+this._relative.outerHeight()/2),this._relative.closest(".modal")??this._relative.closest(".i-panel"),coords.y-=sim(window).scrollTop()}const header2=this._header.is(":visible")?this._header.outerHeight():0,footer2=this._footer.is(":visible")?this._footer.outerHeight():0;if(this._heightResized?(height=parseInt(this.__dom.style.height),scroll=`${height-header2-footer2}px`):(height=(!height&&this._body.is(":visible")?this._body.outerHeight(!0):0)+header2+footer2,scroll="auto"),this._loading&&(height=Math.max(this._loading.outerHeight(!0),height)),this._relative!=null){let offset2;position==="top"?(offset2=this.offsetY*(((_d2=this._relative.stage)==null?void 0:_d2.scale)??1),top=coords.y-height-offset2):position==="bottom"?(offset2=this.offsetY*(((_e2=this._relative.stage)==null?void 0:_e2.scale)??1),top=coords.y+offset2):top=coords.y-height/2,top+height>sim(window).height()-PANEL_MARGIN&&(top=sim(window).height()-height-PANEL_MARGIN),position==="bottom"&&top<coords.y+offset2&&(top=coords.y+offset2,height=sim(window).height()-PANEL_MARGIN-top,scroll=`${height-(header2+footer2)}px`),top<PANEL_MARGIN&&(top=PANEL_MARGIN,position==="top"&&(height=coords.y-PANEL_MARGIN-offset2,scroll=`${height-(header2+footer2)}px`))}else top=(sim(window).height()-height)/2;if(height>sim(window).height()-PANEL_MARGIN*2&&(top=PANEL_MARGIN,height=sim(window).height()-PANEL_MARGIN*2,scroll=`${height-(header2+footer2)}px`),imt.brand.theme.startsWith("ems")&&this.hasClass("i-browser")&&(height+=8),this._scroll.css("height",scroll),this.css({top:`${top}px`,maxHeight:sim(window).height()-PANEL_MARGIN*2}),(_f2=this._aside)==null||_f2.css("height",`${height}px`),this._relative!=null&&["left","right"].includes(position))return this._arrow.css({top:`${coords.y-top}px`,transform:""})}warn(message,content){this.loading=!1;const exception=sim.div(".i-exception",function(){if(message instanceof Error){const ex=message;return this.h5().text(imt.l("base","common.error")),this.p(function(){var _a2;if(this.text(ex.detail||ex.message),(_a2=ex.suberrors)!=null&&_a2.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return ex.suberrors.map(serr=>this.li(function(){return this.text(`${serr.detail||serr.message}`),this.prepend(sim.i(".far.fa-fw.fa-angle-right"))}))})})}else return this.h5().text(imt.l("base","common.error")),this.p().text(message)});return content?this.content=[exception,content]:this.content=exception}show(){super.show(),this._move();for(var panel of Panels)panel.parentPanel===this&&panel.show();return this.emit("show"),null}hide(){super.hide();for(var panel of Panels)panel.parentPanel===this&&panel.hide();return null}_setResizable(){const self2=this;return interact(this.__dom).resizable({ignoreFrom:"imt-panel",listeners:{move(e2){let height;if(self2._rectWidth===null&&(self2._rectWidth=self2.__dom.style.width.split(/[p]+/)[0]),self2._rectHeight===null&&(self2._rectHeight=e2.rect.height),self2._rectWidth!==e2.rect.width)self2._rectHeight=e2.rect.height,self2._rectWidth=e2.rect.width,self2.__dom.style.width=e2.rect.width+"px",self2.css({width:`${e2.rect.width}px`});else if(self2._heightResized===!1&&self2._rectHeight!==e2.rect.height){const header2=self2._header.is(":visible")?self2._header.outerHeight():0,footer2=self2._footer.is(":visible")?self2._footer.outerHeight():0;height=(!height&&self2._body.is(":visible")?self2._body.outerHeight(!0):0)+header2+footer2,Math.floor(height)!==Math.floor(e2.rect.height)&&(self2._heightResized=!0,self2.__dom.style.height=e2.rect.height+"px",self2.css({height:`${e2.rect.height}px`}))}else+self2.__dom.style.height.split(/[.p]+/)[0]!==Math.floor(e2.rect.height)&&self2.__dom.style.height!==""&&(self2._heightResized=!0,self2.__dom.style.height=e2.rect.height+"px",self2.css({height:`${e2.rect.height}px`}));return self2.__translateX+=e2.deltaRect.left,self2.__translateY+=e2.deltaRect.top,self2.css({transform:`translate(${self2.__translateX}px, ${self2.__translateY}px)`,maxWidth:"unset",maxHeight:"unset"}),self2._move()},start(){return self2.css("user-select","none")},end(){return self2.css("user-select","")}}}),null}}).initClass(),globalThis.Panels=[],globalThis.Panels.byType=function(type){for(var panel of this){var name=panel.constructor.name.toLowerCase();if(/^(.*)panel$/.exec(name)&&(name=RegExp.$1),name===type)return panel}return null},globalThis.Panels.closeAll=function(){return this.map(panel=>panel.close())},Object.defineProperty(Panels,"one",{get(){return PANEL_ONE},set(panel){return PANEL_ONE==null||PANEL_ONE.close(),PANEL_ONE=panel,panel.once("destroy",function(){if(PANEL_ONE===panel)return PANEL_ONE=null})}}),sim(window).on("click",function(event){if(Panels.one&&!sim(event.target).closest(".dropdown-menu")&&!(sim(event.target).closest(".i-panel")||sim(event.target).closest("[dmodropdownmenu]")))return Panels.one.close()}),sim(document).on("keyup",function(event){var _a2;if(event.keyCode===27&&(_a2=Panels[Panels.length-1])!=null&&_a2.closeable)return Panels[Panels.length-1].close()});const Panel$1=globalThis.Panel;globalThis.AJAXDirectives={process(elm,directives,region){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2;let action,args,dom,method,relative,selector,selectors,target,value;elm&&elm.data&&(relative=sim(elm.data("relative"))),relative instanceof SIMArray&&(relative=relative.first());const resolve=function(selector2,inregion=!0){return selector2===":scope"?elm:/^body /.test(selector2)?sim(selector2):/^< /.test(selector2)?(selector2=selector2.substr(2),relative?relative.is(selector2)?relative:relative.closest(selector2):elm.closest(selector2)):inregion&&region?region.find(selector2):sim(selector2)};if(globalThis.ga!=null&&Array.isArray(directives.analytics))for(args of directives.analytics)ga(...args);if((_a2=directives.class)!=null&&_a2.add)for(selector in directives.class.add)value=directives.class.add[selector],(_b2=resolve(selector))==null||_b2.addClass(value);if((_c2=directives.class)!=null&&_c2.remove)for(selector in directives.class.remove)value=directives.class.remove[selector],(_d2=resolve(selector))==null||_d2.removeClass(value);if(directives.updates||directives.update){const object2=directives.updates??directives.update;for(method in object2){selectors=object2[method];for(selector in selectors)value=selectors[selector],(_e2=resolve(selector))==null||_e2[method](value)}}if(directives.increment)for(selector in directives.increment)value=directives.increment[selector],target=resolve(selector),target.text(parseFloat(target.text())+value);if(directives.data)for(selector in directives.data){var pair=directives.data[selector];target=resolve(selector);for(var name in pair)value=pair[name],target.data(name,value)}if(directives.append)for(method in directives.append){selectors=directives.append[method];for(selector in selectors)value=selectors[selector],target=resolve(selector),target&&(method==="html"?(dom=sim.parse(value),target.append(dom),dom.hide().fadeIn()):target.write(value))}if(directives.prepend)for(method in directives.prepend){selectors=directives.prepend[method];for(selector in selectors)value=selectors[selector],target=resolve(selector),target&&(method==="html"?(dom=sim.parse(value),target.prepend(dom),dom.hide().fadeIn()):target.text(value+target.text()))}if(directives.replace)for(selector in directives.replace)value=directives.replace[selector],target=resolve(selector),target&&(sim.parse(value).insertBefore(target),target.remove());if(directives.move)for(var what in directives.move){var where=directives.move[what];(_f2=resolve(where,!1))==null||_f2.append(resolve(what))}if(directives.alert){let alert;if(directives.alert.html?(alert=new Alert,alert._body.html(directives.alert.html)):directives.alert.text&&(alert=new Alert(directives.alert.text)),Array.isArray(directives.alert.buttons))for(var button of directives.alert.buttons)button.redirect&&alert._footer.append(sim.a(".btn.btn-sm.btn-primary",function(){return this.attr("href",button.redirect),this.text(button.label)}));directives.alert.title&&(alert.title=directives.alert.title),alert.show()}if(directives.flash&&toaster.showLegacy(directives.flash),directives.action)for(action in directives.action)args=directives.action[action],AJAXDirectives.action[action].apply({elm,relative},args??[]);if(directives.remove){Array.isArray(directives.remove)||(directives.remove=[directives.remove]);for(selector of directives.remove)(_g2=resolve(selector))==null||_g2.remove()}return((_h2=directives.action)==null?void 0:_h2.redirect)!=null?!1:null}},AJAXDirectives.action={sort(){let list;return this.relative?this.relative.is(".list-group")?list=this.relative:list=this.relative.closest(".list-group"):list=this.elm.closest(".list-group"),list!=null&&list.children(":not(.list-group-add)").sortOn(item=>item.find(".list-group-title").text()).detach().reverse().prependTo(list),null},reload(){return setImmediate(()=>window.location.reload())},redirect(url){return setImmediate(function(){return imt.base()&&/^\/([^\/]|$)/.test(url)&&!url.startsWith(imt.base())&&(url=imt.base(url)),window.location=url})},form(cfg,relative){return setImmediate(()=>new RemoteFormulaModal(cfg,relative,()=>imt.remotes.splice(imt.remotes.indexOf(relative),1)))}};class RemoteChart extends SIMElement{constructor(elm){super(elm??"div"),this.setDefault(),this.addClass("i-chart"),this.data("height")&&this.css("height",`${this.data("height")}px`)}setDefault(){return typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.responsive=!0),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.maintainAspectRatio=!0),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.legend.display=!1),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.tooltips.enabled=!0),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.tooltips.position="nearest"),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.tooltips.mode="index"),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.tooltips.intersect=!1),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.tooltips.callbacks.labelColor=(item,chart)=>({borderColor:chart.data.datasets[item.datasetIndex].borderColor,backgroundColor:chart.data.datasets[item.datasetIndex].borderColor})),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.hover.mode="index"),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.global.hover.intersect=!1),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.doughnut.cutoutPercentage=85),typeof Chart<"u"&&Chart!==null&&(Chart.defaults.doughnut.circumference=Math.PI*1),typeof Chart<"u"&&Chart!==null?Chart.defaults.doughnut.rotation=Math.PI*1:void 0}init(url){return new Promise((resolve,reject2)=>Loader.load(url,(err,data2,headers,metadata)=>{let iml;if(err)return new Alert(err).show();const scales=data2.options!=null?data2.options.scales:void 0;if(scales){const axes=[].concat(scales.yAxes||[],scales.xAxes||[]);for(var axis of axes)typeof(axis.ticks!=null?axis.ticks.callback:void 0)=="string"&&(iml=axis.ticks.callback,(iml2=>axis.ticks.callback=value=>IML.execute(IML.parse(iml2),{value},{functions:{format}}))(iml))}if(__guard__$f(data2.options!=null?data2.options.tooltips:void 0,x2=>x2.callbacks))for(var key in data2.options.tooltips.callbacks)iml=data2.options.tooltips.callbacks[key],(iml2=>data2.options.tooltips.callbacks[key]=(item,data22)=>IML.execute(IML.parse(iml2),{item,data:data22},{functions:{format}}))(iml);return this.canvas(function(){const ctx=this.__dom.getContext("2d");return resolve(new Chart(ctx,data2))})}))}}sim.registerComponent("remote-chart",RemoteChart,!0);function __guard__$f(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}globalThis.EncryptedObject=class{constructor(encrypted){this.encrypted=encrypted,this.encrypted===null&&(this.decrypted={})}decrypt(done){return Loader.api("decrypt",{method:"POST",data:{data:this.encrypted??null}},(err,data2)=>err?done(err):(this.decrypted=data2,done(null,data2)))}toJSON(){return this.decrypted??this.encrypted}},sim(document).on("click",".i-in-place-edit",function(event){if(this.attr("contenteditable")!=="true"){console.warn("[Inspector][Legacy] In place edit component"),this.attr("contenteditable",!0),this.addClass("i-in-place-edit-active");var done=()=>{this.attr("contenteditable",!1),this.removeClass("i-in-place-edit-active"),this.off("blur",done),this.off("keydown",keydown),this.off("input",normalize2);const newval=this.text().trim()||imt.l("base","common.unnamed");return newval!==value&&Loader.load(this.data("url"),{method:"POST",data:{data:newval}},(err,directives)=>{if(err)return this.text(value),new Alert(err).show();if(directives!=null&&typeof directives=="object")return AJAXDirectives.process(this,directives);toaster.show(imt.l("base","inplaceedit.saved"))}),this.text(newval)},keydown=event2=>{switch(event2.keyCode){case 13:if(this.data("multiline"))return document.execCommand("insertHTML",!1,`
`),!1;done();break;case 27:this.text(value),event2.preventDefault(),done();break}return null},normalize2=()=>{const sel=globalThis.getSelection(),pos=sel.focusOffset??9999;this.text(this.text());const range2=globalThis.document.createRange();return range2.setStart(this.__dom.firstChild??this.__dom,pos),range2.collapse(!0),sel.removeAllRanges(),sel.addRange(range2)},value=this.text();value===imt.l("base","common.unnamed")&&this.text(""),this.focus(),this.on("blur",done),this.on("keydown",keydown),this.on("input",normalize2)}return!0}),sim(document).on("click",".i-in-place-rich-edit-insert",function(event){return console.warn("[Inspector][Legacy] In place edit rich insert component"),__guard__$e(__guard__$e(sim(this.data("target")),x1=>x1.data("codemirror")),x2=>x2.replaceSelection(this.data("insert"))),!1}),typeof CodeMirror<"u"&&CodeMirror!==null&&(CodeMirror.commands.save=instance=>CodeMirror.signal(instance,"save")),sim(".i-in-place-rich-edit").each(function(){globalThis.onbeforeunload??(globalThis.onbeforeunload=function(e2){if(sim(".i-in-place-rich-edit-changed").length)return e2.returnValue="There are unsaved changes. Do you really want to leave?","There are unsaved changes. Do you really want to leave?"});const self2=this,url=this.data("url"),options={readOnly:this.data("readonly")==="yes",lineNumbers:!0,indentWithTabs:!0,smartIndent:!1,indentUnit:4,tabSize:4,mode:this.data("mode")||"IML",gutters:["CodeMirror-lint-markers"],lint:{options:{asi:!0,esversion:6}},autoRefresh:!0};options.mode==="pug"&&(options.lineWrapping=!0);const save=()=>console.warn("[Inspector][Legacy] In place edit rich insert component save");Loader.load(url,{method:"POST",data:{data:editor.getValue()}},function(err,res){return err?new Alert(err).show():(res!=null&&typeof res=="object"?AJAXDirectives.process(self2,res):toaster.show(imt.l("base","inplaceedit.saved")),sim(editor.display.wrapper).removeClass("i-in-place-rich-edit-changed"),saver.detach())});var editor=null,saver=null;const init2=()=>{if(saver=sim.i(".far.fa-save").on("click",save),editor=CodeMirror.fromTextArea(this.__dom,options),this.data("codemirror",editor),url&&!options.readOnly)return editor.on("change",()=>sim(editor.display.wrapper).addClass("i-in-place-rich-edit-changed").append(saver)),editor.on("save",save)},tab=this.closest(".tab-pane:not(.active)");return tab?sim(`*[data-toggle="tab"][href="#${tab.attr("id")}"]`).once("shown.bs.tab",()=>init2()):init2()});function __guard__$e(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}let PREVIEW_PANEL=null;sim(document).on("click",".i-preview",function(event){return console.warn("[Inspector][Legacy] Preview component"),PREVIEW_PANEL&&PREVIEW_PANEL.close(),PREVIEW_PANEL=new Panel(this),PREVIEW_PANEL.expandable=!0,PREVIEW_PANEL.title="Inspector",PREVIEW_PANEL.loading=!0,Loader.load(this.data("url"),function(err,data2){return err?PREVIEW_PANEL.warn(err):(PREVIEW_PANEL.loading=!1,PREVIEW_PANEL.content=sim.div(function(){return this.visualizer({source:data2}).on("resize",PREVIEW_PANEL._resize)}))})}),SIMElement.prototype.searcher=function(){const self2=this,rootElements=sim(this.data("root"));let root2=rootElements.first();rootElements.length>1&&(root2=rootElements[1]);const parentPanel=this.closest(".i-panel");let analyticsTimer=null,searchTimer=null,tracingTimer=null;const getTitle=function(elm){var _a2;let title=elm.data("title");return title||(title=(_a2=elm==null?void 0:elm.find(".item-title"))==null?void 0:_a2.text().toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),elm.data("title",title)),title},filter2=function(phrase=""){var _a2;const items=root2.find(self2.data("item")),parent2=(_a2=items.first())==null?void 0:_a2.parent();let words=phrase.trim().toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");if(!(words!=null&&words.length))items.sort((a2,b2)=>getTitle(a2).localeCompare(getTitle(b2))).each(function(){return this.appendTo(parent2),this.removeClass("d-none")}),self2.emit("filter",{detail:{length:items.length}});else{words=words.split(" ");const matches=[];items.each(function(){this.addClass("d-none");const wordsArr=words.clone(),item={dom:this,score:0},title=getTitle(this);if(wordsArr.length===1&&title===wordsArr[0])item.score=1;else if(wordsArr.filter(word=>(title==null?void 0:title.indexOf(word))===-1).length===0)item.score=.5;else{const description=this.text().toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");wordsArr.filter(word=>(description==null?void 0:description.indexOf(word))===-1).length===0&&(item.score=.3)}if(item.score>0)return matches.push(item)}),matches.sort((a2,b2)=>b2.score-a2.score).forEach(function(item){return item.dom.appendTo(parent2),item.dom.removeClass("d-none")}),self2.data("analytics")&&(undelay(analyticsTimer),analyticsTimer=delay(1e3,function(){if(words.length)return ga==null?void 0:ga("send","pageview",`/search?ql=${imt.user.language}&qc=${self2.data("analytics")}&q=${encodeURIComponent(words.join(" "))}`)})),undelay(tracingTimer),tracingTimer=delay(1e3,function(){if(phrase.length>2&&matches.length===0&&(self2.data("item")===".app"&&imtEvents.dispatch("scenario.app_searched_and_not_found",{searchedAppName:phrase,searchType:self2.data("searchType")}),self2.data("item")===".module"))return imtEvents.dispatch("scenario.module_searched_and_not_found",{appName:self2.data("selectedAppLabel"),searchedModuleName:phrase,searchType:self2.data("searchType")})}),self2.emit("filter",{detail:{length:matches.length}})}return self2.data("header")&&root2.find(self2.data("header")).each(function(){const sibling=this.next(":not(.d-none)");return sibling&&sibling.is(self2.data("item"))?this.removeClass("d-none"):this.addClass("d-none")}),sim(window).emit("imt.search")},preset=function(name){return sim(self2.data("presets")).removeClass("active"),sim(self2.data("presets")).filter(item=>item.attr("href")===`#${name}`).addClass("active"),self2.val(""),self2.data("reset")===name?filter2():filter2(name),sim(window).scrollTop()>root2.offset().top-30&&window.scrollTo(0,root2.offset().top-30),window.history.replaceState(null,"",`#filter:${name}`)};if(this.on("input",function(){if(this.data("presets")&&sim(this.data("presets")).removeClass("active"),undelay(searchTimer),searchTimer=delay(200,()=>{if(filter2(this.val()),parentPanel)return parentPanel._resize()}),!this.val()&&this.data("reset")&&this.data("presets"))return sim(this.data("presets")+'[href="#'+this.data("reset")+'"]').addClass("active")}),this.data("presets")&&sim(this.data("presets")).on("click",function(){return preset(this.attr("href").substr(1)),!1}),/^#filter:(.*)$/.exec(sim(window).location.hash)&&preset(RegExp.$1),this.val())return filter2()},sim(".searcher").each(SIMElement.prototype.searcher);const initSwitch=function(){if(this.data("ng-switch"))return;this.attr("tabindex",0),this.div(".switch-slider");const ajax=this.data("ajax")!=="no";this.data("status")==="on"?this.addClass("active"):this.removeClass("active");const me=this;var swtch=function(){if(!(me.hasClass("disabled")||me.is(":disabled"))&&!(me.beforeChange&&me.beforeChange(swtch)===!1))return me.data("status")==="on"?me.data("stop-url")?(me.prop("disabled",!0),ajax?Loader.load(me.data("stop-url"),{method:"POST"},function(err,directives){if(me.prop("disabled",!1),err)return new Alert(Alert.parseError(err)).show();if(me.removeClass("active"),me.data("status","off"),me.emit("change"),typeof directives=="object")return AJAXDirectives.process(me,directives)}):window.location.href=me.data("stop-url")):(me.removeClass("active"),me.data("status","off"),me.emit("change")):me.data("start-url")?(me.prop("disabled",!0),ajax?Loader.load(me.data("start-url"),{method:"POST"},function(err,directives){if(me.prop("disabled",!1),err)return new Alert(Alert.parseError(err)).show();if(me.addClass("active"),me.data("status","on"),me.emit("change"),typeof directives=="object")return AJAXDirectives.process(me,directives)}):window.location.href=me.data("stop-url")):(me.addClass("active"),me.data("status","on"),me.emit("change"))};return this.on("keyup",function(event){if(event.keyCode===32)return swtch(),event.stopPropagation(),event.preventDefault(),!1}),this.on("click",function(event){return swtch(),event.stopPropagation(),event.preventDefault(),!1})};sim(".switch").each(initSwitch),SIMElement.prototype.switch=initSwitch,sim(document).on("click",".i-updater, .i-loader",function(event){let ifa,ocn;event.preventDefault(),console.warn("[Inspector][Legacy] Updater component");const self2=this,url=this.data("url")??this.attr("href");return(this.is("button")||this.is("a"))&&(ifa=this.children("i").first(),ifa&&(ocn=ifa.attr("class"),ifa.attr("class","far fa-fw fa-spinner-third fa-spin "+ocn.replace(/(far|fal|fab|fas|fa-[^ ]+)( |$)/g," "))),this.prop("disabled",!0)),Loader.load(url,{method:this.hasClass("i-updater")?"POST":"GET"},(err,data2)=>{if((this.is("button")||this.is("a"))&&(ifa&&ifa.attr("class",ocn),this.prop("disabled",!1)),err)return new Alert(Alert.parseError(err)).show();let region=self2.closest(".list-group-item");return region??(region=self2.closest("tr")),AJAXDirectives.process(self2,data2,region),null}),!0}),sim(document).on("click",".i-uploader",function(event){event.preventDefault();const form=this.closest("form"),input=form.find('input[type="file"]')[0].__dom,formData=new FormData,existing=form.find(".thumbnail > img");if(!(input.files instanceof FileList)||input.files.length===0)return!1;for(var file of input.files)formData.append("file[]",file);const flash=toaster.show("Uploading images...");return Loader.load(this.data("store"),{method:"POST",data:formData},(err,data2)=>(flash.hide(),err?new Alert(err).show():(AJAXDirectives.process(this,data2,form),form.find(".thumbnail > img").filter(img=>!existing.includes(img)).on("error",function(){this.parent().addClass("i-uploader-loading");const src=this.attr("src").match(/^(.*?)(?:\?|$)/)[1];return delay(1e3,()=>this.attr("src",`${src}?nocache=${Date.now()}`))}).on("load",function(){return this.parent().removeClass("i-uploader-loading")}),toaster.show("Images were uploaded."))))}),sim(document).on("click",".i-uploader-insert",function(event){return sim(".i-uploader-target").first().data("codemirror").replaceSelection(`![alt text](${this.data("insert")||this.attr("src")})`)}),globalThis.Alert=class extends Modal{constructor(message,title){var _a2;super(),this.message=message,this.title=title||((_a2=imt.brand)==null?void 0:_a2.title)}},Alert.parseError=err=>err.detail?err.message.endsWith(".")?err.message+" "+err.detail:err.message+": "+err.detail:err.message,sim(window).on("click",".i-open-alert",function(){return new Alert(this.data("message")).show(),!1}),globalThis.Prompt=class extends Modal{constructor(message,title){var _a2;super(),this._yes=sim.button('.btn.btn-primary.btn-sm[type="button"][data-dismiss="modal"]').text(imt.l("base","common.yes")),this._close.text(imt.l("base","common.no")),this.message=message,this.title=title||((_a2=imt.brand)==null?void 0:_a2.title)}show(callback){let yesClicked=!1,noClicked=!1;return this._footer.append(this._yes),this._yes.once("click",()=>yesClicked=!0),this._close.once("click",()=>noClicked=!0),this.once("before-hide",()=>(this._yes.remove(),callback(yesClicked?!0:noClicked?!1:null))),super.show()}};const global=self;self.global=global,global.ImtColor=ImtColor$1,global.rgb=(r2,g2,b2)=>new ImtColor$1(r2,g2,b2),global.rgba=(r2,g2,b2,a2)=>new ImtColor$1(r2,g2,b2,a2),bootstrap.Tooltip.Default.template='<div class="imt tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>';const getConfigValue=key=>{var _a2;return(_a2=window.IMT_DATA)==null?void 0:_a2[key]};console.log(`[imt] build: ${new Date(getConfigValue("build")*1e3)}`),console.log(`[imt] server: ${getConfigValue("server")}`);let existingPLugins=[];window.imt&&(existingPLugins=imt.plugins?imt.plugins:[]),imt.plugins=existingPLugins.concat([{name:"Base"}]),imt.l=(dictionary,key,options)=>{var _a2;const dict=(_a2=imt.dictionaries[dictionary])==null?void 0:_a2[imt.user.language];return dict?dict.l(key,options):`##${key}`};const init=()=>{if(console.log("[imt] env:",imt.env),console.log("[imt] plugins:",imt.plugins.map(item=>item.name).join(", ")),setImmediate(function(){}),"standalone"in window.navigator&&window.navigator.standalone)return sim(window).on("click","a[href]",function(){if(this.attr("target")!=="_blank")return window.location.href=this.attr("href"),!1})};imt.localStorage={_data:Object.create(null),length:0,getItem(key){return this._data[key]??null},setItem(key,value){return this._data[key]=value,this.length=Object.keys(this._data).length},removeItem(key){return delete this._data[key],this.length=Object.keys(this._data).length},key(index2){return Object.keys(this._data)[index2]}},sim.ready(()=>init()),sim(window).on("popstate",function(event){var _a2;if(((_a2=event.state)==null?void 0:_a2.action)==="reload")return window.location.reload()}),sim(window).on("message",function(message){try{if(window.location.origin!==message.origin||typeof message.data!="string")return;const data2=JSON.parse(message.data);switch(data2.action){case"debug":if(Array.isArray(data2.data))return data2.data.map(entry=>console.log("%c[popup:debug]","color: #a4a9ae",...entry));break}}catch{}}),sim(window).openHelp=function(url){/^kb:\/\/(.*)$/i.test(url)&&(imt.brand.theme.startsWith("ems")?url=`/ems-automation/help/${RegExp.$1}`:url=`${imt.helpUrl}${RegExp.$1}`);const left=(screen.width-760)/2,top=(screen.height-800)/2;return window.open(url,"help",`scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,width=800,height=800,left=${left},top=${top}`)},sim(window).openPopup=function(url,wid){const left=(screen.width-1200)/2,top=(screen.height-700)/2;return window.open(url,wid,`scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,width=1200,height=700,left=${left},top=${top}`)},sim(window).on("click",".i-open-help",function(event){return sim(window).openHelp(this.data("url")??this.attr("href")),!1}),sim(window).on("click",".i-redirect",function(event){return window.location.href=this.data("url")??this.attr("href"),!1}),sim(window).on("click",".i-popup",function(event){return sim(window).openPopup(this.attr("href")||this.data("url")),!1}),sim(window).on("click",'.go-back[data-use-history="yes"]',function(event){return window.history.back(),!1}),sim(window).on("click",".btn-click-n-wait",function(){return this.prop("disabled")?!1:(setImmediate(()=>(this.prop("disabled",!0),this.empty().i(".far.fa-circle-notch.fa-spin"))),!0)});let APP_LIST_PANEL=null;sim(document).on("click","#auth-apps-list",function(event){if(event.preventDefault(),event.stopPropagation(),APP_LIST_PANEL)return APP_LIST_PANEL.close(),APP_LIST_PANEL=null;const body2=sim.div().css("font-size","14px");return body2.append(sim.p().text(sim("#app-list-body").text())),body2.append(sim.b().text("Google Authenticator, Authy, Microsoft Authenticator, HDE OTP")),APP_LIST_PANEL=Panels.one=new Panel(this),APP_LIST_PANEL.position="left",APP_LIST_PANEL.offsetY=-20,APP_LIST_PANEL.width(320),APP_LIST_PANEL.content=body2,!1}),sim(window).on("click",".dropdown-toggle",event=>event.preventDefault()),global.___gcfg={lang:imt.user.language},global.require=function(module2){switch(module2){case"moment":case"moment-timezone":if(!global.moment)throw new Error("Moment is not present.");return global.moment;case"crypto":var crypto2={createHash(alg){return{update(data2){return{digest(enc){return""}}}}},createHmac(alg,key){return{update(data2){return{digest(enc){return""}}}}}};return crypto2;default:throw new Error(`Module '${module2}' is not present.`)}return null},global.guid=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c2){const r2=Math.random()*16|0;return(c2==="x"?r2:r2&3|8).toString(16)}),global.nextTick=global.setImmediate=callback=>setTimeout(()=>callback(),1),global.requestAnimationFrame||(global.requestAnimationFrame=setImmediate),global.repeat=(interval,callback)=>setInterval(callback,interval),global.unrepeat=interval=>clearInterval(interval),global.delay=(interval,callback)=>setTimeout(callback,interval),global.undelay=interval=>clearTimeout(interval),global.noop=function(){},global.extend=function(a2,b2){if(a2===void 0&&(a2={}),b2===void 0)return a2;for(var key in b2){var value=b2[key];a2[key]=value}return a2},global.escapeHtml=function(value){const map2={"&":"&amp;","<":"&lt;",">":"&gt;"};return value=String(value).replace(/[&<>]/g,tag=>map2[tag]||tag)},global.deepEqual=function(a2,b2,key){if(a2==null||b2==null)return a2===""||b2===""||Array.isArray(a2)&&a2.length===0||Array.isArray(b2)&&b2.length===0?!0:a2!=null==(b2!=null);switch(typeof a2){case"undefined":case"string":case"number":case"boolean":case"regexp":case"function":return a2===b2;case"object":if(typeof b2!="object")return!1;if(a2===null)return b2===null;if(a2 instanceof Array){if(!(b2 instanceof Array)||a2.length!==b2.length)return!1;for(let index2=0;index2<a2.length;index2++)if(a2[index2],!deepEqual(a2[index2],b2[index2],index2))return!1}else{if(a2 instanceof Date)return b2 instanceof Date?a2.getTime()===b2.getTime():!1;{const seen=[];for(key in a2)if(seen.push(key),!deepEqual(a2[key],b2[key],key))return!1;for(key in b2)if(seen.indexOf(key)===-1&&!deepEqual(a2[key],b2[key],key))return!1}}break;default:return!1}return!0},global.ifNaN=function(num,def){return num=parseFloat(num),isNaN(num)?def:num};const __jsonParse=JSON.parse;JSON.parse=jQuery.parseJSON=jQuery.ajaxSettings.converters["text json"]=(text,fce)=>__jsonParse(text,function(key,value){return typeof value=="string"&&/^\d{4}\-\d\d\-\d\d[tT]\d\d:\d\d:\d\d\.\d{3}Z$/.test(value)&&(value=new Date(value)),fce&&(value=fce(key,value)),value}),Date.prototype.toString=Date.prototype.toJSON,global.jQuery!=null&&(jQuery.fn.reverse=Array.prototype.reverse,jQuery.fn.previous=jQuery.fn.prev,jQuery.fn.once=jQuery.fn.one,jQuery.fn.appendToAtIndex=function(parent2,index2){return index2===0?this.prependTo(parent2):jQuery(jQuery(parent2).children()[index2-1]).after(this)});var attachFakeCursor=()=>sim.img(".i-presentation-pointer",function(){return this.appendTo(sim("body")),this.attr("src",imt.static("/img/cursor.svg")),sim(window).on("mousemove",event=>this.css({left:event.pageX,top:event.pageY})),sim(window).on("mousedown",event=>this.css({filter:"grayscale(1)"})),sim(window).on("mouseup",event=>this.css({filter:"none"}))});JSON.parse(imt.localStorage.getItem("config:fakeCursor"))&&attachFakeCursor(),initConfig(),initDebug();//    @license Copyright (c) Integromat - All rights reserved.
if(typeof imt<"u"&&Dictionary.create("base","cs",{time:{ms:"{{n}} ms",lts:"mn ne sekunda",may:"Kvten",days:["","1 den","{{n}} dny","{{n}} dn"],july:"ervenec",june:"erven",april:"Duben",hours:["","1 hodina","{{n}} hodiny","{{n}} hodin"],march:"Bezen",august:"Srpen",friday:"Ptek",monday:"Pondl",sunday:"Nedle",january:"Leden",minutes:["","1 minuta","{{n}} minuty","{{n}} minut"],october:"jen",seconds:["","1 sekunda","{{n}} sekundy","{{n}} sekund"],tuesday:"ter",december:"Prosinec",duration:"Doba",february:"nor",november:"Listopad",saturday:"Sobota",thursday:"tvrtek",september:"Z",wednesday:"Steda"},common:{no:"Ne",ok:"OK",add:"Pidat",any:"Jakkoliv",key:"Kl",yes:"Ano",acid:"ACID",addon:"Community",back:"Zpt",edit:"Editovat",help:"Npovda",more:"Vce",name:"Jmno",note:"Poznmka",save:"Uloit",send:"Odeslat",size:"Velikost",type:"Typ",close:"Zavt",empty:"Przdn",error:"Chyba",label:"ttek",login:"Pihlaste se",popup:"Vyskakovac okno bylo zablokovno. Povolte prosm vyskakovac okna a zkuste to znovu.",queue:"Fronta",since:"Od",state:"Stav",until:"Do",cancel:"Storno",delete:"Smazat",detail:"Detail",disable:"Zakzat",enable:"Povolit",expand:"Rozbalit",filter:"Filtr",logout:"Odhlsit",mapper:"Mapovn",noidle:"Pouze bhy s 2 nebo vce operacemi",search:"Hledat",searchapps:"Hledat aplikace",searchmodules:"Hledat moduly",actions:"Akce",adblock:"Poznmka: Vypad to, e mte aktivn AdBlock. Nic se nedje, {{integromat}} mete pouvat nadle, berte vak prosm na vdom, e nkter sti naeho webu mohou fungovat omezen nebo vbec.",created:"Vytvoeno",details:"Podrobnosti",feeders:"Itertory",instant:"OKAMIT",nchecks:"{{n}} kontrol",profile:"Profil",routers:"Routery",showall:"Zobrazit ve",unnamed:"Nepojmenovno",continue:"Pokraovat",datasize:"Velikost dat",language:"Jazyk",register:"Registrujte se zdarma",searches:"Vyhledvae",triggers:"Spoute",chooseorg:"Vyberte organizaci",condition:"Podmnka",learnmore:"Zjistit vce",nmessages:"{{n}} zprv",directives:"Direktivy",operations:"Operace",parameters:"Parametry",scheduling:"asov pln",aggregators:"Agregtory",organization:"Organizace",team:"Tm",transformers:"Transformery",contactsupport:"Kontaktovat podporu",clone:"Duplikovat",apply:"Apply"},states:{error:"Chyba",running:"B",success:"spn",warning:"Varovn"},tester:{testing:"Testuji..."},remover:{failed:"Akce selhala.",really:"Opravdu?",deleting:"Mau...",redirecting:"Pesmrovvm..."},executed:{listener:"Okamit sputn",manually:"Jednorzov sputn",schedule:"Naplnovan sputn"},scheduling:{once:"Jednou {{date}}",daily:"Denn v {{time}}",weekly:"Kad {{daysofweek}} v {{time}}",yearly:"Kad {{months}} ve dnech {{days}} v {{time}}",monthly:"Kadho {{days}} v msci v {{time}}",immediately:"Okamit jak doraz data",ondemand:"Na dost",indefinitely:"Kadch {{interval}}",custom:"Custom schedule"},inplaceedit:{saved:"Zmny byly uloeny."},remotetable:{nodata:"dn data.",filterby:"Filtrovat dle {{value}}."},reauthorizer:{verifying:"Ovuji...",reauthorizing:"dm o novou autorizaci..."},tooltip:{addon:"Community apps are created by Make users.",private:"Only users in your organization can see this app.",beta:"This app or its API is still in beta.",agent:"For use with the On-premise agent capability.",invited:"Only invited users can see this app.",myApp:"Only you can see this app.",verified:"Verified apps are created or reviewed by Make.",builtin:"Built-in apps are Make tools to use in your scenario.",enterprise:"This app is only available on the Enterprise plan."}}),typeof imt<"u"){var NAME$1="base",LANG$1="en";Dictionary.create(NAME$1,LANG$1,{time:{ms:"{{n}} ms",lts:"Less than a second",may:"May",days:["","1 day","{{n}} days","{{n}} days"],july:"July",june:"June",april:"April",hours:["","1 hour","{{n}} hours","{{n}} hours"],march:"March",august:"August",friday:"Friday",monday:"Monday",sunday:"Sunday",january:"January",minutes:["","1 minute","{{n}} minutes","{{n}} minutes"],october:"October",seconds:["","1 second","{{n}} seconds","{{n}} seconds"],tuesday:"Tuesday",december:"December",duration:"Duration",february:"February",november:"November",saturday:"Saturday",thursday:"Thursday",september:"September",wednesday:"Wednesday"},common:{no:"No",ok:"OK",add:"Add",any:"Any",key:"Key",yes:"Yes",acid:"ACID",addon:"Community",back:"Back",edit:"Edit",help:"Help",more:"More",name:"Name",note:"Note",save:"Save",send:"Send",size:"Size",type:"Type",close:"Close",empty:"Empty",error:"Error",label:"Label",login:"Sign in",popup:"The pop-up window has been blocked.  Please enable pop-up windows and try again.",queue:"Queue",since:"Since",state:"State",until:"Until",cancel:"Cancel",delete:"Delete",detail:"Detail",disable:"Disable",enable:"Enable",expand:"Expand",filter:"Filter",logout:"Sign out",mapper:"Mappings",noidle:"Only runs with 2 or more operations",search:"Search",searchapps:"Search applications",searchmodules:"Search modules",actions:"Actions",adblock:"Note: Since you are using an Ad Blocker, please note that it might interfere with some of {{integromat}}'s processes resulting in your scenarios not functioning as expected.",created:"Created",details:"Details",feeders:"Iterators",instant:"INSTANT",nchecks:"{{n}} checks",profile:"Profile",routers:"Routers",showall:"Show all",unnamed:"Unnamed",continue:"Continue",datasize:"Data size",language:"Language",register:"Sign up for free",searches:"Searches",triggers:"Triggers",chooseorg:"Choose organization",condition:"Condition",learnmore:"Learn more",nmessages:"{{n}} messages",directives:"Directives",operations:"Operations",parameters:"Parameters",scheduling:"Scheduling",aggregators:"Aggregators",organization:"Organization",team:"Team",transformers:"Transformers",contactsupport:"Contact support",clone:"Clone",apply:"Apply"},states:{error:"Error",running:"Running",success:"Success",warning:"Warning"},tester:{testing:"Testing..."},remover:{failed:"Action failed.",really:"Really?",deleting:"Deleting...",redirecting:"Redirecting..."},executed:{listener:"Executed immediately",manually:"Executed manually",schedule:"Executed as scheduled"},scheduling:{once:"Once {{date}}",daily:"Daily at {{time}}",weekly:"Each {{daysofweek}} at {{time}}",yearly:"Each {{months}} on {{days}} at {{time}}",monthly:"Each {{days}} of month at {{time}}",immediately:"Immediately as data arrives",ondemand:"On demand",indefinitely:"Every {{interval}}",custom:"Custom schedule"},inplaceedit:{saved:"The changes were saved."},remotetable:{nodata:"No data.",filterby:"Filter by {{value}}."},reauthorizer:{verifying:"Verifying...",reauthorizing:"Requesting authorization..."},appSearch:{private:"Private",beta:"Beta",premium:"Premium tier {{tier}}",agent:"On-prem agent",invited:"Invited",app:"App",myApp:"Custom app",deprecated:"Deprecated",notApproved:"Not approved",verified:"Verified",instant:"Instant",builtin:"Built-in",enterprise:"Enterprise"},tooltip:{addon:"Community apps are created by Make users.",private:"Only users in your organization can see this app.",beta:"This app or its API is still in beta.",agent:"For use with the On-premise agent capability.",invited:"Only invited users can see this app.",myApp:"Only you can see this app.",verified:"Verified apps are created or reviewed by Make.",builtin:"Built-in apps are Make tools to use in your scenario.",enterprise:"This app is only available on the Enterprise plan."}}),imt.brand&&imt.brand.theme&&imt.brand.theme.startsWith("ems")&&Dictionary.overload(NAME$1,LANG$1,{common:{adblock:"Note: Since you are using an Ad Blocker, please note that it might interfere with some of {{integromat}}'s processes resulting in your scenarios not functioning as expected."}})}if(typeof imt<"u"&&Dictionary.create("inspector","cs",{common:{notes:"Poznmky",stepn:"Krok {{n}}",tools:"Nstroje",bundlen:"Zznam{{n}}",controls:"Ovldn",imtindex:"Poad zznamu",favorites:"Oblben",imtlength:"Celkem zznam",valuesofn:"Hodnoty z operace {{n}}",operationn:"Operace {{n}}",closenosave:"Opustit bez uloen",confirmexit:"Opravdu chcete editaci opustit?",savechanges:"Uloit zmny",imtagglength:"Celkem agregovanch zznam",showadvanced:"Zobrazit pokroil volby",saveandpublish:"Uloit a vypublikovat",discardchanges:"Zahodit zmny",runIncompleteExecution:"Spustit nedokonen bh",edit:"Edit",fallback:"Fallback",start:"Start",status:"Status",logs:"Logs",openLog:"Open log",delete:"Delete"},errors:{multiple:"Vce chyb.",notsetup:"Modul nen nastaven.",invalidid:"Neplatn ID.",notinflow:"Modul nen zapojen do datovho toku.",breaknodlq:"Tato direktiva vyaduje povolen ukldn nedokonench bh.",noaggsource:"Modul zdrojovch dat nen definovn.",trignosched:"Spout mus bt prvnm modulem ve scni.",directiveout:"Direktiva je umstna mimo cestu pro oeten chyby.",transformeronend:"Transformer by neml bt poslednm modulem ve vtvi.",transformeronstart:"Transformer by neml bt prvnm modulem ve scni.",unsaved:"Modul obsahuje neuloen zmny.",customVariablesOnly:"Toto nepln proveden odkazuje na vlastn promnn. Chcete zmnit hodnoty vlastnch promnnch?",scenarioInputsOnly:"Toto nepln proveden odkazuje na vstupy scne. Chcete zmnit vchoz hodnoty vstup scne?",customVarsAndScenarioInputs:"Toto nepln proveden odkazuje na vlastn promnn a vstupy scne. Chcete zmnit hodnoty promnnch nebo vchoz hodnoty vstup scne?",nonExistingVariables:{title:"Cannot save scenario with nonexistent custom variables",subtitle:"The scenario contains custom variables that dont exist in Make:",saving:"To save the scenario, delete the custom variables from the modules.",footer:"New custom variables can be created on the {{organization}} and {{team}} menu"}},panels:{dlq:{title:"Nedokonen bh",reason:"Dvod peruen bhu",organizationVariablesTitle:"Organizan promnn",teamVariablesTitle:"Tmov promnn",scenarioInputsTitle:"Vstupy scn"},link:{else:"Pokraovat touto vtv v ppad, e vechny ostatn vtve byly filtrem zastaveny",route:"Nastaven filtru",title:"Nastaven filtru"},udts:{created:"Datov struktura byla vytvoena.",default:"Moje datov struktura",name:"Jmno datov struktury",saved:"Zmny byly uloeny.",title:"Datov struktury"},epoch:{all:"Ve",title:"Vybrat kde zat",choose:"Vybrat run",fromid:"Od uritho ID",nodata:"Nejsou dostupn dn monosti.",fromnow:"Od te",invalid:"Ne bude mon vybrat kde zat, muste opravit chyby v nastaven modulu.",fromdate:"Od uritho data"},hooks:{copy:"Zkoprovat do schrnky",gone:"Webhook byl pli dlouho neaktivn a proto byl odstrann.",show:"Zobrazit adresu",copied:"Adresa byla zkoprovna.",create:"Pidat hook",attached:"Webhook jsme do {{service}} automaticky zaregistrovali. O nic vc se u nemuste starat.",listening:"{{integromat}} nyn oekv, e na ve uvedenou adresu webhooku polete njak data. Na zklad piatch dat pak odvod datovou strukturu.",determined:"Datov struktura zskna.",redetermine:"Zskat datovou strukturu"},notes:{help:"Chcete-li pidat poznmku, kliknte pravm tlatkem na modul nebo spojnici."},queue:{alert:"Ve front ek {{n}} zznam na zpracovn.",title:"Nezpracovan zznamy ve front webhook",listen:"Poslouchat nov",proceed:"Zpracovat existujc",disabled:"Webhook pouit v tomto scni je zakzan a nepijm tud dn data.",question:"Ve front ekaj nezpracovan zznamy. Chcete v tomto bhu zpracovat existujc zznamy ve front nebo chcete poslouchat nov pchoz zznamy?"},schedulinghooks:{delete:"Vyprzdnit frontu",proceed:"Zpracovat existujc",question:"Ve frnt ekaj nezpracovan zznamy. Pejete si vyprzdnit frontu?"},feeder:{provider:"Zdroj dat"},module:{autolink:"Pipojit automaticky",maxresults:"Zde nastavte hodnotu, urujc maximln poet vsledk, se ktermi bude {{integromat}} pracovat v rmci jednoho cyklu (poet opakovn v rmci jednoho bhu). V ppad, e nastavte pli velk slo, me dojt k peruen spojen (timeout) ze strany dan sluby, co {{integromat}} nedoke ovlivnit. Doporuujeme pouvat spe men hodnoty v kombinaci s vce cykly nebo astjm sputnm scne. Vce informac najdete v [npovd](kb://transactions.html#round-trips.html).",notconnected:"Ne budete moci modul nakonfigurovat, pipojte jej nejprve do datovho toku.",nomodules:"Nebyl nalezen dn modul."},offers:{add:"Pidat dal modul",addother:"Pidat dal modul"},revert:{ttl:"Verze star 60 dn jsou mazny automaticky.",pick:"Vyberte verzi",title:"Obnovit star verzi Blueprintu",success:"Blueprint byl obnoven do zvolen verze. Zmny se projev po uloen scne.",version:"Verze"},browser:{similar:"Podobn scne",notfound:"Nenali jste, co jste hledali? Dejte nm to vdt a my udlme, co je v naich silch, abychom slubu doplnili.",recommended:"Doporuen",selectmodule:"Vyberte modul",notfoundhtml:"<a href='https://{{hqUrl}}/en/app-ideas' target='_blank'>Polete nm npad na aplikaci</a> a my udlme, co je v naich silch, abychom ho podpoili."},devices:{add:"Pidat zazen"},moduleHasNoteDeleteModal:{header:"Delete module",body:"<strong>This module has a note attached.</strong> Do you want to continue and delete both the module and its note?"},noteDeleteModal:{header:"Delete note",body:"Do you want to delete <strong>this note and its content</strong>? It will be permanently erased once you save your scenario."},inspect:{fin:"Finalizace",desc:"Detailn popis",init:"Inicializace",indlq:"Nedokonen bh",input:"Vstup",commit:"Commit",nodesc:"Detailn popis nen dostupn.",origin:"Pvod",output:"Vstup",handled:"Zachycen chyba",rollback:"Rollback",solution:"een",indlqdesc:"Data byla uloena do fronty nedokonench bh.",nobundles:"Tato operace nevygenerovala dn zznamy.",noresults:"Vyhledvn nenalo dn vsledky.",nobundles2:"Data ve scni jsou oznaena jako dvrn, proto je zde nememe zobrazit.",nobundles3:"Tato operace nevygenerovala dn zznamy. Kliknutm na tlatko ne mete manuln zvolit, od kterho zznamu m modul data zpracovvat.",resolvedlq:"Vyeit",autohandler:{desc:"Chcete-li tuto chybu automaticky oetit, vyberte jednu z monost ne. Vznikne tm ve scni nov vtev pro oeten chyby, kterou bude mon libovoln roziovat.",help:"Vce informac o oetovn chyb",catch:"Zachytit {{type}}",title:"Automatick oeten chyby",ignore:"Ignorovat chyby typu {{type}}",catchall:"Zachytit ve",ignoreall:"Ignorovat vechny chyby"},loadingdesc:"Natm detailn popis."},upgrade:{title:"Upgradovat modul",confirm:"Upgrade modulu z verze {{old}} na verzi {{new}}. Pokraovat?"},accounts:{name:"Jmno spojen",type:"Typ spojen",popup:"Vyskakovac okno bylo zablokovno. Povolte prosm vyskakovac okna a zkuste to znovu.",create:"Vytvoit spojen",extend:"Rozit oprvnn",default:"Moje {{service}} spojen",waiting:"ekm na autorizaci...",creating:"Vytvm spojen...",authorize:"Kliknutm zde spustte ovovac proces.",extending:"Roziuji oprvnn...",verifying:"Ovuji spojen...",extendhelp:"Abychom mohli vybran spojen pout, bude teba u nj rozit rozsah udlench oprvnn.",createfailed:"Spojen se nepodailo navzat.",extendfailed:"Oprvnn se nepodailo rozit.",verifyfailed:"Spojen se nepodailo ovit."},keychain:{name:"Jmno kle",type:"Typ kle",create:"Vytvoit kl",creating:"Vytvm kl",createfailed:"Kl se nepodailo vytvoit."},messages:{title:"Zprvy",general:"Obecn",runanyway:"Pesto spustit",saveanyway:"Pesto uloit",deleteanyway:"Pesto smazat",ignorewarnings:"Ignorovat varovn",changeValues:"Zmnit hodnoty",continueWithoutChanges:"Pokraovat beze zmn",referencedModuleWarning:"Module referenced in {{package}} - {{module}} [{{moduleNodeId}}]."},orderRoutes:{warning:"Fallback always runs last."},scenario:{dlq:{help:"Nedokonen bhy oznauj schrnku, do n se ukldaj data, kter nebylo mon zpracovat z dvodu chyby nebo data, kter nebylo mon doruit do clov destinace. Zznamy uloen do Nedokonench bh je mon optovn zpracovat pozdji. Pozor: takto uloen data se potaj do limit Vaeho tarifu (loit).",label:"Povolit ukldn nedokonench bh"},title:"Nastaven scne",dataloss:{help:"Pokud se zznam nepoda uloit do nedokonench bh (nap. z dvodu nedostatku volnho msta), budou v ppad zapnut tto volby data zahozena, aby nedolo k peruen zpracovvn scne. Tato volba se hod pro scne, kdy je nejvy prioritou neustle bc scn, nikoliv chybn pchoz data.",label:"Povolit zahazovn dat"},maxerrors:{help:"Uruje maximln poet chybnch bh scne, po kterm se scn zastav.",label:"Maximln poet chyb"},autocommit:{help:'Zapnutm tto volby budou vechny operace ihned pechzet do fze commit - tedy data budou ihned propsna a nebude mon je v ppad chyby obnovit. Ne vechny moduly podporuj transaknost - pouze moduly oznaen ttkem "ACID" transakce podporuj.',label:"Automatick commit"},roundtrips:{help:"Uruje maximln poet cykl v rmci jednoho naplnovanho bhu scne. Pokud scne nezan triggerem, bude vdy proveden dan poet cykl. O tom, jak funguj cykly, se dotete v na dokumentaci.",label:"Maximln poet iterac"},sequential:{help:"V ppad, e existuje u scne nedokonen bh, je pi zapnut tto volby scn pozastaven a do doby, ne budou vechny nedokonen bhy vyeeny. Zrove je zarueno, e vechny nedokonen bhy budou vdy eeny vhradn v poad, v jakm vznikly.",label:"Zle na poad zpracovn"},confidential:{help:"Zapnutm tto volby nebude {{integromat}} logovat dn data. Monosti ladn tak budou znaen omezeny.",label:"Data jsou dvrn"},autocommittriggerlast:{help:"",label:"Trigger commitovat jako posledn"},freshVariables:{help:"Pokud je tato monost zapnut, pi kadm pokusu o dokonen Nedokonenho Bhu se nataj aktuln hodnoty Organizanch a Tmovch promnnch. Jinak se pouij hodnoty, kter byly platn pi pvodnm bhu scne. Toto nastaven ovlivuje i vechny existujc Nedokonen Bhy.",label:"Vdy pout aktuln hodnoty promnnch"},maxParallelExecutions:{help:"Defines the maximum amount of parallel executions during a scheduled scenario run. This number restrict high volume scenarios from consuming too much resources. If a scenario limit is set to one that means that scenario is not switched to sequential processing but acts as in parallel processing only limited to one thread.",label:"Max. amount of parallel executions"},limit:{help:"With this option enabled, {{integromat}} will not log any data. Debugging options will then be very limited.",label:"Limit"}},template:{desc:"Popis ablony",name:"Jmno ablony",title:"Nastaven ablony"},dlqbundle:{output:"Vstupn data"},aggregator:{node:"Modul zdrojovch dat",array:"Pole agregovanch zznam",fields:"Agregovan poloky",target:"Typ clov struktury",groupBy:"Seskupit (group by)",nodehelp:"Vyberte prosm modul, jeho vstup chcete agregovat.",notarget:"Vlastn",groupByHelp:"Zde mete definovat vraz obsahujc jednu nebo vce namapovanch poloek. Agregovan data budou rozdlena do skupin podle vyhodnocenho vrazu. Vstupem z modulu je pak zznam, kter obsahuje vyhodnocen vraz (kl) a agregovan text. Kl mete pout pro mapovn v dalch modulech.",stopIfEmpty:"Zastavit prchod pi przdn agregaci"},datastores:{create:"Vytvoit datov sklad"},scheduling:{end:{help:"Vyplte pouze v ppad, e chcete scn spoutt do uritho data.",label:"Konec"},date:"Datum",days:"Dny",once:"Jednou",time:"as",daily:"Denn",start:{help:"Vyplte pouze v ppad, e chcete scn spoutt a od uritho data.",label:"Zatek"},title:"Nastaven asovho plnu",months:"Msce",weekly:"Dny v tdnu",yearly:"Konkrtn datum",ondemand:"Na dost",monthly:"Dny v msci",time_to:"as do",interval:{help:"asov interval opakovanho spoutn v minutch.",label:"Minut"},restrict:{help:"Scn mete spoutt pouze ve zvolench asovch intervalech. Specifikovat intervaly mete nejen na asov rozmez, ale tak na dny v tdnu nebo na msce v roce.",label:"Pokroil plnovn"},schedule:"Spoutt scn:",time_from:"as od",immediately:"Okamit",indefinitely:"V pravidelnm intervalu",schedulingtypechange:"Chystte se publikovat zmnu typu plnovn. Potvrte prosm nov nastaven plnovn."},remindtoturnscenarioon:{title:"Activate your scenario",info:"Your scenario is scheduled but not active yet.",calltoaction:"Would you like to activate it now to run as planned?",activatelater:"Not yet",activatenow:"Activate scenario"},inspectfilter:{title:"Inspektor filtru"},inspectmodule:{title:"Inspektor modulu"},schedulingmode:{title:"Reim plnovn",run:"Spoutt scn",immediately:"Okamit",scheduled:"Podle asovho plnu"}},wizard:{title:"Prvodce vytvoenm scne",chooseteam:"Zvolte tm, ve kterm chcete scn vytvoit.",chooseorg:"Zvolte organizaci, ve kter chcete scn vytvoit."},buttons:{logs:"Logs",stop:"Zastavit",setup:"Nastaven",rename:"Pejmenovat",unlink:"Odpojit",addnote:"Pidat poznmku",execute:"Jednorzov sputn",explain:"Znzornit tok",help:"Pomoc",scheduling:"asov pln",importBlueprint:"Import blueprint",exportBlueprint:"Export blueprint",exportController:"Export controller",showids:"Zobrazit ID modul",activate:"Aktivovat",addroute:"Pidat vtev",orderRoutes:"Order routes",addmodule:"Pidat modul",addrouter:"Pidat router",autoalign:"Zarovnat automaticky",closeedit:"Ukonit editaci",delmodule:"Smazat modul",duplicate:"Duplikovat",forcestop:"Vynutit zastaven",openqueue:"Zobrazit frontu",runsingle:"Spustit samostatn",resetepoch:"Vybrat, kde zat",enableroute:"Povolit cestu",setupfilter:"Nastavit filtr",choosemodule:"Vybrat modul",disableroute:"Zakzat cestu",scenariosetup:"Nastaven scne",templatesetup:"Nastaven ablony",adderrorhandler:"Vloit oeten chyby",publish:"Publikovat",setupscheduling:"Nastavit asov pln",copy:"Koprovat modul",paste:"Vloit",copymultiple:"Koprovat moduly",delmultiple:"Smazat moduly",snow:"Let it snow",routeOrder:"Show route order",reorderAlign:"Auto-align arranges with set order",selectLinkModules:"Select whole branch",cancel:"Cancel"},flashes:{dlqsaved:"Nedokonen bh byl uloen.",dlqResolvedToast:"Nedokonen bh spn vyeen",refreshmeta:"Natm metadata...",refreshmetafailed:"Natn metadata selhalo.",conceptsaved:"Koncept byl uloen.",scenariopublished:"Scn byl vypublikovn.",scenariosaved:"Scn byl uloen.",iosaved:"Specifikace vstupu/vstupu scne byla uloena.",scenariosavedandpublished:"Scn byl uloen a vypublikovn.",templatesaved:"ablona byla uloena.",scenarioloaded:"Scn byl spn naten.",templateloaded:"ablona byla spn natena.",moduledatachanged:"Poten bod triggeru byl spn zmnn.",notsavedyet:"Scn jet nebyl uloen",streamingNotInitialized:"Streamer je nedostupn",scenarioMustIncludeModuleTitle:"Can't schedule empty scenario",scenarioMustIncludeModule:"Your scenario needs at least one module before you can schedule it. To add a module, click the giant plus."},statuses:{preparing:"Requesting execution...",waiting:"Waiting for data...",running:"Running...",stopping:"Requesting stop..."},scenario:{id:"ID scne",log:"Log",runBy:"Run by:",new:"Nov scn",changed:"Ve scni byly provedeny neuloen zmny.",running:"Nelze opustit bc scn.",created:"Datum vytvoen",roundtrip:"Cyklus {{roundtrip}}",lastchange:"Datum posledn zmny",integration:"Integrace {{value}}",noroundtrips:"dn cykly",emptyintegration:"Przdn integrace"},template:{id:"ID ablony",new:"Nov ablona",changed:"V ablon byly provedeny neuloen zmny."},tutorial:{kb:`Toto byla ukzka zkladn prce s {{integromat}}. Nae monosti jsou vak mnohem komplexnj, pro vce informac se podvejte do na [npovdy nebo na video tutorily](/cs/kb).

Tento vzorov scn si mete dle upravit dle svch pedstav, nebo prvodce ukonit.`,rss:"Toto je RSS modul, kter zpracuje Vmi zadan RSS feed. Mete si do nj vloit vlastn URL nebo nechte pole jak je pro pouit pedvyplnnho {{integromat}} blog feedu. Pot kliknte na OK.",exit:"Ukonit prvodce",skip:"Peskoit",epoch:"Vyberte lnek, kter chcete zpracovat jako prvn.",perex:"{{integromat}} um spoustu vc a pracuje se snm snadno. Chtli bychom Vm ukzat, jak lehce si lze ulehit prci a vytvoit automatizaci na est kliknut.",start:"Spustit prvodce",step1:"Ukeme si, jak jednodue vytvoit scn, kter ze zvolenho RSS feedu automaticky nate posledn lnek a zale jej na email.",email1:"Vbnm scni byste vtomto modulu zadvali i emailovou adresu pjemce a dal vci jako pedmt a podobn. Pro ely naeho prvodce jsme tyto monosti vypnuli a email bude odesln na Vai emailovou adresu, kterou jste pouili pi registraci.",email2:"Zde se nastavuje obsah emailu. Pednastavili jsme vkldn titulku a popisu lnku. Kliknutm do pole si mete strukturu snadno upravit nebo si zvolit dal poloky z RSS feedu, kter budou vloeny do obsahu emailu. Pot kliknte na OK.",error1:"Ze zadan adresy se nm bohuel nepodailo nast dn lnek. Zadejte jinou adresu nebo v poli ponechejte pedvyplnnou adresu feedu {{integromat}} blogu. Pot kliknte na OK.",error2:"Email se nepodailo odeslat, zkontrolujte prosm nastaven ne a opravte chyby.",success:"Scn probhl spn. Zpracovali jsme posledn lnek zRSS feedu a poslali Vm jej na email, podvejte se sami ",welcome:"Vtejte! Dkujeme za registraci.",continue:"Chcete pokraovat stmto vzorovm scnem?"},execution:{id:"ID bhu",accepted:"dost byla pijata, ekm na server.",accepted2:"dost byla pijata, ekm na data.",completed:"Bh scne byl dokonen.",haserrors:"Scn obsahuje chyby. Nejprve je opravte a pot spuste scn znovu.",preparing:"Pipravuji scn na sputn.",alreadyrunning:"Scn je ji sputn."},activitystream:{1:{1:"Scn byl inicializovn.",2:"Scn byl inicializovn s varovnm.",3:"Inicializace scne selhala s chybou."},2:{1:"Scn byl finalizovn.",2:"Scn byl finalizovn s varovnm.",3:"Finalizace scne selhala s chybou."},3:{1:"Cyklus #{{n}} byl sputn."},4:{1:"Cyklus #{{n}} byl dokonen."},5:{1:"Operace byla sputna.",2:"Operace byla sputna s varovnm.",3:"Spoutn operace selhalo s chybou."},6:{1:"Operace byla dokonena.",2:"Operace byla dokonena s varovnm.",3:"Operace selhala s chybou."},7:{1:"Sputna fze Commit."},8:{1:"Fze Commit byla dokonena.",2:"Fze Commit byla dokonena s varovnm.",3:"Fze Commit selhala s chybou."},9:{1:"Sputna fze Rollback."},10:{1:"Fze Rollback byla dokonena.",2:"Fze Rollback byla dokonena s varovnm.",3:"Fze Rollback selhala s chybou."},11:{1:"Pechod na vtev {{route}}."},12:{1:"Modul byl inicializovn.",2:"Modul byl inicializovn s varovnm.",3:"Inicializace modulu selhala s chybou."},13:{1:"Modul byl finalizovn.",2:"Modul byl finalizovn s varovnm.",3:"Finalizace modulu selhala s chybou."},14:{1:"Zznam neproel pes filtr.",2:"Zznam neproel pes filtr s varovnm.",3:"Zznam neproel pes filtr z dvodu chyby."},15:{3:"Agregace modulu selhala s chybou."},16:{1:"Direktiva byla zpracovna.",2:"Direktiva byla zpracovna s varovnm.",3:"Zpracovn direktivy selhalo s chybou."},17:{1:"Pi operaci byla zachycena chyba."},18:{1:"Zznam proel pes filtr."}},appsSearch:{allApps:"All apps",appsInScenario:"Apps in scenario",errorHandlers:"Error handlers",searchPlaceholder:"Search apps or modules",noResultLinks:{cantFind:"Can't find what you're looking for?",useHttpTitle:"Use the HTTP app",useHttpDescription:'Connect to the majority of services through the universal HTTP app. Read more in our <a href="{{helpUrl}}" target="_blank">Help center</a>.',requestAppTitle:"Request an app",requestAppDescription:"Let us know what apps are important to you.",hireDeveloperTitle:"Hire a developer",hireDeveloperDescription:"Match with a Make partner who can create apps for you.",createAppTitle:"Create an app",createAppDescription:"Use our apps builder to create apps yourself.",createAppUsingAiTitle:"Get help from AI Assistant",createAppUsingAiDescription:"Have the AI Assistant guide you in connecting to a service through the universal HTTP app."}},notes:{notePlaceholder:"Unleash your inner thoughts here!",editNote:"Edit note",export:"Export",deactivatedUser:"Deactivated user",unknownUser:"You",unknownDate:"Just now"}}),typeof imt<"u"){var NAME="inspector",LANG="en";Dictionary.create(NAME,LANG,{common:{notes:"Notes",stepn:"Step {{n}}",tools:"Tools",bundlen:"Bundle {{n}}",controls:"Controls",imtindex:"Bundle order position",favorites:"Favorites",imtlength:"Total number of bundles",valuesofn:"Values of operation {{n}}",operationn:"Operation {{n}}",closenosave:"Quit without saving",confirmexit:"Do you really want to quit editing?",savechanges:"Save changes",imtagglength:"Total number of aggregated bundles",showadvanced:"Show advanced settings",saveandpublish:"Save and publish",discardchanges:"Discard changes",runIncompleteExecution:"Run the incomplete execution",edit:"Edit",fallback:"fallback",start:"Start",status:"Status",logs:"Logs",openLog:"Open log",delete:"Delete"},errors:{multiple:"Multiple errors.",notsetup:"The module is not set up.",invalidid:"Invalid ID.",notinflow:"The module is not connected to the data flow.",breaknodlq:"This directive requires storing of incomplete executions to be enabled.",noaggsource:"Source node is not set.",trignosched:"A trigger must be the first module in a scenario.",directiveout:"Directive is outside of an error handler.",transformeronend:"A transformer should not be the last module in the route.",transformeronstart:"A transformer should not be the first module in a scenario.",unsaved:"The module contains unsaved changes.",customVariablesOnly:"This incomplete execution references custom variables. Do you want to change the custom variable values?",scenarioInputsOnly:"This incomplete execution references scenario inputs. Do you want to change the scenario input default values?",customVarsAndScenarioInputs:"This incomplete execution references custom variables and scenario inputs. Do you want to change the variable values or scenario input default values?",nonExistingVariables:{title:"Cannot save scenario with nonexistent custom variables",subtitle:"The scenario contains custom variables that dont exist in Make:",saving:"To save the scenario, delete the custom variables from the modules.",footer:"New custom variables can be created on the {{organization}} and {{team}} menu"}},toolbar:{collapse:"Collapse toolbar",expand:"Expand toolbar"},panels:{dlq:{title:"Incomplete execution",reason:"Reason for interruption",organizationVariablesTitle:"Organization Variables",teamVariablesTitle:"Team Variables",scenarioInputsTitle:"Scenario Inputs"},link:{else:"Set the route as a fallback. A fallback route is a backup route that is used if the source data didn't go through any other route. One router can have only one fallback route.",route:"Set up a filter",title:"Set up a filter"},udts:{created:"The data structure has been successfully created.",default:"My data structure",name:"Data structure name",saved:"The changes have been successfully saved.",title:"Data structures"},epoch:{all:"All",title:"Choose where to start ",choose:"Choose manually",fromid:"Since specific ID",nodata:"No options available.",fromnow:"From now on",invalid:"Before you can choose where to start, you must first fix errors in the module settings.",fromdate:"Since specific date"},hooks:{copy:"Copy address to clipboard",gone:"Webhook was inactive for too long and therefore was removed.",show:"Show address",copied:"Address was copied to clipboard.",create:"Add a hook",attached:"We read your mind, we attached this webhook to {{service}} automatically for you.",listening:"{{integromat}} is now listening for the data and will determine the data structure from the incoming data automatically. To initiate this, please send your data sample to the webhook address displayed above.",determined:"Successfuly determined.",redetermine:"Re-determine data structure"},notes:{help:"To add a new note, right-click the module or link you want to add a note to."},queue:{alert:"There are {{n}} records in the queue waiting to be processed.",title:"Unprocessed data in webhook queue",listen:"Wait for new data",proceed:"Use existing data",disabled:"Webhook used in this scenario is disabled and therefore is not accepting any data.",question:"You can run the scenario with the existing data, or wait for more data. If new data comes, the webhook will process only new data."},schedulinghooks:{delete:"Delete queue",proceed:"Process existing",question:"There are unprocessed records in the queue. Do you wish to delete them?"},feeder:{provider:"Source module"},module:{autolink:"Connect automatically",maxresults:"Set the maximum number of results that {{integromat}} will process during one cycle, which refers to the number of repetitions per scenario run. The setting applies only if the scenario is not scheduled to run immediately. Avoid setting the number of results too high, as it may cause an interruption of the connection with the 3rd party service due to timeout. {{integromat}} does not have control over this. We recommend setting a lower value and either increasing the maximum number of cycles or scheduling the scenario to run more frequently. For more detailed information, please refer to the online [Help](kb://scenarios/scenario-settings#7---max-number-of-cycles).",notconnected:"Prior to configuring the module, you need to connect it to the scenario flow.",nomodules:"No module found"},offers:{add:"Add another module",addother:"Add another module"},revert:{ttl:"Versions older than 60 days are removed automatically.",pick:"Pick the version",title:"Previous versions",success:"Blueprint was restored. No changes are effective unless you save the scenario.",version:"Version"},browser:{similar:"Similar scenarios",notfound:"Did not find what you're looking for? Let us know and we will do everything we can to add the service.",recommended:"Recommended",selectmodule:"Select a module",notfoundhtml:"Dont see what youre looking for? <a href='https://{{hqUrl}}/en/app-ideas' target='_blank'>Request an app.</a>"},devices:{add:"Add a device"},moduleHasNoteDeleteModal:{header:"Delete module",body:"<strong>This module has a note attached.</strong> Do you want to continue and delete both the module and its note?"},noteDeleteModal:{header:"Delete note",body:"Do you want to delete <strong>this note and its content</strong>? It will be permanently erased once you save your scenario."},inspect:{fin:"Finalization",desc:"Description",init:"Initialization",indlq:"Incomplete execution",input:"Input",commit:"Commit",nodesc:"No description available.",origin:"Origin",output:"Output",handled:"Handled error",rollback:"Rollback",solution:"Solution",indlqdesc:"The data was saved in the queue of Incomplete Executions.",nobundles:"No bundles were generated by this operation.",noresults:"No results have been found.",nobundles2:"The data contained in the scenario is marked as confidential and therefore cannot be displayed.",nobundles3:"The module didn't return any new data.<br>You can use the <strong>Choose where to start</strong> settings to select the first piece of data you want to return and start working with. You can return data starting from a specific point or all past data.",resolvedlq:"Resolve",autohandler:{desc:"If you want to handle this error automatically, choose one of the following options. This will create a new error-handler route in your scenario. You can then expand the route in any way you like.",help:"More information about error handling",catch:"Catch {{type}}",title:"Automatic error handler",ignore:"Ignore errors of type {{type}}",catchall:"Catch all",ignoreall:"Ignore all errors"},loadingdesc:"Loading description."},upgrade:{title:"Upgrade module",confirm:"Module upgrade from the {{old}} version to the {{new}} version. Continue?"},accounts:{name:"Connection name",type:"Connection type",popup:"The pop-up window has been blocked.  Please enable the pop-up windows and try again.",create:"Create a connection",extend:"Extend permissions",default:"My {{service}} connection",waiting:"Waiting for authorization...",creating:"Creating a connection...",authorize:"Click here to start the authorization process.",extending:"Extending permissions...",verifying:"Verifying connection...",extendhelp:"You need to extend the permissions given to the selected connection so that we can use it.",createfailed:"Failed to create a connection.",extendfailed:"Failed to extend permissions",verifyfailed:"Failed to verify the connection."},keychain:{name:"Key name",type:"Key type",create:"Create a key",creating:"Creating a key...",createfailed:"Failed to create a key."},messages:{title:"Messages",general:"General",runanyway:"Run anyway",saveanyway:"Save anyway",deleteanyway:"Delete anyway",ignorewarnings:"Ignore warnings",changeValues:"Change values",continueWithoutChanges:"Continue without changes",referencedModuleWarning:"Module referenced in {{package}} - {{module}} [{{moduleNodeId}}]."},orderRoutes:{warning:"Fallback always runs last."},scenario:{dlq:{help:"The term Incomplete Executions refers to the folder that {{integromat}} uses to store data that could not be processed due to an error or could not be delivered to its final destination. The records stored in the Incomplete Execution folder can be reprocessed later. Note: The data stored in this folder is counted into the limits of your subscription plan (Storage space). ",label:"Allow storing of Incomplete Executions"},title:"Scenario settings",dataloss:{help:"Provides the option to enable data loss if {{integromat}} fails to save a bundle to the queue of Incomplete Executions (e.g. due to a lack of free space). With this option enabled, the data will be lost in order to prevent scenario execution from being interrupted. You may enable this option for a scenario where it is imperative the scenario keeps running and the incoming erroneous data is not that important.",label:"Enable data loss"},maxerrors:{help:"Define the number of consecutive failed executions before the scenario is deactivated.",label:"Number of consecutive errors"},autocommit:{help:'If this option is enabled, each operation is immediately switched to the commit phase, i.e. data is committed right away and cannot be restored in the case of an error.  Not every module supports transactionality. Transactions are supported only by modules marked with the tag "ACID".',label:"Auto commit"},roundtrips:{help:"Defines the maximum number of cycles allowed during a scheduled scenario run. If the scenario does not start with a trigger, the specified maximum number of cycles will be always performed. For more information about how cycles work, please see the online Help.",label:"Max number of cycles"},sequential:{help:"If you enable this option and the Incomplete Execution folder contains an incomplete scenario execution, the scenario will be paused until all incomplete executions are resolved. This option also guarantees that all incomplete executions will always be solved in the order in which they occurred.",label:"Sequential processing"},confidential:{help:"With this option enabled, {{integromat}} will not log any data. Debugging options will then be very limited.",label:"Data is confidential"},autocommittriggerlast:{help:"",label:"Commit trigger last"},freshVariables:{help:`If you updated values in the variables used in the scenario:
					- select **Yes** to resolve all incomplete executions of the scenario with the latest variable values
					- select **No** to resolve all incomplete executions with variable values used in the original execution`,label:"Update variable values within incomplete execution"},maxParallelExecutions:{help:"Defines the maximum amount of parallel executions during a scheduled scenario run. This number restrict high volume scenarios from consuming too much resources. If a scenario limit is set to one that means that scenario is not switched to sequential processing but acts as in parallel processing only limited to one thread.",label:"Max. amount of parallel executions"},limit:{help:"With this option enabled, {{integromat}} will not log any data. Debugging options will then be very limited.",label:"Limit"}},template:{desc:"Template description",name:"Template name",title:"Template settings"},dlqbundle:{output:"Output data"},aggregator:{node:"Source Module",array:"Array of aggregated bundles",fields:"Aggregated fields",target:"Target structure type",groupBy:"Group by",nodehelp:"Please select the module whose output you wish to aggregate.",notarget:"Custom",groupByHelp:"Under the Group by field, you can define an expression containing one or more mapped items. The aggregated data will be then separated under Groups with the same expression's value. Each Group outputs as a separate bundle containing a Key with the evaluated expression and the aggregated text. By doing this, you can use the Key as a filter in subsequent modules.",stopIfEmpty:"Stop processing after an empty aggregation"},datastores:{create:"Create a data store"},io:{config:{title:"Scenario inputs",input:"Input structure",output:"Output structure",subtitle:"Define inputs",patternHelp:"Can only contain letters, digits, and the `_` symbol. Cannot start with a digit or `_` followed by a digit."},prompt:{title:"Scenario inputs"},buildTime:{groups:{account:"Connections"},empty:"No value",title:"Build-time value",unnamed:"<unnamed input>"}},scheduling:{end:{help:"Fill in only if you want the scenario to run until a specific date.",label:"End"},date:"Date",days:"Days",once:"Once",time:"Time",daily:"Every day",start:{help:"Fill in only if you want the scenario to be run from a specific date.",label:"Start"},title:"Schedule setting",months:"Months",weekly:"Days of the week",yearly:"Specified dates",ondemand:"On demand",monthly:"Days of the month",time_to:"Time to",interval:{help:"The time interval in which the scenario should be repeated (in minutes).",label:"Minutes"},restrict:{help:"You can define specific time intervals during which your scenario is to run. You can specify time-of-day intervals, weekdays or months.",label:"Advanced scheduling"},schedule:"Run scenario:",time_from:"Time from",immediately:"Immediately",indefinitely:"At regular intervals",schedulingtypechange:"You're about to publish a change in the scheduling type. Please confirm the new scheduling settings."},remindtoturnscenarioon:{title:"Activate your scenario",info:"Your scenario is scheduled but not active yet.",calltoaction:"Would you like to activate it now to run as planned?",activatelater:"Not yet",activatenow:"Activate scenario"},inspectfilter:{title:"Filter inspector"},inspectmodule:{title:"Module inspector"},schedulingmode:{title:"Scheduling mode",run:"Run scenario",immediately:"Immediately",scheduled:"According to scheduling"}},wizard:{title:"Scenario creation guide",chooseteam:"Choose which team you want to create a scenario for.",chooseorg:"Choose which organization you want to create a scenario for."},buttons:{logs:"Logs",stop:"Stop",setup:"Settings",rename:"Rename",unlink:"Unlink",addnote:"Add a note",execute:"Run once",explain:"Explain flow",help:"Help",scheduling:"Scheduling",importBlueprint:"Import blueprint",exportBlueprint:"Export blueprint",exportController:"Export controller",showids:"Show module ID",activate:"Activate",addroute:"Add a route",orderRoutes:"Order routes",addmodule:"Add a module",addrouter:"Add a router",autoalign:"Auto-align",closeedit:"Close editing",delmodule:"Delete module",duplicate:"Clone",forcestop:"Force stop",openqueue:"Show queue",runsingle:"Run this module only",resetepoch:"Choose where to start",enableroute:"Enable route",setupfilter:"Set up a filter",choosemodule:"Choose module",disableroute:"Disable route",scenariosetup:"Scenario settings",templatesetup:"Set up a template",adderrorhandler:"Add error handler",publish:"Publish",setupscheduling:"Set up a schedule",copy:"Copy module",paste:"Paste",copymultiple:"Copy modules",delmultiple:"Delete modules",snow:"Let it snow",routeOrder:"Show route order",reorderAlign:"Auto-align arranges with set order",selectLinkModules:"Select whole branch",map:"Map",p12:"p12",show:"Show",addor:"Add OR rule",addand:"Add AND rule",browse:"Browse",choose:"Choose",additem:"Add item",extract:"Extract",reorder:"Change the order",edititem:"Edit item",cloneitem:"Clone item",generator:"Generator",choosefile:"Click here to choose file",choosefolder:"Click here to choose folder",showadvanced:"Show advanced settings",cancel:"Cancel"},flashes:{dlqsaved:"Incomplete execution was saved.",dlqResolvedToast:"Incomplete execution was resolved successfuly",refreshmeta:"Refreshing metadata...",refreshmetafailed:"Failed to refresh metadata.",conceptsaved:"The concept was saved.",scenariopublished:"The scenario was published.",scenariosaved:"The scenario was saved.",iosaved:"Scenario input/output specification was saved.",scenariosavedandpublished:"The scenario was saved and published.",templatesaved:"The template was saved.",templateready:"Template is ready to go!",scenarioloaded:"The scenario was successfully loaded.",templateloaded:"The template was successfully loaded.",moduledatachanged:"Trigger starting point was successfully changed.",scenarioNotSavedYet:"The scenario is not saved yet",streamingNotInitialized:"Streamer is not available",scenarioMustIncludeModuleTitle:"Can't schedule empty scenario",scenarioMustIncludeModule:"Your scenario needs at least one module before you can schedule it. To add a module, click the giant plus."},statuses:{preparing:"Requesting execution...",waiting:"Waiting for data...",running:"Running...",stopping:"Requesting stop..."},scenario:{id:"Scenario ID",log:"Log",runBy:"Run by:",new:"New scenario",changed:"There are unsaved changes in the scenario.",running:"Cannot exit a running scenario.",created:"Date created",roundtrip:"Cycle {{roundtrip}}",lastchange:"Last changed",integration:"Integration {{value}}",noroundtrips:"No cycles",emptyintegration:"Empty integration",lognotfound:"Log could not be found",failedToStart:"The scenario failed to start the execution. See the error message in the history log.",failedToStartSupport:"Try again later or report the issue to {{integromat}} support."},template:{id:"Template ID",new:"New template",changed:"There are unsaved changes in the template."},tutorial:{kb:`We have shown you only the basics of how to work with {{integromat}}. {{integromat}} offers much more complex possibilities.  For more information, please see our [Help or video tutorials](/en/kb).

Next, you can customize this sample scenario to suit your requirements, or exit the guide.`,rss:"This RSS module will process the RSS feed you specify. You can either insert a custom URL to any RSS feed or use {{integromat}}'s blog feed that we have pre-entered. Once you are finished, click OK.",exit:"Exit guide",skip:"Skip",epoch:"Choose the article you want to process first.",perex:"{{integromat}} is easy to use and has almost unlimited possibilities. We would like to show you how easily you can simplify your work routines and create an automation with just six clicks.",start:"Get started",step1:"Let's create a scenario that will automatically retrieve the most recent article from a specified RSS feed and send it via email.",email1:"When setting up this module in a common scenario, you have the option to specify an email address of the recipient and other parameters. In this guide, we have disabled these parameters, and the email will be sent to the email address that you used upon registration.",email2:"Here you can specify the contents of the email. We have preset the title and description of the article for you. If you wish to modify the structure or insert other RSS feed items, just click this field. When you have finished specifying the content, click OK. ",error1:"We were unable to retrieve articles from the specified URL. Enter another URL or leave the field as it is and use the predefined URL of {{integromat}}'s blog feed. Once you are finished, click OK.",error2:"We were unable to send the email. Please check the settings below and correct errors.",success:"The scenario has been successfully executed. We have processed the most recent article from the RSS feed and sent it to your email address. Just check your mailbox ",welcome:"Welcome! Thank you for your registration.",continue:"Do you want to continue with this sample scenario?"},execution:{id:"Run ID",accepted:"The request was accepted. Waiting for the server.",accepted2:"The request was accepted. Waiting for data.",completed:"The scenario run was completed.",haserrors:"The scenario contains errors.  First fix the errors and then rerun the scenario.",preparing:"Preparing scenario for running.",alreadyrunning:"The scenario is already running."},activitystream:{1:{1:"The scenario was initialized.",2:"The scenario was initialized with a warning.",3:"Scenario initialization failed with an error."},2:{1:"The scenario was finalized.",2:"The scenario was finalized with a warning.",3:"Scenario finalization failed with an error."},3:{1:"Cycle #{{n}} was started."},4:{1:"Cycle #{{n}} was completed."},5:{1:"The operation was started.",2:"The operation was started with a warning.",3:"Operation start failed with an error."},6:{1:"The operation was completed.",2:"The operation was completed with a warning.",3:"The operation failed with an error."},7:{1:"The Commit Phase has been started."},8:{1:"The Commit Phase was completed.",2:"The Commit Phase was completed with a warning.",3:"The Commit Phase failed with an error."},9:{1:"The Rollback Phase has been started."},10:{1:"The Rollback Phase was completed.",2:"The Rollback Phase was completed with a warning.",3:"The Rollback Phase failed with an error."},11:{1:"Jump to the next route {{route}}."},12:{1:"The module was initialized.",2:"The module was initialized with a warning.",3:"Module initialization failed with an error."},13:{1:"The module was finalized.",2:"The module was finalized with a warning.",3:"Module finalization failed with an error."},14:{1:"The bundle did not pass through the filter.",2:"The bundle did not pass through the filter with a warning.",3:"The bundle did not pass through the filter because of an error."},15:{3:"Module aggregation failed with an error."},16:{1:"Directive was processed.",2:"Directive was processed with a warning.",3:"Failed to process this directive due to error."},17:{1:"An error has been caught during operation."},18:{1:"The bundle passed through the filter."}},appsSearch:{allApps:"All apps",appsInScenario:"Apps in scenario",errorHandlers:"Error handlers",searchPlaceholder:"Search apps or modules",noResultLinks:{cantFind:"Can't find what you're looking for?",useHttpTitle:"Use the HTTP app",useHttpDescription:'Connect to the majority of services through the universal HTTP app. Read more in our <a href="{{helpUrl}}" target="_blank">Help center</a>.',requestAppTitle:"Request an app",requestAppDescription:"Let us know what apps are important to you.",hireDeveloperTitle:"Hire a developer",hireDeveloperDescription:"Match with a Make partner who can create apps for you.",createAppTitle:"Create an app",createAppDescription:"Use our apps builder to create apps yourself.",createAppUsingAiTitle:"Get help from AI Assistant",createAppUsingAiDescription:"Have the AI Assistant guide you in connecting to a service through the universal HTTP app."}},notes:{notePlaceholder:"Unleash your inner thoughts here!",editNote:"Edit note",export:"Export",deactivatedUser:"Deactivated user",unknownUser:"You",unknownDate:"Just now"},filter:{exist:{label:"Exists"},notexist:{label:"Does not exist"},"date:less":{label:"Earlier than"},"time:less":{label:"Less than"},"array:less":{label:"Array length less than"},"date:equal":{label:"Equal to"},"text:equal":{label:"Equal to"},"time:equal":{label:"Equal to"},"array:equal":{label:"Array length equal to"},"number:less":{label:"Less than"},"date:greater":{label:"Later than"},"number:equal":{label:"Equal to"},"text:contain":{label:"Contains"},"text:endwith":{label:"Ends with"},"text:pattern":{label:"Matches pattern"},"time:greater":{label:"Greater than"},"array:contain":{label:"Contains"},"array:greater":{label:"Array length greater than"},"boolean:equal":{label:"Equal to"},"date:notequal":{label:"Not equal to"},"text:equal:ci":{label:"Equal to (case insensitive)"},"text:notequal":{label:"Not equal to"},"time:notequal":{label:"Not equal to"},"array:notequal":{label:"Array length not equal to"},"number:greater":{label:"Greater than"},"text:startwith":{label:"Starts with"},"number:notequal":{label:"Not equal to"},"text:contain:ci":{label:"Contains (case insensitive)"},"text:endwith:ci":{label:"Ends with (case insensitive)"},"text:notcontain":{label:"Does not contain"},"text:notendwith":{label:"Does not end with"},"text:notpattern":{label:"Does not match pattern"},"text:pattern:ci":{label:"Matches pattern (case insensitive)"},"array:contain:ci":{label:"Contains (case insensitive)"},"array:notcontain":{label:"Does not contain"},"boolean:notequal":{label:"Not equal to"},"date:lessorequal":{label:"Earlier than or equal to"},"text:notequal:ci":{label:"Not equal to (case insensitive)"},"time:lessorequal":{label:"Less than or equal to"},"array:lessorequal":{label:"Array length less than or equal to"},"text:notstartwith":{label:"Does not start with"},"text:startwith:ci":{label:"Starts with (case insensitive)"},"number:lessorequal":{label:"Less than or equal to"},"text:notcontain:ci":{label:"Does not contain (case insensitive)"},"text:notendwith:ci":{label:"Does not end with (case insensitive)"},"text:notpattern:ci":{label:"Does not match pattern (case insensitive)"},"array:notcontain:ci":{label:"Does not contain (case insensitive)"},"date:greaterorequal":{label:"Later than or equal to"},"time:greaterorequal":{label:"Greater than or equal to"},"array:greaterorequal":{label:"Array length greater than or equal to"},"text:notstartwith:ci":{label:"Does not start with (case insensitive)"},"number:greaterorequal":{label:"Greater than or equal to"}},hints:{enum:"Valid values: {{value}}.",port:"Must be between 1 and 65535.",format:"Format: {{value}}",account:"For more information on how to create a connection to {{service}}, see the [online Help](kb://pkg/{{name}}/index.html).",formats:"For more information about supported date formats, see the [online Help](kb://type-coercion.html).",pattern:"Must match pattern /{{pattern}}/.",webhook:"For more information on how to create a webhook in {{service}}, see the [online Help](kb://pkg/{{name}}/index.html).",timezone:"Time zone: {{value}}",filetypes:"Valid file types: {{value}}.",striptags:"All HTML tags will be automatically removed.",escapetags:"All HTML tags will be automatically escaped.",lengthmost:"Must be at most {{value}} characters long.",selectmost:"Choose at most {{value}} item(s).",containmost:"Can contain at most {{value}} item(s).",exactlength:"Must be exactly {{value}} characters long.",incomparray:"The source array, which you have mapped into the destination array, is not compatible with the target data structure. By clicking here you can add other modules to your scenario, which will enable you to remap the data structure of the source array.",lengthleast:"Must be at least {{value}} characters long.",numberlower:"Must be lower than or equal to {{value}}.",selectleast:"Choose at least {{value}} item(s).",containleast:"Must contain at least {{value}} item(s).",numberhigher:"Must be higher than or equal to {{value}}.",lengthbetween:"Must be between {{a}} and {{b}} characters long."},operators:{date:"Datetime operators",text:"Text operators",time:"Time operators",array:"Array operators",basic:"Basic operators",number:"Numeric operators",boolean:"Boolean operators"}}),imt.brand&&imt.brand.theme&&imt.brand.theme.startsWith("ems")&&Dictionary.overload(NAME,LANG,{errors:{trignosched:"A trigger must be the first module in an Action Flow.",transformeronstart:"A transformer should not be the first module in an Action Flow."},panels:{queue:{disabled:"Webhook used in this Action Flow is disabled and therefore is not accepting any data.",question:"You can run the Action Flow with the existing data, or wait for more data. If new data comes, the webhook will process only new data."},module:{notconnected:"Prior to configuring the module, you need to connect it to the flow of the Action Flow."},revert:{success:"Blueprint was restored. No changes are effective unless you save the Action Flow."},browser:{similar:"Similar Action Flows"},inspect:{nobundles2:"The data contained in the Action Flow is marked as confidential and therefore cannot be displayed.",autohandler:{desc:"If you want to handle this error automatically, choose one of the following options. This will create a new error-handler route in your Action Flow. You can then expand the route in any way you like."}},scenario:{title:"Action Flow settings",dataloss:{help:"Provides the option to enable data loss if {{integromat}} fails to save a bundle to the queue of Incomplete Executions (e.g. due to a lack of free space). With this option enabled, the data will be lost in order to prevent Action Flow execution from being interrupted. You may enable this option for a Action Flow where it is imperative the Action Flow keeps running and the incoming erroneous data is not that important."},maxerrors:{help:"Define the number of consecutive failed executions before the Action Flow is deactivated."},roundtrips:{help:"Defines the maximum number of cycles allowed during a scheduled Action Flow run. If the Action Flow does not start with a trigger, the specified maximum number of cycles will be always performed. For more information about how cycles work, please see the online Help."},sequential:{help:"If you enable this option and the Incomplete Execution folder contains an incomplete Action Flow execution, the Action Flow will be paused until all incomplete executions are resolved. This option also guarantees that all incomplete executions will always be solved in the order in which they occurred."}},scheduling:{end:{help:"Fill in only if you want the Action Flow to run until a specific date."},start:{help:"Fill in only if you want the Action Flow to be run from a specific date."},interval:{help:"The time interval in which the Action Flow should be repeated (in minutes)."},restrict:{help:"You can define specific time intervals during which your Action Flow is to run. You can specify time-of-day intervals, weekdays or months."},schedule:"Run Action Flow:"},schedulingmode:{run:"Run Action Flow"},io:{config:{title:"Action Flow inputs"},prompt:{title:"Action Flow inputs"}}},wizard:{title:"Action Flow creation guide",chooseteam:"Choose which team you want to create a Action Flow for.",chooseorg:"Choose which organization you want to create a Action Flow for."},buttons:{scenariosetup:"Action Flow settings"},flashes:{scenariopublished:"The Action Flow was published.",scenariosaved:"The Action Flow was saved.",scenariosavedandpublished:"The Action Flow was saved and published.",scenarioloaded:"The Action Flow was successfully loaded."},scenario:{id:"Action Flow ID",new:"New Action Flow",changed:"There are unsaved changes in the Action Flow.",running:"Cannot exit a running Action Flow."},tutorial:{kb:`We have shown you only the basics of how to work with {{integromat}}. {{integromat}} offers much more complex possibilities.  For more information, please see our [Help or video tutorials](/en/kb).

Next, you can customize this sample Action Flow to suit your requirements, or exit the guide.`,step1:"Let's create a Action Flow that will automatically retrieve the most recent article from a specified RSS feed and send it via email.",email1:"When setting up this module in a common Action Flow, you have the option to specify an email address of the recipient and other parameters. In this guide, we have disabled these parameters, and the email will be sent to the email address that you used upon registration.",success:"The Action Flow has been successfully executed. We have processed the most recent article from the RSS feed and sent it to your email address. Just check your mailbox ",continue:"Do you want to continue with this sample Action Flow?"},execution:{completed:"The Action Flow run was completed.",haserrors:"The Action Flow contains errors.  First fix the errors and then rerun the Action Flow.",preparing:"Preparing Action Flow for running.",alreadyrunning:"The Action Flow is already running."},activitystream:{1:{1:"The Action Flow was initialized.",2:"The Action Flow was initialized with a warning.",3:"Action Flow initialization failed with an error."},2:{1:"The Action Flow was finalized.",2:"The Action Flow was finalized with a warning.",3:"Action Flow finalization failed with an error."}}})}function apply$1(fn2,...args){return(...callArgs)=>fn2(...args,...callArgs)}function initialParams(fn2){return function(...args){var callback=args.pop();return fn2.call(this,args,callback)}}var hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,hasSetImmediate=typeof setImmediate=="function"&&setImmediate,hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function fallback(fn2){setTimeout(fn2,0)}function wrap(defer){return(fn2,...args)=>defer(()=>fn2(...args))}var _defer$1;hasQueueMicrotask?_defer$1=queueMicrotask:hasSetImmediate?_defer$1=setImmediate:hasNextTick?_defer$1=process.nextTick:_defer$1=fallback;var setImmediate$1=wrap(_defer$1);function asyncify(func2){return isAsync(func2)?function(...args){const callback=args.pop(),promise=func2.apply(this,args);return handlePromise(promise,callback)}:initialParams(function(args,callback){var result;try{result=func2.apply(this,args)}catch(e2){return callback(e2)}if(result&&typeof result.then=="function")return handlePromise(result,callback);callback(null,result)})}function handlePromise(promise,callback){return promise.then(value=>{invokeCallback(callback,null,value)},err=>{invokeCallback(callback,err&&(err instanceof Error||err.message)?err:new Error(err))})}function invokeCallback(callback,error,value){try{callback(error,value)}catch(err){setImmediate$1(e2=>{throw e2},err)}}function isAsync(fn2){return fn2[Symbol.toStringTag]==="AsyncFunction"}function isAsyncGenerator(fn2){return fn2[Symbol.toStringTag]==="AsyncGenerator"}function isAsyncIterable(obj){return typeof obj[Symbol.asyncIterator]=="function"}function wrapAsync(asyncFn){if(typeof asyncFn!="function")throw new Error("expected a function");return isAsync(asyncFn)?asyncify(asyncFn):asyncFn}function awaitify(asyncFn,arity){if(arity||(arity=asyncFn.length),!arity)throw new Error("arity is undefined");function awaitable(...args){return typeof args[arity-1]=="function"?asyncFn.apply(this,args):new Promise((resolve,reject2)=>{args[arity-1]=(err,...cbArgs)=>{if(err)return reject2(err);resolve(cbArgs.length>1?cbArgs:cbArgs[0])},asyncFn.apply(this,args)})}return awaitable}function applyEach$1(eachfn){return function(fns,...callArgs){return awaitify(function(callback){var that=this;return eachfn(fns,(fn2,cb)=>{wrapAsync(fn2).apply(that,callArgs.concat(cb))},callback)})}}function _asyncMap(eachfn,arr,iteratee,callback){arr=arr||[];var results=[],counter=0,_iteratee=wrapAsync(iteratee);return eachfn(arr,(value,_2,iterCb)=>{var index2=counter++;_iteratee(value,(err,v2)=>{results[index2]=v2,iterCb(err)})},err=>{callback(err,results)})}function isArrayLike$1(value){return value&&typeof value.length=="number"&&value.length>=0&&value.length%1===0}var breakLoop$1={};function once(fn2){function wrapper2(...args){if(fn2!==null){var callFn=fn2;fn2=null,callFn.apply(this,args)}}return Object.assign(wrapper2,fn2),wrapper2}function getIterator(coll){return coll[Symbol.iterator]&&coll[Symbol.iterator]()}function createArrayIterator(coll){var i2=-1,len=coll.length;return function(){return++i2<len?{value:coll[i2],key:i2}:null}}function createES2015Iterator(iterator){var i2=-1;return function(){var item=iterator.next();return item.done?null:(i2++,{value:item.value,key:i2})}}function createObjectIterator(obj){var okeys=obj?Object.keys(obj):[],i2=-1,len=okeys.length;return function next(){var key=okeys[++i2];return key==="__proto__"?next():i2<len?{value:obj[key],key}:null}}function createIterator(coll){if(isArrayLike$1(coll))return createArrayIterator(coll);var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn2){return function(...args){if(fn2===null)throw new Error("Callback was already called.");var callFn=fn2;fn2=null,callFn.apply(this,args)}}function asyncEachOfLimit(generator,limit,iteratee,callback){let done=!1,canceled=!1,awaiting=!1,running=0,idx=0;function replenish(){running>=limit||awaiting||done||(awaiting=!0,generator.next().then(({value,done:iterDone})=>{if(!(canceled||done)){if(awaiting=!1,iterDone){done=!0,running<=0&&callback(null);return}running++,iteratee(value,idx,iterateeCallback),idx++,replenish()}}).catch(handleError))}function iterateeCallback(err,result){if(running-=1,!canceled){if(err)return handleError(err);if(err===!1){done=!0,canceled=!0;return}if(result===breakLoop$1||done&&running<=0)return done=!0,callback(null);replenish()}}function handleError(err){canceled||(awaiting=!1,done=!0,callback(err))}replenish()}var eachOfLimit$2=limit=>(obj,iteratee,callback)=>{if(callback=once(callback),limit<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!obj)return callback(null);if(isAsyncGenerator(obj))return asyncEachOfLimit(obj,limit,iteratee,callback);if(isAsyncIterable(obj))return asyncEachOfLimit(obj[Symbol.asyncIterator](),limit,iteratee,callback);var nextElem=createIterator(obj),done=!1,canceled=!1,running=0,looping=!1;function iterateeCallback(err,value){if(!canceled)if(running-=1,err)done=!0,callback(err);else if(err===!1)done=!0,canceled=!0;else{if(value===breakLoop$1||done&&running<=0)return done=!0,callback(null);looping||replenish()}}function replenish(){for(looping=!0;running<limit&&!done;){var elem=nextElem();if(elem===null){done=!0,running<=0&&callback(null);return}running+=1,iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}looping=!1}replenish()};function eachOfLimit(coll,limit,iteratee,callback){return eachOfLimit$2(limit)(coll,wrapAsync(iteratee),callback)}var eachOfLimit$1=awaitify(eachOfLimit,4);function eachOfArrayLike(coll,iteratee,callback){callback=once(callback);var index2=0,completed=0,{length}=coll,canceled=!1;length===0&&callback(null);function iteratorCallback(err,value){err===!1&&(canceled=!0),canceled!==!0&&(err?callback(err):(++completed===length||value===breakLoop$1)&&callback(null))}for(;index2<length;index2++)iteratee(coll[index2],index2,onlyOnce(iteratorCallback))}function eachOfGeneric(coll,iteratee,callback){return eachOfLimit$1(coll,1/0,iteratee,callback)}function eachOf(coll,iteratee,callback){var eachOfImplementation=isArrayLike$1(coll)?eachOfArrayLike:eachOfGeneric;return eachOfImplementation(coll,wrapAsync(iteratee),callback)}var eachOf$1=awaitify(eachOf,3);function map(coll,iteratee,callback){return _asyncMap(eachOf$1,coll,iteratee,callback)}var map$1=awaitify(map,3),applyEach=applyEach$1(map$1);function eachOfSeries(coll,iteratee,callback){return eachOfLimit$1(coll,1,iteratee,callback)}var eachOfSeries$1=awaitify(eachOfSeries,3);function mapSeries(coll,iteratee,callback){return _asyncMap(eachOfSeries$1,coll,iteratee,callback)}var mapSeries$1=awaitify(mapSeries,3),applyEachSeries=applyEach$1(mapSeries$1);const PROMISE_SYMBOL=Symbol("promiseCallback");function promiseCallback(){let resolve,reject2;function callback(err,...args){if(err)return reject2(err);resolve(args.length>1?args:args[0])}return callback[PROMISE_SYMBOL]=new Promise((res,rej)=>{resolve=res,reject2=rej}),callback}function auto(tasks,concurrency,callback){typeof concurrency!="number"&&(callback=concurrency,concurrency=null),callback=once(callback||promiseCallback());var numTasks=Object.keys(tasks).length;if(!numTasks)return callback(null);concurrency||(concurrency=numTasks);var results={},runningTasks=0,canceled=!1,hasError=!1,listeners=Object.create(null),readyTasks=[],readyToCheck=[],uncheckedDependencies={};Object.keys(tasks).forEach(key=>{var task=tasks[key];if(!Array.isArray(task)){enqueueTask(key,[task]),readyToCheck.push(key);return}var dependencies=task.slice(0,task.length-1),remainingDependencies=dependencies.length;if(remainingDependencies===0){enqueueTask(key,task),readyToCheck.push(key);return}uncheckedDependencies[key]=remainingDependencies,dependencies.forEach(dependencyName=>{if(!tasks[dependencyName])throw new Error("async.auto task `"+key+"` has a non-existent dependency `"+dependencyName+"` in "+dependencies.join(", "));addListener(dependencyName,()=>{remainingDependencies--,remainingDependencies===0&&enqueueTask(key,task)})})}),checkForDeadlocks(),processQueue();function enqueueTask(key,task){readyTasks.push(()=>runTask(key,task))}function processQueue(){if(!canceled){if(readyTasks.length===0&&runningTasks===0)return callback(null,results);for(;readyTasks.length&&runningTasks<concurrency;){var run=readyTasks.shift();run()}}}function addListener(taskName,fn2){var taskListeners=listeners[taskName];taskListeners||(taskListeners=listeners[taskName]=[]),taskListeners.push(fn2)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];taskListeners.forEach(fn2=>fn2()),processQueue()}function runTask(key,task){if(!hasError){var taskCallback=onlyOnce((err,...result)=>{if(runningTasks--,err===!1){canceled=!0;return}if(result.length<2&&([result]=result),err){var safeResults={};if(Object.keys(results).forEach(rkey=>{safeResults[rkey]=results[rkey]}),safeResults[key]=result,hasError=!0,listeners=Object.create(null),canceled)return;callback(err,safeResults)}else results[key]=result,taskComplete(key)});runningTasks++;var taskFn=wrapAsync(task[task.length-1]);task.length>1?taskFn(results,taskCallback):taskFn(taskCallback)}}function checkForDeadlocks(){for(var currentTask,counter=0;readyToCheck.length;)currentTask=readyToCheck.pop(),counter++,getDependents(currentTask).forEach(dependent=>{--uncheckedDependencies[dependent]===0&&readyToCheck.push(dependent)});if(counter!==numTasks)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function getDependents(taskName){var result=[];return Object.keys(tasks).forEach(key=>{const task=tasks[key];Array.isArray(task)&&task.indexOf(taskName)>=0&&result.push(key)}),result}return callback[PROMISE_SYMBOL]}var FN_ARGS=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,ARROW_FN_ARGS=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,FN_ARG_SPLIT=/,/,FN_ARG=/(=.+)?(\s*)$/;function stripComments(string2){let stripped="",index2=0,endBlockComment=string2.indexOf("*/");for(;index2<string2.length;)if(string2[index2]==="/"&&string2[index2+1]==="/"){let endIndex=string2.indexOf(`
`,index2);index2=endIndex===-1?string2.length:endIndex}else if(endBlockComment!==-1&&string2[index2]==="/"&&string2[index2+1]==="*"){let endIndex=string2.indexOf("*/",index2);endIndex!==-1?(index2=endIndex+2,endBlockComment=string2.indexOf("*/",index2)):(stripped+=string2[index2],index2++)}else stripped+=string2[index2],index2++;return stripped}function parseParams(func2){const src=stripComments(func2.toString());let match2=src.match(FN_ARGS);if(match2||(match2=src.match(ARROW_FN_ARGS)),!match2)throw new Error(`could not parse args in autoInject
Source:
`+src);let[,args]=match2;return args.replace(/\s/g,"").split(FN_ARG_SPLIT).map(arg=>arg.replace(FN_ARG,"").trim())}function autoInject(tasks,callback){var newTasks={};return Object.keys(tasks).forEach(key=>{var taskFn=tasks[key],params,fnIsAsync=isAsync(taskFn),hasNoDeps=!fnIsAsync&&taskFn.length===1||fnIsAsync&&taskFn.length===0;if(Array.isArray(taskFn))params=[...taskFn],taskFn=params.pop(),newTasks[key]=params.concat(params.length>0?newTask:taskFn);else if(hasNoDeps)newTasks[key]=taskFn;else{if(params=parseParams(taskFn),taskFn.length===0&&!fnIsAsync&&params.length===0)throw new Error("autoInject task functions require explicit parameters.");fnIsAsync||params.pop(),newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=params.map(name=>results[name]);newArgs.push(taskCb),wrapAsync(taskFn)(...newArgs)}}),auto(newTasks,callback)}class DLL{constructor(){this.head=this.tail=null,this.length=0}removeLink(node2){return node2.prev?node2.prev.next=node2.next:this.head=node2.next,node2.next?node2.next.prev=node2.prev:this.tail=node2.prev,node2.prev=node2.next=null,this.length-=1,node2}empty(){for(;this.head;)this.shift();return this}insertAfter(node2,newNode){newNode.prev=node2,newNode.next=node2.next,node2.next?node2.next.prev=newNode:this.tail=newNode,node2.next=newNode,this.length+=1}insertBefore(node2,newNode){newNode.prev=node2.prev,newNode.next=node2,node2.prev?node2.prev.next=newNode:this.head=newNode,node2.prev=newNode,this.length+=1}unshift(node2){this.head?this.insertBefore(this.head,node2):setInitial(this,node2)}push(node2){this.tail?this.insertAfter(this.tail,node2):setInitial(this,node2)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var cur=this.head;cur;)yield cur.data,cur=cur.next}remove(testFn){for(var curr=this.head;curr;){var{next}=curr;testFn(curr)&&this.removeLink(curr),curr=next}return this}}function setInitial(dll,node2){dll.length=1,dll.head=dll.tail=node2}function queue$1(worker,concurrency,payload){if(concurrency==null)concurrency=1;else if(concurrency===0)throw new RangeError("Concurrency must not be zero");var _worker=wrapAsync(worker),numRunning=0,workersList=[];const events2={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function on(event,handler){events2[event].push(handler)}function once2(event,handler){const handleAndRemove=(...args)=>{off(event,handleAndRemove),handler(...args)};events2[event].push(handleAndRemove)}function off(event,handler){if(!event)return Object.keys(events2).forEach(ev=>events2[ev]=[]);if(!handler)return events2[event]=[];events2[event]=events2[event].filter(ev=>ev!==handler)}function trigger(event,...args){events2[event].forEach(handler=>handler(...args))}var processingScheduled=!1;function _insert(data2,insertAtFront,rejectOnError,callback){if(callback!=null&&typeof callback!="function")throw new Error("task callback must be a function");q.started=!0;var res,rej;function promiseCallback2(err,...args){if(err)return rejectOnError?rej(err):res();if(args.length<=1)return res(args[0]);res(args)}var item=q._createTaskItem(data2,rejectOnError?promiseCallback2:callback||promiseCallback2);if(insertAtFront?q._tasks.unshift(item):q._tasks.push(item),processingScheduled||(processingScheduled=!0,setImmediate$1(()=>{processingScheduled=!1,q.process()})),rejectOnError||!callback)return new Promise((resolve,reject2)=>{res=resolve,rej=reject2})}function _createCB(tasks){return function(err,...args){numRunning-=1;for(var i2=0,l2=tasks.length;i2<l2;i2++){var task=tasks[i2],index2=workersList.indexOf(task);index2===0?workersList.shift():index2>0&&workersList.splice(index2,1),task.callback(err,...args),err!=null&&trigger("error",err,task.data)}numRunning<=q.concurrency-q.buffer&&trigger("unsaturated"),q.idle()&&trigger("drain"),q.process()}}function _maybeDrain(data2){return data2.length===0&&q.idle()?(setImmediate$1(()=>trigger("drain")),!0):!1}const eventMethod=name=>handler=>{if(!handler)return new Promise((resolve,reject2)=>{once2(name,(err,data2)=>{if(err)return reject2(err);resolve(data2)})});off(name),on(name,handler)};var isProcessing=!1,q={_tasks:new DLL,_createTaskItem(data2,callback){return{data:data2,callback}},*[Symbol.iterator](){yield*q._tasks[Symbol.iterator]()},concurrency,payload,buffer:concurrency/4,started:!1,paused:!1,push(data2,callback){return Array.isArray(data2)?_maybeDrain(data2)?void 0:data2.map(datum=>_insert(datum,!1,!1,callback)):_insert(data2,!1,!1,callback)},pushAsync(data2,callback){return Array.isArray(data2)?_maybeDrain(data2)?void 0:data2.map(datum=>_insert(datum,!1,!0,callback)):_insert(data2,!1,!0,callback)},kill(){off(),q._tasks.empty()},unshift(data2,callback){return Array.isArray(data2)?_maybeDrain(data2)?void 0:data2.map(datum=>_insert(datum,!0,!1,callback)):_insert(data2,!0,!1,callback)},unshiftAsync(data2,callback){return Array.isArray(data2)?_maybeDrain(data2)?void 0:data2.map(datum=>_insert(datum,!0,!0,callback)):_insert(data2,!0,!0,callback)},remove(testFn){q._tasks.remove(testFn)},process(){if(!isProcessing){for(isProcessing=!0;!q.paused&&numRunning<q.concurrency&&q._tasks.length;){var tasks=[],data2=[],l2=q._tasks.length;q.payload&&(l2=Math.min(l2,q.payload));for(var i2=0;i2<l2;i2++){var node2=q._tasks.shift();tasks.push(node2),workersList.push(node2),data2.push(node2.data)}numRunning+=1,q._tasks.length===0&&trigger("empty"),numRunning===q.concurrency&&trigger("saturated");var cb=onlyOnce(_createCB(tasks));_worker(data2,cb)}isProcessing=!1}},length(){return q._tasks.length},running(){return numRunning},workersList(){return workersList},idle(){return q._tasks.length+numRunning===0},pause(){q.paused=!0},resume(){q.paused!==!1&&(q.paused=!1,setImmediate$1(q.process))}};return Object.defineProperties(q,{saturated:{writable:!1,value:eventMethod("saturated")},unsaturated:{writable:!1,value:eventMethod("unsaturated")},empty:{writable:!1,value:eventMethod("empty")},drain:{writable:!1,value:eventMethod("drain")},error:{writable:!1,value:eventMethod("error")}}),q}function cargo$1(worker,payload){return queue$1(worker,1,payload)}function cargo(worker,concurrency,payload){return queue$1(worker,concurrency,payload)}function reduce(coll,memo,iteratee,callback){callback=once(callback);var _iteratee=wrapAsync(iteratee);return eachOfSeries$1(coll,(x2,i2,iterCb)=>{_iteratee(memo,x2,(err,v2)=>{memo=v2,iterCb(err)})},err=>callback(err,memo))}var reduce$1=awaitify(reduce,4);function seq(...functions){var _functions=functions.map(wrapAsync);return function(...args){var that=this,cb=args[args.length-1];return typeof cb=="function"?args.pop():cb=promiseCallback(),reduce$1(_functions,args,(newargs,fn2,iterCb)=>{fn2.apply(that,newargs.concat((err,...nextargs)=>{iterCb(err,nextargs)}))},(err,results)=>cb(err,...results)),cb[PROMISE_SYMBOL]}}function compose(...args){return seq(...args.reverse())}function mapLimit(coll,limit,iteratee,callback){return _asyncMap(eachOfLimit$2(limit),coll,iteratee,callback)}var mapLimit$1=awaitify(mapLimit,4);function concatLimit(coll,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);return mapLimit$1(coll,limit,(val,iterCb)=>{_iteratee(val,(err,...args)=>err?iterCb(err):iterCb(err,args))},(err,mapResults)=>{for(var result=[],i2=0;i2<mapResults.length;i2++)mapResults[i2]&&(result=result.concat(...mapResults[i2]));return callback(err,result)})}var concatLimit$1=awaitify(concatLimit,4);function concat(coll,iteratee,callback){return concatLimit$1(coll,1/0,iteratee,callback)}var concat$1=awaitify(concat,3);function concatSeries(coll,iteratee,callback){return concatLimit$1(coll,1,iteratee,callback)}var concatSeries$1=awaitify(concatSeries,3);function constant$1(...args){return function(...ignoredArgs){var callback=ignoredArgs.pop();return callback(null,...args)}}function _createTester(check,getResult){return(eachfn,arr,_iteratee,cb)=>{var testPassed=!1,testResult;const iteratee=wrapAsync(_iteratee);eachfn(arr,(value,_2,callback)=>{iteratee(value,(err,result)=>{if(err||err===!1)return callback(err);if(check(result)&&!testResult)return testPassed=!0,testResult=getResult(!0,value),callback(null,breakLoop$1);callback()})},err=>{if(err)return cb(err);cb(null,testPassed?testResult:getResult(!1))})}}function detect(coll,iteratee,callback){return _createTester(bool2=>bool2,(res,item)=>item)(eachOf$1,coll,iteratee,callback)}var detect$1=awaitify(detect,3);function detectLimit(coll,limit,iteratee,callback){return _createTester(bool2=>bool2,(res,item)=>item)(eachOfLimit$2(limit),coll,iteratee,callback)}var detectLimit$1=awaitify(detectLimit,4);function detectSeries(coll,iteratee,callback){return _createTester(bool2=>bool2,(res,item)=>item)(eachOfLimit$2(1),coll,iteratee,callback)}var detectSeries$1=awaitify(detectSeries,3);function consoleFunc(name){return(fn2,...args)=>wrapAsync(fn2)(...args,(err,...resultArgs)=>{typeof console=="object"&&(err?console.error&&console.error(err):console[name]&&resultArgs.forEach(x2=>console[name](x2)))})}var dir=consoleFunc("dir");function doWhilst(iteratee,test,callback){callback=onlyOnce(callback);var _fn=wrapAsync(iteratee),_test=wrapAsync(test),results;function next(err,...args){if(err)return callback(err);err!==!1&&(results=args,_test(...args,check))}function check(err,truth){if(err)return callback(err);if(err!==!1){if(!truth)return callback(null,...results);_fn(next)}}return check(null,!0)}var doWhilst$1=awaitify(doWhilst,3);function doUntil(iteratee,test,callback){const _test=wrapAsync(test);return doWhilst$1(iteratee,(...args)=>{const cb=args.pop();_test(...args,(err,truth)=>cb(err,!truth))},callback)}function _withoutIndex(iteratee){return(value,index2,callback)=>iteratee(value,callback)}function eachLimit$2(coll,iteratee,callback){return eachOf$1(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var each=awaitify(eachLimit$2,3);function eachLimit(coll,limit,iteratee,callback){return eachOfLimit$2(limit)(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var eachLimit$1=awaitify(eachLimit,4);function eachSeries(coll,iteratee,callback){return eachLimit$1(coll,1,iteratee,callback)}var eachSeries$1=awaitify(eachSeries,3);function ensureAsync(fn2){return isAsync(fn2)?fn2:function(...args){var callback=args.pop(),sync=!0;args.push((...innerArgs)=>{sync?setImmediate$1(()=>callback(...innerArgs)):callback(...innerArgs)}),fn2.apply(this,args),sync=!1}}function every(coll,iteratee,callback){return _createTester(bool2=>!bool2,res=>!res)(eachOf$1,coll,iteratee,callback)}var every$1=awaitify(every,3);function everyLimit(coll,limit,iteratee,callback){return _createTester(bool2=>!bool2,res=>!res)(eachOfLimit$2(limit),coll,iteratee,callback)}var everyLimit$1=awaitify(everyLimit,4);function everySeries(coll,iteratee,callback){return _createTester(bool2=>!bool2,res=>!res)(eachOfSeries$1,coll,iteratee,callback)}var everySeries$1=awaitify(everySeries,3);function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,(x2,index2,iterCb)=>{iteratee(x2,(err,v2)=>{truthValues[index2]=!!v2,iterCb(err)})},err=>{if(err)return callback(err);for(var results=[],i2=0;i2<arr.length;i2++)truthValues[i2]&&results.push(arr[i2]);callback(null,results)})}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,(x2,index2,iterCb)=>{iteratee(x2,(err,v2)=>{if(err)return iterCb(err);v2&&results.push({index:index2,value:x2}),iterCb(err)})},err=>{if(err)return callback(err);callback(null,results.sort((a2,b2)=>a2.index-b2.index).map(v2=>v2.value))})}function _filter(eachfn,coll,iteratee,callback){var filter2=isArrayLike$1(coll)?filterArray:filterGeneric;return filter2(eachfn,coll,wrapAsync(iteratee),callback)}function filter(coll,iteratee,callback){return _filter(eachOf$1,coll,iteratee,callback)}var filter$1=awaitify(filter,3);function filterLimit(coll,limit,iteratee,callback){return _filter(eachOfLimit$2(limit),coll,iteratee,callback)}var filterLimit$1=awaitify(filterLimit,4);function filterSeries(coll,iteratee,callback){return _filter(eachOfSeries$1,coll,iteratee,callback)}var filterSeries$1=awaitify(filterSeries,3);function forever(fn2,errback){var done=onlyOnce(errback),task=wrapAsync(ensureAsync(fn2));function next(err){if(err)return done(err);err!==!1&&task(next)}return next()}var forever$1=awaitify(forever,2);function groupByLimit(coll,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);return mapLimit$1(coll,limit,(val,iterCb)=>{_iteratee(val,(err,key)=>err?iterCb(err):iterCb(err,{key,val}))},(err,mapResults)=>{for(var result={},{hasOwnProperty:hasOwnProperty2}=Object.prototype,i2=0;i2<mapResults.length;i2++)if(mapResults[i2]){var{key}=mapResults[i2],{val}=mapResults[i2];hasOwnProperty2.call(result,key)?result[key].push(val):result[key]=[val]}return callback(err,result)})}var groupByLimit$1=awaitify(groupByLimit,4);function groupBy(coll,iteratee,callback){return groupByLimit$1(coll,1/0,iteratee,callback)}function groupBySeries(coll,iteratee,callback){return groupByLimit$1(coll,1,iteratee,callback)}var log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback);var newObj={},_iteratee=wrapAsync(iteratee);return eachOfLimit$2(limit)(obj,(val,key,next)=>{_iteratee(val,key,(err,result)=>{if(err)return next(err);newObj[key]=result,next(err)})},err=>callback(err,newObj))}var mapValuesLimit$1=awaitify(mapValuesLimit,4);function mapValues(obj,iteratee,callback){return mapValuesLimit$1(obj,1/0,iteratee,callback)}function mapValuesSeries(obj,iteratee,callback){return mapValuesLimit$1(obj,1,iteratee,callback)}function memoize(fn2,hasher=v2=>v2){var memo=Object.create(null),queues=Object.create(null),_fn=wrapAsync(fn2),memoized=initialParams((args,callback)=>{var key=hasher(...args);key in memo?setImmediate$1(()=>callback(null,...memo[key])):key in queues?queues[key].push(callback):(queues[key]=[callback],_fn(...args,(err,...resultArgs)=>{err||(memo[key]=resultArgs);var q=queues[key];delete queues[key];for(var i2=0,l2=q.length;i2<l2;i2++)q[i2](err,...resultArgs)}))});return memoized.memo=memo,memoized.unmemoized=fn2,memoized}var _defer;hasNextTick?_defer=process.nextTick:hasSetImmediate?_defer=setImmediate:_defer=fallback;var nextTick=wrap(_defer),_parallel=awaitify((eachfn,tasks,callback)=>{var results=isArrayLike$1(tasks)?[]:{};eachfn(tasks,(task,key,taskCb)=>{wrapAsync(task)((err,...result)=>{result.length<2&&([result]=result),results[key]=result,taskCb(err)})},err=>callback(err,results))},3);function parallel(tasks,callback){return _parallel(eachOf$1,tasks,callback)}function parallelLimit(tasks,limit,callback){return _parallel(eachOfLimit$2(limit),tasks,callback)}function queue(worker,concurrency){var _worker=wrapAsync(worker);return queue$1((items,cb)=>{_worker(items[0],cb)},concurrency,1)}class Heap{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(index2){let p2;for(;index2>0&&smaller(this.heap[index2],this.heap[p2=parent(index2)]);){let t2=this.heap[index2];this.heap[index2]=this.heap[p2],this.heap[p2]=t2,index2=p2}}percDown(index2){let l2;for(;(l2=leftChi(index2))<this.heap.length&&(l2+1<this.heap.length&&smaller(this.heap[l2+1],this.heap[l2])&&(l2=l2+1),!smaller(this.heap[index2],this.heap[l2]));){let t2=this.heap[index2];this.heap[index2]=this.heap[l2],this.heap[l2]=t2,index2=l2}}push(node2){node2.pushCount=++this.pushCount,this.heap.push(node2),this.percUp(this.heap.length-1)}unshift(node2){return this.heap.push(node2)}shift(){let[top]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),top}toArray(){return[...this]}*[Symbol.iterator](){for(let i2=0;i2<this.heap.length;i2++)yield this.heap[i2].data}remove(testFn){let j2=0;for(let i2=0;i2<this.heap.length;i2++)testFn(this.heap[i2])||(this.heap[j2]=this.heap[i2],j2++);this.heap.splice(j2);for(let i2=parent(this.heap.length-1);i2>=0;i2--)this.percDown(i2);return this}}function leftChi(i2){return(i2<<1)+1}function parent(i2){return(i2+1>>1)-1}function smaller(x2,y2){return x2.priority!==y2.priority?x2.priority<y2.priority:x2.pushCount<y2.pushCount}function priorityQueue(worker,concurrency){var q=queue(worker,concurrency),{push,pushAsync}=q;q._tasks=new Heap,q._createTaskItem=({data:data2,priority},callback)=>({data:data2,priority,callback});function createDataItems(tasks,priority){return Array.isArray(tasks)?tasks.map(data2=>({data:data2,priority})):{data:tasks,priority}}return q.push=function(data2,priority=0,callback){return push(createDataItems(data2,priority),callback)},q.pushAsync=function(data2,priority=0,callback){return pushAsync(createDataItems(data2,priority),callback)},delete q.unshift,delete q.unshiftAsync,q}function race(tasks,callback){if(callback=once(callback),!Array.isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i2=0,l2=tasks.length;i2<l2;i2++)wrapAsync(tasks[i2])(callback)}var race$1=awaitify(race,2);function reduceRight(array2,memo,iteratee,callback){var reversed=[...array2].reverse();return reduce$1(reversed,memo,iteratee,callback)}function reflect(fn2){var _fn=wrapAsync(fn2);return initialParams(function(args,reflectCallback){return args.push((error,...cbArgs)=>{let retVal={};if(error&&(retVal.error=error),cbArgs.length>0){var value=cbArgs;cbArgs.length<=1&&([value]=cbArgs),retVal.value=value}reflectCallback(null,retVal)}),_fn.apply(this,args)})}function reflectAll(tasks){var results;return Array.isArray(tasks)?results=tasks.map(reflect):(results={},Object.keys(tasks).forEach(key=>{results[key]=reflect.call(this,tasks[key])})),results}function reject$2(eachfn,arr,_iteratee,callback){const iteratee=wrapAsync(_iteratee);return _filter(eachfn,arr,(value,cb)=>{iteratee(value,(err,v2)=>{cb(err,!v2)})},callback)}function reject(coll,iteratee,callback){return reject$2(eachOf$1,coll,iteratee,callback)}var reject$1=awaitify(reject,3);function rejectLimit(coll,limit,iteratee,callback){return reject$2(eachOfLimit$2(limit),coll,iteratee,callback)}var rejectLimit$1=awaitify(rejectLimit,4);function rejectSeries(coll,iteratee,callback){return reject$2(eachOfSeries$1,coll,iteratee,callback)}var rejectSeries$1=awaitify(rejectSeries,3);function constant$2(value){return function(){return value}}const DEFAULT_TIMES=5,DEFAULT_INTERVAL=0;function retry(opts,task,callback){var options={times:DEFAULT_TIMES,intervalFunc:constant$2(DEFAULT_INTERVAL)};if(arguments.length<3&&typeof opts=="function"?(callback=task||promiseCallback(),task=opts):(parseTimes(options,opts),callback=callback||promiseCallback()),typeof task!="function")throw new Error("Invalid arguments for async.retry");var _task=wrapAsync(task),attempt=1;function retryAttempt(){_task((err,...args)=>{err!==!1&&(err&&attempt++<options.times&&(typeof options.errorFilter!="function"||options.errorFilter(err))?setTimeout(retryAttempt,options.intervalFunc(attempt-1)):callback(err,...args))})}return retryAttempt(),callback[PROMISE_SYMBOL]}function parseTimes(acc,t2){if(typeof t2=="object")acc.times=+t2.times||DEFAULT_TIMES,acc.intervalFunc=typeof t2.interval=="function"?t2.interval:constant$2(+t2.interval||DEFAULT_INTERVAL),acc.errorFilter=t2.errorFilter;else if(typeof t2=="number"||typeof t2=="string")acc.times=+t2||DEFAULT_TIMES;else throw new Error("Invalid arguments for async.retry")}function retryable(opts,task){task||(task=opts,opts=null);let arity=opts&&opts.arity||task.length;isAsync(task)&&(arity+=1);var _task=wrapAsync(task);return initialParams((args,callback)=>{(args.length<arity-1||callback==null)&&(args.push(callback),callback=promiseCallback());function taskFn(cb){_task(...args,cb)}return opts?retry(opts,taskFn,callback):retry(taskFn,callback),callback[PROMISE_SYMBOL]})}function series(tasks,callback){return _parallel(eachOfSeries$1,tasks,callback)}function some(coll,iteratee,callback){return _createTester(Boolean,res=>res)(eachOf$1,coll,iteratee,callback)}var some$1=awaitify(some,3);function someLimit(coll,limit,iteratee,callback){return _createTester(Boolean,res=>res)(eachOfLimit$2(limit),coll,iteratee,callback)}var someLimit$1=awaitify(someLimit,4);function someSeries(coll,iteratee,callback){return _createTester(Boolean,res=>res)(eachOfSeries$1,coll,iteratee,callback)}var someSeries$1=awaitify(someSeries,3);function sortBy(coll,iteratee,callback){var _iteratee=wrapAsync(iteratee);return map$1(coll,(x2,iterCb)=>{_iteratee(x2,(err,criteria)=>{if(err)return iterCb(err);iterCb(err,{value:x2,criteria})})},(err,results)=>{if(err)return callback(err);callback(null,results.sort(comparator).map(v2=>v2.value))});function comparator(left,right){var a2=left.criteria,b2=right.criteria;return a2<b2?-1:a2>b2?1:0}}var sortBy$1=awaitify(sortBy,3);function timeout(asyncFn,milliseconds,info){var fn2=wrapAsync(asyncFn);return initialParams((args,callback)=>{var timedOut=!1,timer;function timeoutCallback(){var name=asyncFn.name||"anonymous",error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT",info&&(error.info=info),timedOut=!0,callback(error)}args.push((...cbArgs)=>{timedOut||(callback(...cbArgs),clearTimeout(timer))}),timer=setTimeout(timeoutCallback,milliseconds),fn2(...args)})}function range(size){for(var result=Array(size);size--;)result[size]=size;return result}function timesLimit(count,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);return mapLimit$1(range(count),limit,_iteratee,callback)}function times(n2,iteratee,callback){return timesLimit(n2,1/0,iteratee,callback)}function timesSeries(n2,iteratee,callback){return timesLimit(n2,1,iteratee,callback)}function transform(coll,accumulator,iteratee,callback){arguments.length<=3&&typeof accumulator=="function"&&(callback=iteratee,iteratee=accumulator,accumulator=Array.isArray(coll)?[]:{}),callback=once(callback||promiseCallback());var _iteratee=wrapAsync(iteratee);return eachOf$1(coll,(v2,k2,cb)=>{_iteratee(accumulator,v2,k2,cb)},err=>callback(err,accumulator)),callback[PROMISE_SYMBOL]}function tryEach(tasks,callback){var error=null,result;return eachSeries$1(tasks,(task,taskCb)=>{wrapAsync(task)((err,...args)=>{if(err===!1)return taskCb(err);args.length<2?[result]=args:result=args,error=err,taskCb(err?null:{})})},()=>callback(error,result))}var tryEach$1=awaitify(tryEach);function unmemoize(fn2){return(...args)=>(fn2.unmemoized||fn2)(...args)}function whilst(test,iteratee,callback){callback=onlyOnce(callback);var _fn=wrapAsync(iteratee),_test=wrapAsync(test),results=[];function next(err,...rest){if(err)return callback(err);results=rest,err!==!1&&_test(check)}function check(err,truth){if(err)return callback(err);if(err!==!1){if(!truth)return callback(null,...results);_fn(next)}}return _test(check)}var whilst$1=awaitify(whilst,3);function until(test,iteratee,callback){const _test=wrapAsync(test);return whilst$1(cb=>_test((err,truth)=>cb(err,!truth)),iteratee,callback)}function waterfall(tasks,callback){if(callback=once(callback),!Array.isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;function nextTask(args){var task=wrapAsync(tasks[taskIndex++]);task(...args,onlyOnce(next))}function next(err,...args){if(err!==!1){if(err||taskIndex===tasks.length)return callback(err,...args);nextTask(args)}}nextTask([])}var waterfall$1=awaitify(waterfall),index={apply:apply$1,applyEach,applyEachSeries,asyncify,auto,autoInject,cargo:cargo$1,cargoQueue:cargo,compose,concat:concat$1,concatLimit:concatLimit$1,concatSeries:concatSeries$1,constant:constant$1,detect:detect$1,detectLimit:detectLimit$1,detectSeries:detectSeries$1,dir,doUntil,doWhilst:doWhilst$1,each,eachLimit:eachLimit$1,eachOf:eachOf$1,eachOfLimit:eachOfLimit$1,eachOfSeries:eachOfSeries$1,eachSeries:eachSeries$1,ensureAsync,every:every$1,everyLimit:everyLimit$1,everySeries:everySeries$1,filter:filter$1,filterLimit:filterLimit$1,filterSeries:filterSeries$1,forever:forever$1,groupBy,groupByLimit:groupByLimit$1,groupBySeries,log,map:map$1,mapLimit:mapLimit$1,mapSeries:mapSeries$1,mapValues,mapValuesLimit:mapValuesLimit$1,mapValuesSeries,memoize,nextTick,parallel,parallelLimit,priorityQueue,queue,race:race$1,reduce:reduce$1,reduceRight,reflect,reflectAll,reject:reject$1,rejectLimit:rejectLimit$1,rejectSeries:rejectSeries$1,retry,retryable,seq,series,setImmediate:setImmediate$1,some:some$1,someLimit:someLimit$1,someSeries:someSeries$1,sortBy:sortBy$1,timeout,times,timesLimit,timesSeries,transform,tryEach:tryEach$1,unmemoize,until,waterfall:waterfall$1,whilst:whilst$1,all:every$1,allLimit:everyLimit$1,allSeries:everySeries$1,any:some$1,anyLimit:someLimit$1,anySeries:someSeries$1,find:detect$1,findLimit:detectLimit$1,findSeries:detectSeries$1,flatMap:concat$1,flatMapLimit:concatLimit$1,flatMapSeries:concatSeries$1,forEach:each,forEachSeries:eachSeries$1,forEachLimit:eachLimit$1,forEachOf:eachOf$1,forEachOfSeries:eachOfSeries$1,forEachOfLimit:eachOfLimit$1,inject:reduce$1,foldl:reduce$1,foldr:reduceRight,select:filter$1,selectLimit:filterLimit$1,selectSeries:filterSeries$1,wrapSync:asyncify,during:whilst$1,doDuring:doWhilst$1};const async$1=Object.freeze(Object.defineProperty({__proto__:null,all:every$1,allLimit:everyLimit$1,allSeries:everySeries$1,any:some$1,anyLimit:someLimit$1,anySeries:someSeries$1,apply:apply$1,applyEach,applyEachSeries,asyncify,auto,autoInject,cargo:cargo$1,cargoQueue:cargo,compose,concat:concat$1,concatLimit:concatLimit$1,concatSeries:concatSeries$1,constant:constant$1,default:index,detect:detect$1,detectLimit:detectLimit$1,detectSeries:detectSeries$1,dir,doDuring:doWhilst$1,doUntil,doWhilst:doWhilst$1,during:whilst$1,each,eachLimit:eachLimit$1,eachOf:eachOf$1,eachOfLimit:eachOfLimit$1,eachOfSeries:eachOfSeries$1,eachSeries:eachSeries$1,ensureAsync,every:every$1,everyLimit:everyLimit$1,everySeries:everySeries$1,filter:filter$1,filterLimit:filterLimit$1,filterSeries:filterSeries$1,find:detect$1,findLimit:detectLimit$1,findSeries:detectSeries$1,flatMap:concat$1,flatMapLimit:concatLimit$1,flatMapSeries:concatSeries$1,foldl:reduce$1,foldr:reduceRight,forEach:each,forEachLimit:eachLimit$1,forEachOf:eachOf$1,forEachOfLimit:eachOfLimit$1,forEachOfSeries:eachOfSeries$1,forEachSeries:eachSeries$1,forever:forever$1,groupBy,groupByLimit:groupByLimit$1,groupBySeries,inject:reduce$1,log,map:map$1,mapLimit:mapLimit$1,mapSeries:mapSeries$1,mapValues,mapValuesLimit:mapValuesLimit$1,mapValuesSeries,memoize,nextTick,parallel,parallelLimit,priorityQueue,queue,race:race$1,reduce:reduce$1,reduceRight,reflect,reflectAll,reject:reject$1,rejectLimit:rejectLimit$1,rejectSeries:rejectSeries$1,retry,retryable,select:filter$1,selectLimit:filterLimit$1,selectSeries:filterSeries$1,seq,series,setImmediate:setImmediate$1,some:some$1,someLimit:someLimit$1,someSeries:someSeries$1,sortBy:sortBy$1,timeout,times,timesLimit,timesSeries,transform,tryEach:tryEach$1,unmemoize,until,waterfall:waterfall$1,whilst:whilst$1,wrapSync:asyncify},Symbol.toStringTag,{value:"Module"}));var APP_TYPES=(APP_TYPES2=>(APP_TYPES2.NATIVE="native",APP_TYPES2.SDK="sdk",APP_TYPES2.ADDON="addon",APP_TYPES2))(APP_TYPES||{}),__defProp$i=Object.defineProperty,__getOwnPropDesc$h=Object.getOwnPropertyDescriptor,__decorateClass$i=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$h(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$i(target,key,result),result};const HAS_MODULE_ICONS=["util","builtin","regexp"],IMAGE_SIZE=32,NO_ICO="/img/noicon.png";let AppIcon=class extends s$2{constructor(){super(...arguments),this.size=40,this.iconStyle="round"}createRenderRoot(){return this}getUrl(){var _a2;return this.app?this.app.type===APP_TYPES.ADDON?this.app.icon:HAS_MODULE_ICONS.includes(this.app.name)&&this.module?imt.static(`/img/packages/${this.app.name}_${this.module}.svg`):/^app#/.test(this.app.name)?imt.static(`/img/apps/${(_a2=this.app.name)==null?void 0:_a2.substring(4)}_${IMAGE_SIZE}.png`):imt.static(`/img/packages/${this.app.name}_${IMAGE_SIZE}.png`):imt.static(NO_ICO)}onError(e2){var _a2;e2.target instanceof HTMLImageElement&&e2.target.hasAttribute("no-image")||e2.target&&e2.target instanceof HTMLImageElement&&(e2.target.setAttribute("no-image",""),this.app&&HAS_MODULE_ICONS.includes(this.app.name)?e2.target.src=imt.static(`/img/packages/${(_a2=this.app)==null?void 0:_a2.name}_${IMAGE_SIZE}.png`):e2.target.src=imt.static(NO_ICO))}render(){var _a2,_b2,_c2;let classes2="dmo-rounded-md";return this.iconStyle==="round"&&(classes2="img-circle"),x`<div
			class="${classes2}"
			style="background-color: ${(_a2=this.app)==null?void 0:_a2.theme}; height: ${this.size}px; width: ${this.size}px; box-shadow: 0 0 0 1px ${(_b2=this.app)==null?void 0:_b2.theme}; display: flex;"
		>
			<img
				class="dmo-w-full dmo-h-auto ${this.size>20?"dmo-p-8":"dmo-p-2"}"
				alt=${(_c2=this.app)==null?void 0:_c2.label}
				src="${this.getUrl()}"
				@error=${this.onError}
			/>
		</div>`}};__decorateClass$i([n$3()],AppIcon.prototype,"app",2),__decorateClass$i([n$3()],AppIcon.prototype,"module",2),__decorateClass$i([n$3()],AppIcon.prototype,"size",2),__decorateClass$i([n$3()],AppIcon.prototype,"iconStyle",2),AppIcon=__decorateClass$i([t$2("imt-app-icon")],AppIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=t2=>(...e2)=>({_$litDirective$:t2,values:e2});let i$1=class{constructor(t2){}get _$AU(){return this._$AM._$AU}_$AT(t2,e2,i2){this._$Ct=t2,this._$AM=e2,this._$Ci=i2}_$AS(t2,e2){return this.update(t2,e2)}update(t2,e2){return this.render(...e2)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let e$1=class extends i$1{constructor(i2){if(super(i2),this.it=T,i2.type!==t$1.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(r2){if(r2===T||r2==null)return this._t=void 0,this.it=r2;if(r2===w)return r2;if(typeof r2!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(r2===this.it)return this._t;this.it=r2;const s2=[r2];return s2.raw=s2,this._t={_$litType$:this.constructor.resultType,strings:s2,values:[]}}};e$1.directiveName="unsafeHTML",e$1.resultType=1;const o$3=e$2(e$1);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*o$2(o2,f2){if(o2!==void 0){let i2=0;for(const t2 of o2)yield f2(t2,i2++)}}const MODULE_TYPES=["triggers","actions","searches","feeders","aggregators","transformers","routers","directives"],SIDE_PANEL_MODULES_FIRST=["gateway.CustomWebHook","builtin.BasicRouter","builtin.BasicFeeder","builtin.BasicAggregator","util.SetVariables","util.GetVariables","regexp.AdvancedParser","scenario-service.RunScenario"],BUILTIN_APPS=["builtin","util","csv","json","xml","datastore","mongodb","mssql","mysql","postgres","archive","ftp","sftp","android","ios","http","gateway","ssh","email","apn","safari","chrome","docx-templater","handlebars","barcode","currency","crypto","image","iso","math","phonenumber","units","mime","markdown","regexp","soap","rss","covid-19","gps-tools","getplaceholder","xmp","pii-remover"];function sortByPriority(a2,b2){return b2.score-a2.score}const SEARCH_DIRECTIVES={COMBINED_LABEL_WEIGHT:.7,MODULE_LABEL_WEIGHT:.3,LABEL_LIMIT:.8,POPULARITY_WEIGHT:.35,FUZZY_WEIGHT:.65,EXACT_MATCH_TRESHOLD:.95,LOWEST_SCORE:.18},LOADER_COLORS=["#4f99ff","#a1d36e","#fa6f57","#8a2be2","#ee82ee","#ac94ea","#c73a63"];let loadPromise$1;async function loadAppSearch(reload=!1){return(reload||!loadPromise$1)&&(loadPromise$1=new Promise(async(resolve,reject2)=>{const url=new URL(`${imt.apiurl}/imt/apps?organizationId=${imt.organization.id}&teamId=${imt.team.id}&scoredSearch=true`,window.location.origin),response=await fetch(url,{method:"GET",headers:{}});if(!response.ok)reject2(await response.json());else{const data2=await response.json();resolve(data2.apps)}})),await loadPromise$1}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(x2){return x2&&x2.__esModule&&Object.prototype.hasOwnProperty.call(x2,"default")?x2.default:x2}var fuzzysort$1={exports:{}};(function(module2){((root2,UMD)=>{module2.exports?module2.exports=UMD():root2.fuzzysort=UMD()})(commonjsGlobal,_2=>{var single=(search,target)=>{if(!search||!target)return NULL;var preparedSearch=getPreparedSearch(search);isPrepared(target)||(target=getPrepared(target));var searchBitflags=preparedSearch.bitflags;return(searchBitflags&target._bitflags)!==searchBitflags?NULL:algorithm(preparedSearch,target)},go=(search,targets,options)=>{if(!search)return options!=null&&options.all?all2(targets,options):noResults;var preparedSearch=getPreparedSearch(search),searchBitflags=preparedSearch.bitflags,containsSpace=preparedSearch.containsSpace,threshold=denormalizeScore((options==null?void 0:options.threshold)||0),limit=(options==null?void 0:options.limit)||INFINITY,resultsLen=0,limitedCount=0,targetsLen=targets.length;function push_result(result2){resultsLen<limit?(q.add(result2),++resultsLen):(++limitedCount,result2._score>q.peek()._score&&q.replaceTop(result2))}if(options!=null&&options.key)for(var key=options.key,i2=0;i2<targetsLen;++i2){var obj=targets[i2],target=getValue2(obj,key);if(target&&(isPrepared(target)||(target=getPrepared(target)),(searchBitflags&target._bitflags)===searchBitflags)){var result=algorithm(preparedSearch,target);result!==NULL&&(result._score<threshold||(result.obj=obj,push_result(result)))}}else if(options!=null&&options.keys){var keys2=options.keys,keysLen=keys2.length;outer:for(var i2=0;i2<targetsLen;++i2){var obj=targets[i2];{for(var keysBitflags=0,keyI=0;keyI<keysLen;++keyI){var key=keys2[keyI],target=getValue2(obj,key);if(!target){tmpTargets[keyI]=noTarget;continue}isPrepared(target)||(target=getPrepared(target)),tmpTargets[keyI]=target,keysBitflags|=target._bitflags}if((searchBitflags&keysBitflags)!==searchBitflags)continue}if(containsSpace)for(let i22=0;i22<preparedSearch.spaceSearches.length;i22++)keysSpacesBestScores[i22]=NEGATIVE_INFINITY;for(var keyI=0;keyI<keysLen;++keyI){if(target=tmpTargets[keyI],target===noTarget){tmpResults[keyI]=noTarget;continue}if(tmpResults[keyI]=algorithm(preparedSearch,target,!1,containsSpace),tmpResults[keyI]===NULL){tmpResults[keyI]=noTarget;continue}if(containsSpace)for(let i22=0;i22<preparedSearch.spaceSearches.length;i22++){if(allowPartialMatchScores[i22]>-1e3&&keysSpacesBestScores[i22]>NEGATIVE_INFINITY){var tmp=(keysSpacesBestScores[i22]+allowPartialMatchScores[i22])/4;tmp>keysSpacesBestScores[i22]&&(keysSpacesBestScores[i22]=tmp)}allowPartialMatchScores[i22]>keysSpacesBestScores[i22]&&(keysSpacesBestScores[i22]=allowPartialMatchScores[i22])}}if(containsSpace){for(let i22=0;i22<preparedSearch.spaceSearches.length;i22++)if(keysSpacesBestScores[i22]===NEGATIVE_INFINITY)continue outer}else{var hasAtLeast1Match=!1;for(let i22=0;i22<keysLen;i22++)if(tmpResults[i22]._score!==NEGATIVE_INFINITY){hasAtLeast1Match=!0;break}if(!hasAtLeast1Match)continue}var objResults=new KeysResult(keysLen);for(let i22=0;i22<keysLen;i22++)objResults[i22]=tmpResults[i22];if(containsSpace){var score=0;for(let i22=0;i22<preparedSearch.spaceSearches.length;i22++)score+=keysSpacesBestScores[i22]}else{var score=NEGATIVE_INFINITY;for(let i22=0;i22<keysLen;i22++){var result=objResults[i22];if(result._score>-1e3&&score>NEGATIVE_INFINITY){var tmp=(score+result._score)/4;tmp>score&&(score=tmp)}result._score>score&&(score=result._score)}}if(objResults.obj=obj,objResults._score=score,options!=null&&options.scoreFn){if(score=options.scoreFn(objResults),!score)continue;score=denormalizeScore(score),objResults._score=score}score<threshold||push_result(objResults)}}else for(var i2=0;i2<targetsLen;++i2){var target=targets[i2];if(target&&(isPrepared(target)||(target=getPrepared(target)),(searchBitflags&target._bitflags)===searchBitflags)){var result=algorithm(preparedSearch,target);result!==NULL&&(result._score<threshold||push_result(result))}}if(resultsLen===0)return noResults;for(var results=new Array(resultsLen),i2=resultsLen-1;i2>=0;--i2)results[i2]=q.poll();return results.total=resultsLen+limitedCount,results},highlight=(result,open2="<b>",close="</b>")=>{for(var callback=typeof open2=="function"?open2:void 0,target=result.target,targetLen=target.length,indexes=result.indexes,highlighted="",matchI=0,indexesI=0,opened=!1,parts=[],i2=0;i2<targetLen;++i2){var char=target[i2];if(indexes[indexesI]===i2){if(++indexesI,opened||(opened=!0,callback?(parts.push(highlighted),highlighted=""):highlighted+=open2),indexesI===indexes.length){callback?(highlighted+=char,parts.push(callback(highlighted,matchI++)),highlighted="",parts.push(target.substr(i2+1))):highlighted+=char+close+target.substr(i2+1);break}}else opened&&(opened=!1,callback?(parts.push(callback(highlighted,matchI++)),highlighted=""):highlighted+=close);highlighted+=char}return callback?parts:highlighted},prepare2=target=>{typeof target=="number"?target=""+target:typeof target!="string"&&(target="");var info=prepareLowerInfo(target);return new_result(target,{_targetLower:info._lower,_targetLowerCodes:info.lowerCodes,_bitflags:info.bitflags})},cleanup=()=>{preparedCache.clear(),preparedSearchCache.clear()};class Result{get indexes(){return this._indexes.slice(0,this._indexes.len).sort((a2,b2)=>a2-b2)}set indexes(indexes){return this._indexes=indexes}highlight(open2,close){return highlight(this,open2,close)}get score(){return normalizeScore(this._score)}set score(score){this._score=denormalizeScore(score)}}class KeysResult extends Array{get score(){return normalizeScore(this._score)}set score(score){this._score=denormalizeScore(score)}}var new_result=(target,options)=>{const result=new Result;return result.target=target,result.obj=options.obj??NULL,result._score=options._score??NEGATIVE_INFINITY,result._indexes=options._indexes??[],result._targetLower=options._targetLower??"",result._targetLowerCodes=options._targetLowerCodes??NULL,result._nextBeginningIndexes=options._nextBeginningIndexes??NULL,result._bitflags=options._bitflags??0,result},normalizeScore=score=>score===NEGATIVE_INFINITY?0:score>1?score:Math.E**(((-score+1)**.04307-1)*-2),denormalizeScore=normalizedScore=>normalizedScore===0?NEGATIVE_INFINITY:normalizedScore>1?normalizedScore:1-Math.pow(Math.log(normalizedScore)/-2+1,1/.04307),prepareSearch=search=>{typeof search=="number"?search=""+search:typeof search!="string"&&(search=""),search=search.trim();var info=prepareLowerInfo(search),spaceSearches=[];if(info.containsSpace){var searches=search.split(/\s+/);searches=[...new Set(searches)];for(var i2=0;i2<searches.length;i2++)if(searches[i2]!==""){var _info=prepareLowerInfo(searches[i2]);spaceSearches.push({lowerCodes:_info.lowerCodes,_lower:searches[i2].toLowerCase(),containsSpace:!1})}}return{lowerCodes:info.lowerCodes,_lower:info._lower,containsSpace:info.containsSpace,bitflags:info.bitflags,spaceSearches}},getPrepared=target=>{if(target.length>999)return prepare2(target);var targetPrepared=preparedCache.get(target);return targetPrepared!==void 0||(targetPrepared=prepare2(target),preparedCache.set(target,targetPrepared)),targetPrepared},getPreparedSearch=search=>{if(search.length>999)return prepareSearch(search);var searchPrepared=preparedSearchCache.get(search);return searchPrepared!==void 0||(searchPrepared=prepareSearch(search),preparedSearchCache.set(search,searchPrepared)),searchPrepared},all2=(targets,options)=>{var results=[];results.total=targets.length;var limit=(options==null?void 0:options.limit)||INFINITY;if(options!=null&&options.key)for(var i2=0;i2<targets.length;i2++){var obj=targets[i2],target=getValue2(obj,options.key);if(target!=NULL){isPrepared(target)||(target=getPrepared(target));var result=new_result(target.target,{_score:target._score,obj});if(results.push(result),results.length>=limit)return results}}else if(options!=null&&options.keys)for(var i2=0;i2<targets.length;i2++){for(var obj=targets[i2],objResults=new KeysResult(options.keys.length),keyI=options.keys.length-1;keyI>=0;--keyI){var target=getValue2(obj,options.keys[keyI]);if(!target){objResults[keyI]=noTarget;continue}isPrepared(target)||(target=getPrepared(target)),target._score=NEGATIVE_INFINITY,target._indexes.len=0,objResults[keyI]=target}if(objResults.obj=obj,objResults._score=NEGATIVE_INFINITY,results.push(objResults),results.length>=limit)return results}else for(var i2=0;i2<targets.length;i2++){var target=targets[i2];if(target!=NULL&&(isPrepared(target)||(target=getPrepared(target)),target._score=NEGATIVE_INFINITY,target._indexes.len=0,results.push(target),results.length>=limit))return results}return results},algorithm=(preparedSearch,prepared,allowSpaces=!1,allowPartialMatch=!1)=>{if(allowSpaces===!1&&preparedSearch.containsSpace)return algorithmSpaces(preparedSearch,prepared,allowPartialMatch);for(var searchLower=preparedSearch._lower,searchLowerCodes=preparedSearch.lowerCodes,searchLowerCode=searchLowerCodes[0],targetLowerCodes=prepared._targetLowerCodes,searchLen=searchLowerCodes.length,targetLen=targetLowerCodes.length,searchI=0,targetI=0,matchesSimpleLen=0;;){var isMatch=searchLowerCode===targetLowerCodes[targetI];if(isMatch){if(matchesSimple[matchesSimpleLen++]=targetI,++searchI,searchI===searchLen)break;searchLowerCode=searchLowerCodes[searchI]}if(++targetI,targetI>=targetLen)return NULL}var searchI=0,successStrict=!1,matchesStrictLen=0,nextBeginningIndexes=prepared._nextBeginningIndexes;nextBeginningIndexes===NULL&&(nextBeginningIndexes=prepared._nextBeginningIndexes=prepareNextBeginningIndexes(prepared.target)),targetI=matchesSimple[0]===0?0:nextBeginningIndexes[matchesSimple[0]-1];var backtrackCount=0;if(targetI!==targetLen)for(;;)if(targetI>=targetLen){if(searchI<=0||(++backtrackCount,backtrackCount>200))break;--searchI;var lastMatch=matchesStrict[--matchesStrictLen];targetI=nextBeginningIndexes[lastMatch]}else{var isMatch=searchLowerCodes[searchI]===targetLowerCodes[targetI];if(isMatch){if(matchesStrict[matchesStrictLen++]=targetI,++searchI,searchI===searchLen){successStrict=!0;break}++targetI}else targetI=nextBeginningIndexes[targetI]}var substringIndex=searchLen<=1?-1:prepared._targetLower.indexOf(searchLower,matchesSimple[0]),isSubstring=!!~substringIndex,isSubstringBeginning=isSubstring?substringIndex===0||prepared._nextBeginningIndexes[substringIndex-1]===substringIndex:!1;if(isSubstring&&!isSubstringBeginning){for(var i2=0;i2<nextBeginningIndexes.length;i2=nextBeginningIndexes[i2])if(!(i2<=substringIndex)){for(var s2=0;s2<searchLen&&searchLowerCodes[s2]===prepared._targetLowerCodes[i2+s2];s2++);if(s2===searchLen){substringIndex=i2,isSubstringBeginning=!0;break}}}var calculateScore=matches=>{for(var score2=0,extraMatchGroupCount=0,i22=1;i22<searchLen;++i22)matches[i22]-matches[i22-1]!==1&&(score2-=matches[i22],++extraMatchGroupCount);var unmatchedDistance=matches[searchLen-1]-matches[0]-(searchLen-1);if(score2-=(12+unmatchedDistance)*extraMatchGroupCount,matches[0]!==0&&(score2-=matches[0]*matches[0]*.2),!successStrict)score2*=1e3;else{for(var uniqueBeginningIndexes=1,i22=nextBeginningIndexes[0];i22<targetLen;i22=nextBeginningIndexes[i22])++uniqueBeginningIndexes;uniqueBeginningIndexes>24&&(score2*=(uniqueBeginningIndexes-24)*10)}return score2-=(targetLen-searchLen)/2,isSubstring&&(score2/=1+searchLen*searchLen*1),isSubstringBeginning&&(score2/=1+searchLen*searchLen*1),score2-=(targetLen-searchLen)/2,score2};if(successStrict)if(isSubstringBeginning){for(var i2=0;i2<searchLen;++i2)matchesSimple[i2]=substringIndex+i2;var matchesBest=matchesSimple,score=calculateScore(matchesSimple)}else var matchesBest=matchesStrict,score=calculateScore(matchesStrict);else{if(isSubstring)for(var i2=0;i2<searchLen;++i2)matchesSimple[i2]=substringIndex+i2;var matchesBest=matchesSimple,score=calculateScore(matchesBest)}prepared._score=score;for(var i2=0;i2<searchLen;++i2)prepared._indexes[i2]=matchesBest[i2];prepared._indexes.len=searchLen;const result=new Result;return result.target=prepared.target,result._score=prepared._score,result._indexes=prepared._indexes,result},algorithmSpaces=(preparedSearch,target,allowPartialMatch)=>{for(var seen_indexes=new Set,score=0,result=NULL,first_seen_index_last_search=0,searches=preparedSearch.spaceSearches,searchesLen=searches.length,changeslen=0,resetNextBeginningIndexes=()=>{for(let i22=changeslen-1;i22>=0;i22--)target._nextBeginningIndexes[nextBeginningIndexesChanges[i22*2+0]]=nextBeginningIndexesChanges[i22*2+1]},hasAtLeast1Match=!1,i2=0;i2<searchesLen;++i2){allowPartialMatchScores[i2]=NEGATIVE_INFINITY;var search=searches[i2];if(result=algorithm(search,target),allowPartialMatch){if(result===NULL)continue;hasAtLeast1Match=!0}else if(result===NULL)return resetNextBeginningIndexes(),NULL;var isTheLastSearch=i2===searchesLen-1;if(!isTheLastSearch){var indexes=result._indexes,indexesIsConsecutiveSubstring=!0;for(let i22=0;i22<indexes.len-1;i22++)if(indexes[i22+1]-indexes[i22]!==1){indexesIsConsecutiveSubstring=!1;break}if(indexesIsConsecutiveSubstring){var newBeginningIndex=indexes[indexes.len-1]+1,toReplace=target._nextBeginningIndexes[newBeginningIndex-1];for(let i22=newBeginningIndex-1;i22>=0&&toReplace===target._nextBeginningIndexes[i22];i22--)target._nextBeginningIndexes[i22]=newBeginningIndex,nextBeginningIndexesChanges[changeslen*2+0]=i22,nextBeginningIndexesChanges[changeslen*2+1]=toReplace,changeslen++}}score+=result._score/searchesLen,allowPartialMatchScores[i2]=result._score/searchesLen,result._indexes[0]<first_seen_index_last_search&&(score-=(first_seen_index_last_search-result._indexes[0])*2),first_seen_index_last_search=result._indexes[0];for(var j2=0;j2<result._indexes.len;++j2)seen_indexes.add(result._indexes[j2])}if(allowPartialMatch&&!hasAtLeast1Match)return NULL;resetNextBeginningIndexes();var allowSpacesResult=algorithm(preparedSearch,target,!0);if(allowSpacesResult!==NULL&&allowSpacesResult._score>score){if(allowPartialMatch)for(var i2=0;i2<searchesLen;++i2)allowPartialMatchScores[i2]=allowSpacesResult._score/searchesLen;return allowSpacesResult}allowPartialMatch&&(result=target),result._score=score;var i2=0;for(let index2 of seen_indexes)result._indexes[i2++]=index2;return result._indexes.len=i2,result},prepareLowerInfo=str=>{for(var strLen=str.length,lower=str.toLowerCase(),lowerCodes=[],bitflags=0,containsSpace=!1,i2=0;i2<strLen;++i2){var lowerCode=lowerCodes[i2]=lower.charCodeAt(i2);if(lowerCode===32){containsSpace=!0;continue}var bit=lowerCode>=97&&lowerCode<=122?lowerCode-97:lowerCode>=48&&lowerCode<=57?26:lowerCode<=127?30:31;bitflags|=1<<bit}return{lowerCodes,bitflags,containsSpace,_lower:lower}},prepareBeginningIndexes=target=>{for(var targetLen=target.length,beginningIndexes=[],beginningIndexesLen=0,wasUpper=!1,wasAlphanum=!1,i2=0;i2<targetLen;++i2){var targetCode=target.charCodeAt(i2),isUpper=targetCode>=65&&targetCode<=90,isAlphanum=isUpper||targetCode>=97&&targetCode<=122||targetCode>=48&&targetCode<=57,isBeginning=isUpper&&!wasUpper||!wasAlphanum||!isAlphanum;wasUpper=isUpper,wasAlphanum=isAlphanum,isBeginning&&(beginningIndexes[beginningIndexesLen++]=i2)}return beginningIndexes},prepareNextBeginningIndexes=target=>{for(var targetLen=target.length,beginningIndexes=prepareBeginningIndexes(target),nextBeginningIndexes=[],lastIsBeginning=beginningIndexes[0],lastIsBeginningI=0,i2=0;i2<targetLen;++i2)lastIsBeginning>i2?nextBeginningIndexes[i2]=lastIsBeginning:(lastIsBeginning=beginningIndexes[++lastIsBeginningI],nextBeginningIndexes[i2]=lastIsBeginning===void 0?targetLen:lastIsBeginning);return nextBeginningIndexes},preparedCache=new Map,preparedSearchCache=new Map,matchesSimple=[],matchesStrict=[],nextBeginningIndexesChanges=[],keysSpacesBestScores=[],allowPartialMatchScores=[],tmpTargets=[],tmpResults=[],getValue2=(obj,prop)=>{var tmp=obj[prop];if(tmp!==void 0)return tmp;if(typeof prop=="function")return prop(obj);var segs=prop;Array.isArray(prop)||(segs=prop.split("."));for(var len=segs.length,i2=-1;obj&&++i2<len;)obj=obj[segs[i2]];return obj},isPrepared=x2=>typeof x2=="object"&&typeof x2._bitflags=="number",INFINITY=1/0,NEGATIVE_INFINITY=-INFINITY,noResults=[];noResults.total=0;var NULL=null,noTarget=prepare2(""),fastpriorityqueue=r2=>{var e2=[],o2=0,a2={},v2=r22=>{for(var a22=0,v22=e2[a22],c2=1;c2<o2;){var s2=c2+1;a22=c2,s2<o2&&e2[s2]._score<e2[c2]._score&&(a22=s2),e2[a22-1>>1]=e2[a22],c2=1+(a22<<1)}for(var f2=a22-1>>1;a22>0&&v22._score<e2[f2]._score;f2=(a22=f2)-1>>1)e2[a22]=e2[f2];e2[a22]=v22};return a2.add=r22=>{var a22=o2;e2[o2++]=r22;for(var v22=a22-1>>1;a22>0&&r22._score<e2[v22]._score;v22=(a22=v22)-1>>1)e2[a22]=e2[v22];e2[a22]=r22},a2.poll=r22=>{if(o2!==0){var a22=e2[0];return e2[0]=e2[--o2],v2(),a22}},a2.peek=r22=>{if(o2!==0)return e2[0]},a2.replaceTop=r22=>{e2[0]=r22,v2()},a2},q=fastpriorityqueue();return{single,go,prepare:prepare2,cleanup}})})(fuzzysort$1);var fuzzysortExports=fuzzysort$1.exports;const fuzzysort=getDefaultExportFromCjs(fuzzysortExports);class AppSearchSearcher{constructor(){this.apps=[],this.prepared=[]}prepareApp(app,id){var _a2;this.apps.push(app),app.type===APP_TYPES.ADDON&&this.prepared.push({id,label:fuzzysort.prepare(app.label)});const versionWithModules=(_a2=app.versions)==null?void 0:_a2.find(v2=>v2.modules.length>0);if(versionWithModules)for(let j2=0;j2<versionWithModules.modules.length;j2++){const module2=versionWithModules.modules[j2];this.prepared.push({id,moduleId:j2,label:fuzzysort.prepare(app.label),moduleLabel:fuzzysort.prepare(`${app.label} ${module2.label}`)})}}search(searchQuery){let apps=[];const topModules=[],results=fuzzysort.go(searchQuery,this.prepared,{threshold:SEARCH_DIRECTIVES.LOWEST_SCORE,keys:["moduleLabel","label"],scoreFn:x2=>{var _a2,_b2;const combinedScore=((_a2=x2[0])==null?void 0:_a2.score)??0,labelScore=((_b2=x2[1])==null?void 0:_b2.score)??0;return labelScore>SEARCH_DIRECTIVES.EXACT_MATCH_TRESHOLD?labelScore:labelScore*SEARCH_DIRECTIVES.MODULE_LABEL_WEIGHT+combinedScore*SEARCH_DIRECTIVES.COMBINED_LABEL_WEIGHT}}),set2=new Set;for(const match2 of results)if(!set2.has(match2.obj.id)){const app={...this.apps[match2.obj.id]};app.score=this.adjustScore(match2.score,app.score),apps.push(app),set2.add(match2.obj.id)}apps=apps.sort(this.sorter);const firstApp=apps[0];if(topModules.length<3&&(firstApp!=null&&firstApp.versions)){const modulesResult=fuzzysort.go(searchQuery,firstApp.versions[0].modules.map((m2,i2)=>({id:i2,label:m2.label,name:`${firstApp.label} ${m2.label}`,description:m2.description})),{keys:["label","name"],all:!0});for(const match2 of modulesResult){const module2=firstApp.versions[0].modules[match2.obj.id];module2.score=this.adjustScore(match2.score,module2.score),topModules.push({...module2,_fuzzyScore:match2.score})}}return topModules.sort(this.sorter),{apps,topModules:topModules.slice(0,3)}}adjustScore(fuzzyScore,popularityScore){if(fuzzyScore>SEARCH_DIRECTIVES.EXACT_MATCH_TRESHOLD)return fuzzyScore;{const popularity=Math.min(1,popularityScore);return SEARCH_DIRECTIVES.FUZZY_WEIGHT*fuzzyScore+SEARCH_DIRECTIVES.POPULARITY_WEIGHT*popularity}}sorter(a2,b2){return b2.score>a2.score?1:b2.score<a2.score?-1:0}}var __defProp$h=Object.defineProperty,__decorateClass$h=(decorators,target,key,kind)=>{for(var result=void 0,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=decorator(target,key,result)||result);return result&&__defProp$h(target,key,result),result};const BASE_ATTR="app-search-item-base";class AppSearchItemBase extends s$2{constructor(){super(),this.setAttribute("app-search-item-base","")}createRenderRoot(){return this}updated(changes){super.updated(changes),this.preselected?(this.classList.add("preselected"),this.scrollIntoView({behavior:"smooth",block:"center"})):this.classList.remove("preselected")}preselect(){this.preselected||(this.classList.add("keyselected"),this.preselected=!0)}preselectNext(){let targetElement=this;for(;targetElement.nextElementSibling;){const next=targetElement.nextElementSibling;if(next!=null&&next.hasAttribute(BASE_ATTR))return this.preselected=!1,this.classList.remove("keyselected"),next.preselected=!0,next.classList.add("keyselected"),!0;targetElement=next}return!1}preselectPrevious(){let targetElement=this;for(;targetElement.previousElementSibling;){const prev=targetElement.previousElementSibling;if(prev!=null&&prev.hasAttribute(BASE_ATTR))return this.preselected=!1,this.classList.remove("keyselected"),prev.preselected=!0,prev.classList.add("keyselected"),!0;targetElement=prev}return!1}select(_e2){}}__decorateClass$h([n$3()],AppSearchItemBase.prototype,"preselected");function getPremiumTierBadge(app){return app.premiumTier===3&&imt.mode==="slave"?{color:"warning",text:`${imt.l("base","appSearch.enterprise")}`,tooltip:`${imt.l("base","tooltip.enterprise")}`}:{color:"warning",text:`${imt.l("base","appSearch.premium",{data:{tier:app.premiumTier}})}`}}function getAppBadges(app){const badges=[];return app.type===APP_TYPES.NATIVE&&!app.builtin&&badges.push({color:"verified",text:imt.l("base","appSearch.verified"),tooltip:`${imt.l("base","tooltip.verified")}`}),app.premiumTier&&badges.push(getPremiumTierBadge(app)),app.versions&&!app.versions.find(v2=>v2.public)&&badges.push({color:"danger",text:imt.l("base","appSearch.private"),tooltip:`${imt.l("base","tooltip.private")}`}),app.type==="addon"&&badges.push({color:"primary",text:imt.l("base","common.addon"),tooltip:`${imt.l("base","tooltip.addon")}`}),app.builtin&&badges.push({color:"builtin",text:imt.l("base","appSearch.builtin"),tooltip:`${imt.l("base","tooltip.builtin")}`}),badges}function getAppModuleBadges(appModule){const badges=[];return appModule.type==="trigger"&&appModule.listener&&badges.push({color:"purple",text:imt.l("base","common.instant")}),appModule.acid&&badges.push({color:"primary",text:imt.l("base","common.acid")}),appModule.public===!1&&badges.push({color:"danger",text:imt.l("base","appSearch.private")}),!appModule.approved&&appModule.public&&imt.admin&&badges.push({color:"warning",text:imt.l("base","appSearch.notApproved")}),badges}function getAppVersionBadges(appVersion,app){const badges=[];return appVersion.supportsAgent&&badges.push({color:"dark",text:imt.l("base","appSearch.agent"),tooltip:`${imt.l("base","tooltip.agent")}`}),appVersion.public||badges.push({color:"danger",text:imt.l("base","appSearch.private"),tooltip:`${imt.l("base","tooltip.private")}`}),appVersion.beta&&badges.push({color:"warning",text:imt.l("base","appSearch.beta"),tooltip:`${imt.l("base","tooltip.beta")}`}),app.type===APP_TYPES.NATIVE&&!app.builtin&&badges.push({color:"verified",text:imt.l("base","appSearch.verified"),tooltip:`${imt.l("base","tooltip.verified")}`}),app.builtin&&badges.push({color:"builtin",text:imt.l("base","appSearch.builtin"),tooltip:`${imt.l("base","tooltip.builtin")}`}),app.type===APP_TYPES.SDK&&(appVersion.foreign?badges.push({color:"warning",text:imt.l("base","appSearch.invited"),tooltip:`${imt.l("base","tooltip.invited")}`}):imt.admin?badges.push({color:"warning",text:imt.l("base","appSearch.app")}):badges.push({color:"success",text:imt.l("base","appSearch.myApp"),tooltip:`${imt.l("base","tooltip.myApp")}`})),app.premiumTier&&badges.push(getPremiumTierBadge(app)),badges}function getBadges(badgeArgument){return badgeArgument.app&&!badgeArgument.appVersion?getAppBadges(badgeArgument.app):badgeArgument.appModule?getAppModuleBadges(badgeArgument.appModule):badgeArgument.appVersion&&badgeArgument.app?getAppVersionBadges(badgeArgument.appVersion,badgeArgument.app):[]}function renderBadges(badgeArgument){const badges=getBadges(badgeArgument);return x`<div class="badge-items">${badges.map(b2=>badgeArgument.appModule?x`<div class="badge-module badge-${b2.color}"><i class="fa-solid fa-shield verified-logo"></i> ${b2.text}</div>`:b2.tooltip?x`<div class="badge badge-${b2.color}" data-dmo-el-tooltip="${b2.tooltip}" data-dmo-el-tooltip-position="top"><i class="fa-solid fa-shield verified-logo"></i> ${b2.text}</div>`:x`<div class="badge badge-${b2.color}"><i class="fa-solid fa-shield verified-logo"></i> ${b2.text}</div>`)}</div>`}class ModuleNotFoundEvent extends CustomEvent{constructor(appName,query){super("module-not-found",{bubbles:!0,composed:!0,detail:{appName,query}})}}class AppSelectedEvent extends CustomEvent{constructor(app,openDetail){super("app-selected",{bubbles:!0,composed:!0,detail:{app,openDetail}})}}class ModuleSelectedEvent extends CustomEvent{constructor(app,module2,version2,e2){e2=typeof version2=="string"?e2:version2,super("module-selected",{bubbles:!0,composed:!0,detail:{app,module:module2,version:typeof version2=="string"?version2:void 0,pointer:e2?{x:e2.pageX,y:e2.pageY}:void 0}})}}class AppNotFoundEvent extends CustomEvent{constructor(query){super("app-not-found",{bubbles:!0,composed:!0,detail:{query}})}}class CreateAppUsingAiClickEvent extends CustomEvent{constructor(){super("create-app-using-ai-click")}}var __defProp$g=Object.defineProperty,__getOwnPropDesc$g=Object.getOwnPropertyDescriptor,__decorateClass$g=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$g(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$g(target,key,result),result};let AppSearchItem=class extends AppSearchItemBase{select(){var _a2;((_a2=this.app)==null?void 0:_a2.type)===APP_TYPES.ADDON?window.open(this.app.landingUrl):this.dispatchEvent(new AppSelectedEvent(this.app,!0))}render(){var _a2;return x`<div class="item-container" @click="${this.select}"><div class="item-content"><div class="item-zone"><imt-app-icon class="mr-3" .app="${this.app}"></imt-app-icon><span>${(_a2=this.app)==null?void 0:_a2.label}</span><div class="app-search-badge">${renderBadges({app:this.app})}</div></div></div></div>`}};__decorateClass$g([n$3()],AppSearchItem.prototype,"app",2),AppSearchItem=__decorateClass$g([t$2("app-search-item")],AppSearchItem);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function n$2(n2,r2,t2){return n2?r2(n2):t2==null?void 0:t2(n2)}function __decorate(decorators,target,key,desc){var c2=arguments.length,r2=c2<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d2;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r2=Reflect.decorate(decorators,target,key,desc);else for(var i2=decorators.length-1;i2>=0;i2--)(d2=decorators[i2])&&(r2=(c2<3?d2(r2):c2>3?d2(target,key,r2):d2(target,key))||r2);return c2>3&&r2&&Object.defineProperty(target,key,r2),r2}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:t}=z,f$1=o2=>o2.strings===void 0,s$1=()=>document.createComment(""),r$1=(o2,i2,n2)=>{var _a2;const e2=o2._$AA.parentNode,l2=i2===void 0?o2._$AB:i2._$AA;if(n2===void 0){const i3=e2.insertBefore(s$1(),l2),c2=e2.insertBefore(s$1(),l2);n2=new t(i3,c2,o2,o2.options)}else{const t2=n2._$AB.nextSibling,i3=n2._$AM,c2=i3!==o2;if(c2){let t3;(_a2=n2._$AQ)==null||_a2.call(n2,o2),n2._$AM=o2,n2._$AP!==void 0&&(t3=o2._$AU)!==i3._$AU&&n2._$AP(t3)}if(t2!==l2||c2){let o3=n2._$AA;for(;o3!==t2;){const t3=o3.nextSibling;e2.insertBefore(o3,l2),o3=t3}}}return n2},v=(o2,t2,i2=o2)=>(o2._$AI(t2,i2),o2),u$1={},m=(o2,t2=u$1)=>o2._$AH=t2,p=o2=>o2._$AH,h$1=o2=>{var _a2;(_a2=o2._$AP)==null||_a2.call(o2,!1,!0);let t2=o2._$AA;const i2=o2._$AB.nextSibling;for(;t2!==i2;){const o3=t2.nextSibling;t2.remove(),t2=o3}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=(i2,t2)=>{var _a2;const e2=i2._$AN;if(e2===void 0)return!1;for(const i3 of e2)(_a2=i3._$AO)==null||_a2.call(i3,t2,!1),s(i3,t2);return!0},o$1=i2=>{let t2,e2;do{if((t2=i2._$AM)===void 0)break;e2=t2._$AN,e2.delete(i2),i2=t2}while((e2==null?void 0:e2.size)===0)},r=i2=>{for(let t2;t2=i2._$AM;i2=t2){let e2=t2._$AN;if(e2===void 0)t2._$AN=e2=new Set;else if(e2.has(i2))break;e2.add(i2),c$1(t2)}};function h(i2){this._$AN!==void 0?(o$1(this),this._$AM=i2,r(this)):this._$AM=i2}function n$1(i2,t2=!1,e2=0){const r2=this._$AH,h2=this._$AN;if(h2!==void 0&&h2.size!==0)if(t2)if(Array.isArray(r2))for(let i3=e2;i3<r2.length;i3++)s(r2[i3],!1),o$1(r2[i3]);else r2!=null&&(s(r2,!1),o$1(r2));else s(this,i2)}const c$1=i2=>{i2.type==t$1.CHILD&&(i2._$AP??(i2._$AP=n$1),i2._$AQ??(i2._$AQ=h))};class f extends i$1{constructor(){super(...arguments),this._$AN=void 0}_$AT(i2,t2,e2){super._$AT(i2,t2,e2),r(this),this.isConnected=i2._$AU}_$AO(i2,t2=!0){var _a2,_b2;i2!==this.isConnected&&(this.isConnected=i2,i2?(_a2=this.reconnected)==null||_a2.call(this):(_b2=this.disconnected)==null||_b2.call(this)),t2&&(s(this,i2),o$1(this))}setValue(t2){if(f$1(this._$Ct))this._$Ct._$AI(t2,this);else{const i2=[...this._$Ct._$AH];i2[this._$Ci]=t2,this._$Ct._$AI(i2,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const u=(e2,s2,t2)=>{const r2=new Map;for(let l2=s2;l2<=t2;l2++)r2.set(e2[l2],l2);return r2},c=e$2(class extends i$1{constructor(e2){if(super(e2),e2.type!==t$1.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e2,s2,t2){let r2;t2===void 0?t2=s2:s2!==void 0&&(r2=s2);const l2=[],o2=[];let i2=0;for(const s3 of e2)l2[i2]=r2?r2(s3,i2):i2,o2[i2]=t2(s3,i2),i2++;return{values:o2,keys:l2}}render(e2,s2,t2){return this.dt(e2,s2,t2).values}update(s2,[t2,r2,c2]){const d2=p(s2),{values:p$12,keys:a2}=this.dt(t2,r2,c2);if(!Array.isArray(d2))return this.ut=a2,p$12;const h2=this.ut??(this.ut=[]),v$12=[];let m$12,y2,x2=0,j2=d2.length-1,k2=0,w$1=p$12.length-1;for(;x2<=j2&&k2<=w$1;)if(d2[x2]===null)x2++;else if(d2[j2]===null)j2--;else if(h2[x2]===a2[k2])v$12[k2]=v(d2[x2],p$12[k2]),x2++,k2++;else if(h2[j2]===a2[w$1])v$12[w$1]=v(d2[j2],p$12[w$1]),j2--,w$1--;else if(h2[x2]===a2[w$1])v$12[w$1]=v(d2[x2],p$12[w$1]),r$1(s2,v$12[w$1+1],d2[x2]),x2++,w$1--;else if(h2[j2]===a2[k2])v$12[k2]=v(d2[j2],p$12[k2]),r$1(s2,d2[x2],d2[j2]),j2--,k2++;else if(m$12===void 0&&(m$12=u(a2,k2,w$1),y2=u(h2,x2,j2)),m$12.has(h2[x2]))if(m$12.has(h2[j2])){const e2=y2.get(a2[k2]),t3=e2!==void 0?d2[e2]:null;if(t3===null){const e3=r$1(s2,d2[x2]);v(e3,p$12[k2]),v$12[k2]=e3}else v$12[k2]=v(t3,p$12[k2]),r$1(s2,d2[x2],t3),d2[e2]=null;k2++}else h$1(d2[j2]),j2--;else h$1(d2[x2]),x2++;for(;k2<=w$1;){const e2=r$1(s2,v$12[w$1+1]);v(e2,p$12[k2]),v$12[k2++]=e2}for(;x2<=j2;){const e2=d2[x2++];e2!==null&&h$1(e2)}return this.ut=a2,m(s2,v$12),w}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class RangeChangedEvent extends Event{constructor(range2){super(RangeChangedEvent.eventName,{bubbles:!1}),this.first=range2.first,this.last=range2.last}}RangeChangedEvent.eventName="rangeChanged";class VisibilityChangedEvent extends Event{constructor(range2){super(VisibilityChangedEvent.eventName,{bubbles:!1}),this.first=range2.first,this.last=range2.last}}VisibilityChangedEvent.eventName="visibilityChanged";class UnpinnedEvent extends Event{constructor(){super(UnpinnedEvent.eventName,{bubbles:!1})}}UnpinnedEvent.eventName="unpinned";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ScrollerShim{constructor(element2){this._element=null;const node2=element2??window;this._node=node2,element2&&(this._element=element2)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}}class ScrollerController extends ScrollerShim{constructor(client,element2){super(element2),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const node2=this._node;this._originalScrollTo=node2.scrollTo,this._originalScrollBy=node2.scrollBy,this._originalScroll=node2.scroll,this._attach(client)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(p1,p2){const options=typeof p1=="number"&&typeof p2=="number"?{left:p1,top:p2}:p1;this._scrollTo(options)}scrollBy(p1,p2){const options=typeof p1=="number"&&typeof p2=="number"?{left:p1,top:p2}:p1;options.top!==void 0&&(options.top+=this.scrollTop),options.left!==void 0&&(options.left+=this.scrollLeft),this._scrollTo(options)}_nativeScrollTo(options){this._originalScrollTo.bind(this._element||window)(options)}_scrollTo(options,retarget=null,end2=null){this._end!==null&&this._end(),options.behavior==="smooth"?(this._setDestination(options),this._retarget=retarget,this._end=end2):this._resetScrollState(),this._nativeScrollTo(options)}_setDestination(options){let{top,left}=options;return top=top===void 0?void 0:Math.max(0,Math.min(top,this.maxScrollTop)),left=left===void 0?void 0:Math.max(0,Math.min(left,this.maxScrollLeft)),this._destination!==null&&left===this._destination.left&&top===this._destination.top?!1:(this.__destination={top,left,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(coordinates){this._destination&&this._setDestination(coordinates)&&this._nativeScrollTo(this._destination)}managedScrollTo(options,retarget,end2){return this._scrollTo(options,retarget,end2),this._updateManagedScrollTo}correctScrollError(coordinates){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(coordinates),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop,scrollLeft}=this;let{top,left}=this._destination;top=Math.min(top||0,this.maxScrollTop),left=Math.min(left||0,this.maxScrollLeft);const topDiff=Math.abs(top-scrollTop),leftDiff=Math.abs(left-scrollLeft);topDiff<1&&leftDiff<1&&(this._end&&this._end(),this._resetScrollState())}}detach(client){return this._clients.delete(client),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(client){this._clients.add(client),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let _ResizeObserver=window==null?void 0:window.ResizeObserver;const virtualizerRef=Symbol("virtualizerRef"),SIZER_ATTRIBUTE="virtualizer-sizer";let DefaultLayoutConstructor;class Virtualizer{constructor(config2){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!config2)throw new Error("Virtualizer constructor requires a configuration object");if(config2.hostElement)this._init(config2);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(items){Array.isArray(items)&&items!==this._items&&(this._itemsChanged=!0,this._items=items,this._schedule(this._updateLayout))}_init(config2){this._isScroller=!!config2.scroller,this._initHostElement(config2);const layoutConfig=config2.layout||{};this._layoutInitialized=this._initLayout(layoutConfig)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new _ResizeObserver(()=>this._hostElementSizeChanged()),this._childrenRO=new _ResizeObserver(this._childrenSizeChanged.bind(this))}_initHostElement(config2){const hostElement=this._hostElement=config2.hostElement;this._applyVirtualizerStyles(),hostElement[virtualizerRef]=this}connected(){this._initObservers();const includeSelf=this._isScroller;this._clippingAncestors=getClippingAncestors(this._hostElement,includeSelf),this._scrollerController=new ScrollerController(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(ancestor=>{ancestor.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(ancestor),this._hostElementRO.observe(ancestor)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(child=>this._childrenRO.observe(child)),this._scrollEventListeners.forEach(target=>target.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var _a2,_b2,_c2,_d2;this._scrollEventListeners.forEach(target=>target.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(_a2=this._scrollerController)==null||_a2.detach(this),this._scrollerController=null,(_b2=this._mutationObserver)==null||_b2.disconnect(),this._mutationObserver=null,(_c2=this._hostElementRO)==null||_c2.disconnect(),this._hostElementRO=null,(_d2=this._childrenRO)==null||_d2.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const style=this._hostElement.style;style.display=style.display||"block",style.position=style.position||"relative",style.contain=style.contain||"size layout",this._isScroller&&(style.overflow=style.overflow||"auto",style.minHeight=style.minHeight||"150px")}_getSizer(){const hostElement=this._hostElement;if(!this._sizer){let sizer=hostElement.querySelector(`[${SIZER_ATTRIBUTE}]`);sizer||(sizer=document.createElement("div"),sizer.setAttribute(SIZER_ATTRIBUTE,""),hostElement.appendChild(sizer)),Object.assign(sizer.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),sizer.textContent="&nbsp;",sizer.setAttribute(SIZER_ATTRIBUTE,""),this._sizer=sizer}return this._sizer}async updateLayoutConfig(layoutConfig){await this._layoutInitialized;const Ctor=layoutConfig.type||DefaultLayoutConstructor;if(typeof Ctor=="function"&&this._layout instanceof Ctor){const config2={...layoutConfig};return delete config2.type,this._layout.config=config2,!0}return!1}async _initLayout(layoutConfig){let config2,Ctor;if(typeof layoutConfig.type=="function"){Ctor=layoutConfig.type;const copy={...layoutConfig};delete copy.type,config2=copy}else config2=layoutConfig;Ctor===void 0&&(DefaultLayoutConstructor=Ctor=(await Promise.resolve().then(()=>flow)).FlowLayout),this._layout=new Ctor(message=>this._handleLayoutMessage(message),config2),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const now=window.performance.now(),timeElapsed=now-this._benchmarkStart,virtualizationTime=performance.getEntriesByName("uv-virtualizing","measure").filter(e2=>e2.startTime>=this._benchmarkStart&&e2.startTime<now).reduce((t2,m2)=>t2+m2.duration,0);return this._benchmarkStart=null,{timeElapsed,virtualizationTime}}return null}_measureChildren(){const mm={},children=this._children,fn2=this._measureChildOverride||this._measureChild;for(let i2=0;i2<children.length;i2++){const child=children[i2],idx=this._first+i2;(this._itemsChanged||this._toBeMeasured.has(child))&&(mm[idx]=fn2.call(this,child,this._items[idx]))}this._childMeasurements=mm,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(element2){const{width,height}=element2.getBoundingClientRect();return Object.assign({width,height},getMargins(element2))}async _schedule(method){this._scheduled.has(method)||(this._scheduled.add(method),await Promise.resolve(),this._scheduled.delete(method),method.call(this))}async _updateDOM(state){this._scrollSize=state.scrollSize,this._adjustRange(state.range),this._childrenPos=state.childPositions,this._scrollError=state.scrollError||null;const{_rangeChanged,_itemsChanged}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(_rangeChanged||_itemsChanged)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(child=>this._childrenRO.observe(child)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var _a2;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(e2){console.warn("Error measuring performance data: ",e2)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((_a2=this._layout)==null||_a2.unpin()),this._schedule(this._updateLayout)}handleEvent(event){switch(event.type){case"scroll":(event.currentTarget===window||this._clippingAncestors.includes(event.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",event)}}_handleLayoutMessage(message){message.type==="stateChanged"?this._updateDOM(message):message.type==="visibilityChanged"?(this._firstVisible=message.firstVisible,this._lastVisible=message.lastVisible,this._notifyVisibility()):message.type==="unpinned"&&this._hostElement.dispatchEvent(new UnpinnedEvent)}get _children(){const arr=[];let next=this._hostElement.firstElementChild;for(;next;)next.hasAttribute(SIZER_ATTRIBUTE)||arr.push(next),next=next.nextElementSibling;return arr}_updateView(){var _a2;const hostElement=this._hostElement,scrollingElement=(_a2=this._scrollerController)==null?void 0:_a2.element,layout=this._layout;if(hostElement&&scrollingElement&&layout){let top,left,bottom,right;const hostElementBounds=hostElement.getBoundingClientRect();top=0,left=0,bottom=window.innerHeight,right=window.innerWidth;const ancestorBounds=this._clippingAncestors.map(ancestor=>ancestor.getBoundingClientRect());ancestorBounds.unshift(hostElementBounds);for(const bounds of ancestorBounds)top=Math.max(top,bounds.top),left=Math.max(left,bounds.left),bottom=Math.min(bottom,bounds.bottom),right=Math.min(right,bounds.right);const scrollingElementBounds=scrollingElement.getBoundingClientRect(),offsetWithinScroller={left:hostElementBounds.left-scrollingElementBounds.left,top:hostElementBounds.top-scrollingElementBounds.top},totalScrollSize={width:scrollingElement.scrollWidth,height:scrollingElement.scrollHeight},scrollTop=top-hostElementBounds.top+hostElement.scrollTop,scrollLeft=left-hostElementBounds.left+hostElement.scrollLeft,height=bottom-top,width=right-left;layout.viewportSize={width,height},layout.viewportScroll={top:scrollTop,left:scrollLeft},layout.totalScrollSize=totalScrollSize,layout.offsetWithinScroller=offsetWithinScroller}}_sizeHostElement(size){const h2=size&&size.width!==null?Math.min(82e5,size.width):0,v2=size&&size.height!==null?Math.min(82e5,size.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${h2}px, ${v2}px)`;else{const style=this._hostElement.style;style.minWidth=h2?`${h2}px`:"100%",style.minHeight=v2?`${v2}px`:"100%"}}_positionChildren(pos){pos&&pos.forEach(({top,left,width,height,xOffset,yOffset},index2)=>{const child=this._children[index2-this._first];child&&(child.style.position="absolute",child.style.boxSizing="border-box",child.style.transform=`translate(${left}px, ${top}px)`,width!==void 0&&(child.style.width=width+"px"),height!==void 0&&(child.style.height=height+"px"),child.style.left=xOffset===void 0?null:xOffset+"px",child.style.top=yOffset===void 0?null:yOffset+"px")})}async _adjustRange(range2){const{_first,_last,_firstVisible,_lastVisible}=this;this._first=range2.first,this._last=range2.last,this._firstVisible=range2.firstVisible,this._lastVisible=range2.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==_first||this._last!==_last,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==_firstVisible||this._lastVisible!==_lastVisible}_correctScrollError(){if(this._scrollError){const{scrollTop,scrollLeft}=this._scrollerController,{top,left}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:scrollTop-top,left:scrollLeft-left})}}element(index2){var _a2;return index2===1/0&&(index2=this._items.length-1),((_a2=this._items)==null?void 0:_a2[index2])===void 0?void 0:{scrollIntoView:(options={})=>this._scrollElementIntoView({...options,index:index2})}}_scrollElementIntoView(options){if(options.index>=this._first&&options.index<=this._last)this._children[options.index-this._first].scrollIntoView(options);else if(options.index=Math.min(options.index,this._items.length-1),options.behavior==="smooth"){const coordinates=this._layout.getScrollIntoViewCoordinates(options),{behavior}=options;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(coordinates,{behavior}),()=>this._layout.getScrollIntoViewCoordinates(options),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=options}else this._layout.pin=options}_checkScrollIntoViewTarget(pos){const{index:index2}=this._scrollIntoViewTarget||{};index2&&(pos!=null&&pos.has(index2))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new RangeChangedEvent({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new VisibilityChangedEvent({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((resolve,reject2)=>{this._layoutCompleteResolver=resolve,this._layoutCompleteRejecter=reject2})),this._layoutCompletePromise}_rejectLayoutCompletePromise(reason){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(reason),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(changes){var _a2;if((_a2=this._layout)!=null&&_a2.measureChildren){for(const change of changes)this._toBeMeasured.set(change.target,change.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}}function getMargins(el){const style=window.getComputedStyle(el);return{marginTop:getMarginValue(style.marginTop),marginRight:getMarginValue(style.marginRight),marginBottom:getMarginValue(style.marginBottom),marginLeft:getMarginValue(style.marginLeft)}}function getMarginValue(value){const float=value?parseFloat(value):NaN;return Number.isNaN(float)?0:float}function getParentElement$1(el){if(el.assignedSlot!==null)return el.assignedSlot;if(el.parentElement!==null)return el.parentElement;const parentNode2=el.parentNode;return parentNode2&&parentNode2.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&parentNode2.host||null}function getElementAncestors(el,includeSelf=!1){const ancestors=[];let parent2=includeSelf?el:getParentElement$1(el);for(;parent2!==null;)ancestors.push(parent2),parent2=getParentElement$1(parent2);return ancestors}function getClippingAncestors(el,includeSelf=!1){let foundFixed=!1;return getElementAncestors(el,includeSelf).filter(a2=>{if(foundFixed)return!1;const style=getComputedStyle(a2);return foundFixed=style.position==="fixed",style.overflow!=="visible"})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const defaultKeyFunction=item=>item,defaultRenderItem=(item,idx)=>x`${idx}: ${JSON.stringify(item,null,2)}`;class VirtualizeDirective extends f{constructor(part){if(super(part),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(item,idx)=>defaultRenderItem(item,idx+this._first),this._keyFunction=(item,idx)=>defaultKeyFunction(item,idx+this._first),this._items=[],part.type!==t$1.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(config2){config2&&this._setFunctions(config2);const itemsToRender=[];if(this._first>=0&&this._last>=this._first)for(let i2=this._first;i2<=this._last;i2++)itemsToRender.push(this._items[i2]);return c(itemsToRender,this._keyFunction,this._renderItem)}update(part,[config2]){this._setFunctions(config2);const itemsChanged=this._items!==config2.items;return this._items=config2.items||[],this._virtualizer?this._updateVirtualizerConfig(part,config2):this._initialize(part,config2),itemsChanged?w:this.render()}async _updateVirtualizerConfig(part,config2){if(!await this._virtualizer.updateLayoutConfig(config2.layout||{})){const hostElement=part.parentNode;this._makeVirtualizer(hostElement,config2)}this._virtualizer.items=this._items}_setFunctions(config2){const{renderItem,keyFunction}=config2;renderItem&&(this._renderItem=(item,idx)=>renderItem(item,idx+this._first)),keyFunction&&(this._keyFunction=(item,idx)=>keyFunction(item,idx+this._first))}_makeVirtualizer(hostElement,config2){this._virtualizer&&this._virtualizer.disconnected();const{layout,scroller,items}=config2;this._virtualizer=new Virtualizer({hostElement,layout,scroller}),this._virtualizer.items=items,this._virtualizer.connected()}_initialize(part,config2){const hostElement=part.parentNode;hostElement&&hostElement.nodeType===1&&(hostElement.addEventListener("rangeChanged",e2=>{this._first=e2.first,this._last=e2.last,this.setValue(this.render())}),this._makeVirtualizer(hostElement,config2))}disconnected(){var _a2;(_a2=this._virtualizer)==null||_a2.disconnected()}reconnected(){var _a2;(_a2=this._virtualizer)==null||_a2.connected()}}const virtualize=e$2(VirtualizeDirective);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class LitVirtualizer extends s$2{constructor(){super(...arguments),this.items=[],this.renderItem=defaultRenderItem,this.keyFunction=defaultKeyFunction,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items,renderItem,keyFunction,layout,scroller}=this;return x`${virtualize({items,renderItem,keyFunction,layout,scroller})}`}element(index2){var _a2;return(_a2=this[virtualizerRef])==null?void 0:_a2.element(index2)}get layoutComplete(){var _a2;return(_a2=this[virtualizerRef])==null?void 0:_a2.layoutComplete}scrollToIndex(index2,position="start"){var _a2;(_a2=this.element(index2))==null||_a2.scrollIntoView({block:position})}}__decorate([n$3({attribute:!1})],LitVirtualizer.prototype,"items",void 0),__decorate([n$3()],LitVirtualizer.prototype,"renderItem",void 0),__decorate([n$3()],LitVirtualizer.prototype,"keyFunction",void 0),__decorate([n$3({attribute:!1})],LitVirtualizer.prototype,"layout",void 0),__decorate([n$3({reflect:!0,type:Boolean})],LitVirtualizer.prototype,"scroller",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */customElements.define("lit-virtualizer",LitVirtualizer);var __defProp$f=Object.defineProperty,__getOwnPropDesc$f=Object.getOwnPropertyDescriptor,__decorateClass$f=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$f(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$f(target,key,result),result};let AppSearchDetailItem=class extends AppSearchItemBase{select(e2){var _a2;this.classList.contains("module-preview")&&this.dispatchEvent(new AppSelectedEvent(this.app,!1)),this.dispatchEvent(new ModuleSelectedEvent(this.app,this.module,(_a2=this.appVersion)==null?void 0:_a2.version,e2))}render(){return x`<div class="item-container" @click="${this.select}"><div class="item-content"><div class="item-zone"><imt-app-icon class="mr-3" .app="${this.app}" .module="${this.module.name}"></imt-app-icon><div class="module-info"><div class="module-label module-badges">${this.module.label}<div class="app-search-badge">${renderBadges({appModule:this.module})}</div></div><div class="module-description small text-muted">${this.module.description}</div></div></div></div></div>`}};__decorateClass$f([n$3()],AppSearchDetailItem.prototype,"app",2),__decorateClass$f([n$3()],AppSearchDetailItem.prototype,"module",2),__decorateClass$f([n$3()],AppSearchDetailItem.prototype,"appVersion",2),AppSearchDetailItem=__decorateClass$f([t$2("app-search-detail-item")],AppSearchDetailItem);var __defProp$e=Object.defineProperty,__getOwnPropDesc$e=Object.getOwnPropertyDescriptor,__decorateClass$e=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$e(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$e(target,key,result),result};let AppSearchDetail=class extends s$2{constructor(){super(...arguments),this.closableDetail=!0,this.filteredModules=[]}createRenderRoot(){return this}get visibleVersions(){var _a2,_b2;return(_b2=(_a2=this.app)==null?void 0:_a2.versions)==null?void 0:_b2.filter(v2=>this.app.type===APP_TYPES.SDK||v2.public||imt.user.features.private_modules)}open(app,version2,showPreselected){var _a2,_b2;this.isOpened=!0,this.app=app,this.appVersion=((_a2=this.visibleVersions)==null?void 0:_a2.find(x2=>x2.version===version2))||((_b2=this.visibleVersions)==null?void 0:_b2[0]),this.updateComplete.then(()=>{var _a3;const elm=this.searchDetailElm;elm&&elm.classList.add("show"),this.filter(),this.appSearchInput.value="",(_a3=this.appSearchInput)==null||_a3.focus(),setTimeout(()=>{var _a4;showPreselected&&((_a4=this.modulesList.querySelector("app-search-detail-item"))==null||_a4.preselect())},0),this.modulesList.addEventListener("scroll",()=>{this.modulesList.scrollTop>66?this.modulesListHeader.classList.add("scroll-effect"):this.modulesList.scrollTop<40&&this.modulesListHeader.classList.remove("scroll-effect")})})}close(){this.isOpened=!1,this.searchQuery="";const e2=new CustomEvent("detail-closed",{bubbles:!0,composed:!0});this.dispatchEvent(e2)}filter(){var _a2,_b2,_c2;if(this.filteredModules=[],!this.appVersion)return;let modules=[];if(this.searchQuery){const hits=fuzzysort.go(this.searchQuery.trim().toLocaleLowerCase(),this.appVersion.modules,{keys:["label"]});for(const hit of hits)modules.push(hit.obj)}else modules=this.appVersion.modules;((_a2=this.appVersion.groups)==null?void 0:_a2.length)>1?this.appVersion.groups.forEach(g2=>{const modulesOfGroup=new Array;g2.modules.forEach(m2=>{const mod=modules.find(x2=>x2.name===m2);mod&&modulesOfGroup.push(mod)}),(modulesOfGroup==null?void 0:modulesOfGroup.length)>0&&this.filteredModules.push({category:g2.label,items:modulesOfGroup})}):MODULE_TYPES.forEach(moduleType=>{const modulesOfType=modules.filter(x2=>moduleType.startsWith(x2.type));modulesOfType!=null&&modulesOfType.length&&this.filteredModules.push({category:moduleType,items:modulesOfType})}),(_b2=this.searchQuery)!=null&&_b2.length&&!this.filteredModules.length&&this.dispatchEvent(new ModuleNotFoundEvent((_c2=this.app)==null?void 0:_c2.label,this.searchQuery.trim()))}switchVersion(version2){this.appVersion=version2,this.filter()}onInputChange(e2){this.searchQuery=e2.detail,this.filter(),this.preselectedItem||setTimeout(()=>{var _a2;(_a2=this.querySelector("app-search-detail-item"))==null||_a2.preselect()},0)}versionLabel(v2){return"v"+v2.substring(0,v2.indexOf("."))}render(){var _a2,_b2,_c2,_d2;return this.isOpened?x`<div class="app-search-detail-container"><div class="header-buttons relative z-0"><div class="d-flex justify-content-between m-1 mx-3">${this.closableDetail?x`<button class="btn btn-sm btn-light text-uppercase" @click="${this.close}"><i class="fa-solid fa-arrow-left"></i>Back</button>`:T} ${n$2((((_a2=this.visibleVersions)==null?void 0:_a2.length)??0)>1,()=>x`<div class="dropdown"><button class="btn btn-sm btn-light dropdown-toggle" data-toggle="dropdown">${this.versionLabel(this.appVersion.version)}</button><div class="dropdown-menu dropdown-menu-right">${o$2(this.visibleVersions,v2=>x`<button class="dropdown-item" @click="${()=>this.switchVersion(v2)}">${this.versionLabel(v2.version)}</button>`)}</div></div>`)}</div></div><div class="modules-list relative mt-2 imt-scroll"><div class="header-modules"><div class="header-border" style="border-color:${(_b2=this.app)==null?void 0:_b2.theme}"><div class="app-background" style="background-color:${(_c2=this.app)==null?void 0:_c2.theme}"></div><imt-app-icon class="dmo-absolute -dmo-top-10" .app="${this.app}"></imt-app-icon><div><div class="d-flex justify-content-center app-name">${(_d2=this.app)==null?void 0:_d2.label}</div><div class="app-search-badge">${renderBadges({appVersion:this.appVersion,app:this.app})}</div></div></div></div>${this.filteredModules.map(a2=>x`<div class="text-uppercase small font-weight-bold mt-2 px-3 category">${a2.category}</div>${a2.items.map((m2,i2)=>x`<app-search-detail-item .app="${this.app}" .module="${m2}" .appVersion="${this.appVersion}" .position="${i2}"></app-search-detail-item>`)}`)}</div><div class="m-2"><app-search-input @onchange="${this.onInputChange}" placeholder="Search modules"></app-search-input></div></div>`:null}};__decorateClass$e([n$3()],AppSearchDetail.prototype,"closableDetail",2),__decorateClass$e([r$2()],AppSearchDetail.prototype,"app",2),__decorateClass$e([r$2()],AppSearchDetail.prototype,"appVersion",2),__decorateClass$e([r$2()],AppSearchDetail.prototype,"filteredModules",2),__decorateClass$e([r$2()],AppSearchDetail.prototype,"isOpened",2),__decorateClass$e([e$3(".app-search-detail-container")],AppSearchDetail.prototype,"searchDetailElm",2),__decorateClass$e([e$3("app-search-input")],AppSearchDetail.prototype,"appSearchInput",2),__decorateClass$e([e$3(".modules-list")],AppSearchDetail.prototype,"modulesList",2),__decorateClass$e([e$3(".header-modules")],AppSearchDetail.prototype,"modulesListHeader",2),__decorateClass$e([e$3(".modules-list app-search-detail-item.preselected")],AppSearchDetail.prototype,"preselectedItem",2),AppSearchDetail=__decorateClass$e([t$2("app-search-detail")],AppSearchDetail);var __defProp$d=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__decorateClass$d=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$d(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$d(target,key,result),result};const CONTROL_KEYS=["ArrowUp","ArrowDown"];let AppSearchInput=class extends s$2{constructor(){super(...arguments),this.placeholder=imt.l("inspector","appsSearch.searchPlaceholder"),this.preventControlKeys=!0,this._value=""}get value(){return this._value}set value(val){val!==this._value&&(this._value=val,this.onChange())}get inputValue(){return this.inputElm.value}set inputValue(val){this.inputElm.value=val}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),setTimeout(()=>{this.focus()},200)}focus(){var _a2;(_a2=this.inputElm)==null||_a2.focus()}onKeyDown(event){this.preventControlKeys&&CONTROL_KEYS.includes(event.key)&&event.preventDefault()}onKeyUp(){this.value=this.inputValue}onPaste(){setTimeout(()=>{this.onKeyUp()},0)}onChange(){const e2=new CustomEvent("onchange",{detail:this.value});this.dispatchEvent(e2)}onClear(){const e2=new CustomEvent("clear",{detail:{previous:this.value}});this.dispatchEvent(e2),this.value="",this.inputValue=""}render(){return x`<div class="search"><i class="far fa-magnifying-glass text-secondary"></i> <input @keydown="${this.onKeyDown}" @keyup="${this.onKeyUp}" @paste="${this.onPaste}" maxlength="256" type="text" placeholder="${this.placeholder}"> <button class="clear-btn" @click="${this.onClear}"><i class="far fa-times text-secondary"></i></button></div>`}};__decorateClass$d([n$3()],AppSearchInput.prototype,"placeholder",2),__decorateClass$d([n$3()],AppSearchInput.prototype,"preventControlKeys",2),__decorateClass$d([e$3("input")],AppSearchInput.prototype,"inputElm",2),AppSearchInput=__decorateClass$d([t$2("app-search-input")],AppSearchInput);var __defProp$c=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__decorateClass$c=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$c(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$c(target,key,result),result};let AppSearchFavouritePanel=class extends s$2{get isExpanded(){var _a2;return(_a2=this.favouritePanel)==null?void 0:_a2.classList.contains("expanded")}createRenderRoot(){return this}close(){var _a2,_b2,_c2;if(!this.isExpanded)return;(_a2=this.favouritePanel)==null||_a2.classList.remove("expanded");const panel=(_b2=this.parentElement)==null?void 0:_b2.querySelector(".flex-container-data");panel==null||panel.classList.remove("blur");const arrow=this.querySelector(".arrow");arrow==null||arrow.classList.remove("active"),(_c2=this.favouritePanel)==null||_c2.classList.add("closed")}open(){var _a2,_b2;if(this.isExpanded)return;(_a2=this.favouritePanel)==null||_a2.classList.add("expanded");const panel=(_b2=this.parentElement)==null?void 0:_b2.querySelector(".flex-container-data");panel==null||panel.classList.add("blur");const arrow=this.querySelector(".arrow");arrow==null||arrow.classList.add("active")}toggleClass(){}moduleClick(e2,item){this.dispatchEvent(new ModuleSelectedEvent(item.app,item.module,e2))}render(){return x`<div class="favourite-panel"><div class="flex-container"><div><div class="d-flex justify-content-end"><div class="arrows" @click="${this.toggleClass}"><span class="arrow"><span></span> <span></span></span></div></div><div class="apps">${(this.favouriteApps??[]).map(i2=>x`<div data-dmo-el-tooltip="${i2.module.label}" data-dmo-el-tooltip-position="left" class="app-item" @click="${e2=>{this.moduleClick(e2,i2)}}"><imt-app-icon class="app-item-logo" size="30" .app="${i2.app}" .module="${i2.module.name}"></imt-app-icon><div class="app-item-text">${i2.module.label}</div></div>`)}</div></div><div class="links"><a href="/apps" target="_blank">Create your own app</a> ${imt.mode!=="slave"?x`<a href="https://www.make.com/en/integrations" target="_blank">Marketplace</a> <a href="https://academy.make.com" target="_blank">Make academy</a>`:T} <a href="${imt.helpUrl}" target="_blank">Help center</a></div></div></div>`}};__decorateClass$c([n$3()],AppSearchFavouritePanel.prototype,"favouriteApps",2),__decorateClass$c([e$3(".favourite-panel")],AppSearchFavouritePanel.prototype,"favouritePanel",2),AppSearchFavouritePanel=__decorateClass$c([t$2("app-search-favourite-panel")],AppSearchFavouritePanel);var __defProp$b=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__decorateClass$b=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$b(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$b(target,key,result),result};let AppSearchVirtualizer=class extends s$2{constructor(){super(...arguments),this._initItems=[],this._labelPositions=[],this.items=[]}createRenderRoot(){return this}_resetLabelPositions(){this._labelPositions=[],this.items.forEach((x2,i2)=>{x2.type==="label"&&this._labelPositions.push({ref:x2,position:i2})}),this._labelPositions.sort((x2,y2)=>y2.position-x2.position)}saveItemsState(){this._initItems=this.items}resetItemsState(){return this.items=this._initItems,this._resetLabelPositions(),!0}setItems(type,items){return this.items=this.mapItems(type,items),!0}insertItems(type,items,at=0,removeDuplicates=!1){var _a2,_b2,_c2,_d2,_e2;const vItems=this.mapItems(type,items);if(type==="appModule"&&((_a2=this.items[0])==null?void 0:_a2.type)==="app"){const moduleApp=(_b2=this.items[0])==null?void 0:_b2.data;(((_e2=(_d2=(_c2=moduleApp==null?void 0:moduleApp.versions)==null?void 0:_c2[0])==null?void 0:_d2.modules)==null?void 0:_e2.length)??0)>3&&vItems.push({data:moduleApp,type:"moduleEnd"})}else type==="app"&&removeDuplicates&&(this.items=this.items.filter(item=>{if(item.type==="app"){const appItem=item.data;return!items.some(x2=>x2.name===appItem.name)}return!0}));return this.items=[...this.items.slice(0,at),...vItems,...this.items.slice(at)],this._resetLabelPositions(),!0}mapItems(type,items){return items.map((x2,i2)=>({data:x2,type,position:i2}))}onScroll(e2){var _a2,_b2,_c2;const scrollTop=(_a2=e2.target)==null?void 0:_a2.scrollTop,topItemIndex=Math.floor(scrollTop/56),offset2=scrollTop%56;this.stickedHeader=(_c2=(_b2=this._labelPositions.find(x2=>x2.position<topItemIndex||x2.position===topItemIndex&&offset2>=16))==null?void 0:_b2.ref)==null?void 0:_c2.data}_openDetail(data2){this.dispatchEvent(new AppSelectedEvent(data2,!0))}render(){return x`<div class="sticked-label pt-1${this.stickedHeader?"":" d-none"}"><span class="ml-3 text-uppercase text-muted small font-weight-bold">${this.stickedHeader}</span></div><lit-virtualizer @scroll="${this.onScroll}" scroller class="scroll imt-scroll" .scrollTarget="${window}" .items="${this.items}" .renderItem="${(a2,i2)=>{switch(a2.type){case"app":return x`<app-search-item .app="${a2.data}" .position="${a2.position}"></app-search-item>`;case"module":return x`<app-search-detail-item .app="${a2.data.app}" .module="${a2.data.module}"></app-search-detail-item>`;case"appModule":return x`<app-search-detail-item class="module-preview" .app="${this.items[0].data}" .module="${a2.data}" .position="${a2.position}"></app-search-detail-item>`;case"moduleEnd":return x`<div class="app-search-module-end"><div class="app-search-module-end-content"><span class="small ml-3" @click="${()=>this._openDetail(a2.data)}">Show more</span></div></div>`;case"label":return x`<div class="app-search-label ml-3 text-uppercase text-muted small font-weight-bold">${a2.data}</div>`}}}"></lit-virtualizer>`}};__decorateClass$b([r$2()],AppSearchVirtualizer.prototype,"items",2),__decorateClass$b([r$2()],AppSearchVirtualizer.prototype,"stickedHeader",2),AppSearchVirtualizer=__decorateClass$b([t$2("app-search-virtualizer")],AppSearchVirtualizer);var __defProp$a=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__decorateClass$a=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$a(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$a(target,key,result),result};let AppSearch=class extends s$2{constructor(){super(),this.meta={},this.apps=[],this.showFavourites=!0,this.closableDetail=!0,this.showTopModules=!0,this.favouriteApps=[],this.isLoading=!1,this.noResults=!1,this.NO_RESULT_LINKS=[{title:imt.l("inspector","appsSearch.noResultLinks.createAppUsingAiTitle"),description:imt.l("inspector","appsSearch.noResultLinks.createAppUsingAiDescription"),customIcon:x`<div class="ai-icon mr-3"><i class="fa-regular fa-sparkles"></i></div>`,onClick:()=>{this.dispatchEvent(new CreateAppUsingAiClickEvent),imtEvents.dispatch("scenario.create_app_using_ai_clicked")},hide:!isFeatureOn("create-app-using-ai-button")},{title:imt.l("inspector","appsSearch.noResultLinks.useHttpTitle"),description:imt.l("inspector","appsSearch.noResultLinks.useHttpDescription",{data:{helpUrl:imt.helpUrl}}),customIcon:x`<imt-app-icon class="mr-3" .app="${{name:"http",theme:"#007ee5"}}"></imt-app-icon>`,onClick:()=>this.addHttpReqModule()},{title:imt.l("inspector","appsSearch.noResultLinks.requestAppTitle"),description:imt.l("inspector","appsSearch.noResultLinks.requestAppDescription"),href:"https://www.make.com/en/app-ideas",hide:(imt==null?void 0:imt.mode)!=="slave"},{title:imt.l("inspector","appsSearch.noResultLinks.hireDeveloperTitle"),description:imt.l("inspector","appsSearch.noResultLinks.hireDeveloperDescription"),href:"https://www.make.com/en/find-partner",hide:(imt==null?void 0:imt.mode)!=="slave"},{title:imt.l("inspector","appsSearch.noResultLinks.createAppTitle"),description:imt.l("inspector","appsSearch.noResultLinks.createAppDescription"),href:"/apps"}],this.loadData().then(()=>{var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m;if(this.dispatchEvent(new CustomEvent("app-search-data-loaded",{bubbles:!0})),this.loadSidePanelData(),(_a2=this.virtualizerData)==null||_a2.setItems("app",this.apps),(_b2=this.virtualizerData)==null||_b2.insertItems("label",[imt.l("inspector","appsSearch.allApps")]),(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.favorites)!=null&&_d2.length){const scenarioApps=new Array;Inspector.instance.favorites.forEach(x2=>{const app=this.apps.find(a2=>a2.name===x2.name);app&&scenarioApps.push(app)}),scenarioApps.length&&((_e2=this.virtualizerData)==null||_e2.insertItems("label",[imt.l("inspector","appsSearch.appsInScenario")]),(_f2=this.virtualizerData)==null||_f2.insertItems("app",scenarioApps,1))}if((_g2=this.meta)!=null&&_g2.isInsideErrorHandler){const app=this.apps.find(a2=>a2.name==="builtin"),directives=(_i2=(_h2=app==null?void 0:app.versions)==null?void 0:_h2[0])==null?void 0:_i2.modules.filter(x2=>x2.type.startsWith("directive"));app&&(directives!=null&&directives.length)&&((_j2=this.virtualizerData)==null||_j2.insertItems("label",[imt.l("inspector","appsSearch.errorHandlers")]),(_k=this.virtualizerData)==null||_k.insertItems("module",directives.map(d2=>({app,module:d2})),1))}(_l=this.virtualizerData)==null||_l.saveItemsState(),(_m=this.appSearchInput)!=null&&_m.value&&this.filter(this.appSearchInput.value)})}createRenderRoot(){return this}loadSidePanelData(){this.favouriteApps=[],SIDE_PANEL_MODULES_FIRST.forEach(x2=>{var _a2,_b2,_c2,_d2;const[appName,moduleName]=x2.split("."),app=(_a2=this.apps)==null?void 0:_a2.find(a2=>a2.name===appName),module2=(_d2=(_c2=(_b2=app==null?void 0:app.versions)==null?void 0:_b2[0])==null?void 0:_c2.modules)==null?void 0:_d2.find(m2=>m2.name===moduleName);app&&module2&&this.favouriteApps.push({app,module:module2})})}async loadData(){this.isLoading=!0;const data2=await loadAppSearch();this.searcher=new AppSearchSearcher,this.apps=this.processLoadedData(data2.sort(sortByPriority)),this.isLoading=!1}processLoadedData(data2){const processedApps=new Array;let i2=0;return data2.forEach(app=>{var _a2,_b2,_c2;if(app.type===APP_TYPES.ADDON){processedApps.push(app),(_a2=this.searcher)==null||_a2.prepareApp(app,i2++);return}const currentApp={...app,versions:new Array};BUILTIN_APPS.includes(currentApp.name)&&(currentApp.builtin=!0),(_b2=app.versions)==null||_b2.forEach(v2=>{var _a3,_b3,_c3,_d2,_e2,_f2;const currentVersion={...v2,modules:new Array};currentApp.type!==APP_TYPES.SDK&&currentApp.type!==APP_TYPES.ADDON&&!currentVersion.public&&!((_b3=(_a3=imt==null?void 0:imt.user)==null?void 0:_a3.features)!=null&&_b3.private_modules)||v2.supportsAgent&&(!((_c3=imt==null?void 0:imt.features)!=null&&_c3.onPremAgent)||!((_e2=(_d2=imt==null?void 0:imt.organization)==null?void 0:_d2.license)!=null&&_e2.onPremAgent))||(v2.modules.forEach(m2=>{var _a4,_b4,_c4;if(currentApp.type===APP_TYPES.SDK||m2.public!==!1||imt.user.features.private_modules)switch(!0){case m2.type.startsWith("trigger"):{(((_a4=this.meta)==null?void 0:_a4.isFirstModule)??!0)&&currentVersion.modules.push(m2);break}case m2.type.startsWith("directive"):{((_b4=this.meta)!=null&&_b4.isInsideErrorHandler||(_c4=this.meta)!=null&&_c4.showDirectives)&&currentVersion.modules.push(m2);break}default:currentVersion.modules.push(m2)}}),(_f2=currentVersion.modules)!=null&&_f2.length&&currentApp.versions.push(currentVersion))}),!(currentApp.versions.length<1)&&((_c2=this.searcher)==null||_c2.prepareApp(currentApp,i2++),processedApps.push(currentApp))}),processedApps}preselectItem(dir2){var _a2;const{item,list,selector}=this.getScrollContext();!(dir2==="next"?item==null?void 0:item.preselectNext():item==null?void 0:item.preselectPrevious())&&!item&&((_a2=list==null?void 0:list.querySelector(selector))==null||_a2.preselect())}selectItem(){const{item}=this.getScrollContext();item==null||item.select()}getScrollContext(){var _a2;return(_a2=this.detail)!=null&&_a2.isOpened?{item:this.detail.preselectedItem,list:this.detail.modulesList,selector:"app-search-detail-item"}:{item:this.preselectedItem,list:this.virtualizer,selector:"app-search-item"}}async filter(searchQuery){var _a2,_b2,_c2;if(searchQuery&&this.searcher){const{apps,topModules}=this.searcher.search(searchQuery);(_a2=this.virtualizerData)==null||_a2.setItems("app",apps),this.showTopModules&&((_b2=this.virtualizerData)==null||_b2.insertItems("appModule",topModules,1)),setTimeout(()=>{var _a3,_b3;(_b3=(_a3=this.virtualizer)==null?void 0:_a3.querySelector("app-search-item"))==null||_b3.preselect()},0),this.virtualizer&&(this.virtualizer.scrollTop=0),apps.length?this.noResults=!1:(this.dispatchEvent(new AppNotFoundEvent(searchQuery.trim())),this.noResults=!0)}else(_c2=this.virtualizerData)==null||_c2.resetItemsState(),setTimeout(()=>{var _a3,_b3;(_b3=(_a3=this.virtualizer)==null?void 0:_a3.querySelector("app-search-item"))==null||_b3.preselect()},0),this.noResults&&(this.noResults=!1)}onSelect(event){var _a2,_b2,_c2;const{app,openDetail}=event.detail;if(!openDetail)return;const detailPanel=this.querySelector("app-search-detail"),usedPackage=(_b2=(_a2=this.meta)==null?void 0:_a2.scenarioPackages)==null?void 0:_b2.find(x2=>x2.name===(app==null?void 0:app.name));(_c2=this.favouritePanel)!=null&&_c2.isExpanded?this.favouritePanel.close():detailPanel==null||detailPanel.open(app,usedPackage==null?void 0:usedPackage.version,!!this.preselectedItem)}onDetailClosed(){var _a2;(_a2=this.appSearchInput)==null||_a2.focus()}onInputChange(e2){this.filter(e2.detail)}addHttpReqModule(){var _a2;const app=this.apps.find(x2=>x2.name==="http"),lastVersion=(_a2=app==null?void 0:app.versions)==null?void 0:_a2[0];!app||!lastVersion||this.dispatchEvent(new ModuleSelectedEvent(app,lastVersion.modules.find(x2=>x2.name==="ActionSendData"),lastVersion.version))}renderNoResultLinkContent(link){return x`${link.customIcon?link.customIcon:T}<div><span>${link.title}</span><div><small class="text-muted">${o$3(link.description)}</small></div></div>${link.href?x`<div><small><i class="text-muted fa-regular fa-arrow-up-right-from-square"></i></small></div>`:T}`}render(){let favouritePanel=x``;return this.showFavourites&&(favouritePanel=x`<app-search-favourite-panel .favouriteApps="${this.favouriteApps}"></app-search-favourite-panel>`),x`<div class="flex-container"><div class="flex-container-data"><div class="mt-1 apps-list"><app-search-virtualizer @app-selected="${this.onSelect}"></app-search-virtualizer><div class="app-search-loader${this.isLoading?"":" d-none"}"><div class="loader-row d-flex align-items-center"><div class="loader-category-label loader-animated-text"></div></div>${o$2(LOADER_COLORS,bgColor=>x`<div class="loader-row d-flex align-items-center"><div class="loader-circle" style="background-color:${bgColor}"></div><div class="loader-label loader-animated-text"></div></div>`)}</div><div class="app-search-no-result rounded-lg${this.noResults?"":" d-none"}"><div class="d-flex flex-column align-items-start h-100"><div class="h-100 w-100 mt-2 d-flex align-items-center justify-content-center"><div>${imt.l("inspector","appsSearch.noResultLinks.cantFind")}</div><div style="font-size:${isFeatureOn("create-app-using-ai-button")?"4rem":"6rem"}" class="magnifier position-absolute display-1"><i class="fa-regular fa-magnifying-glass"></i></div></div><div class="mt-auto"><div class="border rounded m-2">${o$2(this.NO_RESULT_LINKS,(link,index2)=>{var _a2;return link.hide?T:x`<div class="item${index2<((_a2=this.NO_RESULT_LINKS)==null?void 0:_a2.length)-1?" border-bottom":""}">${link.href?x`<a href="${link.href}" target="_blank" class="text-body text-decoration-none d-flex justify-content-between align-items-center mx-3 my-2">${this.renderNoResultLinkContent(link)}</a>`:x`<div class="d-flex align-items-center mx-3 my-2" @click="${link.onClick}">${this.renderNoResultLinkContent(link)}</div>`}</div>`})}</div></div></div></div></div><div class="m-2"><app-search-input @onchange="${this.onInputChange}" @click="${()=>{var _a2;return(_a2=this.favouritePanel)==null?void 0:_a2.close()}}"></app-search-input></div></div>${favouritePanel}</div><app-search-detail .closableDetail="${this.closableDetail}" @detail-closed="${this.onDetailClosed}"></app-search-detail>`}};__decorateClass$a([n$3()],AppSearch.prototype,"apps",2),__decorateClass$a([n$3()],AppSearch.prototype,"showFavourites",2),__decorateClass$a([n$3()],AppSearch.prototype,"closableDetail",2),__decorateClass$a([n$3()],AppSearch.prototype,"showTopModules",2),__decorateClass$a([r$2()],AppSearch.prototype,"favouriteApps",2),__decorateClass$a([r$2()],AppSearch.prototype,"isLoading",2),__decorateClass$a([r$2()],AppSearch.prototype,"noResults",2),__decorateClass$a([e$3("app-search-virtualizer")],AppSearch.prototype,"virtualizerData",2),__decorateClass$a([e$3("lit-virtualizer")],AppSearch.prototype,"virtualizer",2),__decorateClass$a([e$3("app-search-input")],AppSearch.prototype,"appSearchInput",2),__decorateClass$a([e$3("[app-search-item-base].preselected")],AppSearch.prototype,"preselectedItem",2),__decorateClass$a([e$3("app-search-favourite-panel")],AppSearch.prototype,"favouritePanel",2),__decorateClass$a([e$3("app-search-detail")],AppSearch.prototype,"detail",2),AppSearch=__decorateClass$a([t$2("app-search")],AppSearch);const NoteDeleteEventName="note-delete",NoteColorChangeEventName="note-color-change",NoteEmojiSelectEventName="note-emoji-select",NoteEditorResizeEventName="note-editor-resize",NoteUpdateCacheEventName="note-update-cache";class NoteDeleteEvent extends CustomEvent{constructor(){super(NoteDeleteEventName,{bubbles:!0,composed:!0})}}class NoteColorChangeEvent extends CustomEvent{constructor(color){super(NoteColorChangeEventName,{bubbles:!0,composed:!0,detail:{color}})}}class NoteEmojiSelectEvent extends CustomEvent{constructor(emoji){super(NoteEmojiSelectEventName,{bubbles:!0,composed:!0,detail:{emoji}})}}class NoteEditorResizeEvent extends CustomEvent{constructor(height,width){super(NoteEditorResizeEventName,{bubbles:!0,composed:!0,detail:{height,width}})}}class NoteUpdateCacheEvent extends CustomEvent{constructor(payload){super(NoteUpdateCacheEventName,{detail:payload})}}const DEFAULT_COLORS=["#9138FE","#CF5FE2","#00BACC","#87B74A","#F2BF46","#F08D88"],DEFAULT_COLOR=DEFAULT_COLORS[0],NOTE_QUILL_FORMATS=["bold","font","italic","link","size","strike","underline","blockquote","header","indent","list","align","direction","code-block"];let loadPromise;async function fetchNotes(req,reload=!1){return(reload||!loadPromise)&&(loadPromise=new Promise(async(resolve,reject2)=>{const url=new URL(`${req.apiUrl}/scenarios/${req.scenarioId}/notes?organizationId=${req.orgId}&teamId=${req.teamId}`,window.location.origin),response=await fetch(url,{method:"GET",headers:{}});if(!response.ok)reject2(await response.json());else{const data2=await response.json();resolve(data2.notes)}})),await loadPromise}async function fetchBatchNotes(req){const url=new URL(`${req.apiUrl}/scenarios/${req.scenarioId}/notes/batch?organizationId=${req.orgId}&teamId=${req.teamId}`,window.location.origin),response=await fetch(url,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(req.payload)});if(!response.ok)throw new Error(response.statusText);return await response.json()}const getNoteHtmlFromText=content=>content?`<p>${content.split(`
`).join("</p></p>")}</p>`:"";class OverlayRelativeElement{constructor(relativeTo){relativeTo instanceof HTMLElement?this.element=relativeTo:isSimElement(relativeTo)?this.element=relativeTo.__dom:isSurfaceNode(relativeTo)?this.node=relativeTo:isPoint(relativeTo)&&(this.coordinates=relativeTo)}get isHtmlElement(){return!!this.element}get isSurfaceElement(){return!!this.node}get isStaticPosition(){return!!this.coordinates}get scale(){var _a2;return this.isSurfaceElement?(((_a2=this.node.stage)==null?void 0:_a2.scale)??1)*(1/window.devicePixelRatio):1}get cameraZoom(){var _a2,_b2,_c2;return this.isSurfaceElement?(_c2=(_b2=(_a2=Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.camera)==null?void 0:_c2.zoom:1}getBoundingClientRect(){if(this.element)return this.element.getBoundingClientRect();if(this.coordinates)return new DOMRect(this.coordinates.x,this.coordinates.y);if(this.node){if(!this.node.stage)return console.warn("[Inspector] [Overlay] Relative node is not attached to stage, returning origin point"),new DOMRect(0,0);const documentCoords=this.node.documentCoords,width=this.node.width*this.node.stage.scale*(1/window.devicePixelRatio),height=this.node.height*this.node.stage.scale*(1/window.devicePixelRatio);return new DOMRect(documentCoords.x-width/2,documentCoords.y-height/2,width,height)}return console.warn("[Inspector] [Overlay] There's no relative element, returning origin point"),new DOMRect(0,0)}onPositionChange(handler){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2;(_a2=this.node)==null||_a2.on("move",handler),(_c2=(_b2=this.node)==null?void 0:_b2.stage)==null||_c2.on("move",handler),(_g2=(_f2=(_e2=(_d2=this.node)==null?void 0:_d2.stage)==null?void 0:_e2.surface)==null?void 0:_f2.camera)==null||_g2.on("zoom",handler),(_j2=(_i2=(_h2=this.node)==null?void 0:_h2.stage)==null?void 0:_i2.surface)!=null&&_j2.canvas&&(this.observer=new ResizeObserver(()=>handler()),this.observer.observe(this.node.stage.surface.canvas))}onClose(handler){var _a2;(_a2=this.node)==null||_a2.on("detach",handler)}offPositionChange(handler){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2;(_a2=this.node)==null||_a2.off("move",handler),(_c2=(_b2=this.node)==null?void 0:_b2.stage)==null||_c2.off("move",handler),(_g2=(_f2=(_e2=(_d2=this.node)==null?void 0:_d2.stage)==null?void 0:_e2.surface)==null?void 0:_f2.camera)==null||_g2.off("zoom",handler),(_h2=this.observer)==null||_h2.disconnect()}offClose(handler){var _a2;(_a2=this.node)==null||_a2.off("detach",handler)}onVisibilityChange(handler){var _a2;(_a2=this.node)==null||_a2.on("visibility-change",handler)}offVisibilityChange(handler){var _a2;(_a2=this.node)==null||_a2.off("visibility-change",handler)}}function isSimElement(element2){return element2.__dom instanceof HTMLElement}function isPoint(point){return typeof point.x=="number"&&typeof point.y=="number"}function isSurfaceNode(node2){return node2.surfaceVersion==="1"}const DEFAULT_FILL_COLOR=new ImtColor$1("#485364"),DEFAULT_TEXT_COLOR=new ImtColor$1(window.getComputedStyle(document.querySelector("body")).getPropertyValue("color")),DEFAULT_TEXT_FONT='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',NODE_INACTIVE_COLOR=new ImtColor$1(220,220,220),NODE_SIZE=150,NODE_SIZE_HALF=NODE_SIZE/2,NODE_ANCHOR_OFFSET=.04,MAX_ZOOM=window.devicePixelRatio*1.3,MIN_ZOOM=.2,SEVERITY_TO_ICON={info:".fal.fa-circle.text-info",success:".fal.fa-check-circle.text-success",warning:".fas.fa-exclamation-triangle.text-warning",warn:".fas.fa-exclamation-triangle.text-warning",error:".fas.fa-exclamation-triangle.text-danger",debug:".far.fa-bug.text-muted",block:".far.fa-ban.text-danger"},STATUS_TO_SEVERITY=["info","success","warn","error"],DEFAULT_SCHEDULING={type:"indefinitely",interval:900},BUILTIN_ICONS={BasicFeeder:imt.static("/img/packages/builtin_feeder.png"),DoUntilFeeder:imt.static("/img/packages/builtin_dountil.png"),BasicAggregator:imt.static("/img/packages/builtin_aggregator.png"),BasicRepeater:imt.static("/img/packages/builtin_repeater.png"),Rollback:imt.static("/img/packages/builtin_rollback.png"),Break:imt.static("/img/packages/builtin_break.png"),Resume:imt.static("/img/packages/builtin_resume.png"),Commit:imt.static("/img/packages/builtin_commit.png"),Ignore:imt.static("/img/packages/builtin_ignore.png")},GLOBAL_STATE={PILOT_LINK:null,MOUSE_TARGET:null,MOUSE_DRAGGING:!1},ifbuilt=function(time){var _a2;return(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.built?time:0},EXPLAINER_RESOLVE_ICON=function(module2){var _a2,_b2,_c2,_d2;let value;const icon=(_b2=(_a2=module2.config)==null?void 0:_a2.output)==null?void 0:_b2.icon;if(!icon)return null;if(typeof icon=="string")return icon;if(typeof icon!="object")return null;if(((_c2=module2.parameters)==null?void 0:_c2[icon.param])!=null)value=String(module2.parameters[icon.param]);else if(((_d2=module2.mapper)==null?void 0:_d2[icon.param])!=null)value=String(module2.mapper[icon.param]);else return icon.default;return icon.values[value]!=null?icon.values[value]:icon.default},JSON_GENERATOR_TYPEOF=function(value){switch(typeof value){case"string":return"text";case"boolean":return"boolean";case"number":return"number";case"object":return value?value instanceof String?"text":value instanceof Number?"number":value instanceof Boolean?"boolean":value instanceof Date?"date":Array.isArray(value)?"array":"collection":"text";default:return null}},JSON_GENERATOR_ITEM=function(data2,inarray=!1){if(!data2)return;if(typeof data2=="object"){if(Array.isArray(data2))return{type:"array",spec:JSON_GENERATOR_ITEM(data2[0],!0)};if(data2 instanceof Date)return{type:"date"}}else return{type:JSON_GENERATOR_TYPEOF(data2)};const spec=[];for(const key in data2){let item;const value=data2[key];switch(spec.push(item={name:key,type:JSON_GENERATOR_TYPEOF(value)}),item.type){case"array":item.spec=JSON_GENERATOR_ITEM(value[0],!0);break;case"collection":item.spec=JSON_GENERATOR_ITEM(value);break}}return inarray?{type:"collection",spec}:spec},TUTORIAL_TEMPLATE={url:{help:imt.l("inspector","tutorial.rss")},subject:{help:imt.l("inspector","tutorial.email1")},html:{help:imt.l("inspector","tutorial.email2")}};var __defProp$9=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__decorateClass$9=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$9(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$9(target,key,result),result};const OVERLAY_MARGIN=10,DEFAULT_POSITION="right",ARROW_OFFSET=8;let Overlay=class extends s$2{constructor(_content,relativeElement,options){super(),this._content=_content,this.relativeElement=relativeElement,this.options=options,this.x=0,this.y=0,this.scale=1,this.updatePosition=this.updatePosition.bind(this),this.close=this.close.bind(this),this.handleOutsideClick=this.handleOutsideClick.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.changeVisibility=this.changeVisibility.bind(this)}get content(){return this._content}get size(){if(!this.options.width||!this.options.height){const rect=this._content.getBoundingClientRect();return{width:rect.width,height:rect.height}}return{width:this.options.width,height:this.options.height}}get offset(){var _a2,_b2;const offset2=this.options.offset??{x:0,y:0};let domAsideOffset=0;return!this.options.fitToElement&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.canvas)instanceof HTMLCanvasElement&&(domAsideOffset=Inspector.instance._surface.canvas.getBoundingClientRect().left),{x:offset2.x*this.relativeElement.scale+domAsideOffset,y:offset2.y*this.relativeElement.scale}}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.relativeElement.onPositionChange(this.updatePosition),this.relativeElement.onClose(this.close),this.relativeElement.onVisibilityChange(this.changeVisibility),window.addEventListener("resize",this.updatePosition),window.addEventListener("ngredirect",this.close),window.addEventListener("popstate",this.close),window.addEventListener("keyup",this.onKeyUp),this.relativeElement.isHtmlElement&&window.addEventListener("click",this.handleOutsideClick),this.classList.add("dmo-absolute","dmo-bg-[#fff]","imt","dmo-shadow-lg","dmo-rounded-lg")}disconnectedCallback(){super.disconnectedCallback(),this.relativeElement.offPositionChange(this.updatePosition),this.relativeElement.offClose(this.close),this.relativeElement.offVisibilityChange(this.changeVisibility),window.removeEventListener("resize",this.updatePosition),window.removeEventListener("ngredirect",this.close),window.removeEventListener("popstate",this.close),window.removeEventListener("keyup",this.onKeyUp),this.relativeElement.isHtmlElement&&window.removeEventListener("click",this.handleOutsideClick)}render(){const arrowTemplate=this.renderArrow(),size=this.size;return this.style.scale=`${this.scale}`,this.style.width=`${size.width}px`,this.style.height=`${size.height}px`,this.style.top=`${this.y}px`,this.style.left=`${this.x}px`,x`${this._content}${arrowTemplate}`}firstUpdated(){this.updatePosition()}renderArrow(){if(this.options.showArrow&&this.arrowPosition){const{relativePosition,axisOffset}=this.arrowPosition;let offset2="";if(relativePosition==="top"||relativePosition==="bottom")offset2=`left: ${axisOffset}px`;else if(relativePosition==="left"||relativePosition==="right")offset2=`top: ${axisOffset}px`;else return console.warn(`[Inspector] [Overlay] Invalid arrow relativePosition ${relativePosition}`),T;return x`<div class="overlay-arrow dmo-bg-[#fff] ${relativePosition}" style="${offset2}"></div>`}return T}updatePosition(){var _a2;this.options.canvasZoom&&(this.scale=this.relativeElement.cameraZoom/MAX_ZOOM);const relativeRect=this.relativeElement.getBoundingClientRect(),fitToRect=(_a2=this.options.fitToElement)==null?void 0:_a2.getBoundingClientRect(),position=this.options.position??DEFAULT_POSITION,relativeRectHalfSize={width:relativeRect.width/2,height:relativeRect.height/2},relativeRectCenter={x:relativeRect.x+relativeRectHalfSize.width,y:relativeRect.y+relativeRectHalfSize.height},contentSize=this.size,offset2=this.offset,positionToArrowPosition=position2=>{switch(position2){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left";default:return}},calculateSecondaryAxis=(relativeVal,offset22,size,min,max)=>{let result=relativeVal+offset22-size/2;return isDefinedNumber(min)&&isDefinedNumber(max)&&(result+=min,result=this.constrainNumber(min+OVERLAY_MARGIN,max-OVERLAY_MARGIN-size,result)),result},calculatePrimaryAxis=(relativeVal,offset22,size,relativeHalfSize,relativeMin,relativeMax,min,max)=>{const finalOffset=position==="bottom"||position==="right"?offset22+relativeHalfSize:-offset22-size-relativeHalfSize;let axisResult=relativeVal+finalOffset,arrowPosition=positionToArrowPosition(position);if(isDefinedNumber(min)&&isDefinedNumber(max)){axisResult+=min;const axisDiff=position==="top"||position==="left"?min-axisResult:axisResult+size-max;axisDiff>0&&(axisDiff<=relativeHalfSize?axisResult-=axisDiff:(axisResult=(position==="top"||position==="left"?relativeMax-offset22:relativeMin-offset22-size)+min,arrowPosition=positionToArrowPosition(arrowPosition))),axisResult=this.constrainNumber(min+OVERLAY_MARGIN,max-OVERLAY_MARGIN-size,axisResult)}return[axisResult,arrowPosition]};if(position==="top"||position==="bottom"){this.x=calculateSecondaryAxis(relativeRectCenter.x,offset2.x,contentSize.width,fitToRect==null?void 0:fitToRect.left,fitToRect==null?void 0:fitToRect.right);const[y2,arrowPosition]=calculatePrimaryAxis(relativeRectCenter.y,offset2.y,contentSize.height,relativeRectHalfSize.height,relativeRect.top,relativeRect.bottom,fitToRect==null?void 0:fitToRect.top,fitToRect==null?void 0:fitToRect.bottom);this.y=y2,arrowPosition&&(this.arrowPosition={relativePosition:arrowPosition,axisOffset:this.constrainNumber(0,contentSize.width,relativeRectCenter.x-this.x-ARROW_OFFSET)})}else if(position==="left"||position==="right"){const[x2,arrowPosition]=calculatePrimaryAxis(relativeRectCenter.x,offset2.x,contentSize.width,relativeRectHalfSize.width,relativeRect.left,relativeRect.right,fitToRect==null?void 0:fitToRect.left,fitToRect==null?void 0:fitToRect.right);this.x=x2,this.y=calculateSecondaryAxis(relativeRectCenter.y,offset2.y,contentSize.height,fitToRect==null?void 0:fitToRect.top,fitToRect==null?void 0:fitToRect.bottom),arrowPosition&&(this.arrowPosition={relativePosition:arrowPosition,axisOffset:this.constrainNumber(0,contentSize.height,relativeRectCenter.y-this.y-ARROW_OFFSET)})}}changeRelativeElement(relative){this.relativeElement=new OverlayRelativeElement(relative),this.updatePosition()}resize(size){this.options.height=size.height,this.options.width=size.width,this.updatePosition()}changeVisibility(isVisible){isVisible?this.classList.remove("dmo-hidden"):this.classList.add("dmo-hidden")}open(){let container=document.body.querySelector(".imt-overlay-container");container||(container=document.createElement("div"),container.classList.add("imt-overlay-container"),document.body.append(container)),this.isConnected||container.appendChild(this)}close(){const shouldClose=this.dispatchEvent(new CustomEvent("overlay-closed",{cancelable:!0}));return shouldClose&&this.remove(),shouldClose}forceClose(){this.remove(),this.dispatchEvent(new CustomEvent("overlay-closed",{cancelable:!1}))}handleOutsideClick(e2){e2.target instanceof HTMLElement&&e2.target!==this&&!this.contains(e2.target)&&this.close()}onKeyUp(e2){var _a2,_b2;(_b2=(_a2=this.options).onKeyUp)==null||_b2.call(_a2,e2,this)}constrainNumber(min,max,num){return Math.max(min,Math.min(max,num))}};__decorateClass$9([n$3()],Overlay.prototype,"overlayGroup",2),__decorateClass$9([r$2()],Overlay.prototype,"arrowPosition",2),__decorateClass$9([r$2()],Overlay.prototype,"x",2),__decorateClass$9([r$2()],Overlay.prototype,"y",2),__decorateClass$9([r$2()],Overlay.prototype,"scale",2),Overlay=__decorateClass$9([t$2("imt-overlay")],Overlay);function isDefinedNumber(num){return!!num||num===0}class OverlayBuilder{constructor(contentElement){this.contentElement=contentElement,this.position="right",this.relativeElement=new OverlayRelativeElement({x:0,y:0}),this.showArrow=!0,this.offset={x:0,y:0},this.canvasZoom=!1}withPosition(position){return this.position=position,this}withOffset(point){return this.offset={...this.offset,...point},this}fitTo(element2){return this.fitToElement=element2,this}relativeTo(relativeElement,useCanvasZoom=!1){return this.relativeElement=new OverlayRelativeElement(relativeElement),this.canvasZoom=useCanvasZoom??!1,this}inGroup(group){return this.group=group,this}withSize(width,height){return this.size={width,height},this}withRelativeArrow(showArrow){return this.showArrow=showArrow,this}onKeyUp(handler){return this.keyUpHandler=handler,this}onClose(handler){return this.onCloseHandler=handler,this}open(){const overlay=this.initOverlay();return overlay.open(),overlay}build(){return this.initOverlay()}initOverlay(){const overlay=new Overlay(this.contentElement,this.relativeElement,{fitToElement:this.fitToElement,position:this.position,showArrow:this.showArrow,offset:this.offset,onKeyUp:this.keyUpHandler,canvasZoom:this.canvasZoom,...this.size});return this.onCloseHandler&&overlay.addEventListener("overlay-closed",this.onCloseHandler,{once:!0}),overlay.overlayGroup=this.group,overlay}}const overlays={create(content){return new OverlayBuilder(content)},close(options){const shouldClose=overlay=>{var _a2;return!!(!options||(_a2=options==null?void 0:options.groups)!=null&&_a2.find(g2=>g2===overlay.overlayGroup))};for(const overlay of document.querySelectorAll("imt-overlay"))shouldClose(overlay)&&(options!=null&&options.force?overlay.forceClose():overlay.close())}};function $parcel$interopDefault(a2){return a2&&a2.__esModule?a2.default:a2}function $c770c458706daa72$export$2e2bcd8739ae039(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var $fb96b826c0c5f37a$var$n,$fb96b826c0c5f37a$export$41c562ebe57d11e2,$fb96b826c0c5f37a$var$u,$fb96b826c0c5f37a$var$t,$fb96b826c0c5f37a$var$r,$fb96b826c0c5f37a$var$o,$fb96b826c0c5f37a$var$e={},$fb96b826c0c5f37a$var$c=[],$fb96b826c0c5f37a$var$s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $fb96b826c0c5f37a$var$a(n1,l1){for(var u1 in l1)n1[u1]=l1[u1];return n1}function $fb96b826c0c5f37a$var$h(n2){var l2=n2.parentNode;l2&&l2.removeChild(n2)}function $fb96b826c0c5f37a$export$c8a8987d4410bf2d(l3,u2,i1){var t1,r1,o1,f1={};for(o1 in u2)o1=="key"?t1=u2[o1]:o1=="ref"?r1=u2[o1]:f1[o1]=u2[o1];if(arguments.length>2&&(f1.children=arguments.length>3?$fb96b826c0c5f37a$var$n.call(arguments,2):i1),typeof l3=="function"&&l3.defaultProps!=null)for(o1 in l3.defaultProps)f1[o1]===void 0&&(f1[o1]=l3.defaultProps[o1]);return $fb96b826c0c5f37a$var$y(l3,f1,t1,r1,null)}function $fb96b826c0c5f37a$var$y(n3,i2,t2,r2,o2){var f2={type:n3,props:i2,key:t2,ref:r2,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o2??++$fb96b826c0c5f37a$var$u};return o2==null&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode!=null&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode(f2),f2}function $fb96b826c0c5f37a$export$7d1e3a5e95ceca43(){return{current:null}}function $fb96b826c0c5f37a$export$ffb0004e005737fa(n4){return n4.children}function $fb96b826c0c5f37a$export$16fa2f45be04daa8(n5,l4){this.props=n5,this.context=l4}function $fb96b826c0c5f37a$var$k(n6,l5){if(l5==null)return n6.__?$fb96b826c0c5f37a$var$k(n6.__,n6.__.__k.indexOf(n6)+1):null;for(var u3;l5<n6.__k.length;l5++)if((u3=n6.__k[l5])!=null&&u3.__e!=null)return u3.__e;return typeof n6.type=="function"?$fb96b826c0c5f37a$var$k(n6):null}function $fb96b826c0c5f37a$var$b(n7){var l6,u4;if((n7=n7.__)!=null&&n7.__c!=null){for(n7.__e=n7.__c.base=null,l6=0;l6<n7.__k.length;l6++)if((u4=n7.__k[l6])!=null&&u4.__e!=null){n7.__e=n7.__c.base=u4.__e;break}return $fb96b826c0c5f37a$var$b(n7)}}function $fb96b826c0c5f37a$var$m(n8){(!n8.__d&&(n8.__d=!0)&&$fb96b826c0c5f37a$var$t.push(n8)&&!$fb96b826c0c5f37a$var$g.__r++||$fb96b826c0c5f37a$var$o!==$fb96b826c0c5f37a$export$41c562ebe57d11e2.debounceRendering)&&(($fb96b826c0c5f37a$var$o=$fb96b826c0c5f37a$export$41c562ebe57d11e2.debounceRendering)||$fb96b826c0c5f37a$var$r)($fb96b826c0c5f37a$var$g)}function $fb96b826c0c5f37a$var$g(){for(var n9;$fb96b826c0c5f37a$var$g.__r=$fb96b826c0c5f37a$var$t.length;)n9=$fb96b826c0c5f37a$var$t.sort(function(n10,l7){return n10.__v.__b-l7.__v.__b}),$fb96b826c0c5f37a$var$t=[],n9.some(function(n11){var l8,u5,i3,t3,r3,o3;n11.__d&&(r3=(t3=(l8=n11).__v).__e,(o3=l8.__P)&&(u5=[],(i3=$fb96b826c0c5f37a$var$a({},t3)).__v=t3.__v+1,$fb96b826c0c5f37a$var$j(o3,t3,i3,l8.__n,o3.ownerSVGElement!==void 0,t3.__h!=null?[r3]:null,u5,r3??$fb96b826c0c5f37a$var$k(t3),t3.__h),$fb96b826c0c5f37a$var$z(u5,t3),t3.__e!=r3&&$fb96b826c0c5f37a$var$b(t3)))})}function $fb96b826c0c5f37a$var$w(n12,l9,u6,i4,t4,r4,o4,f3,s1,a1){var h1,v1,p1,_1,b1,m1,g1,w1=i4&&i4.__k||$fb96b826c0c5f37a$var$c,A1=w1.length;for(u6.__k=[],h1=0;h1<l9.length;h1++)if((_1=u6.__k[h1]=(_1=l9[h1])==null||typeof _1=="boolean"?null:typeof _1=="string"||typeof _1=="number"||typeof _1=="bigint"?$fb96b826c0c5f37a$var$y(null,_1,null,null,_1):Array.isArray(_1)?$fb96b826c0c5f37a$var$y($fb96b826c0c5f37a$export$ffb0004e005737fa,{children:_1},null,null,null):_1.__b>0?$fb96b826c0c5f37a$var$y(_1.type,_1.props,_1.key,null,_1.__v):_1)!=null){if(_1.__=u6,_1.__b=u6.__b+1,(p1=w1[h1])===null||p1&&_1.key==p1.key&&_1.type===p1.type)w1[h1]=void 0;else for(v1=0;v1<A1;v1++){if((p1=w1[v1])&&_1.key==p1.key&&_1.type===p1.type){w1[v1]=void 0;break}p1=null}$fb96b826c0c5f37a$var$j(n12,_1,p1=p1||$fb96b826c0c5f37a$var$e,t4,r4,o4,f3,s1,a1),b1=_1.__e,(v1=_1.ref)&&p1.ref!=v1&&(g1||(g1=[]),p1.ref&&g1.push(p1.ref,null,_1),g1.push(v1,_1.__c||b1,_1)),b1!=null?(m1==null&&(m1=b1),typeof _1.type=="function"&&_1.__k===p1.__k?_1.__d=s1=$fb96b826c0c5f37a$var$x(_1,s1,n12):s1=$fb96b826c0c5f37a$var$P(n12,_1,p1,w1,b1,s1),typeof u6.type=="function"&&(u6.__d=s1)):s1&&p1.__e==s1&&s1.parentNode!=n12&&(s1=$fb96b826c0c5f37a$var$k(p1))}for(u6.__e=m1,h1=A1;h1--;)w1[h1]!=null&&(typeof u6.type=="function"&&w1[h1].__e!=null&&w1[h1].__e==u6.__d&&(u6.__d=$fb96b826c0c5f37a$var$k(i4,h1+1)),$fb96b826c0c5f37a$var$N(w1[h1],w1[h1]));if(g1)for(h1=0;h1<g1.length;h1++)$fb96b826c0c5f37a$var$M(g1[h1],g1[++h1],g1[++h1])}function $fb96b826c0c5f37a$var$x(n13,l10,u7){for(var i5,t5=n13.__k,r5=0;t5&&r5<t5.length;r5++)(i5=t5[r5])&&(i5.__=n13,l10=typeof i5.type=="function"?$fb96b826c0c5f37a$var$x(i5,l10,u7):$fb96b826c0c5f37a$var$P(u7,i5,i5,t5,i5.__e,l10));return l10}function $fb96b826c0c5f37a$export$47e4c5b300681277(n14,l11){return l11=l11||[],n14==null||typeof n14=="boolean"||(Array.isArray(n14)?n14.some(function(n15){$fb96b826c0c5f37a$export$47e4c5b300681277(n15,l11)}):l11.push(n14)),l11}function $fb96b826c0c5f37a$var$P(n16,l12,u8,i6,t6,r6){var o5,f4,e1;if(l12.__d!==void 0)o5=l12.__d,l12.__d=void 0;else if(u8==null||t6!=r6||t6.parentNode==null)n:if(r6==null||r6.parentNode!==n16)n16.appendChild(t6),o5=null;else{for(f4=r6,e1=0;(f4=f4.nextSibling)&&e1<i6.length;e1+=2)if(f4==t6)break n;n16.insertBefore(t6,r6),o5=r6}return o5!==void 0?o5:t6.nextSibling}function $fb96b826c0c5f37a$var$C(n17,l13,u9,i7,t7){var r7;for(r7 in u9)r7==="children"||r7==="key"||r7 in l13||$fb96b826c0c5f37a$var$H(n17,r7,null,u9[r7],i7);for(r7 in l13)t7&&typeof l13[r7]!="function"||r7==="children"||r7==="key"||r7==="value"||r7==="checked"||u9[r7]===l13[r7]||$fb96b826c0c5f37a$var$H(n17,r7,l13[r7],u9[r7],i7)}function $fb96b826c0c5f37a$var$$(n18,l14,u10){l14[0]==="-"?n18.setProperty(l14,u10):n18[l14]=u10==null?"":typeof u10!="number"||$fb96b826c0c5f37a$var$s.test(l14)?u10:u10+"px"}function $fb96b826c0c5f37a$var$H(n19,l15,u11,i8,t8){var r8;n:if(l15==="style")if(typeof u11=="string")n19.style.cssText=u11;else{if(typeof i8=="string"&&(n19.style.cssText=i8=""),i8)for(l15 in i8)u11&&l15 in u11||$fb96b826c0c5f37a$var$$(n19.style,l15,"");if(u11)for(l15 in u11)i8&&u11[l15]===i8[l15]||$fb96b826c0c5f37a$var$$(n19.style,l15,u11[l15])}else if(l15[0]==="o"&&l15[1]==="n")r8=l15!==(l15=l15.replace(/Capture$/,"")),l15=l15.toLowerCase()in n19?l15.toLowerCase().slice(2):l15.slice(2),n19.l||(n19.l={}),n19.l[l15+r8]=u11,u11?i8||n19.addEventListener(l15,r8?$fb96b826c0c5f37a$var$T:$fb96b826c0c5f37a$var$I,r8):n19.removeEventListener(l15,r8?$fb96b826c0c5f37a$var$T:$fb96b826c0c5f37a$var$I,r8);else if(l15!=="dangerouslySetInnerHTML"){if(t8)l15=l15.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(l15!=="href"&&l15!=="list"&&l15!=="form"&&l15!=="tabIndex"&&l15!=="download"&&l15 in n19)try{n19[l15]=u11??"";break n}catch{}typeof u11=="function"||(u11!=null&&(u11!==!1||l15[0]==="a"&&l15[1]==="r")?n19.setAttribute(l15,u11):n19.removeAttribute(l15))}}function $fb96b826c0c5f37a$var$I(n20){this.l[n20.type+!1]($fb96b826c0c5f37a$export$41c562ebe57d11e2.event?$fb96b826c0c5f37a$export$41c562ebe57d11e2.event(n20):n20)}function $fb96b826c0c5f37a$var$T(n21){this.l[n21.type+!0]($fb96b826c0c5f37a$export$41c562ebe57d11e2.event?$fb96b826c0c5f37a$export$41c562ebe57d11e2.event(n21):n21)}function $fb96b826c0c5f37a$var$j(n22,u12,i9,t9,r9,o6,f5,e2,c1){var s2,h2,v2,y1,p2,k1,b2,m2,g2,x1,A2,P1=u12.type;if(u12.constructor!==void 0)return null;i9.__h!=null&&(c1=i9.__h,e2=u12.__e=i9.__e,u12.__h=null,o6=[e2]),(s2=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b)&&s2(u12);try{n:if(typeof P1=="function"){if(m2=u12.props,g2=(s2=P1.contextType)&&t9[s2.__c],x1=s2?g2?g2.props.value:s2.__:t9,i9.__c?b2=(h2=u12.__c=i9.__c).__=h2.__E:("prototype"in P1&&P1.prototype.render?u12.__c=h2=new P1(m2,x1):(u12.__c=h2=new $fb96b826c0c5f37a$export$16fa2f45be04daa8(m2,x1),h2.constructor=P1,h2.render=$fb96b826c0c5f37a$var$O),g2&&g2.sub(h2),h2.props=m2,h2.state||(h2.state={}),h2.context=x1,h2.__n=t9,v2=h2.__d=!0,h2.__h=[]),h2.__s==null&&(h2.__s=h2.state),P1.getDerivedStateFromProps!=null&&(h2.__s==h2.state&&(h2.__s=$fb96b826c0c5f37a$var$a({},h2.__s)),$fb96b826c0c5f37a$var$a(h2.__s,P1.getDerivedStateFromProps(m2,h2.__s))),y1=h2.props,p2=h2.state,v2)P1.getDerivedStateFromProps==null&&h2.componentWillMount!=null&&h2.componentWillMount(),h2.componentDidMount!=null&&h2.__h.push(h2.componentDidMount);else{if(P1.getDerivedStateFromProps==null&&m2!==y1&&h2.componentWillReceiveProps!=null&&h2.componentWillReceiveProps(m2,x1),!h2.__e&&h2.shouldComponentUpdate!=null&&h2.shouldComponentUpdate(m2,h2.__s,x1)===!1||u12.__v===i9.__v){h2.props=m2,h2.state=h2.__s,u12.__v!==i9.__v&&(h2.__d=!1),h2.__v=u12,u12.__e=i9.__e,u12.__k=i9.__k,u12.__k.forEach(function(n23){n23&&(n23.__=u12)}),h2.__h.length&&f5.push(h2);break n}h2.componentWillUpdate!=null&&h2.componentWillUpdate(m2,h2.__s,x1),h2.componentDidUpdate!=null&&h2.__h.push(function(){h2.componentDidUpdate(y1,p2,k1)})}h2.context=x1,h2.props=m2,h2.state=h2.__s,(s2=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r)&&s2(u12),h2.__d=!1,h2.__v=u12,h2.__P=n22,s2=h2.render(h2.props,h2.state,h2.context),h2.state=h2.__s,h2.getChildContext!=null&&(t9=$fb96b826c0c5f37a$var$a($fb96b826c0c5f37a$var$a({},t9),h2.getChildContext())),v2||h2.getSnapshotBeforeUpdate==null||(k1=h2.getSnapshotBeforeUpdate(y1,p2)),A2=s2!=null&&s2.type===$fb96b826c0c5f37a$export$ffb0004e005737fa&&s2.key==null?s2.props.children:s2,$fb96b826c0c5f37a$var$w(n22,Array.isArray(A2)?A2:[A2],u12,i9,t9,r9,o6,f5,e2,c1),h2.base=u12.__e,u12.__h=null,h2.__h.length&&f5.push(h2),b2&&(h2.__E=h2.__=null),h2.__e=!1}else o6==null&&u12.__v===i9.__v?(u12.__k=i9.__k,u12.__e=i9.__e):u12.__e=$fb96b826c0c5f37a$var$L(i9.__e,u12,i9,t9,r9,o6,f5,c1);(s2=$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed)&&s2(u12)}catch(n24){u12.__v=null,(c1||o6!=null)&&(u12.__e=e2,u12.__h=!!c1,o6[o6.indexOf(e2)]=null),$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(n24,u12,i9)}}function $fb96b826c0c5f37a$var$z(n25,u13){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c(u13,n25),n25.some(function(u14){try{n25=u14.__h,u14.__h=[],n25.some(function(n26){n26.call(u14)})}catch(n27){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(n27,u14.__v)}})}function $fb96b826c0c5f37a$var$L(l16,u15,i10,t10,r10,o7,f6,c2){var s3,a2,v3,y2=i10.props,p3=u15.props,d1=u15.type,_2=0;if(d1==="svg"&&(r10=!0),o7!=null){for(;_2<o7.length;_2++)if((s3=o7[_2])&&"setAttribute"in s3==!!d1&&(d1?s3.localName===d1:s3.nodeType===3)){l16=s3,o7[_2]=null;break}}if(l16==null){if(d1===null)return document.createTextNode(p3);l16=r10?document.createElementNS("http://www.w3.org/2000/svg",d1):document.createElement(d1,p3.is&&p3),o7=null,c2=!1}if(d1===null)y2===p3||c2&&l16.data===p3||(l16.data=p3);else{if(o7=o7&&$fb96b826c0c5f37a$var$n.call(l16.childNodes),a2=(y2=i10.props||$fb96b826c0c5f37a$var$e).dangerouslySetInnerHTML,v3=p3.dangerouslySetInnerHTML,!c2){if(o7!=null)for(y2={},_2=0;_2<l16.attributes.length;_2++)y2[l16.attributes[_2].name]=l16.attributes[_2].value;(v3||a2)&&(v3&&(a2&&v3.__html==a2.__html||v3.__html===l16.innerHTML)||(l16.innerHTML=v3&&v3.__html||""))}if($fb96b826c0c5f37a$var$C(l16,p3,y2,r10,c2),v3)u15.__k=[];else if(_2=u15.props.children,$fb96b826c0c5f37a$var$w(l16,Array.isArray(_2)?_2:[_2],u15,i10,t10,r10&&d1!=="foreignObject",o7,f6,o7?o7[0]:i10.__k&&$fb96b826c0c5f37a$var$k(i10,0),c2),o7!=null)for(_2=o7.length;_2--;)o7[_2]!=null&&$fb96b826c0c5f37a$var$h(o7[_2]);c2||("value"in p3&&(_2=p3.value)!==void 0&&(_2!==y2.value||_2!==l16.value||d1==="progress"&&!_2)&&$fb96b826c0c5f37a$var$H(l16,"value",_2,y2.value,!1),"checked"in p3&&(_2=p3.checked)!==void 0&&_2!==l16.checked&&$fb96b826c0c5f37a$var$H(l16,"checked",_2,y2.checked,!1))}return l16}function $fb96b826c0c5f37a$var$M(n28,u16,i11){try{typeof n28=="function"?n28(u16):n28.current=u16}catch(n29){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(n29,i11)}}function $fb96b826c0c5f37a$var$N(n30,u17,i12){var t11,r11;if($fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount(n30),(t11=n30.ref)&&(t11.current&&t11.current!==n30.__e||$fb96b826c0c5f37a$var$M(t11,null,u17)),(t11=n30.__c)!=null){if(t11.componentWillUnmount)try{t11.componentWillUnmount()}catch(n31){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(n31,u17)}t11.base=t11.__P=null}if(t11=n30.__k)for(r11=0;r11<t11.length;r11++)t11[r11]&&$fb96b826c0c5f37a$var$N(t11[r11],u17,typeof n30.type!="function");i12||n30.__e==null||$fb96b826c0c5f37a$var$h(n30.__e),n30.__e=n30.__d=void 0}function $fb96b826c0c5f37a$var$O(n32,l2,u18){return this.constructor(n32,u18)}function $fb96b826c0c5f37a$export$b3890eb0ae9dca99(u19,i13,t12){var r12,o8,f7;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__(u19,i13),o8=(r12=typeof t12=="function")?null:t12&&t12.__k||i13.__k,f7=[],$fb96b826c0c5f37a$var$j(i13,u19=(!r12&&t12||i13).__k=$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,[u19]),o8||$fb96b826c0c5f37a$var$e,$fb96b826c0c5f37a$var$e,i13.ownerSVGElement!==void 0,!r12&&t12?[t12]:o8?null:i13.firstChild?$fb96b826c0c5f37a$var$n.call(i13.childNodes):null,f7,!r12&&t12?t12:o8?o8.__e:i13.firstChild,r12),$fb96b826c0c5f37a$var$z(f7,u19)}$fb96b826c0c5f37a$var$n=$fb96b826c0c5f37a$var$c.slice,$fb96b826c0c5f37a$export$41c562ebe57d11e2={__e:function(n39,l22){for(var u23,i16,t14;l22=l22.__;)if((u23=l22.__c)&&!u23.__)try{if((i16=u23.constructor)&&i16.getDerivedStateFromError!=null&&(u23.setState(i16.getDerivedStateFromError(n39)),t14=u23.__d),u23.componentDidCatch!=null&&(u23.componentDidCatch(n39),t14=u23.__d),t14)return u23.__E=u23}catch(l23){n39=l23}throw n39}},$fb96b826c0c5f37a$var$u=0,$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.setState=function(n41,l24){var u24;u24=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$fb96b826c0c5f37a$var$a({},this.state),typeof n41=="function"&&(n41=n41($fb96b826c0c5f37a$var$a({},u24),this.props)),n41&&$fb96b826c0c5f37a$var$a(u24,n41),n41!=null&&this.__v&&(l24&&this.__h.push(l24),$fb96b826c0c5f37a$var$m(this))},$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.forceUpdate=function(n42){this.__v&&(this.__e=!0,n42&&this.__h.push(n42),$fb96b826c0c5f37a$var$m(this))},$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.render=$fb96b826c0c5f37a$export$ffb0004e005737fa,$fb96b826c0c5f37a$var$t=[],$fb96b826c0c5f37a$var$r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$fb96b826c0c5f37a$var$g.__r=0;var $bd9dd35321b03dd4$var$o=0;function $bd9dd35321b03dd4$export$34b9dba7ce09269b(_1,e1,n2,t2,f2){var l2,s2,u2={};for(s2 in e1)s2=="ref"?l2=e1[s2]:u2[s2]=e1[s2];var a2={type:_1,props:u2,key:n2,ref:l2,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--$bd9dd35321b03dd4$var$o,__source:t2,__self:f2};if(typeof _1=="function"&&(l2=_1.defaultProps))for(s2 in l2)u2[s2]===void 0&&(u2[s2]=l2[s2]);return $fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode(a2),a2}function $f72b75cf796873c7$var$set(key,value){try{window.localStorage[`emoji-mart.${key}`]=JSON.stringify(value)}catch{}}function $f72b75cf796873c7$var$get(key){try{const value=window.localStorage[`emoji-mart.${key}`];if(value)return JSON.parse(value)}catch{}}var $f72b75cf796873c7$export$2e2bcd8739ae039={set:$f72b75cf796873c7$var$set,get:$f72b75cf796873c7$var$get};const $c84d045dcc34faf5$var$CACHE=new Map,$c84d045dcc34faf5$var$VERSIONS=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function $c84d045dcc34faf5$var$latestVersion(){for(const{v:v2,emoji}of $c84d045dcc34faf5$var$VERSIONS)if($c84d045dcc34faf5$var$isSupported(emoji))return v2}function $c84d045dcc34faf5$var$noCountryFlags(){return!$c84d045dcc34faf5$var$isSupported("")}function $c84d045dcc34faf5$var$isSupported(emoji){if($c84d045dcc34faf5$var$CACHE.has(emoji))return $c84d045dcc34faf5$var$CACHE.get(emoji);const supported=$c84d045dcc34faf5$var$isEmojiSupported(emoji);return $c84d045dcc34faf5$var$CACHE.set(emoji,supported),supported}const $c84d045dcc34faf5$var$isEmojiSupported=(()=>{let ctx=null;try{navigator.userAgent.includes("jsdom")||(ctx=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!ctx)return()=>!1;const CANVAS_HEIGHT=25,CANVAS_WIDTH=20,textSize=Math.floor(CANVAS_HEIGHT/2);return ctx.font=textSize+"px Arial, Sans-Serif",ctx.textBaseline="top",ctx.canvas.width=CANVAS_WIDTH*2,ctx.canvas.height=CANVAS_HEIGHT,unicode=>{ctx.clearRect(0,0,CANVAS_WIDTH*2,CANVAS_HEIGHT),ctx.fillStyle="#FF0000",ctx.fillText(unicode,0,22),ctx.fillStyle="#0000FF",ctx.fillText(unicode,CANVAS_WIDTH,22);const a2=ctx.getImageData(0,0,CANVAS_WIDTH,CANVAS_HEIGHT).data,count=a2.length;let i2=0;for(;i2<count&&!a2[i2+3];i2+=4);if(i2>=count)return!1;const x2=CANVAS_WIDTH+i2/4%CANVAS_WIDTH,y2=Math.floor(i2/4/CANVAS_WIDTH),b2=ctx.getImageData(x2,y2,1,1).data;return!(a2[i2]!==b2[0]||a2[i2+2]!==b2[2]||ctx.measureText(unicode).width>=CANVAS_WIDTH)}})();var $c84d045dcc34faf5$export$2e2bcd8739ae039={latestVersion:$c84d045dcc34faf5$var$latestVersion,noCountryFlags:$c84d045dcc34faf5$var$noCountryFlags};const $b22cfd0a55410b4f$var$DEFAULTS=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let $b22cfd0a55410b4f$var$Index=null;function $b22cfd0a55410b4f$var$add(emoji){$b22cfd0a55410b4f$var$Index||($b22cfd0a55410b4f$var$Index=$f72b75cf796873c7$export$2e2bcd8739ae039.get("frequently")||{});const emojiId=emoji.id||emoji;emojiId&&($b22cfd0a55410b4f$var$Index[emojiId]||($b22cfd0a55410b4f$var$Index[emojiId]=0),$b22cfd0a55410b4f$var$Index[emojiId]+=1,$f72b75cf796873c7$export$2e2bcd8739ae039.set("last",emojiId),$f72b75cf796873c7$export$2e2bcd8739ae039.set("frequently",$b22cfd0a55410b4f$var$Index))}function $b22cfd0a55410b4f$var$get({maxFrequentRows,perLine}){if(!maxFrequentRows)return[];$b22cfd0a55410b4f$var$Index||($b22cfd0a55410b4f$var$Index=$f72b75cf796873c7$export$2e2bcd8739ae039.get("frequently"));let emojiIds=[];if(!$b22cfd0a55410b4f$var$Index){$b22cfd0a55410b4f$var$Index={};for(let i2 in $b22cfd0a55410b4f$var$DEFAULTS.slice(0,perLine)){const emojiId=$b22cfd0a55410b4f$var$DEFAULTS[i2];$b22cfd0a55410b4f$var$Index[emojiId]=perLine-i2,emojiIds.push(emojiId)}return emojiIds}const max=maxFrequentRows*perLine,last=$f72b75cf796873c7$export$2e2bcd8739ae039.get("last");for(let emojiId in $b22cfd0a55410b4f$var$Index)emojiIds.push(emojiId);if(emojiIds.sort((a2,b2)=>{const aScore=$b22cfd0a55410b4f$var$Index[b2],bScore=$b22cfd0a55410b4f$var$Index[a2];return aScore==bScore?a2.localeCompare(b2):aScore-bScore}),emojiIds.length>max){const removedIds=emojiIds.slice(max);emojiIds=emojiIds.slice(0,max);for(let removedId of removedIds)removedId!=last&&delete $b22cfd0a55410b4f$var$Index[removedId];last&&emojiIds.indexOf(last)==-1&&(delete $b22cfd0a55410b4f$var$Index[emojiIds[emojiIds.length-1]],emojiIds.splice(-1,1,last)),$f72b75cf796873c7$export$2e2bcd8739ae039.set("frequently",$b22cfd0a55410b4f$var$Index)}return emojiIds}var $b22cfd0a55410b4f$export$2e2bcd8739ae039={add:$b22cfd0a55410b4f$var$add,get:$b22cfd0a55410b4f$var$get,DEFAULTS:$b22cfd0a55410b4f$var$DEFAULTS},$8d50d93417ef682a$exports={};$8d50d93417ef682a$exports=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var $b247ea80b67298d5$export$2e2bcd8739ae039={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let $7adb23b0109cc36a$export$dbe3113d60765c1a=null,$7adb23b0109cc36a$export$2d0294657ab35f1b=null;const $7adb23b0109cc36a$var$fetchCache={};async function $7adb23b0109cc36a$var$fetchJSON(src){if($7adb23b0109cc36a$var$fetchCache[src])return $7adb23b0109cc36a$var$fetchCache[src];const json=await(await fetch(src)).json();return $7adb23b0109cc36a$var$fetchCache[src]=json,json}let $7adb23b0109cc36a$var$promise=null,$7adb23b0109cc36a$var$initCallback=null,$7adb23b0109cc36a$var$initialized=!1;function $7adb23b0109cc36a$export$2cd8252107eb640b(options,{caller}={}){return $7adb23b0109cc36a$var$promise||($7adb23b0109cc36a$var$promise=new Promise(resolve=>{$7adb23b0109cc36a$var$initCallback=resolve})),options?$7adb23b0109cc36a$var$_init(options):caller&&!$7adb23b0109cc36a$var$initialized&&console.warn(`\`${caller}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),$7adb23b0109cc36a$var$promise}async function $7adb23b0109cc36a$var$_init(props){$7adb23b0109cc36a$var$initialized=!0;let{emojiVersion,set:set2,locale}=props;if(emojiVersion||(emojiVersion=$b247ea80b67298d5$export$2e2bcd8739ae039.emojiVersion.value),set2||(set2=$b247ea80b67298d5$export$2e2bcd8739ae039.set.value),locale||(locale=$b247ea80b67298d5$export$2e2bcd8739ae039.locale.value),$7adb23b0109cc36a$export$2d0294657ab35f1b)$7adb23b0109cc36a$export$2d0294657ab35f1b.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.filter(c2=>!c2.name);else{$7adb23b0109cc36a$export$2d0294657ab35f1b=(typeof props.data=="function"?await props.data():props.data)||await $7adb23b0109cc36a$var$fetchJSON(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${emojiVersion}/${set2}.json`),$7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons={},$7adb23b0109cc36a$export$2d0294657ab35f1b.natives={},$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.unshift({id:"frequent",emojis:[]});for(const alias in $7adb23b0109cc36a$export$2d0294657ab35f1b.aliases){const emojiId=$7adb23b0109cc36a$export$2d0294657ab35f1b.aliases[alias],emoji=$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[emojiId];emoji&&(emoji.aliases||(emoji.aliases=[]),emoji.aliases.push(alias))}$7adb23b0109cc36a$export$2d0294657ab35f1b.originalCategories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories}if($7adb23b0109cc36a$export$dbe3113d60765c1a=(typeof props.i18n=="function"?await props.i18n():props.i18n)||(locale=="en"?$parcel$interopDefault($8d50d93417ef682a$exports):await $7adb23b0109cc36a$var$fetchJSON(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${locale}.json`)),props.custom)for(let i2 in props.custom){i2=parseInt(i2);const category=props.custom[i2],prevCategory=props.custom[i2-1];if(!(!category.emojis||!category.emojis.length)){category.id||(category.id=`custom_${i2+1}`),category.name||(category.name=$7adb23b0109cc36a$export$dbe3113d60765c1a.categories.custom),prevCategory&&!category.icon&&(category.target=prevCategory.target||prevCategory),$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.push(category);for(const emoji of category.emojis)$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[emoji.id]=emoji}}props.categories&&($7adb23b0109cc36a$export$2d0294657ab35f1b.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.originalCategories.filter(c2=>props.categories.indexOf(c2.id)!=-1).sort((c1,c2)=>{const i1=props.categories.indexOf(c1.id),i2=props.categories.indexOf(c2.id);return i1-i2}));let latestVersionSupport=null,noCountryFlags=null;set2=="native"&&(latestVersionSupport=$c84d045dcc34faf5$export$2e2bcd8739ae039.latestVersion(),noCountryFlags=props.noCountryFlags||$c84d045dcc34faf5$export$2e2bcd8739ae039.noCountryFlags());let categoryIndex=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.length,resetSearchIndex=!1;for(;categoryIndex--;){const category=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories[categoryIndex];if(category.id=="frequent"){let{maxFrequentRows,perLine}=props;maxFrequentRows=maxFrequentRows>=0?maxFrequentRows:$b247ea80b67298d5$export$2e2bcd8739ae039.maxFrequentRows.value,perLine||(perLine=$b247ea80b67298d5$export$2e2bcd8739ae039.perLine.value),category.emojis=$b22cfd0a55410b4f$export$2e2bcd8739ae039.get({maxFrequentRows,perLine})}if(!category.emojis||!category.emojis.length){$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.splice(categoryIndex,1);continue}const{categoryIcons}=props;if(categoryIcons){const icon=categoryIcons[category.id];icon&&!category.icon&&(category.icon=icon)}let emojiIndex=category.emojis.length;for(;emojiIndex--;){const emojiId=category.emojis[emojiIndex],emoji=emojiId.id?emojiId:$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[emojiId],ignore=()=>{category.emojis.splice(emojiIndex,1)};if(!emoji||props.exceptEmojis&&props.exceptEmojis.includes(emoji.id)){ignore();continue}if(latestVersionSupport&&emoji.version>latestVersionSupport){ignore();continue}if(noCountryFlags&&category.id=="flags"&&!$e6eae5155b87f591$export$bcb25aa587e9cb13.includes(emoji.id)){ignore();continue}if(!emoji.search){if(resetSearchIndex=!0,emoji.search=","+[[emoji.id,!1],[emoji.name,!0],[emoji.keywords,!1],[emoji.emoticons,!1]].map(([strings,split2])=>{if(strings)return(Array.isArray(strings)?strings:[strings]).map(string2=>(split2?string2.split(/[-|_|\s]+/):[string2]).map(s2=>s2.toLowerCase())).flat()}).flat().filter(a2=>a2&&a2.trim()).join(","),emoji.emoticons)for(const emoticon of emoji.emoticons)$7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons[emoticon]||($7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons[emoticon]=emoji.id);let skinIndex=0;for(const skin of emoji.skins){if(!skin)continue;skinIndex++;const{native}=skin;native&&($7adb23b0109cc36a$export$2d0294657ab35f1b.natives[native]=emoji.id,emoji.search+=`,${native}`);const skinShortcodes=skinIndex==1?"":`:skin-tone-${skinIndex}:`;skin.shortcodes=`:${emoji.id}:${skinShortcodes}`}}}}resetSearchIndex&&$c4d155af13ad4d4b$export$2e2bcd8739ae039.reset(),$7adb23b0109cc36a$var$initCallback()}function $7adb23b0109cc36a$export$75fe5f91d452f94b(props,defaultProps,element2){props||(props={});const _props={};for(let k2 in defaultProps)_props[k2]=$7adb23b0109cc36a$export$88c9ddb45cea7241(k2,props,defaultProps,element2);return _props}function $7adb23b0109cc36a$export$88c9ddb45cea7241(propName,props,defaultProps,element2){const defaults2=defaultProps[propName];let value=element2&&element2.getAttribute(propName)||(props[propName]!=null&&props[propName]!=null?props[propName]:null);return defaults2&&(value!=null&&defaults2.value&&typeof defaults2.value!=typeof value&&(typeof defaults2.value=="boolean"?value=value!="false":value=defaults2.value.constructor(value)),defaults2.transform&&value&&(value=defaults2.transform(value)),(value==null||defaults2.choices&&defaults2.choices.indexOf(value)==-1)&&(value=defaults2.value)),value}const $c4d155af13ad4d4b$var$SHORTCODES_REGEX=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let $c4d155af13ad4d4b$var$Pool=null;function $c4d155af13ad4d4b$var$get(emojiId){return emojiId.id?emojiId:$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[emojiId]||$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[$7adb23b0109cc36a$export$2d0294657ab35f1b.aliases[emojiId]]||$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[$7adb23b0109cc36a$export$2d0294657ab35f1b.natives[emojiId]]}function $c4d155af13ad4d4b$var$reset(){$c4d155af13ad4d4b$var$Pool=null}async function $c4d155af13ad4d4b$var$search(value,{maxResults,caller}={}){if(!value||!value.trim().length)return null;maxResults||(maxResults=90),await $7adb23b0109cc36a$export$2cd8252107eb640b(null,{caller:caller||"SearchIndex.search"});const values=value.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((word,i2,words)=>word.trim()&&words.indexOf(word)==i2);if(!values.length)return;let pool=$c4d155af13ad4d4b$var$Pool||($c4d155af13ad4d4b$var$Pool=Object.values($7adb23b0109cc36a$export$2d0294657ab35f1b.emojis)),results,scores;for(const value1 of values){if(!pool.length)break;results=[],scores={};for(const emoji of pool){if(!emoji.search)continue;const score=emoji.search.indexOf(`,${value1}`);score!=-1&&(results.push(emoji),scores[emoji.id]||(scores[emoji.id]=0),scores[emoji.id]+=emoji.id==value1?0:score+1)}pool=results}return results.length<2||(results.sort((a2,b2)=>{const aScore=scores[a2.id],bScore=scores[b2.id];return aScore==bScore?a2.id.localeCompare(b2.id):aScore-bScore}),results.length>maxResults&&(results=results.slice(0,maxResults))),results}var $c4d155af13ad4d4b$export$2e2bcd8739ae039={search:$c4d155af13ad4d4b$var$search,get:$c4d155af13ad4d4b$var$get,reset:$c4d155af13ad4d4b$var$reset,SHORTCODES_REGEX:$c4d155af13ad4d4b$var$SHORTCODES_REGEX};const $e6eae5155b87f591$export$bcb25aa587e9cb13=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function $693b183b0a78708f$export$9cb4719e2e525b7a(a2,b2){return Array.isArray(a2)&&Array.isArray(b2)&&a2.length===b2.length&&a2.every((val,index2)=>val==b2[index2])}async function $693b183b0a78708f$export$e772c8ff12451969(frames=1){for(let _2 in[...Array(frames).keys()])await new Promise(requestAnimationFrame)}function $693b183b0a78708f$export$d10ac59fbe52a745(emoji,{skinIndex=0}={}){const skin=emoji.skins[skinIndex]||(skinIndex=0,emoji.skins[skinIndex]),emojiData={id:emoji.id,name:emoji.name,native:skin.native,unified:skin.unified,keywords:emoji.keywords,shortcodes:skin.shortcodes||emoji.shortcodes};return emoji.skins.length>1&&(emojiData.skin=skinIndex+1),skin.src&&(emojiData.src=skin.src),emoji.aliases&&emoji.aliases.length&&(emojiData.aliases=emoji.aliases),emoji.emoticons&&emoji.emoticons.length&&(emojiData.emoticons=emoji.emoticons),emojiData}var $fcccfb36ed0cde68$export$2e2bcd8739ae039={categories:{activity:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function $254755d3f438722f$export$2e2bcd8739ae039(props){let{id,skin,emoji}=props;if(props.shortcodes){const matches=props.shortcodes.match($c4d155af13ad4d4b$export$2e2bcd8739ae039.SHORTCODES_REGEX);matches&&(id=matches[1],matches[2]&&(skin=matches[2]))}if(emoji||(emoji=$c4d155af13ad4d4b$export$2e2bcd8739ae039.get(id||props.native)),!emoji)return props.fallback;const emojiSkin=emoji.skins[skin-1]||emoji.skins[0],imageSrc=emojiSkin.src||(props.set!="native"&&!props.spritesheet?typeof props.getImageURL=="function"?props.getImageURL(props.set,emojiSkin.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${props.set}@15.0.1/img/${props.set}/64/${emojiSkin.unified}.png`:void 0),spritesheetSrc=typeof props.getSpritesheetURL=="function"?props.getSpritesheetURL(props.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${props.set}@15.0.1/img/${props.set}/sheets-256/64.png`;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"emoji-mart-emoji","data-emoji-set":props.set,children:imageSrc?$bd9dd35321b03dd4$export$34b9dba7ce09269b("img",{style:{maxWidth:props.size||"1em",maxHeight:props.size||"1em",display:"inline-block"},alt:emojiSkin.native||emojiSkin.shortcodes,src:imageSrc}):props.set=="native"?$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{style:{fontSize:props.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:emojiSkin.native}):$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{style:{display:"block",width:props.size,height:props.size,backgroundImage:`url(${spritesheetSrc})`,backgroundSize:`${100*$7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.cols}% ${100*$7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.rows}%`,backgroundPosition:`${100/($7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.cols-1)*emojiSkin.x}% ${100/($7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.rows-1)*emojiSkin.y}%`}})})}const $6f57cc9cd54c5aaa$var$WindowHTMLElement=typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object;class $6f57cc9cd54c5aaa$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$var$WindowHTMLElement{static get observedAttributes(){return Object.keys(this.Props)}update(props={}){for(let k2 in props)this.attributeChangedCallback(k2,null,props[k2])}attributeChangedCallback(attr,_2,newValue){if(!this.component)return;const value=$7adb23b0109cc36a$export$88c9ddb45cea7241(attr,{[attr]:newValue},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[attr]:value}):(this.component.props[attr]=value,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(props={}){if(super(),this.props=props,props.parent||props.ref){let ref=null;const parent2=props.parent||(ref=props.ref&&props.ref.current);ref&&(ref.innerHTML=""),parent2&&parent2.appendChild(this)}}}class $26f27c338a96b1a6$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$export$2e2bcd8739ae039{setShadow(){this.attachShadow({mode:"open"})}injectStyles(styles){if(!styles)return;const style=document.createElement("style");style.textContent=styles,this.shadowRoot.insertBefore(style,this.shadowRoot.firstChild)}constructor(props,{styles}={}){super(props),this.setShadow(),this.injectStyles(styles)}}var $3d90f6e46fb2dd47$export$2e2bcd8739ae039={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:value=>/\D/.test(value)?value:`${value}px`},set:$b247ea80b67298d5$export$2e2bcd8739ae039.set,skin:$b247ea80b67298d5$export$2e2bcd8739ae039.skin};class $331b4160623139bf$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$export$2e2bcd8739ae039{async connectedCallback(){const props=$7adb23b0109cc36a$export$75fe5f91d452f94b(this.props,$3d90f6e46fb2dd47$export$2e2bcd8739ae039,this);props.element=this,props.ref=component=>{this.component=component},await $7adb23b0109cc36a$export$2cd8252107eb640b(),!this.disconnected&&$fb96b826c0c5f37a$export$b3890eb0ae9dca99($bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{...props}),this)}constructor(props){super(props)}}$c770c458706daa72$export$2e2bcd8739ae039($331b4160623139bf$export$2e2bcd8739ae039,"Props",$3d90f6e46fb2dd47$export$2e2bcd8739ae039),typeof customElements<"u"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",$331b4160623139bf$export$2e2bcd8739ae039);var $1a9a8ef576b7773d$var$r,$1a9a8ef576b7773d$var$i=[],$1a9a8ef576b7773d$var$c=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b,$1a9a8ef576b7773d$var$f=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r,$1a9a8ef576b7773d$var$e=$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed,$1a9a8ef576b7773d$var$a=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c,$1a9a8ef576b7773d$var$v=$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount;function $1a9a8ef576b7773d$var$x(){var t6;for($1a9a8ef576b7773d$var$i.sort(function(n11,t7){return n11.__v.__b-t7.__v.__b});t6=$1a9a8ef576b7773d$var$i.pop();)if(t6.__P)try{t6.__H.__h.forEach($1a9a8ef576b7773d$var$g),t6.__H.__h.forEach($1a9a8ef576b7773d$var$j),t6.__H.__h=[]}catch(u4){t6.__H.__h=[],$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(u4,t6.__v)}}$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b=function(n12){$1a9a8ef576b7773d$var$c&&$1a9a8ef576b7773d$var$c(n12)},$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r=function(n13){$1a9a8ef576b7773d$var$f&&$1a9a8ef576b7773d$var$f(n13);var r8=n13.__c.__H;r8&&(r8.__h.forEach($1a9a8ef576b7773d$var$g),r8.__h.forEach($1a9a8ef576b7773d$var$j),r8.__h=[])},$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed=function(t8){$1a9a8ef576b7773d$var$e&&$1a9a8ef576b7773d$var$e(t8);var o6=t8.__c;o6&&o6.__H&&o6.__H.__h.length&&($1a9a8ef576b7773d$var$i.push(o6)!==1&&$1a9a8ef576b7773d$var$r===$fb96b826c0c5f37a$export$41c562ebe57d11e2.requestAnimationFrame||(($1a9a8ef576b7773d$var$r=$fb96b826c0c5f37a$export$41c562ebe57d11e2.requestAnimationFrame)||function(n14){var t9,u5=function(){clearTimeout(r9),$1a9a8ef576b7773d$var$b&&cancelAnimationFrame(t9),setTimeout(n14)},r9=setTimeout(u5,100);$1a9a8ef576b7773d$var$b&&(t9=requestAnimationFrame(u5))})($1a9a8ef576b7773d$var$x))},$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c=function(t10,u6){u6.some(function(t11){try{t11.__h.forEach($1a9a8ef576b7773d$var$g),t11.__h=t11.__h.filter(function(n15){return!n15.__||$1a9a8ef576b7773d$var$j(n15)})}catch(r10){u6.some(function(n16){n16.__h&&(n16.__h=[])}),u6=[],$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(r10,t11.__v)}}),$1a9a8ef576b7773d$var$a&&$1a9a8ef576b7773d$var$a(t10,u6)},$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount=function(t12){$1a9a8ef576b7773d$var$v&&$1a9a8ef576b7773d$var$v(t12);var u7,r11=t12.__c;r11&&r11.__H&&(r11.__H.__.forEach(function(n17){try{$1a9a8ef576b7773d$var$g(n17)}catch(n18){u7=n18}}),u7&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(u7,r11.__v))};var $1a9a8ef576b7773d$var$b=typeof requestAnimationFrame=="function";function $1a9a8ef576b7773d$var$g(n19){var r12=n19.__c;typeof r12=="function"&&(n19.__c=void 0,r12())}function $1a9a8ef576b7773d$var$j(n20){n20.__c=n20.__()}function $dc040a17866866fa$var$S(n1,t1){for(var e1 in t1)n1[e1]=t1[e1];return n1}function $dc040a17866866fa$var$C(n2,t2){for(var e2 in n2)if(e2!=="__source"&&!(e2 in t2))return!0;for(var r1 in t2)if(r1!=="__source"&&n2[r1]!==t2[r1])return!0;return!1}function $dc040a17866866fa$export$221d75b3f55bb0bd(n3){this.props=n3}($dc040a17866866fa$export$221d75b3f55bb0bd.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).isPureReactComponent=!0,$dc040a17866866fa$export$221d75b3f55bb0bd.prototype.shouldComponentUpdate=function(n6,t5){return $dc040a17866866fa$var$C(this.props,n6)||$dc040a17866866fa$var$C(this.state,t5)};var $dc040a17866866fa$var$w=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b=function(n7){n7.type&&n7.type.__f&&n7.ref&&(n7.props.ref=n7.ref,n7.ref=null),$dc040a17866866fa$var$w&&$dc040a17866866fa$var$w(n7)};var $dc040a17866866fa$var$A=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e=function(n12,t10,e6){if(n12.then){for(var r5,u1=t10;u1=u1.__;)if((r5=u1.__c)&&r5.__c)return t10.__e==null&&(t10.__e=e6.__e,t10.__k=e6.__k),r5.__c(n12,t10)}$dc040a17866866fa$var$A(n12,t10,e6)};var $dc040a17866866fa$var$O=$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount;function $dc040a17866866fa$export$74bf444e3cd11ea5(){this.__u=0,this.t=null,this.__b=null}function $dc040a17866866fa$var$U(n13){var t11=n13.__.__c;return t11&&t11.__e&&t11.__e(n13)}function $dc040a17866866fa$export$998bcd577473dd93(){this.u=null,this.o=null}$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount=function(n17){var t13=n17.__c;t13&&t13.__R&&t13.__R(),t13&&n17.__h===!0&&(n17.type=null),$dc040a17866866fa$var$O&&$dc040a17866866fa$var$O(n17)},($dc040a17866866fa$export$74bf444e3cd11ea5.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).__c=function(n18,t14){var e8=t14.__c,r7=this;r7.t==null&&(r7.t=[]),r7.t.push(e8);var u4=$dc040a17866866fa$var$U(r7.__v),o1=!1,i1=function(){o1||(o1=!0,e8.__R=null,u4?u4(l1):l1())};e8.__R=i1;var l1=function(){if(!--r7.__u){if(r7.state.__e){var n19=r7.state.__e;r7.__v.__k[0]=function n22(t17,e9,r8){return t17&&(t17.__v=null,t17.__k=t17.__k&&t17.__k.map(function(t18){return n22(t18,e9,r8)}),t17.__c&&t17.__c.__P===e9&&(t17.__e&&r8.insertBefore(t17.__e,t17.__d),t17.__c.__e=!0,t17.__c.__P=r8)),t17}(n19,n19.__c.__P,n19.__c.__O)}var t15;for(r7.setState({__e:r7.__b=null});t15=r7.t.pop();)t15.forceUpdate()}},c1=t14.__h===!0;r7.__u++||c1||r7.setState({__e:r7.__b=r7.__v.__k[0]}),n18.then(i1,i1)},$dc040a17866866fa$export$74bf444e3cd11ea5.prototype.componentWillUnmount=function(){this.t=[]},$dc040a17866866fa$export$74bf444e3cd11ea5.prototype.render=function(n23,t19){if(this.__b){if(this.__v.__k){var e10=document.createElement("div"),r9=this.__v.__k[0].__c;this.__v.__k[0]=function n24(t20,e13,r12){return t20&&(t20.__c&&t20.__c.__H&&(t20.__c.__H.__.forEach(function(n25){typeof n25.__c=="function"&&n25.__c()}),t20.__c.__H=null),(t20=$dc040a17866866fa$var$S({},t20)).__c!=null&&(t20.__c.__P===r12&&(t20.__c.__P=e13),t20.__c=null),t20.__k=t20.__k&&t20.__k.map(function(t21){return n24(t21,e13,r12)})),t20}(this.__b,e10,r9.__O=r9.__P)}this.__b=null}var u5=t19.__e&&$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,n23.fallback);return u5&&(u5.__h=null),[$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,t19.__e?null:n23.children),u5]};var $dc040a17866866fa$var$T=function(n26,t22,e14){if(++e14[1]===e14[0]&&n26.o.delete(t22),n26.props.revealOrder&&(n26.props.revealOrder[0]!=="t"||!n26.o.size))for(e14=n26.u;e14;){for(;e14.length>3;)e14.pop()();if(e14[1]<e14[0])break;n26.u=e14=e14[2]}};($dc040a17866866fa$export$998bcd577473dd93.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).__e=function(n33){var t25=this,e16=$dc040a17866866fa$var$U(t25.__v),r13=t25.o.get(n33);return r13[0]++,function(u6){var o2=function(){t25.props.revealOrder?(r13.push(u6),$dc040a17866866fa$var$T(t25,n33,r13)):u6()};e16?e16(o2):o2()}},$dc040a17866866fa$export$998bcd577473dd93.prototype.render=function(n34){this.u=null,this.o=new Map;var t26=$fb96b826c0c5f37a$export$47e4c5b300681277(n34.children);n34.revealOrder&&n34.revealOrder[0]==="b"&&t26.reverse();for(var e17=t26.length;e17--;)this.o.set(t26[e17],this.u=[1,0,this.u]);return n34.children},$dc040a17866866fa$export$998bcd577473dd93.prototype.componentDidUpdate=$dc040a17866866fa$export$998bcd577473dd93.prototype.componentDidMount=function(){var n35=this;this.o.forEach(function(t27,e18){$dc040a17866866fa$var$T(n35,e18,t27)})};var $dc040a17866866fa$var$j=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$dc040a17866866fa$var$P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$dc040a17866866fa$var$V=typeof document<"u",$dc040a17866866fa$var$z=function(n36){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n36)};$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n39){Object.defineProperty($fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype,n39,{configurable:!0,get:function(){return this["UNSAFE_"+n39]},set:function(t30){Object.defineProperty(this,n39,{configurable:!0,writable:!0,value:t30})}})});var $dc040a17866866fa$var$H=$fb96b826c0c5f37a$export$41c562ebe57d11e2.event;function $dc040a17866866fa$var$Z(){}function $dc040a17866866fa$var$Y(){return this.cancelBubble}function $dc040a17866866fa$var$q(){return this.defaultPrevented}$fb96b826c0c5f37a$export$41c562ebe57d11e2.event=function(n40){return $dc040a17866866fa$var$H&&(n40=$dc040a17866866fa$var$H(n40)),n40.persist=$dc040a17866866fa$var$Z,n40.isPropagationStopped=$dc040a17866866fa$var$Y,n40.isDefaultPrevented=$dc040a17866866fa$var$q,n40.nativeEvent=n40};var $dc040a17866866fa$var$J={configurable:!0,get:function(){return this.class}},$dc040a17866866fa$var$K=$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode;$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode=function(n41){var t31=n41.type,e21=n41.props,r14=e21;if(typeof t31=="string"){var u7=t31.indexOf("-")===-1;for(var o3 in r14={},e21){var i2=e21[o3];$dc040a17866866fa$var$V&&o3==="children"&&t31==="noscript"||o3==="value"&&"defaultValue"in e21&&i2==null||(o3==="defaultValue"&&"value"in e21&&e21.value==null?o3="value":o3==="download"&&i2===!0?i2="":/ondoubleclick/i.test(o3)?o3="ondblclick":/^onchange(textarea|input)/i.test(o3+t31)&&!$dc040a17866866fa$var$z(e21.type)?o3="oninput":/^onfocus$/i.test(o3)?o3="onfocusin":/^onblur$/i.test(o3)?o3="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o3)?o3=o3.toLowerCase():u7&&$dc040a17866866fa$var$P.test(o3)?o3=o3.replace(/[A-Z0-9]/,"-$&").toLowerCase():i2===null&&(i2=void 0),r14[o3]=i2)}t31=="select"&&r14.multiple&&Array.isArray(r14.value)&&(r14.value=$fb96b826c0c5f37a$export$47e4c5b300681277(e21.children).forEach(function(n42){n42.props.selected=r14.value.indexOf(n42.props.value)!=-1})),t31=="select"&&r14.defaultValue!=null&&(r14.value=$fb96b826c0c5f37a$export$47e4c5b300681277(e21.children).forEach(function(n43){n43.props.selected=r14.multiple?r14.defaultValue.indexOf(n43.props.value)!=-1:r14.defaultValue==n43.props.value})),n41.props=r14,e21.class!=e21.className&&($dc040a17866866fa$var$J.enumerable="className"in e21,e21.className!=null&&(r14.class=e21.className),Object.defineProperty(r14,"className",$dc040a17866866fa$var$J))}n41.$$typeof=$dc040a17866866fa$var$j,$dc040a17866866fa$var$K&&$dc040a17866866fa$var$K(n41)};var $dc040a17866866fa$var$Q=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r=function(n44){$dc040a17866866fa$var$Q&&$dc040a17866866fa$var$Q(n44),n44.__c};const $ec8c39fdad15601a$var$THEME_ICONS={light:"outline",dark:"solid"};class $ec8c39fdad15601a$export$2e2bcd8739ae039 extends $dc040a17866866fa$export$221d75b3f55bb0bd{renderIcon(category){const{icon}=category;if(icon){if(icon.svg)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"flex",dangerouslySetInnerHTML:{__html:icon.svg}});if(icon.src)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("img",{src:icon.src})}const categoryIcons=$fcccfb36ed0cde68$export$2e2bcd8739ae039.categories[category.id]||$fcccfb36ed0cde68$export$2e2bcd8739ae039.categories.custom,style=this.props.icons=="auto"?$ec8c39fdad15601a$var$THEME_ICONS[this.props.theme]:this.props.icons;return categoryIcons[style]||categoryIcons}render(){let selectedCategoryIndex=null;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex relative",children:[this.categories.map((category,i2)=>{const title=category.name||$7adb23b0109cc36a$export$dbe3113d60765c1a.categories[category.id],selected=!this.props.unfocused&&category.id==this.state.categoryId;return selected&&(selectedCategoryIndex=i2),$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-label":title,"aria-selected":selected||void 0,title,type:"button",class:"flex flex-grow flex-center",onMouseDown:e2=>e2.preventDefault(),onClick:()=>{this.props.onClick({category,i:i2})},children:this.renderIcon(category)})}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:selectedCategoryIndex==null?0:1,transform:this.props.dir==="rtl"?`scaleX(-1) translateX(${selectedCategoryIndex*100}%)`:`translateX(${selectedCategoryIndex*100}%)`}})]})})}constructor(){super(),this.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.filter(category=>!category.target),this.state={categoryId:this.categories[0].id}}}class $e0d4dda61265ff1e$export$2e2bcd8739ae039 extends $dc040a17866866fa$export$221d75b3f55bb0bd{shouldComponentUpdate(nextProps){for(let k2 in nextProps)if(k2!="children"&&nextProps[k2]!=this.props[k2])return!0;return!1}render(){return this.props.children}}const $89bd6bb200cc8fef$var$Performance={rowsPerRender:10};class $89bd6bb200cc8fef$export$2e2bcd8739ae039 extends $fb96b826c0c5f37a$export$16fa2f45be04daa8{getInitialState(props=this.props){return{skin:$f72b75cf796873c7$export$2e2bcd8739ae039.get("skin")||props.skin,theme:this.initTheme(props.theme)}}componentWillMount(){this.dir=$7adb23b0109cc36a$export$dbe3113d60765c1a.rtl?"rtl":"ltr",this.refs={menu:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),navigation:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),scroll:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),search:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),searchInput:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),skinToneButton:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),skinToneRadio:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput}=this.refs;searchInput.current&&searchInput.current.focus()}}componentWillReceiveProps(nextProps){this.nextState||(this.nextState={});for(const k1 in nextProps)this.nextState[k1]=nextProps[k1];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let requiresGridReset=!1;for(const k2 in this.nextState)this.props[k2]=this.nextState[k2],(k2==="custom"||k2==="categories")&&(requiresGridReset=!0);delete this.nextState;const nextState=this.getInitialState();if(requiresGridReset)return this.reset(nextState);this.setState(nextState)})}componentWillUnmount(){this.unregister()}async reset(nextState={}){await $7adb23b0109cc36a$export$2cd8252107eb640b(this.props),this.initGrid(),this.unobserve(),this.setState(nextState,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var _a2;document.removeEventListener("click",this.handleClickOutside),(_a2=this.darkMedia)==null||_a2.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except=[]}={}){Array.isArray(except)||(except=[except]);for(const observer of this.observers)except.includes(observer)||observer.disconnect();this.observers=[].concat(except)}initGrid(){const{categories:categories2}=$7adb23b0109cc36a$export$2d0294657ab35f1b;this.refs.categories=new Map;const navKey=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.map(category=>category.id).join(",");this.navKey&&this.navKey!=navKey&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=navKey,this.grid=[],this.grid.setsize=0;const addRow=(rows,category)=>{const row=[];row.__categoryId=category.id,row.__index=rows.length,this.grid.push(row);const rowIndex=this.grid.length-1,rowRef=rowIndex%$89bd6bb200cc8fef$var$Performance.rowsPerRender?{}:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43();return rowRef.index=rowIndex,rowRef.posinset=this.grid.setsize+1,rows.push(rowRef),row};for(let category1 of categories2){const rows=[];let row=addRow(rows,category1);for(let emoji of category1.emojis)row.length==this.getPerLine()&&(row=addRow(rows,category1)),this.grid.setsize+=1,row.push(emoji);this.refs.categories.set(category1.id,{root:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),rows})}}initTheme(theme){if(theme!="auto")return theme;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(props=this.props){if(!props.dynamicWidth)return;const{element:element2,emojiButtonSize}=props,calculatePerLine=()=>{const{width}=element2.getBoundingClientRect();return Math.floor(width/emojiButtonSize)},observer=new ResizeObserver(()=>{this.unobserve({except:observer}),this.setState({perLine:calculatePerLine()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return observer.observe(element2),this.observers.push(observer),calculatePerLine()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([p1,p2]){const grid2=this.state.searchResults||this.grid,emoji=grid2[p1]&&grid2[p1][p2];if(emoji)return $c4d155af13ad4d4b$export$2e2bcd8739ae039.get(emoji)}observeCategories(){const navigation=this.refs.navigation.current;if(!navigation)return;const visibleCategories=new Map,setFocusedCategory=categoryId=>{categoryId!=navigation.state.categoryId&&navigation.setState({categoryId})},observerOptions={root:this.refs.scroll.current,threshold:[0,1]},observer=new IntersectionObserver(entries=>{for(const entry of entries){const id=entry.target.dataset.id;visibleCategories.set(id,entry.intersectionRatio)}const ratios=[...visibleCategories];for(const[id,ratio]of ratios)if(ratio){setFocusedCategory(id);break}},observerOptions);for(const{root:root2}of this.refs.categories.values())observer.observe(root2.current);this.observers.push(observer)}observeRows(){const visibleRows={...this.state.visibleRows},observer=new IntersectionObserver(entries=>{for(const entry of entries){const index2=parseInt(entry.target.dataset.index);entry.isIntersecting?visibleRows[index2]=!0:delete visibleRows[index2]}this.setState({visibleRows})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*($89bd6bb200cc8fef$var$Performance.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*$89bd6bb200cc8fef$var$Performance.rowsPerRender}px`});for(const{rows}of this.refs.categories.values())for(const row of rows)row.current&&observer.observe(row.current);this.observers.push(observer)}preventDefault(e2){e2.preventDefault()}unfocusSearch(){const input=this.refs.searchInput.current;input&&input.blur()}navigate({e:e2,input,left,right,up,down}){const grid2=this.state.searchResults||this.grid;if(!grid2.length)return;let[p1,p2]=this.state.pos;const pos=(()=>{if(p1==0&&p2==0&&!e2.repeat&&(left||up))return null;if(p1==-1)return!e2.repeat&&(right||down)&&input.selectionStart==input.value.length?[0,0]:null;if(left||right){let row=grid2[p1];const increment=left?-1:1;if(p2+=increment,!row[p2]){if(p1+=increment,row=grid2[p1],!row)return p1=left?0:grid2.length-1,p2=left?0:grid2[p1].length-1,[p1,p2];p2=left?row.length-1:0}return[p1,p2]}if(up||down){p1+=up?-1:1;const row=grid2[p1];return row?(row[p2]||(p2=row.length-1),[p1,p2]):(p1=up?0:grid2.length-1,p2=up?0:grid2[p1].length-1,[p1,p2])}})();if(pos)e2.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos,keyboard:!0},()=>{this.scrollTo({row:pos[0]})})}scrollTo({categoryId,row}){const grid2=this.state.searchResults||this.grid;if(!grid2.length)return;const scroll=this.refs.scroll.current,scrollRect=scroll.getBoundingClientRect();let scrollTop=0;if(row>=0&&(categoryId=grid2[row].__categoryId),categoryId&&(scrollTop=(this.refs[categoryId]||this.refs.categories.get(categoryId).root).current.getBoundingClientRect().top-(scrollRect.top-scroll.scrollTop)+1),row>=0)if(!row)scrollTop=0;else{const rowIndex=grid2[row].__index,rowTop=scrollTop+rowIndex*this.props.emojiButtonSize,rowBot=rowTop+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(rowTop<scroll.scrollTop)scrollTop=rowTop;else if(rowBot>scroll.scrollTop+scrollRect.height)scrollTop=rowBot-scrollRect.height;else return}this.ignoreMouse(),scroll.scrollTop=scrollTop}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(pos){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:pos||[-1,-1],keyboard:!1})}handleEmojiClick({e:e2,emoji,pos}){if(this.props.onEmojiSelect&&(!emoji&&pos&&(emoji=this.getEmojiByPos(pos)),emoji)){const emojiData=$693b183b0a78708f$export$d10ac59fbe52a745(emoji,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&$b22cfd0a55410b4f$export$2e2bcd8739ae039.add(emojiData,this.props),this.props.onEmojiSelect(emojiData,e2)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(tempSkin){this.setState({tempSkin})}handleSkinClick(skin){this.ignoreMouse(),this.closeSkins(),this.setState({skin,tempSkin:null}),$f72b75cf796873c7$export$2e2bcd8739ae039.set("skin",skin)}renderNav(){return $bd9dd35321b03dd4$export$34b9dba7ce09269b($ec8c39fdad15601a$export$2e2bcd8739ae039,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const emoji=this.getEmojiByPos(this.state.pos),noSearchResults=this.state.searchResults&&!this.state.searchResults.length;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-middle flex-grow",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{emoji,id:noSearchResults?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`margin-${this.dir[0]}`,children:emoji||noSearchResults?$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-title ellipsis",children:emoji?emoji.name:$7adb23b0109cc36a$export$dbe3113d60765c1a.search_no_results_1}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-subtitle ellipsis color-c",children:emoji?emoji.skins[0].shortcodes:$7adb23b0109cc36a$export$dbe3113d60765c1a.search_no_results_2})]}):$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-placeholder color-c",children:$7adb23b0109cc36a$export$dbe3113d60765c1a.pick})})]}),!emoji&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(emoji,{pos,posinset,grid:grid2}){const size=this.props.emojiButtonSize,skin=this.state.tempSkin||this.state.skin,native=(emoji.skins[skin-1]||emoji.skins[0]).native,selected=$693b183b0a78708f$export$9cb4719e2e525b7a(this.state.pos,pos),key=pos.concat(emoji.id).join("");return $bd9dd35321b03dd4$export$34b9dba7ce09269b($e0d4dda61265ff1e$export$2e2bcd8739ae039,{selected,skin,size,children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-label":native,"aria-selected":selected||void 0,"aria-posinset":posinset,"aria-setsize":grid2.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?emoji.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:e2=>this.handleEmojiClick({e:e2,emoji}),onMouseEnter:()=>this.handleEmojiOver(pos),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(posinset-1)%this.props.emojiButtonColors.length]:void 0}}),$bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{emoji,set:this.props.set,size:this.props.emojiSize,skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},key)}renderSearch(){const renderSkinTone=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"spacer"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-middle",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"search relative flex-grow",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("input",{type:"search",ref:this.refs.searchInput,placeholder:$7adb23b0109cc36a$export$dbe3113d60765c1a.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"icon loupe flex",children:$fcccfb36ed0cde68$export$2e2bcd8739ae039.search.loupe}),this.state.searchResults&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:$fcccfb36ed0cde68$export$2e2bcd8739ae039.search.delete})]}),renderSkinTone&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults}=this.state;return searchResults?$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"category",ref:this.refs.search,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`sticky padding-small align-${this.dir[0]}`,children:$7adb23b0109cc36a$export$dbe3113d60765c1a.categories.search}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:searchResults.length?searchResults.map((row,i2)=>$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex",children:row.map((emoji,ii)=>this.renderEmojiButton(emoji,{pos:[i2,ii],posinset:i2*this.props.perLine+ii+1,grid:searchResults}))})):$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("a",{onClick:this.props.onAddCustomEmoji,children:$7adb23b0109cc36a$export$dbe3113d60765c1a.add_custom})})})]}):null}renderCategories(){const{categories:categories2}=$7adb23b0109cc36a$export$2d0294657ab35f1b,hidden=!!this.state.searchResults,perLine=this.getPerLine();return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{visibility:hidden?"hidden":void 0,display:hidden?"none":void 0,height:"100%"},children:categories2.map(category=>{const{root:root2,rows}=this.refs.categories.get(category.id);return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"data-id":category.target?category.target.id:category.id,class:"category",ref:root2,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`sticky padding-small align-${this.dir[0]}`,children:category.name||$7adb23b0109cc36a$export$dbe3113d60765c1a.categories[category.id]}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"relative",style:{height:rows.length*this.props.emojiButtonSize},children:rows.map((row,i2)=>{const targetRow=row.index-row.index%$89bd6bb200cc8fef$var$Performance.rowsPerRender,visible=this.state.visibleRows[targetRow],ref="current"in row?row:void 0;if(!visible&&!ref)return null;const start2=i2*perLine,end2=start2+perLine,emojiIds=category.emojis.slice(start2,end2);return emojiIds.length<perLine&&emojiIds.push(...new Array(perLine-emojiIds.length)),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"data-index":row.index,ref,class:"flex row",style:{top:i2*this.props.emojiButtonSize},children:visible&&emojiIds.map((emojiId,ii)=>{if(!emojiId)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const emoji=$c4d155af13ad4d4b$export$2e2bcd8739ae039.get(emojiId);return this.renderEmojiButton(emoji,{pos:[row.index,ii],posinset:row.posinset+ii,grid:this.grid})})},row.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,title:$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const emoji=this.getEmojiByPos(this.state.pos),contents=emoji?emoji.name:"";return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"aria-live":"polite",class:"sr-only",children:contents})}renderSkins(){const skinToneButtonRect=this.refs.skinToneButton.current.getBoundingClientRect(),baseRect=this.base.getBoundingClientRect(),position={};return this.dir=="ltr"?position.right=baseRect.right-skinToneButtonRect.right-3:position.left=skinToneButtonRect.left-baseRect.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?position.bottom=baseRect.bottom-skinToneButtonRect.top+6:(position.top=skinToneButtonRect.bottom-baseRect.top+3,position.bottom="auto"),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,class:"menu hidden","data-position":position.top?"top":"bottom",style:position,children:[...Array(6).keys()].map(i2=>{const skin=i2+1,checked=this.state.skin==skin;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("input",{type:"radio",name:"skin-tone",value:skin,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins[skin],ref:checked?this.refs.skinToneRadio:null,defaultChecked:checked,onChange:()=>this.handleSkinMouseOver(skin),onKeyDown:e2=>{(e2.code=="Enter"||e2.code=="Space"||e2.code=="Tab")&&(e2.preventDefault(),this.handleSkinClick(skin))}}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(skin),onMouseEnter:()=>this.handleSkinMouseOver(skin),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:`skin-tone skin-tone-${skin}`}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"margin-small-lr",children:$7adb23b0109cc36a$export$dbe3113d60765c1a.skins[skin]})]})]})})})}render(){const lineWidth=this.props.perLine*this.props.emojiButtonSize;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${lineWidth}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"padding-lr",children:this.renderSearch()}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{width:this.props.dynamicWidth?"100%":lineWidth,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(props){super(),$c770c458706daa72$export$2e2bcd8739ae039(this,"darkMediaCallback",()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleClickOutside",e2=>{const{element:element2}=this.props;e2.target!=element2&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(e2))}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleBaseClick",e2=>{this.state.showSkins&&(e2.target.closest(".menu")||(e2.preventDefault(),e2.stopImmediatePropagation(),this.closeSkins()))}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleBaseKeydown",e2=>{this.state.showSkins&&e2.key=="Escape"&&(e2.preventDefault(),e2.stopImmediatePropagation(),this.closeSkins())}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchInput",async()=>{const input=this.refs.searchInput.current;if(!input)return;const{value}=input,searchResults=await $c4d155af13ad4d4b$export$2e2bcd8739ae039.search(value),afterRender=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!searchResults)return this.setState({searchResults,pos:[-1,-1]},afterRender);const pos=input.selectionStart==input.value.length?[0,0]:[-1,-1],grid2=[];grid2.setsize=searchResults.length;let row=null;for(let emoji of searchResults)(!grid2.length||row.length==this.getPerLine())&&(row=[],row.__categoryId="search",row.__index=grid2.length,grid2.push(row)),row.push(emoji);this.ignoreMouse(),this.setState({searchResults:grid2,pos},afterRender)}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchKeyDown",e2=>{const input=e2.currentTarget;switch(e2.stopImmediatePropagation(),e2.key){case"ArrowLeft":this.navigate({e:e2,input,left:!0});break;case"ArrowRight":this.navigate({e:e2,input,right:!0});break;case"ArrowUp":this.navigate({e:e2,input,up:!0});break;case"ArrowDown":this.navigate({e:e2,input,down:!0});break;case"Enter":e2.preventDefault(),this.handleEmojiClick({e:e2,pos:this.state.pos});break;case"Escape":e2.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),$c770c458706daa72$export$2e2bcd8739ae039(this,"clearSearch",()=>{const input=this.refs.searchInput.current;input&&(input.value="",input.focus(),this.handleSearchInput())}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleCategoryClick",({category,i:i2})=>{this.scrollTo(i2==0?{row:-1}:{categoryId:category.id})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"openSkins",e2=>{const{currentTarget}=e2,rect=currentTarget.getBoundingClientRect();this.setState({showSkins:rect},async()=>{await $693b183b0a78708f$export$e772c8ff12451969(2);const menu=this.refs.menu.current;menu&&(menu.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(props),visibleRows:{0:!0},...this.getInitialState(props)}}}class $efa000751917694d$export$2e2bcd8739ae039 extends $26f27c338a96b1a6$export$2e2bcd8739ae039{async connectedCallback(){const props=$7adb23b0109cc36a$export$75fe5f91d452f94b(this.props,$b247ea80b67298d5$export$2e2bcd8739ae039,this);props.element=this,props.ref=component=>{this.component=component},await $7adb23b0109cc36a$export$2cd8252107eb640b(props),!this.disconnected&&$fb96b826c0c5f37a$export$b3890eb0ae9dca99($bd9dd35321b03dd4$export$34b9dba7ce09269b($89bd6bb200cc8fef$export$2e2bcd8739ae039,{...props}),this.shadowRoot)}constructor(props){super(props,{styles:$parcel$interopDefault($329d53ba9fd7125f$exports)})}}$c770c458706daa72$export$2e2bcd8739ae039($efa000751917694d$export$2e2bcd8739ae039,"Props",$b247ea80b67298d5$export$2e2bcd8739ae039),typeof customElements<"u"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",$efa000751917694d$export$2e2bcd8739ae039);var $329d53ba9fd7125f$exports={};$329d53ba9fd7125f$exports=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --preview-placeholder-size: 21px;
  --preview-title-size: 1.1em;
  --preview-subtitle-size: .9em;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

[dir="rtl"] .scroll {
  padding-left: 0;
  padding-right: var(--padding);
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

[dir="rtl"] .search input[type="search"] {
  padding: 10px 2.2em 10px 2em;
}

[dir="rtl"] .search .loupe {
  left: auto;
  right: .7em;
}

[dir="rtl"] .search .delete {
  left: .7em;
  right: auto;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav[dir="rtl"] .bar {
  left: auto;
  right: 0;
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#preview .preview-placeholder {
  font-size: var(--preview-placeholder-size);
}

#preview .preview-title {
  font-size: var(--preview-title-size);
}

#preview .preview-subtitle {
  font-size: var(--preview-subtitle-size);
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-index] {
  justify-content: space-between;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;const data={categories:[{id:"people",emojis:["grinning","smiley","smile","grin","laughing","sweat_smile","rolling_on_the_floor_laughing","joy","slightly_smiling_face","upside_down_face","melting_face","wink","blush","innocent","smiling_face_with_3_hearts","heart_eyes","star-struck","kissing_heart","kissing","relaxed","kissing_closed_eyes","kissing_smiling_eyes","smiling_face_with_tear","yum","stuck_out_tongue","stuck_out_tongue_winking_eye","zany_face","stuck_out_tongue_closed_eyes","money_mouth_face","hugging_face","face_with_hand_over_mouth","face_with_open_eyes_and_hand_over_mouth","face_with_peeking_eye","shushing_face","thinking_face","saluting_face","zipper_mouth_face","face_with_raised_eyebrow","neutral_face","expressionless","no_mouth","dotted_line_face","face_in_clouds","smirk","unamused","face_with_rolling_eyes","grimacing","face_exhaling","lying_face","shaking_face","relieved","pensive","sleepy","drooling_face","sleeping","mask","face_with_thermometer","face_with_head_bandage","nauseated_face","face_vomiting","sneezing_face","hot_face","cold_face","woozy_face","dizzy_face","face_with_spiral_eyes","exploding_head","face_with_cowboy_hat","partying_face","disguised_face","sunglasses","nerd_face","face_with_monocle","confused","face_with_diagonal_mouth","worried","slightly_frowning_face","white_frowning_face","open_mouth","hushed","astonished","flushed","pleading_face","face_holding_back_tears","frowning","anguished","fearful","cold_sweat","disappointed_relieved","cry","sob","scream","confounded","persevere","disappointed","sweat","weary","tired_face","yawning_face","triumph","rage","angry","face_with_symbols_on_mouth","smiling_imp","imp","skull","skull_and_crossbones","hankey","clown_face","japanese_ogre","japanese_goblin","ghost","alien","space_invader","wave","raised_back_of_hand","raised_hand_with_fingers_splayed","hand","spock-hand","rightwards_hand","leftwards_hand","palm_down_hand","palm_up_hand","leftwards_pushing_hand","rightwards_pushing_hand","ok_hand","pinched_fingers","pinching_hand","v","crossed_fingers","hand_with_index_finger_and_thumb_crossed","i_love_you_hand_sign","the_horns","call_me_hand","point_left","point_right","point_up_2","middle_finger","point_down","point_up","index_pointing_at_the_viewer","+1","-1","fist","facepunch","left-facing_fist","right-facing_fist","clap","raised_hands","heart_hands","open_hands","palms_up_together","handshake","pray","writing_hand","nail_care","selfie","muscle","mechanical_arm","mechanical_leg","leg","foot","ear","ear_with_hearing_aid","nose","brain","anatomical_heart","lungs","tooth","bone","eyes","eye","tongue","lips","biting_lip","baby","child","boy","girl","adult","person_with_blond_hair","man","bearded_person","man_with_beard","woman_with_beard","red_haired_man","curly_haired_man","white_haired_man","bald_man","woman","red_haired_woman","red_haired_person","curly_haired_woman","curly_haired_person","white_haired_woman","white_haired_person","bald_woman","bald_person","blond-haired-woman","blond-haired-man","older_adult","older_man","older_woman","person_frowning","man-frowning","woman-frowning","person_with_pouting_face","man-pouting","woman-pouting","no_good","man-gesturing-no","woman-gesturing-no","ok_woman","man-gesturing-ok","woman-gesturing-ok","information_desk_person","man-tipping-hand","woman-tipping-hand","raising_hand","man-raising-hand","woman-raising-hand","deaf_person","deaf_man","deaf_woman","bow","man-bowing","woman-bowing","face_palm","man-facepalming","woman-facepalming","shrug","man-shrugging","woman-shrugging","health_worker","male-doctor","female-doctor","student","male-student","female-student","teacher","male-teacher","female-teacher","judge","male-judge","female-judge","farmer","male-farmer","female-farmer","cook","male-cook","female-cook","mechanic","male-mechanic","female-mechanic","factory_worker","male-factory-worker","female-factory-worker","office_worker","male-office-worker","female-office-worker","scientist","male-scientist","female-scientist","technologist","male-technologist","female-technologist","singer","male-singer","female-singer","artist","male-artist","female-artist","pilot","male-pilot","female-pilot","astronaut","male-astronaut","female-astronaut","firefighter","male-firefighter","female-firefighter","cop","male-police-officer","female-police-officer","sleuth_or_spy","male-detective","female-detective","guardsman","male-guard","female-guard","ninja","construction_worker","male-construction-worker","female-construction-worker","person_with_crown","prince","princess","man_with_turban","man-wearing-turban","woman-wearing-turban","man_with_gua_pi_mao","person_with_headscarf","person_in_tuxedo","man_in_tuxedo","woman_in_tuxedo","bride_with_veil","man_with_veil","woman_with_veil","pregnant_woman","pregnant_man","pregnant_person","breast-feeding","woman_feeding_baby","man_feeding_baby","person_feeding_baby","angel","santa","mrs_claus","mx_claus","superhero","male_superhero","female_superhero","supervillain","male_supervillain","female_supervillain","mage","male_mage","female_mage","fairy","male_fairy","female_fairy","vampire","male_vampire","female_vampire","merperson","merman","mermaid","elf","male_elf","female_elf","genie","male_genie","female_genie","zombie","male_zombie","female_zombie","troll","massage","man-getting-massage","woman-getting-massage","haircut","man-getting-haircut","woman-getting-haircut","walking","man-walking","woman-walking","standing_person","man_standing","woman_standing","kneeling_person","man_kneeling","woman_kneeling","person_with_probing_cane","man_with_probing_cane","woman_with_probing_cane","person_in_motorized_wheelchair","man_in_motorized_wheelchair","woman_in_motorized_wheelchair","person_in_manual_wheelchair","man_in_manual_wheelchair","woman_in_manual_wheelchair","runner","man-running","woman-running","dancer","man_dancing","man_in_business_suit_levitating","dancers","men-with-bunny-ears-partying","women-with-bunny-ears-partying","person_in_steamy_room","man_in_steamy_room","woman_in_steamy_room","person_climbing","man_climbing","woman_climbing","fencer","horse_racing","skier","snowboarder","golfer","man-golfing","woman-golfing","surfer","man-surfing","woman-surfing","rowboat","man-rowing-boat","woman-rowing-boat","swimmer","man-swimming","woman-swimming","person_with_ball","man-bouncing-ball","woman-bouncing-ball","weight_lifter","man-lifting-weights","woman-lifting-weights","bicyclist","man-biking","woman-biking","mountain_bicyclist","man-mountain-biking","woman-mountain-biking","person_doing_cartwheel","man-cartwheeling","woman-cartwheeling","wrestlers","man-wrestling","woman-wrestling","water_polo","man-playing-water-polo","woman-playing-water-polo","handball","man-playing-handball","woman-playing-handball","juggling","man-juggling","woman-juggling","person_in_lotus_position","man_in_lotus_position","woman_in_lotus_position","bath","sleeping_accommodation","people_holding_hands","two_women_holding_hands","man_and_woman_holding_hands","two_men_holding_hands","couplekiss","woman-kiss-man","man-kiss-man","woman-kiss-woman","couple_with_heart","woman-heart-man","man-heart-man","woman-heart-woman","family","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-boy","man-boy-boy","man-girl","man-girl-boy","man-girl-girl","woman-boy","woman-boy-boy","woman-girl","woman-girl-boy","woman-girl-girl","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","people_hugging","footprints","robot_face","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","love_letter","cupid","gift_heart","sparkling_heart","heartpulse","heartbeat","revolving_hearts","two_hearts","heart_decoration","heavy_heart_exclamation_mark_ornament","broken_heart","heart_on_fire","mending_heart","heart","pink_heart","orange_heart","yellow_heart","green_heart","blue_heart","light_blue_heart","purple_heart","brown_heart","black_heart","grey_heart","white_heart","kiss","100","anger","boom","dizzy","sweat_drops","dash","hole","speech_balloon","eye-in-speech-bubble","left_speech_bubble","right_anger_bubble","thought_balloon","zzz"]},{id:"nature",emojis:["monkey_face","monkey","gorilla","orangutan","dog","dog2","guide_dog","service_dog","poodle","wolf","fox_face","raccoon","cat","cat2","black_cat","lion_face","tiger","tiger2","leopard","horse","moose","donkey","racehorse","unicorn_face","zebra_face","deer","bison","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","llama","giraffe_face","elephant","mammoth","rhinoceros","hippopotamus","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","beaver","hedgehog","bat","bear","polar_bear","koala","panda_face","sloth","otter","skunk","kangaroo","badger","feet","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove_of_peace","eagle","duck","swan","owl","dodo","feather","flamingo","peacock","parrot","wing","black_bird","goose","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","seal","fish","tropical_fish","blowfish","shark","octopus","shell","coral","jellyfish","snail","butterfly","bug","ant","bee","beetle","ladybug","cricket","cockroach","spider","spider_web","scorpion","mosquito","fly","worm","microbe","bouquet","cherry_blossom","white_flower","lotus","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","hyacinth","seedling","potted_plant","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves","empty_nest","nest_with_eggs","mushroom"]},{id:"foods",emojis:["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","mango","apple","green_apple","pear","peach","cherries","strawberry","blueberries","kiwifruit","tomato","olive","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","bell_pepper","cucumber","leafy_green","broccoli","garlic","onion","peanuts","beans","chestnut","ginger_root","pea_pod","bread","croissant","baguette_bread","flatbread","pretzel","bagel","pancakes","waffle","cheese_wedge","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","tamale","stuffed_flatbread","falafel","egg","fried_egg","shallow_pan_of_food","stew","fondue","bowl_with_spoon","green_salad","popcorn","butter","salt","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","moon_cake","dango","dumpling","fortune_cookie","takeout_box","crab","lobster","shrimp","squid","oyster","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","cupcake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","glass_of_milk","coffee","teapot","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","pouring_liquid","cup_with_straw","bubble_tea","beverage_box","mate_drink","ice_cube","chopsticks","knife_fork_plate","fork_and_knife","spoon","hocho","jar","amphora"]},{id:"activity",emojis:["jack_o_lantern","christmas_tree","fireworks","sparkler","firecracker","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","red_envelope","ribbon","gift","reminder_ribbon","admission_tickets","ticket","medal","trophy","sports_medal","first_place_medal","second_place_medal","third_place_medal","soccer","baseball","softball","basketball","volleyball","football","rugby_football","tennis","flying_disc","bowling","cricket_bat_and_ball","field_hockey_stick_and_ball","ice_hockey_stick_and_puck","lacrosse","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","boxing_glove","martial_arts_uniform","goal_net","golf","ice_skate","fishing_pole_and_fish","diving_mask","running_shirt_with_sash","ski","sled","curling_stone","dart","yo-yo","kite","gun","8ball","crystal_ball","magic_wand","video_game","joystick","slot_machine","game_die","jigsaw","teddy_bear","pinata","mirror_ball","nesting_dolls","spades","hearts","diamonds","clubs","chess_pawn","black_joker","mahjong","flower_playing_cards","performing_arts","frame_with_picture","art","thread","sewing_needle","yarn","knot"]},{id:"places",emojis:["earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","compass","snow_capped_mountain","mountain","volcano","mount_fuji","camping","beach_with_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","bricks","rock","wood","hut","house_buildings","derelict_house_building","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","hindu_temple","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","cityscape","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","carousel_horse","playground_slide","ferris_wheel","roller_coaster","barber","circus_tent","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","pickup_truck","truck","articulated_lorry","tractor","racing_car","racing_motorcycle","motor_scooter","manual_wheelchair","motorized_wheelchair","auto_rickshaw","bike","scooter","skateboard","roller_skate","busstop","motorway","railway_track","oil_drum","fuelpump","wheel","rotating_light","traffic_light","vertical_traffic_light","octagonal_sign","construction","anchor","ring_buoy","boat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","airplane_departure","airplane_arriving","parachute","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","satellite","rocket","flying_saucer","bellhop_bell","luggage","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","ringed_planet","star","star2","stars","milky_way","cloud","partly_sunny","thunder_cloud_and_rain","mostly_sunny","barely_sunny","partly_sunny_rain","rain_cloud","snow_cloud","lightning","tornado","fog","wind_blowing_face","cyclone","rainbow","closed_umbrella","umbrella","umbrella_with_rain_drops","umbrella_on_ground","zap","snowflake","snowman","snowman_without_snow","comet","fire","droplet","ocean"]},{id:"objects",emojis:["eyeglasses","dark_sunglasses","goggles","lab_coat","safety_vest","necktie","shirt","jeans","scarf","gloves","coat","socks","dress","kimono","sari","one-piece_swimsuit","briefs","shorts","bikini","womans_clothes","folding_hand_fan","purse","handbag","pouch","shopping_bags","school_satchel","thong_sandal","mans_shoe","athletic_shoe","hiking_boot","womans_flat_shoe","high_heel","sandal","ballet_shoes","boot","hair_pick","crown","womans_hat","tophat","mortar_board","billed_cap","military_helmet","helmet_with_white_cross","prayer_beads","lipstick","ring","gem","mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","accordion","guitar","musical_keyboard","trumpet","violin","banjo","drum_with_drumsticks","long_drum","maracas","flute","iphone","calling","phone","telephone_receiver","pager","fax","battery","low_battery","electric_plug","computer","desktop_computer","printer","keyboard","three_button_mouse","trackball","minidisc","floppy_disk","cd","dvd","abacus","movie_camera","film_frames","film_projector","clapper","tv","camera","camera_with_flash","video_camera","vhs","mag","mag_right","candle","bulb","flashlight","izakaya_lantern","diya_lamp","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","rolled_up_newspaper","bookmark_tabs","bookmark","label","moneybag","coin","yen","dollar","euro","pound","money_with_wings","credit_card","receipt","chart","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box_with_ballot","pencil2","black_nib","lower_left_fountain_pen","lower_left_ballpoint_pen","lower_left_paintbrush","lower_left_crayon","memo","briefcase","file_folder","open_file_folder","card_index_dividers","date","calendar","spiral_note_pad","spiral_calendar_pad","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","linked_paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","old_key","hammer","axe","pick","hammer_and_pick","hammer_and_wrench","dagger_knife","crossed_swords","bomb","boomerang","bow_and_arrow","shield","carpentry_saw","wrench","screwdriver","nut_and_bolt","gear","compression","scales","probing_cane","link","chains","hook","toolbox","magnet","ladder","alembic","test_tube","petri_dish","dna","microscope","telescope","satellite_antenna","syringe","drop_of_blood","pill","adhesive_bandage","crutch","stethoscope","x-ray","door","elevator","mirror","window","bed","couch_and_lamp","chair","toilet","plunger","shower","bathtub","mouse_trap","razor","lotion_bottle","safety_pin","broom","basket","roll_of_paper","bucket","soap","bubbles","toothbrush","sponge","fire_extinguisher","shopping_trolley","smoking","coffin","headstone","funeral_urn","nazar_amulet","hamsa","moyai","placard","identification_card"]},{id:"symbols",emojis:["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive_sign","biohazard_sign","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","place_of_worship","atom_symbol","om_symbol","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah_with_nine_branches","six_pointed_star","khanda","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","black_right_pointing_double_triangle_with_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","arrow_backward","rewind","black_left_pointing_double_triangle_with_vertical_bar","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","double_vertical_bar","black_square_for_stop","black_circle_for_record","eject","cinema","low_brightness","high_brightness","signal_strength","wireless","vibration_mode","mobile_phone_off","female_sign","male_sign","transgender_symbol","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_equals_sign","infinity","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","currency_exchange","heavy_dollar_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","x","negative_squared_cross_mark","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","copyright","registered","tm","hash","keycap_star","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","red_circle","large_orange_circle","large_yellow_circle","large_green_circle","large_blue_circle","large_purple_circle","large_brown_circle","black_circle","white_circle","large_red_square","large_orange_square","large_yellow_square","large_green_square","large_blue_square","large_purple_square","large_brown_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","white_square_button","black_square_button"]},{id:"flags",emojis:["checkered_flag","cn","crossed_flags","de","es","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-england","flag-er","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-ga","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-je","flag-jm","flag-jo","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-rw","flag-sa","flag-sb","flag-sc","flag-scotland","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wales","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","fr","gb","it","jp","kr","pirate_flag","rainbow-flag","ru","transgender_flag","triangular_flag_on_post","us","waving_black_flag","waving_white_flag"]}],emojis:{100:{id:"100",name:"Hundred Points",keywords:["100","score","perfect","numbers","century","exam","quiz","test","pass"],skins:[{unified:"1f4af",native:""}],version:1},1234:{id:"1234",name:"Input Numbers",keywords:["1234","blue","square","1","2","3","4"],skins:[{unified:"1f522",native:""}],version:1},grinning:{id:"grinning",name:"Grinning Face",emoticons:[":D"],keywords:["smile","happy","joy",":D","grin"],skins:[{unified:"1f600",native:""}],version:1},smiley:{id:"smiley",name:"Grinning Face with Big Eyes",emoticons:[":)","=)","=-)"],keywords:["smiley","happy","joy","haha",":D",":)","smile","funny"],skins:[{unified:"1f603",native:""}],version:1},smile:{id:"smile",name:"Grinning Face with Smiling Eyes",emoticons:[":)","C:","c:",":D",":-D"],keywords:["smile","happy","joy","funny","haha","laugh","like",":D",":)"],skins:[{unified:"1f604",native:""}],version:1},grin:{id:"grin",name:"Beaming Face with Smiling Eyes",keywords:["grin","happy","smile","joy","kawaii"],skins:[{unified:"1f601",native:""}],version:1},laughing:{id:"laughing",name:"Grinning Squinting Face",emoticons:[":>",":->"],keywords:["laughing","satisfied","happy","joy","lol","haha","glad","XD","laugh"],skins:[{unified:"1f606",native:""}],version:1},sweat_smile:{id:"sweat_smile",name:"Grinning Face with Sweat",keywords:["smile","hot","happy","laugh","relief"],skins:[{unified:"1f605",native:""}],version:1},rolling_on_the_floor_laughing:{id:"rolling_on_the_floor_laughing",name:"Rolling on the Floor Laughing",keywords:["face","lol","haha","rofl"],skins:[{unified:"1f923",native:""}],version:3},joy:{id:"joy",name:"Face with Tears of Joy",keywords:["cry","weep","happy","happytears","haha"],skins:[{unified:"1f602",native:""}],version:1},slightly_smiling_face:{id:"slightly_smiling_face",name:"Slightly Smiling Face",emoticons:[":)","(:",":-)"],keywords:["smile"],skins:[{unified:"1f642",native:""}],version:1},upside_down_face:{id:"upside_down_face",name:"Upside-Down Face",keywords:["upside","down","flipped","silly","smile"],skins:[{unified:"1f643",native:""}],version:1},melting_face:{id:"melting_face",name:"Melting Face",keywords:["hot","heat"],skins:[{unified:"1fae0",native:""}],version:14},wink:{id:"wink",name:"Winking Face",emoticons:[";)",";-)"],keywords:["wink","happy","mischievous","secret",";)","smile","eye"],skins:[{unified:"1f609",native:""}],version:1},blush:{id:"blush",name:"Smiling Face with Smiling Eyes",emoticons:[":)"],keywords:["blush","smile","happy","flushed","crush","embarrassed","shy","joy"],skins:[{unified:"1f60a",native:""}],version:1},innocent:{id:"innocent",name:"Smiling Face with Halo",keywords:["innocent","angel","heaven"],skins:[{unified:"1f607",native:""}],version:1},smiling_face_with_3_hearts:{id:"smiling_face_with_3_hearts",name:"Smiling Face with Hearts",keywords:["3","love","like","affection","valentines","infatuation","crush","adore"],skins:[{unified:"1f970",native:""}],version:11},heart_eyes:{id:"heart_eyes",name:"Smiling Face with Heart-Eyes",keywords:["heart","eyes","love","like","affection","valentines","infatuation","crush"],skins:[{unified:"1f60d",native:""}],version:1},"star-struck":{id:"star-struck",name:"Star-Struck",keywords:["star","struck","grinning","face","with","eyes","smile","starry"],skins:[{unified:"1f929",native:""}],version:5},kissing_heart:{id:"kissing_heart",name:"Face Blowing a Kiss",emoticons:[":*",":-*"],keywords:["kissing","heart","love","like","affection","valentines","infatuation"],skins:[{unified:"1f618",native:""}],version:1},kissing:{id:"kissing",name:"Kissing Face",keywords:["love","like","3","valentines","infatuation","kiss"],skins:[{unified:"1f617",native:""}],version:1},relaxed:{id:"relaxed",name:"Smiling Face",keywords:["relaxed","blush","massage","happiness"],skins:[{unified:"263a-fe0f",native:""}],version:1},kissing_closed_eyes:{id:"kissing_closed_eyes",name:"Kissing Face with Closed Eyes",keywords:["love","like","affection","valentines","infatuation","kiss"],skins:[{unified:"1f61a",native:""}],version:1},kissing_smiling_eyes:{id:"kissing_smiling_eyes",name:"Kissing Face with Smiling Eyes",keywords:["affection","valentines","infatuation","kiss"],skins:[{unified:"1f619",native:""}],version:1},smiling_face_with_tear:{id:"smiling_face_with_tear",name:"Smiling Face with Tear",keywords:["sad","cry","pretend"],skins:[{unified:"1f972",native:""}],version:13},yum:{id:"yum",name:"Face Savoring Food",keywords:["yum","happy","joy","tongue","smile","silly","yummy","nom","delicious","savouring"],skins:[{unified:"1f60b",native:""}],version:1},stuck_out_tongue:{id:"stuck_out_tongue",name:"Face with Tongue",emoticons:[":p",":-p",":P",":-P",":b",":-b"],keywords:["stuck","out","prank","childish","playful","mischievous","smile"],skins:[{unified:"1f61b",native:""}],version:1},stuck_out_tongue_winking_eye:{id:"stuck_out_tongue_winking_eye",name:"Winking Face with Tongue",emoticons:[";p",";-p",";b",";-b",";P",";-P"],keywords:["stuck","out","eye","prank","childish","playful","mischievous","smile","wink"],skins:[{unified:"1f61c",native:""}],version:1},zany_face:{id:"zany_face",name:"Zany Face",keywords:["grinning","with","one","large","and","small","eye","goofy","crazy"],skins:[{unified:"1f92a",native:""}],version:5},stuck_out_tongue_closed_eyes:{id:"stuck_out_tongue_closed_eyes",name:"Squinting Face with Tongue",keywords:["stuck","out","closed","eyes","prank","playful","mischievous","smile"],skins:[{unified:"1f61d",native:""}],version:1},money_mouth_face:{id:"money_mouth_face",name:"Money-Mouth Face",keywords:["money","mouth","rich","dollar"],skins:[{unified:"1f911",native:""}],version:1},hugging_face:{id:"hugging_face",name:"Hugging Face",keywords:["smile","hug"],skins:[{unified:"1f917",native:""}],version:1},face_with_hand_over_mouth:{id:"face_with_hand_over_mouth",name:"Face with Hand over Mouth",keywords:["smiling","eyes","and","covering","whoops","shock","surprise"],skins:[{unified:"1f92d",native:""}],version:5},face_with_open_eyes_and_hand_over_mouth:{id:"face_with_open_eyes_and_hand_over_mouth",name:"Face with Open Eyes and Hand over Mouth",keywords:["silence","secret","shock","surprise"],skins:[{unified:"1fae2",native:""}],version:14},face_with_peeking_eye:{id:"face_with_peeking_eye",name:"Face with Peeking Eye",keywords:["scared","frightening","embarrassing","shy"],skins:[{unified:"1fae3",native:""}],version:14},shushing_face:{id:"shushing_face",name:"Shushing Face",keywords:["with","finger","covering","closed","lips","quiet","shhh"],skins:[{unified:"1f92b",native:""}],version:5},thinking_face:{id:"thinking_face",name:"Thinking Face",keywords:["hmmm","think","consider"],skins:[{unified:"1f914",native:""}],version:1},saluting_face:{id:"saluting_face",name:"Saluting Face",keywords:["respect","salute"],skins:[{unified:"1fae1",native:""}],version:14},zipper_mouth_face:{id:"zipper_mouth_face",name:"Zipper-Mouth Face",keywords:["zipper","mouth","sealed","secret"],skins:[{unified:"1f910",native:""}],version:1},face_with_raised_eyebrow:{id:"face_with_raised_eyebrow",name:"Face with Raised Eyebrow",keywords:["one","distrust","scepticism","disapproval","disbelief","surprise"],skins:[{unified:"1f928",native:""}],version:5},neutral_face:{id:"neutral_face",name:"Neutral Face",emoticons:[":|",":-|"],keywords:["indifference","meh",":",""],skins:[{unified:"1f610",native:""}],version:1},expressionless:{id:"expressionless",name:"Expressionless Face",emoticons:["-_-"],keywords:["indifferent","-","","meh","deadpan"],skins:[{unified:"1f611",native:""}],version:1},no_mouth:{id:"no_mouth",name:"Face Without Mouth",keywords:["no","hellokitty"],skins:[{unified:"1f636",native:""}],version:1},dotted_line_face:{id:"dotted_line_face",name:"Dotted Line Face",keywords:["invisible","lonely","isolation","depression"],skins:[{unified:"1fae5",native:""}],version:14},face_in_clouds:{id:"face_in_clouds",name:"Face in Clouds",keywords:["shower","steam","dream"],skins:[{unified:"1f636-200d-1f32b-fe0f",native:""}],version:13.1},smirk:{id:"smirk",name:"Smirking Face",keywords:["smirk","smile","mean","prank","smug","sarcasm"],skins:[{unified:"1f60f",native:""}],version:1},unamused:{id:"unamused",name:"Unamused Face",emoticons:[":("],keywords:["indifference","bored","straight","serious","sarcasm","unimpressed","skeptical","dubious","side","eye"],skins:[{unified:"1f612",native:""}],version:1},face_with_rolling_eyes:{id:"face_with_rolling_eyes",name:"Face with Rolling Eyes",keywords:["eyeroll","frustrated"],skins:[{unified:"1f644",native:""}],version:1},grimacing:{id:"grimacing",name:"Grimacing Face",keywords:["grimace","teeth"],skins:[{unified:"1f62c",native:""}],version:1},face_exhaling:{id:"face_exhaling",name:"Face Exhaling",keywords:["relieve","relief","tired","sigh"],skins:[{unified:"1f62e-200d-1f4a8",native:""}],version:13.1},lying_face:{id:"lying_face",name:"Lying Face",keywords:["lie","pinocchio"],skins:[{unified:"1f925",native:""}],version:3},shaking_face:{id:"shaking_face",name:"Shaking Face",keywords:["dizzy","shock","blurry","earthquake"],skins:[{unified:"1fae8",native:""}],version:15},relieved:{id:"relieved",name:"Relieved Face",keywords:["relaxed","phew","massage","happiness"],skins:[{unified:"1f60c",native:""}],version:1},pensive:{id:"pensive",name:"Pensive Face",keywords:["sad","depressed","upset"],skins:[{unified:"1f614",native:""}],version:1},sleepy:{id:"sleepy",name:"Sleepy Face",keywords:["tired","rest","nap"],skins:[{unified:"1f62a",native:""}],version:1},drooling_face:{id:"drooling_face",name:"Drooling Face",keywords:[],skins:[{unified:"1f924",native:""}],version:3},sleeping:{id:"sleeping",name:"Sleeping Face",keywords:["tired","sleepy","night","zzz"],skins:[{unified:"1f634",native:""}],version:1},mask:{id:"mask",name:"Face with Medical Mask",keywords:["sick","ill","disease","covid"],skins:[{unified:"1f637",native:""}],version:1},face_with_thermometer:{id:"face_with_thermometer",name:"Face with Thermometer",keywords:["sick","temperature","cold","fever","covid"],skins:[{unified:"1f912",native:""}],version:1},face_with_head_bandage:{id:"face_with_head_bandage",name:"Face with Head-Bandage",keywords:["head","bandage","injured","clumsy","hurt"],skins:[{unified:"1f915",native:""}],version:1},nauseated_face:{id:"nauseated_face",name:"Nauseated Face",keywords:["vomit","gross","green","sick","throw","up","ill"],skins:[{unified:"1f922",native:""}],version:3},face_vomiting:{id:"face_vomiting",name:"Face Vomiting",keywords:["with","open","mouth","sick"],skins:[{unified:"1f92e",native:""}],version:5},sneezing_face:{id:"sneezing_face",name:"Sneezing Face",keywords:["gesundheit","sneeze","sick","allergy"],skins:[{unified:"1f927",native:""}],version:3},hot_face:{id:"hot_face",name:"Hot Face",keywords:["feverish","heat","red","sweating"],skins:[{unified:"1f975",native:""}],version:11},cold_face:{id:"cold_face",name:"Cold Face",keywords:["blue","freezing","frozen","frostbite","icicles"],skins:[{unified:"1f976",native:""}],version:11},woozy_face:{id:"woozy_face",name:"Woozy Face",keywords:["dizzy","intoxicated","tipsy","wavy"],skins:[{unified:"1f974",native:""}],version:11},dizzy_face:{id:"dizzy_face",name:"Dizzy Face",keywords:["spent","unconscious","xox"],skins:[{unified:"1f635",native:""}],version:1},face_with_spiral_eyes:{id:"face_with_spiral_eyes",name:"Face with Spiral Eyes",keywords:["sick","ill","confused","nauseous","nausea"],skins:[{unified:"1f635-200d-1f4ab",native:""}],version:13.1},exploding_head:{id:"exploding_head",name:"Exploding Head",keywords:["shocked","face","with","mind","blown"],skins:[{unified:"1f92f",native:""}],version:5},face_with_cowboy_hat:{id:"face_with_cowboy_hat",name:"Cowboy Hat Face",keywords:["with","cowgirl"],skins:[{unified:"1f920",native:""}],version:3},partying_face:{id:"partying_face",name:"Partying Face",keywords:["celebration","woohoo"],skins:[{unified:"1f973",native:""}],version:11},disguised_face:{id:"disguised_face",name:"Disguised Face",keywords:["pretent","brows","glasses","moustache"],skins:[{unified:"1f978",native:""}],version:13},sunglasses:{id:"sunglasses",name:"Smiling Face with Sunglasses",emoticons:["8)"],keywords:["cool","smile","summer","beach","sunglass"],skins:[{unified:"1f60e",native:""}],version:1},nerd_face:{id:"nerd_face",name:"Nerd Face",keywords:["nerdy","geek","dork"],skins:[{unified:"1f913",native:""}],version:1},face_with_monocle:{id:"face_with_monocle",name:"Face with Monocle",keywords:["stuffy","wealthy"],skins:[{unified:"1f9d0",native:""}],version:5},confused:{id:"confused",name:"Confused Face",emoticons:[":\\",":-\\",":/",":-/"],keywords:["indifference","huh","weird","hmmm",":/"],skins:[{unified:"1f615",native:""}],version:1},face_with_diagonal_mouth:{id:"face_with_diagonal_mouth",name:"Face with Diagonal Mouth",keywords:["skeptic","confuse","frustrated","indifferent"],skins:[{unified:"1fae4",native:""}],version:14},worried:{id:"worried",name:"Worried Face",keywords:["concern","nervous",":("],skins:[{unified:"1f61f",native:""}],version:1},slightly_frowning_face:{id:"slightly_frowning_face",name:"Slightly Frowning Face",keywords:["disappointed","sad","upset"],skins:[{unified:"1f641",native:""}],version:1},white_frowning_face:{id:"white_frowning_face",name:"Frowning Face",keywords:["white","sad","upset","frown"],skins:[{unified:"2639-fe0f",native:""}],version:1},open_mouth:{id:"open_mouth",name:"Face with Open Mouth",emoticons:[":o",":-o",":O",":-O"],keywords:["surprise","impressed","wow","whoa",":O"],skins:[{unified:"1f62e",native:""}],version:1},hushed:{id:"hushed",name:"Hushed Face",keywords:["woo","shh"],skins:[{unified:"1f62f",native:""}],version:1},astonished:{id:"astonished",name:"Astonished Face",keywords:["xox","surprised","poisoned"],skins:[{unified:"1f632",native:""}],version:1},flushed:{id:"flushed",name:"Flushed Face",keywords:["blush","shy","flattered"],skins:[{unified:"1f633",native:""}],version:1},pleading_face:{id:"pleading_face",name:"Pleading Face",keywords:["begging","mercy","cry","tears","sad","grievance"],skins:[{unified:"1f97a",native:""}],version:11},face_holding_back_tears:{id:"face_holding_back_tears",name:"Face Holding Back Tears",keywords:["touched","gratitude","cry"],skins:[{unified:"1f979",native:""}],version:14},frowning:{id:"frowning",name:"Frowning Face with Open Mouth",keywords:["aw","what"],skins:[{unified:"1f626",native:""}],version:1},anguished:{id:"anguished",name:"Anguished Face",emoticons:["D:"],keywords:["stunned","nervous"],skins:[{unified:"1f627",native:""}],version:1},fearful:{id:"fearful",name:"Fearful Face",keywords:["scared","terrified","nervous"],skins:[{unified:"1f628",native:""}],version:1},cold_sweat:{id:"cold_sweat",name:"Anxious Face with Sweat",keywords:["cold","nervous"],skins:[{unified:"1f630",native:""}],version:1},disappointed_relieved:{id:"disappointed_relieved",name:"Sad but Relieved Face",keywords:["disappointed","phew","sweat","nervous"],skins:[{unified:"1f625",native:""}],version:1},cry:{id:"cry",name:"Crying Face",emoticons:[":'("],keywords:["cry","tears","sad","depressed","upset",":'("],skins:[{unified:"1f622",native:""}],version:1},sob:{id:"sob",name:"Loudly Crying Face",emoticons:[":'("],keywords:["sob","cry","tears","sad","upset","depressed"],skins:[{unified:"1f62d",native:""}],version:1},scream:{id:"scream",name:"Face Screaming in Fear",keywords:["scream","munch","scared","omg"],skins:[{unified:"1f631",native:""}],version:1},confounded:{id:"confounded",name:"Confounded Face",keywords:["confused","sick","unwell","oops",":S"],skins:[{unified:"1f616",native:""}],version:1},persevere:{id:"persevere",name:"Persevering Face",keywords:["persevere","sick","no","upset","oops"],skins:[{unified:"1f623",native:""}],version:1},disappointed:{id:"disappointed",name:"Disappointed Face",emoticons:["):",":(",":-("],keywords:["sad","upset","depressed",":("],skins:[{unified:"1f61e",native:""}],version:1},sweat:{id:"sweat",name:"Face with Cold Sweat",keywords:["downcast","hot","sad","tired","exercise"],skins:[{unified:"1f613",native:""}],version:1},weary:{id:"weary",name:"Weary Face",keywords:["tired","sleepy","sad","frustrated","upset"],skins:[{unified:"1f629",native:""}],version:1},tired_face:{id:"tired_face",name:"Tired Face",keywords:["sick","whine","upset","frustrated"],skins:[{unified:"1f62b",native:""}],version:1},yawning_face:{id:"yawning_face",name:"Yawning Face",keywords:["tired","sleepy"],skins:[{unified:"1f971",native:""}],version:12},triumph:{id:"triumph",name:"Face with Look of Triumph",keywords:["steam","from","nose","gas","phew","proud","pride"],skins:[{unified:"1f624",native:""}],version:1},rage:{id:"rage",name:"Pouting Face",keywords:["rage","angry","mad","hate","despise"],skins:[{unified:"1f621",native:""}],version:1},angry:{id:"angry",name:"Angry Face",emoticons:[">:(",">:-("],keywords:["mad","annoyed","frustrated"],skins:[{unified:"1f620",native:""}],version:1},face_with_symbols_on_mouth:{id:"face_with_symbols_on_mouth",name:"Face with Symbols on Mouth",keywords:["serious","covering","swearing","cursing","cussing","profanity","expletive"],skins:[{unified:"1f92c",native:""}],version:5},smiling_imp:{id:"smiling_imp",name:"Smiling Face with Horns",keywords:["imp","devil"],skins:[{unified:"1f608",native:""}],version:1},imp:{id:"imp",name:"Imp",keywords:["angry","face","with","horns","devil"],skins:[{unified:"1f47f",native:""}],version:1},skull:{id:"skull",name:"Skull",keywords:["dead","skeleton","creepy","death"],skins:[{unified:"1f480",native:""}],version:1},skull_and_crossbones:{id:"skull_and_crossbones",name:"Skull and Crossbones",keywords:["poison","danger","deadly","scary","death","pirate","evil"],skins:[{unified:"2620-fe0f",native:""}],version:1},hankey:{id:"hankey",name:"Pile of Poo",keywords:["hankey","poop","shit","shitface","fail","turd"],skins:[{unified:"1f4a9",native:""}],version:1},clown_face:{id:"clown_face",name:"Clown Face",keywords:[],skins:[{unified:"1f921",native:""}],version:3},japanese_ogre:{id:"japanese_ogre",name:"Ogre",keywords:["japanese","monster","red","mask","halloween","scary","creepy","devil","demon"],skins:[{unified:"1f479",native:""}],version:1},japanese_goblin:{id:"japanese_goblin",name:"Goblin",keywords:["japanese","red","evil","mask","monster","scary","creepy"],skins:[{unified:"1f47a",native:""}],version:1},ghost:{id:"ghost",name:"Ghost",keywords:["halloween","spooky","scary"],skins:[{unified:"1f47b",native:""}],version:1},alien:{id:"alien",name:"Alien",keywords:["UFO","paul","weird","outer","space"],skins:[{unified:"1f47d",native:""}],version:1},space_invader:{id:"space_invader",name:"Alien Monster",keywords:["space","invader","game","arcade","play"],skins:[{unified:"1f47e",native:""}],version:1},robot_face:{id:"robot_face",name:"Robot",keywords:["face","computer","machine","bot"],skins:[{unified:"1f916",native:""}],version:1},smiley_cat:{id:"smiley_cat",name:"Grinning Cat",keywords:["smiley","animal","cats","happy","smile"],skins:[{unified:"1f63a",native:""}],version:1},smile_cat:{id:"smile_cat",name:"Grinning Cat with Smiling Eyes",keywords:["smile","animal","cats"],skins:[{unified:"1f638",native:""}],version:1},joy_cat:{id:"joy_cat",name:"Cat with Tears of Joy",keywords:["animal","cats","haha","happy"],skins:[{unified:"1f639",native:""}],version:1},heart_eyes_cat:{id:"heart_eyes_cat",name:"Smiling Cat with Heart-Eyes",keywords:["heart","eyes","animal","love","like","affection","cats","valentines"],skins:[{unified:"1f63b",native:""}],version:1},smirk_cat:{id:"smirk_cat",name:"Cat with Wry Smile",keywords:["smirk","animal","cats"],skins:[{unified:"1f63c",native:""}],version:1},kissing_cat:{id:"kissing_cat",name:"Kissing Cat",keywords:["animal","cats","kiss"],skins:[{unified:"1f63d",native:""}],version:1},scream_cat:{id:"scream_cat",name:"Weary Cat",keywords:["scream","animal","cats","munch","scared"],skins:[{unified:"1f640",native:""}],version:1},crying_cat_face:{id:"crying_cat_face",name:"Crying Cat",keywords:["face","animal","tears","weep","sad","cats","upset","cry"],skins:[{unified:"1f63f",native:""}],version:1},pouting_cat:{id:"pouting_cat",name:"Pouting Cat",keywords:["animal","cats"],skins:[{unified:"1f63e",native:""}],version:1},see_no_evil:{id:"see_no_evil",name:"See-No-Evil Monkey",keywords:["see","no","evil","animal","nature","haha"],skins:[{unified:"1f648",native:""}],version:1},hear_no_evil:{id:"hear_no_evil",name:"Hear-No-Evil Monkey",keywords:["hear","no","evil","animal","nature"],skins:[{unified:"1f649",native:""}],version:1},speak_no_evil:{id:"speak_no_evil",name:"Speak-No-Evil Monkey",keywords:["speak","no","evil","animal","nature","omg"],skins:[{unified:"1f64a",native:""}],version:1},love_letter:{id:"love_letter",name:"Love Letter",keywords:["email","like","affection","envelope","valentines"],skins:[{unified:"1f48c",native:""}],version:1},cupid:{id:"cupid",name:"Heart with Arrow",keywords:["cupid","love","like","affection","valentines"],skins:[{unified:"1f498",native:""}],version:1},gift_heart:{id:"gift_heart",name:"Heart with Ribbon",keywords:["gift","love","valentines"],skins:[{unified:"1f49d",native:""}],version:1},sparkling_heart:{id:"sparkling_heart",name:"Sparkling Heart",keywords:["love","like","affection","valentines"],skins:[{unified:"1f496",native:""}],version:1},heartpulse:{id:"heartpulse",name:"Growing Heart",keywords:["heartpulse","like","love","affection","valentines","pink"],skins:[{unified:"1f497",native:""}],version:1},heartbeat:{id:"heartbeat",name:"Beating Heart",keywords:["heartbeat","love","like","affection","valentines","pink"],skins:[{unified:"1f493",native:""}],version:1},revolving_hearts:{id:"revolving_hearts",name:"Revolving Hearts",keywords:["love","like","affection","valentines"],skins:[{unified:"1f49e",native:""}],version:1},two_hearts:{id:"two_hearts",name:"Two Hearts",keywords:["love","like","affection","valentines","heart"],skins:[{unified:"1f495",native:""}],version:1},heart_decoration:{id:"heart_decoration",name:"Heart Decoration",keywords:["purple","square","love","like"],skins:[{unified:"1f49f",native:""}],version:1},heavy_heart_exclamation_mark_ornament:{id:"heavy_heart_exclamation_mark_ornament",name:"Heart Exclamation",keywords:["heavy","mark","ornament","decoration","love"],skins:[{unified:"2763-fe0f",native:""}],version:1},broken_heart:{id:"broken_heart",name:"Broken Heart",emoticons:["</3"],keywords:["sad","sorry","break","heartbreak"],skins:[{unified:"1f494",native:""}],version:1},heart_on_fire:{id:"heart_on_fire",name:"Heart on Fire",keywords:["passionate","enthusiastic"],skins:[{unified:"2764-fe0f-200d-1f525",native:""}],version:13.1},mending_heart:{id:"mending_heart",name:"Mending Heart",keywords:["broken","bandage","wounded"],skins:[{unified:"2764-fe0f-200d-1fa79",native:""}],version:13.1},heart:{id:"heart",name:"Red Heart",emoticons:["<3"],keywords:["love","like","valentines"],skins:[{unified:"2764-fe0f",native:""}],version:1},pink_heart:{id:"pink_heart",name:"Pink Heart",keywords:["valentines"],skins:[{unified:"1fa77",native:""}],version:15},orange_heart:{id:"orange_heart",name:"Orange Heart",keywords:["love","like","affection","valentines"],skins:[{unified:"1f9e1",native:""}],version:5},yellow_heart:{id:"yellow_heart",name:"Yellow Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49b",native:""}],version:1},green_heart:{id:"green_heart",name:"Green Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49a",native:""}],version:1},blue_heart:{id:"blue_heart",name:"Blue Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f499",native:""}],version:1},light_blue_heart:{id:"light_blue_heart",name:"Light Blue Heart",keywords:["ice","baby"],skins:[{unified:"1fa75",native:""}],version:15},purple_heart:{id:"purple_heart",name:"Purple Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49c",native:""}],version:1},brown_heart:{id:"brown_heart",name:"Brown Heart",keywords:["coffee"],skins:[{unified:"1f90e",native:""}],version:12},black_heart:{id:"black_heart",name:"Black Heart",keywords:["evil"],skins:[{unified:"1f5a4",native:""}],version:3},grey_heart:{id:"grey_heart",name:"Grey Heart",keywords:["silver","monochrome"],skins:[{unified:"1fa76",native:""}],version:15},white_heart:{id:"white_heart",name:"White Heart",keywords:["pure"],skins:[{unified:"1f90d",native:""}],version:12},kiss:{id:"kiss",name:"Kiss Mark",keywords:["face","lips","love","like","affection","valentines"],skins:[{unified:"1f48b",native:""}],version:1},anger:{id:"anger",name:"Anger Symbol",keywords:["angry","mad"],skins:[{unified:"1f4a2",native:""}],version:1},boom:{id:"boom",name:"Collision",keywords:["boom","bomb","explode","explosion","blown"],skins:[{unified:"1f4a5",native:""}],version:1},dizzy:{id:"dizzy",name:"Dizzy",keywords:["star","sparkle","shoot","magic"],skins:[{unified:"1f4ab",native:""}],version:1},sweat_drops:{id:"sweat_drops",name:"Sweat Droplets",keywords:["drops","water","drip","oops"],skins:[{unified:"1f4a6",native:""}],version:1},dash:{id:"dash",name:"Dash Symbol",keywords:["dashing","away","wind","air","fast","shoo","fart","smoke","puff"],skins:[{unified:"1f4a8",native:""}],version:1},hole:{id:"hole",name:"Hole",keywords:["embarrassing"],skins:[{unified:"1f573-fe0f",native:""}],version:1},speech_balloon:{id:"speech_balloon",name:"Speech Balloon",keywords:["bubble","words","message","talk","chatting"],skins:[{unified:"1f4ac",native:""}],version:1},"eye-in-speech-bubble":{id:"eye-in-speech-bubble",name:"Eye in Speech Bubble",keywords:["in-speech-bubble","info"],skins:[{unified:"1f441-fe0f-200d-1f5e8-fe0f",native:""}],version:2},left_speech_bubble:{id:"left_speech_bubble",name:"Left Speech Bubble",keywords:["words","message","talk","chatting"],skins:[{unified:"1f5e8-fe0f",native:""}],version:2},right_anger_bubble:{id:"right_anger_bubble",name:"Right Anger Bubble",keywords:["caption","speech","thinking","mad"],skins:[{unified:"1f5ef-fe0f",native:""}],version:1},thought_balloon:{id:"thought_balloon",name:"Thought Balloon",keywords:["bubble","cloud","speech","thinking","dream"],skins:[{unified:"1f4ad",native:""}],version:1},zzz:{id:"zzz",name:"Zzz",keywords:["sleepy","tired","dream"],skins:[{unified:"1f4a4",native:""}],version:1},wave:{id:"wave",name:"Waving Hand",keywords:["wave","hands","gesture","goodbye","solong","farewell","hello","hi","palm"],skins:[{unified:"1f44b",native:""},{unified:"1f44b-1f3fb",native:""},{unified:"1f44b-1f3fc",native:""},{unified:"1f44b-1f3fd",native:""},{unified:"1f44b-1f3fe",native:""},{unified:"1f44b-1f3ff",native:""}],version:1},raised_back_of_hand:{id:"raised_back_of_hand",name:"Raised Back of Hand",keywords:["fingers","backhand"],skins:[{unified:"1f91a",native:""},{unified:"1f91a-1f3fb",native:""},{unified:"1f91a-1f3fc",native:""},{unified:"1f91a-1f3fd",native:""},{unified:"1f91a-1f3fe",native:""},{unified:"1f91a-1f3ff",native:""}],version:3},raised_hand_with_fingers_splayed:{id:"raised_hand_with_fingers_splayed",name:"Hand with Fingers Splayed",keywords:["raised","palm"],skins:[{unified:"1f590-fe0f",native:""},{unified:"1f590-1f3fb",native:""},{unified:"1f590-1f3fc",native:""},{unified:"1f590-1f3fd",native:""},{unified:"1f590-1f3fe",native:""},{unified:"1f590-1f3ff",native:""}],version:1},hand:{id:"hand",name:"Raised Hand",keywords:["fingers","stop","highfive","high","five","palm","ban"],skins:[{unified:"270b",native:""},{unified:"270b-1f3fb",native:""},{unified:"270b-1f3fc",native:""},{unified:"270b-1f3fd",native:""},{unified:"270b-1f3fe",native:""},{unified:"270b-1f3ff",native:""}],version:1},"spock-hand":{id:"spock-hand",name:"Vulcan Salute",keywords:["spock","hand","fingers","star","trek"],skins:[{unified:"1f596",native:""},{unified:"1f596-1f3fb",native:""},{unified:"1f596-1f3fc",native:""},{unified:"1f596-1f3fd",native:""},{unified:"1f596-1f3fe",native:""},{unified:"1f596-1f3ff",native:""}],version:1},rightwards_hand:{id:"rightwards_hand",name:"Rightwards Hand",keywords:["palm","offer"],skins:[{unified:"1faf1",native:""},{unified:"1faf1-1f3fb",native:""},{unified:"1faf1-1f3fc",native:""},{unified:"1faf1-1f3fd",native:""},{unified:"1faf1-1f3fe",native:""},{unified:"1faf1-1f3ff",native:""}],version:14},leftwards_hand:{id:"leftwards_hand",name:"Leftwards Hand",keywords:["palm","offer"],skins:[{unified:"1faf2",native:""},{unified:"1faf2-1f3fb",native:""},{unified:"1faf2-1f3fc",native:""},{unified:"1faf2-1f3fd",native:""},{unified:"1faf2-1f3fe",native:""},{unified:"1faf2-1f3ff",native:""}],version:14},palm_down_hand:{id:"palm_down_hand",name:"Palm Down Hand",keywords:["drop"],skins:[{unified:"1faf3",native:""},{unified:"1faf3-1f3fb",native:""},{unified:"1faf3-1f3fc",native:""},{unified:"1faf3-1f3fd",native:""},{unified:"1faf3-1f3fe",native:""},{unified:"1faf3-1f3ff",native:""}],version:14},palm_up_hand:{id:"palm_up_hand",name:"Palm Up Hand",keywords:["lift","offer","demand"],skins:[{unified:"1faf4",native:""},{unified:"1faf4-1f3fb",native:""},{unified:"1faf4-1f3fc",native:""},{unified:"1faf4-1f3fd",native:""},{unified:"1faf4-1f3fe",native:""},{unified:"1faf4-1f3ff",native:""}],version:14},leftwards_pushing_hand:{id:"leftwards_pushing_hand",name:"Leftwards Pushing Hand",keywords:["highfive","high","five","pressing","stop"],skins:[{unified:"1faf7",native:""},{unified:"1faf7-1f3fb",native:""},{unified:"1faf7-1f3fc",native:""},{unified:"1faf7-1f3fd",native:""},{unified:"1faf7-1f3fe",native:""},{unified:"1faf7-1f3ff",native:""}],version:15},rightwards_pushing_hand:{id:"rightwards_pushing_hand",name:"Rightwards Pushing Hand",keywords:["highfive","high","five","pressing","stop"],skins:[{unified:"1faf8",native:""},{unified:"1faf8-1f3fb",native:""},{unified:"1faf8-1f3fc",native:""},{unified:"1faf8-1f3fd",native:""},{unified:"1faf8-1f3fe",native:""},{unified:"1faf8-1f3ff",native:""}],version:15},ok_hand:{id:"ok_hand",name:"Ok Hand",keywords:["fingers","limbs","perfect","okay"],skins:[{unified:"1f44c",native:""},{unified:"1f44c-1f3fb",native:""},{unified:"1f44c-1f3fc",native:""},{unified:"1f44c-1f3fd",native:""},{unified:"1f44c-1f3fe",native:""},{unified:"1f44c-1f3ff",native:""}],version:1},pinched_fingers:{id:"pinched_fingers",name:"Pinched Fingers",keywords:["size","tiny","small"],skins:[{unified:"1f90c",native:""},{unified:"1f90c-1f3fb",native:""},{unified:"1f90c-1f3fc",native:""},{unified:"1f90c-1f3fd",native:""},{unified:"1f90c-1f3fe",native:""},{unified:"1f90c-1f3ff",native:""}],version:13},pinching_hand:{id:"pinching_hand",name:"Pinching Hand",keywords:["tiny","small","size"],skins:[{unified:"1f90f",native:""},{unified:"1f90f-1f3fb",native:""},{unified:"1f90f-1f3fc",native:""},{unified:"1f90f-1f3fd",native:""},{unified:"1f90f-1f3fe",native:""},{unified:"1f90f-1f3ff",native:""}],version:12},v:{id:"v",name:"Victory Hand",keywords:["v","fingers","ohyeah","peace","two"],skins:[{unified:"270c-fe0f",native:""},{unified:"270c-1f3fb",native:""},{unified:"270c-1f3fc",native:""},{unified:"270c-1f3fd",native:""},{unified:"270c-1f3fe",native:""},{unified:"270c-1f3ff",native:""}],version:1},crossed_fingers:{id:"crossed_fingers",name:"Crossed Fingers",keywords:["hand","with","index","and","middle","good","lucky"],skins:[{unified:"1f91e",native:""},{unified:"1f91e-1f3fb",native:""},{unified:"1f91e-1f3fc",native:""},{unified:"1f91e-1f3fd",native:""},{unified:"1f91e-1f3fe",native:""},{unified:"1f91e-1f3ff",native:""}],version:3},hand_with_index_finger_and_thumb_crossed:{id:"hand_with_index_finger_and_thumb_crossed",name:"Hand with Index Finger and Thumb Crossed",keywords:["heart","love","money","expensive"],skins:[{unified:"1faf0",native:""},{unified:"1faf0-1f3fb",native:""},{unified:"1faf0-1f3fc",native:""},{unified:"1faf0-1f3fd",native:""},{unified:"1faf0-1f3fe",native:""},{unified:"1faf0-1f3ff",native:""}],version:14},i_love_you_hand_sign:{id:"i_love_you_hand_sign",name:"Love-You Gesture",keywords:["i","love","you","hand","sign","fingers"],skins:[{unified:"1f91f",native:""},{unified:"1f91f-1f3fb",native:""},{unified:"1f91f-1f3fc",native:""},{unified:"1f91f-1f3fd",native:""},{unified:"1f91f-1f3fe",native:""},{unified:"1f91f-1f3ff",native:""}],version:5},the_horns:{id:"the_horns",name:"Sign of the Horns",keywords:["hand","fingers","evil","eye","rock","on"],skins:[{unified:"1f918",native:""},{unified:"1f918-1f3fb",native:""},{unified:"1f918-1f3fc",native:""},{unified:"1f918-1f3fd",native:""},{unified:"1f918-1f3fe",native:""},{unified:"1f918-1f3ff",native:""}],version:1},call_me_hand:{id:"call_me_hand",name:"Call Me Hand",keywords:["hands","gesture","shaka"],skins:[{unified:"1f919",native:""},{unified:"1f919-1f3fb",native:""},{unified:"1f919-1f3fc",native:""},{unified:"1f919-1f3fd",native:""},{unified:"1f919-1f3fe",native:""},{unified:"1f919-1f3ff",native:""}],version:3},point_left:{id:"point_left",name:"Backhand Index Pointing Left",keywords:["point","direction","fingers","hand"],skins:[{unified:"1f448",native:""},{unified:"1f448-1f3fb",native:""},{unified:"1f448-1f3fc",native:""},{unified:"1f448-1f3fd",native:""},{unified:"1f448-1f3fe",native:""},{unified:"1f448-1f3ff",native:""}],version:1},point_right:{id:"point_right",name:"Backhand Index Pointing Right",keywords:["point","fingers","hand","direction"],skins:[{unified:"1f449",native:""},{unified:"1f449-1f3fb",native:""},{unified:"1f449-1f3fc",native:""},{unified:"1f449-1f3fd",native:""},{unified:"1f449-1f3fe",native:""},{unified:"1f449-1f3ff",native:""}],version:1},point_up_2:{id:"point_up_2",name:"Backhand Index Pointing Up",keywords:["point","2","fingers","hand","direction"],skins:[{unified:"1f446",native:""},{unified:"1f446-1f3fb",native:""},{unified:"1f446-1f3fc",native:""},{unified:"1f446-1f3fd",native:""},{unified:"1f446-1f3fe",native:""},{unified:"1f446-1f3ff",native:""}],version:1},middle_finger:{id:"middle_finger",name:"Middle Finger",keywords:["reversed","hand","with","extended","fingers","rude","flipping"],skins:[{unified:"1f595",native:""},{unified:"1f595-1f3fb",native:""},{unified:"1f595-1f3fc",native:""},{unified:"1f595-1f3fd",native:""},{unified:"1f595-1f3fe",native:""},{unified:"1f595-1f3ff",native:""}],version:1},point_down:{id:"point_down",name:"Backhand Index Pointing Down",keywords:["point","fingers","hand","direction"],skins:[{unified:"1f447",native:""},{unified:"1f447-1f3fb",native:""},{unified:"1f447-1f3fc",native:""},{unified:"1f447-1f3fd",native:""},{unified:"1f447-1f3fe",native:""},{unified:"1f447-1f3ff",native:""}],version:1},point_up:{id:"point_up",name:"Index Pointing Up",keywords:["point","hand","fingers","direction"],skins:[{unified:"261d-fe0f",native:""},{unified:"261d-1f3fb",native:""},{unified:"261d-1f3fc",native:""},{unified:"261d-1f3fd",native:""},{unified:"261d-1f3fe",native:""},{unified:"261d-1f3ff",native:""}],version:1},index_pointing_at_the_viewer:{id:"index_pointing_at_the_viewer",name:"Index Pointing at the Viewer",keywords:["you","recruit"],skins:[{unified:"1faf5",native:""},{unified:"1faf5-1f3fb",native:""},{unified:"1faf5-1f3fc",native:""},{unified:"1faf5-1f3fd",native:""},{unified:"1faf5-1f3fe",native:""},{unified:"1faf5-1f3ff",native:""}],version:14},"+1":{id:"+1",name:"Thumbs Up",keywords:["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],skins:[{unified:"1f44d",native:""},{unified:"1f44d-1f3fb",native:""},{unified:"1f44d-1f3fc",native:""},{unified:"1f44d-1f3fd",native:""},{unified:"1f44d-1f3fe",native:""},{unified:"1f44d-1f3ff",native:""}],version:1},"-1":{id:"-1",name:"Thumbs Down",keywords:["-1","thumbsdown","no","dislike","hand"],skins:[{unified:"1f44e",native:""},{unified:"1f44e-1f3fb",native:""},{unified:"1f44e-1f3fc",native:""},{unified:"1f44e-1f3fd",native:""},{unified:"1f44e-1f3fe",native:""},{unified:"1f44e-1f3ff",native:""}],version:1},fist:{id:"fist",name:"Raised Fist",keywords:["fingers","hand","grasp"],skins:[{unified:"270a",native:""},{unified:"270a-1f3fb",native:""},{unified:"270a-1f3fc",native:""},{unified:"270a-1f3fd",native:""},{unified:"270a-1f3fe",native:""},{unified:"270a-1f3ff",native:""}],version:1},facepunch:{id:"facepunch",name:"Oncoming Fist",keywords:["facepunch","punch","angry","violence","hit","attack","hand"],skins:[{unified:"1f44a",native:""},{unified:"1f44a-1f3fb",native:""},{unified:"1f44a-1f3fc",native:""},{unified:"1f44a-1f3fd",native:""},{unified:"1f44a-1f3fe",native:""},{unified:"1f44a-1f3ff",native:""}],version:1},"left-facing_fist":{id:"left-facing_fist",name:"Left-Facing Fist",keywords:["left","facing","hand","fistbump"],skins:[{unified:"1f91b",native:""},{unified:"1f91b-1f3fb",native:""},{unified:"1f91b-1f3fc",native:""},{unified:"1f91b-1f3fd",native:""},{unified:"1f91b-1f3fe",native:""},{unified:"1f91b-1f3ff",native:""}],version:3},"right-facing_fist":{id:"right-facing_fist",name:"Right-Facing Fist",keywords:["right","facing","hand","fistbump"],skins:[{unified:"1f91c",native:""},{unified:"1f91c-1f3fb",native:""},{unified:"1f91c-1f3fc",native:""},{unified:"1f91c-1f3fd",native:""},{unified:"1f91c-1f3fe",native:""},{unified:"1f91c-1f3ff",native:""}],version:3},clap:{id:"clap",name:"Clapping Hands",keywords:["clap","praise","applause","congrats","yay"],skins:[{unified:"1f44f",native:""},{unified:"1f44f-1f3fb",native:""},{unified:"1f44f-1f3fc",native:""},{unified:"1f44f-1f3fd",native:""},{unified:"1f44f-1f3fe",native:""},{unified:"1f44f-1f3ff",native:""}],version:1},raised_hands:{id:"raised_hands",name:"Raising Hands",keywords:["raised","gesture","hooray","yea","celebration"],skins:[{unified:"1f64c",native:""},{unified:"1f64c-1f3fb",native:""},{unified:"1f64c-1f3fc",native:""},{unified:"1f64c-1f3fd",native:""},{unified:"1f64c-1f3fe",native:""},{unified:"1f64c-1f3ff",native:""}],version:1},heart_hands:{id:"heart_hands",name:"Heart Hands",keywords:["love","appreciation","support"],skins:[{unified:"1faf6",native:""},{unified:"1faf6-1f3fb",native:""},{unified:"1faf6-1f3fc",native:""},{unified:"1faf6-1f3fd",native:""},{unified:"1faf6-1f3fe",native:""},{unified:"1faf6-1f3ff",native:""}],version:14},open_hands:{id:"open_hands",name:"Open Hands",keywords:["fingers","butterfly"],skins:[{unified:"1f450",native:""},{unified:"1f450-1f3fb",native:""},{unified:"1f450-1f3fc",native:""},{unified:"1f450-1f3fd",native:""},{unified:"1f450-1f3fe",native:""},{unified:"1f450-1f3ff",native:""}],version:1},palms_up_together:{id:"palms_up_together",name:"Palms Up Together",keywords:["hands","gesture","cupped","prayer"],skins:[{unified:"1f932",native:""},{unified:"1f932-1f3fb",native:""},{unified:"1f932-1f3fc",native:""},{unified:"1f932-1f3fd",native:""},{unified:"1f932-1f3fe",native:""},{unified:"1f932-1f3ff",native:""}],version:5},handshake:{id:"handshake",name:"Handshake",keywords:["agreement","shake"],skins:[{unified:"1f91d",native:""},{unified:"1f91d-1f3fb",native:""},{unified:"1f91d-1f3fc",native:""},{unified:"1f91d-1f3fd",native:""},{unified:"1f91d-1f3fe",native:""},{unified:"1f91d-1f3ff",native:""}],version:3},pray:{id:"pray",name:"Folded Hands",keywords:["pray","please","hope","wish","namaste","highfive","high","five","thank","you","thanks","appreciate"],skins:[{unified:"1f64f",native:""},{unified:"1f64f-1f3fb",native:""},{unified:"1f64f-1f3fc",native:""},{unified:"1f64f-1f3fd",native:""},{unified:"1f64f-1f3fe",native:""},{unified:"1f64f-1f3ff",native:""}],version:1},writing_hand:{id:"writing_hand",name:"Writing Hand",keywords:["lower","left","ballpoint","pen","stationery","write","compose"],skins:[{unified:"270d-fe0f",native:""},{unified:"270d-1f3fb",native:""},{unified:"270d-1f3fc",native:""},{unified:"270d-1f3fd",native:""},{unified:"270d-1f3fe",native:""},{unified:"270d-1f3ff",native:""}],version:1},nail_care:{id:"nail_care",name:"Nail Polish",keywords:["care","beauty","manicure","finger","fashion"],skins:[{unified:"1f485",native:""},{unified:"1f485-1f3fb",native:""},{unified:"1f485-1f3fc",native:""},{unified:"1f485-1f3fd",native:""},{unified:"1f485-1f3fe",native:""},{unified:"1f485-1f3ff",native:""}],version:1},selfie:{id:"selfie",name:"Selfie",keywords:["camera","phone"],skins:[{unified:"1f933",native:""},{unified:"1f933-1f3fb",native:""},{unified:"1f933-1f3fc",native:""},{unified:"1f933-1f3fd",native:""},{unified:"1f933-1f3fe",native:""},{unified:"1f933-1f3ff",native:""}],version:3},muscle:{id:"muscle",name:"Flexed Biceps",keywords:["muscle","arm","flex","hand","summer","strong"],skins:[{unified:"1f4aa",native:""},{unified:"1f4aa-1f3fb",native:""},{unified:"1f4aa-1f3fc",native:""},{unified:"1f4aa-1f3fd",native:""},{unified:"1f4aa-1f3fe",native:""},{unified:"1f4aa-1f3ff",native:""}],version:1},mechanical_arm:{id:"mechanical_arm",name:"Mechanical Arm",keywords:["accessibility"],skins:[{unified:"1f9be",native:""}],version:12},mechanical_leg:{id:"mechanical_leg",name:"Mechanical Leg",keywords:["accessibility"],skins:[{unified:"1f9bf",native:""}],version:12},leg:{id:"leg",name:"Leg",keywords:["kick","limb"],skins:[{unified:"1f9b5",native:""},{unified:"1f9b5-1f3fb",native:""},{unified:"1f9b5-1f3fc",native:""},{unified:"1f9b5-1f3fd",native:""},{unified:"1f9b5-1f3fe",native:""},{unified:"1f9b5-1f3ff",native:""}],version:11},foot:{id:"foot",name:"Foot",keywords:["kick","stomp"],skins:[{unified:"1f9b6",native:""},{unified:"1f9b6-1f3fb",native:""},{unified:"1f9b6-1f3fc",native:""},{unified:"1f9b6-1f3fd",native:""},{unified:"1f9b6-1f3fe",native:""},{unified:"1f9b6-1f3ff",native:""}],version:11},ear:{id:"ear",name:"Ear",keywords:["face","hear","sound","listen"],skins:[{unified:"1f442",native:""},{unified:"1f442-1f3fb",native:""},{unified:"1f442-1f3fc",native:""},{unified:"1f442-1f3fd",native:""},{unified:"1f442-1f3fe",native:""},{unified:"1f442-1f3ff",native:""}],version:1},ear_with_hearing_aid:{id:"ear_with_hearing_aid",name:"Ear with Hearing Aid",keywords:["accessibility"],skins:[{unified:"1f9bb",native:""},{unified:"1f9bb-1f3fb",native:""},{unified:"1f9bb-1f3fc",native:""},{unified:"1f9bb-1f3fd",native:""},{unified:"1f9bb-1f3fe",native:""},{unified:"1f9bb-1f3ff",native:""}],version:12},nose:{id:"nose",name:"Nose",keywords:["smell","sniff"],skins:[{unified:"1f443",native:""},{unified:"1f443-1f3fb",native:""},{unified:"1f443-1f3fc",native:""},{unified:"1f443-1f3fd",native:""},{unified:"1f443-1f3fe",native:""},{unified:"1f443-1f3ff",native:""}],version:1},brain:{id:"brain",name:"Brain",keywords:["smart","intelligent"],skins:[{unified:"1f9e0",native:""}],version:5},anatomical_heart:{id:"anatomical_heart",name:"Anatomical Heart",keywords:["health","heartbeat"],skins:[{unified:"1fac0",native:""}],version:13},lungs:{id:"lungs",name:"Lungs",keywords:["breathe"],skins:[{unified:"1fac1",native:""}],version:13},tooth:{id:"tooth",name:"Tooth",keywords:["teeth","dentist"],skins:[{unified:"1f9b7",native:""}],version:11},bone:{id:"bone",name:"Bone",keywords:["skeleton"],skins:[{unified:"1f9b4",native:""}],version:11},eyes:{id:"eyes",name:"Eyes",keywords:["look","watch","stalk","peek","see"],skins:[{unified:"1f440",native:""}],version:1},eye:{id:"eye",name:"Eye",keywords:["face","look","see","watch","stare"],skins:[{unified:"1f441-fe0f",native:""}],version:1},tongue:{id:"tongue",name:"Tongue",keywords:["mouth","playful"],skins:[{unified:"1f445",native:""}],version:1},lips:{id:"lips",name:"Mouth",keywords:["lips","kiss"],skins:[{unified:"1f444",native:""}],version:1},biting_lip:{id:"biting_lip",name:"Biting Lip",keywords:["flirt","sexy","pain","worry"],skins:[{unified:"1fae6",native:""}],version:14},baby:{id:"baby",name:"Baby",keywords:["child","boy","girl","toddler"],skins:[{unified:"1f476",native:""},{unified:"1f476-1f3fb",native:""},{unified:"1f476-1f3fc",native:""},{unified:"1f476-1f3fd",native:""},{unified:"1f476-1f3fe",native:""},{unified:"1f476-1f3ff",native:""}],version:1},child:{id:"child",name:"Child",keywords:["gender","neutral","young"],skins:[{unified:"1f9d2",native:""},{unified:"1f9d2-1f3fb",native:""},{unified:"1f9d2-1f3fc",native:""},{unified:"1f9d2-1f3fd",native:""},{unified:"1f9d2-1f3fe",native:""},{unified:"1f9d2-1f3ff",native:""}],version:5},boy:{id:"boy",name:"Boy",keywords:["man","male","guy","teenager"],skins:[{unified:"1f466",native:""},{unified:"1f466-1f3fb",native:""},{unified:"1f466-1f3fc",native:""},{unified:"1f466-1f3fd",native:""},{unified:"1f466-1f3fe",native:""},{unified:"1f466-1f3ff",native:""}],version:1},girl:{id:"girl",name:"Girl",keywords:["female","woman","teenager"],skins:[{unified:"1f467",native:""},{unified:"1f467-1f3fb",native:""},{unified:"1f467-1f3fc",native:""},{unified:"1f467-1f3fd",native:""},{unified:"1f467-1f3fe",native:""},{unified:"1f467-1f3ff",native:""}],version:1},adult:{id:"adult",name:"Adult",keywords:["person","gender","neutral"],skins:[{unified:"1f9d1",native:""},{unified:"1f9d1-1f3fb",native:""},{unified:"1f9d1-1f3fc",native:""},{unified:"1f9d1-1f3fd",native:""},{unified:"1f9d1-1f3fe",native:""},{unified:"1f9d1-1f3ff",native:""}],version:5},person_with_blond_hair:{id:"person_with_blond_hair",name:"Person Blond Hair",keywords:["with","hairstyle"],skins:[{unified:"1f471",native:""},{unified:"1f471-1f3fb",native:""},{unified:"1f471-1f3fc",native:""},{unified:"1f471-1f3fd",native:""},{unified:"1f471-1f3fe",native:""},{unified:"1f471-1f3ff",native:""}],version:1},man:{id:"man",name:"Man",keywords:["mustache","father","dad","guy","classy","sir","moustache"],skins:[{unified:"1f468",native:""},{unified:"1f468-1f3fb",native:""},{unified:"1f468-1f3fc",native:""},{unified:"1f468-1f3fd",native:""},{unified:"1f468-1f3fe",native:""},{unified:"1f468-1f3ff",native:""}],version:1},bearded_person:{id:"bearded_person",name:"Person Beard",keywords:["bearded","man","bewhiskered"],skins:[{unified:"1f9d4",native:""},{unified:"1f9d4-1f3fb",native:""},{unified:"1f9d4-1f3fc",native:""},{unified:"1f9d4-1f3fd",native:""},{unified:"1f9d4-1f3fe",native:""},{unified:"1f9d4-1f3ff",native:""}],version:5},man_with_beard:{id:"man_with_beard",name:"Man: Beard",keywords:["man","with","facial","hair"],skins:[{unified:"1f9d4-200d-2642-fe0f",native:""},{unified:"1f9d4-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9d4-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9d4-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9d4-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9d4-1f3ff-200d-2642-fe0f",native:""}],version:13.1},woman_with_beard:{id:"woman_with_beard",name:"Woman: Beard",keywords:["woman","with","facial","hair"],skins:[{unified:"1f9d4-200d-2640-fe0f",native:""},{unified:"1f9d4-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9d4-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9d4-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9d4-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9d4-1f3ff-200d-2640-fe0f",native:""}],version:13.1},red_haired_man:{id:"red_haired_man",name:"Man: Red Hair",keywords:["haired","man","hairstyle"],skins:[{unified:"1f468-200d-1f9b0",native:""},{unified:"1f468-1f3fb-200d-1f9b0",native:""},{unified:"1f468-1f3fc-200d-1f9b0",native:""},{unified:"1f468-1f3fd-200d-1f9b0",native:""},{unified:"1f468-1f3fe-200d-1f9b0",native:""},{unified:"1f468-1f3ff-200d-1f9b0",native:""}],version:11},curly_haired_man:{id:"curly_haired_man",name:"Man: Curly Hair",keywords:["haired","man","hairstyle"],skins:[{unified:"1f468-200d-1f9b1",native:""},{unified:"1f468-1f3fb-200d-1f9b1",native:""},{unified:"1f468-1f3fc-200d-1f9b1",native:""},{unified:"1f468-1f3fd-200d-1f9b1",native:""},{unified:"1f468-1f3fe-200d-1f9b1",native:""},{unified:"1f468-1f3ff-200d-1f9b1",native:""}],version:11},white_haired_man:{id:"white_haired_man",name:"Man: White Hair",keywords:["haired","man","old","elder"],skins:[{unified:"1f468-200d-1f9b3",native:""},{unified:"1f468-1f3fb-200d-1f9b3",native:""},{unified:"1f468-1f3fc-200d-1f9b3",native:""},{unified:"1f468-1f3fd-200d-1f9b3",native:""},{unified:"1f468-1f3fe-200d-1f9b3",native:""},{unified:"1f468-1f3ff-200d-1f9b3",native:""}],version:11},bald_man:{id:"bald_man",name:"Man: Bald",keywords:["man","hairless"],skins:[{unified:"1f468-200d-1f9b2",native:""},{unified:"1f468-1f3fb-200d-1f9b2",native:""},{unified:"1f468-1f3fc-200d-1f9b2",native:""},{unified:"1f468-1f3fd-200d-1f9b2",native:""},{unified:"1f468-1f3fe-200d-1f9b2",native:""},{unified:"1f468-1f3ff-200d-1f9b2",native:""}],version:11},woman:{id:"woman",name:"Woman",keywords:["female","girls","lady"],skins:[{unified:"1f469",native:""},{unified:"1f469-1f3fb",native:""},{unified:"1f469-1f3fc",native:""},{unified:"1f469-1f3fd",native:""},{unified:"1f469-1f3fe",native:""},{unified:"1f469-1f3ff",native:""}],version:1},red_haired_woman:{id:"red_haired_woman",name:"Woman: Red Hair",keywords:["haired","woman","hairstyle"],skins:[{unified:"1f469-200d-1f9b0",native:""},{unified:"1f469-1f3fb-200d-1f9b0",native:""},{unified:"1f469-1f3fc-200d-1f9b0",native:""},{unified:"1f469-1f3fd-200d-1f9b0",native:""},{unified:"1f469-1f3fe-200d-1f9b0",native:""},{unified:"1f469-1f3ff-200d-1f9b0",native:""}],version:11},red_haired_person:{id:"red_haired_person",name:"Person: Red Hair",keywords:["haired","person","hairstyle"],skins:[{unified:"1f9d1-200d-1f9b0",native:""},{unified:"1f9d1-1f3fb-200d-1f9b0",native:""},{unified:"1f9d1-1f3fc-200d-1f9b0",native:""},{unified:"1f9d1-1f3fd-200d-1f9b0",native:""},{unified:"1f9d1-1f3fe-200d-1f9b0",native:""},{unified:"1f9d1-1f3ff-200d-1f9b0",native:""}],version:12.1},curly_haired_woman:{id:"curly_haired_woman",name:"Woman: Curly Hair",keywords:["haired","woman","hairstyle"],skins:[{unified:"1f469-200d-1f9b1",native:""},{unified:"1f469-1f3fb-200d-1f9b1",native:""},{unified:"1f469-1f3fc-200d-1f9b1",native:""},{unified:"1f469-1f3fd-200d-1f9b1",native:""},{unified:"1f469-1f3fe-200d-1f9b1",native:""},{unified:"1f469-1f3ff-200d-1f9b1",native:""}],version:11},curly_haired_person:{id:"curly_haired_person",name:"Person: Curly Hair",keywords:["haired","person","hairstyle"],skins:[{unified:"1f9d1-200d-1f9b1",native:""},{unified:"1f9d1-1f3fb-200d-1f9b1",native:""},{unified:"1f9d1-1f3fc-200d-1f9b1",native:""},{unified:"1f9d1-1f3fd-200d-1f9b1",native:""},{unified:"1f9d1-1f3fe-200d-1f9b1",native:""},{unified:"1f9d1-1f3ff-200d-1f9b1",native:""}],version:12.1},white_haired_woman:{id:"white_haired_woman",name:"Woman: White Hair",keywords:["haired","woman","old","elder"],skins:[{unified:"1f469-200d-1f9b3",native:""},{unified:"1f469-1f3fb-200d-1f9b3",native:""},{unified:"1f469-1f3fc-200d-1f9b3",native:""},{unified:"1f469-1f3fd-200d-1f9b3",native:""},{unified:"1f469-1f3fe-200d-1f9b3",native:""},{unified:"1f469-1f3ff-200d-1f9b3",native:""}],version:11},white_haired_person:{id:"white_haired_person",name:"Person: White Hair",keywords:["haired","person","elder","old"],skins:[{unified:"1f9d1-200d-1f9b3",native:""},{unified:"1f9d1-1f3fb-200d-1f9b3",native:""},{unified:"1f9d1-1f3fc-200d-1f9b3",native:""},{unified:"1f9d1-1f3fd-200d-1f9b3",native:""},{unified:"1f9d1-1f3fe-200d-1f9b3",native:""},{unified:"1f9d1-1f3ff-200d-1f9b3",native:""}],version:12.1},bald_woman:{id:"bald_woman",name:"Woman: Bald",keywords:["woman","hairless"],skins:[{unified:"1f469-200d-1f9b2",native:""},{unified:"1f469-1f3fb-200d-1f9b2",native:""},{unified:"1f469-1f3fc-200d-1f9b2",native:""},{unified:"1f469-1f3fd-200d-1f9b2",native:""},{unified:"1f469-1f3fe-200d-1f9b2",native:""},{unified:"1f469-1f3ff-200d-1f9b2",native:""}],version:11},bald_person:{id:"bald_person",name:"Person: Bald",keywords:["person","hairless"],skins:[{unified:"1f9d1-200d-1f9b2",native:""},{unified:"1f9d1-1f3fb-200d-1f9b2",native:""},{unified:"1f9d1-1f3fc-200d-1f9b2",native:""},{unified:"1f9d1-1f3fd-200d-1f9b2",native:""},{unified:"1f9d1-1f3fe-200d-1f9b2",native:""},{unified:"1f9d1-1f3ff-200d-1f9b2",native:""}],version:12.1},"blond-haired-woman":{id:"blond-haired-woman",name:"Woman: Blond Hair",keywords:["haired-woman","woman","female","girl","blonde","person"],skins:[{unified:"1f471-200d-2640-fe0f",native:""},{unified:"1f471-1f3fb-200d-2640-fe0f",native:""},{unified:"1f471-1f3fc-200d-2640-fe0f",native:""},{unified:"1f471-1f3fd-200d-2640-fe0f",native:""},{unified:"1f471-1f3fe-200d-2640-fe0f",native:""},{unified:"1f471-1f3ff-200d-2640-fe0f",native:""}],version:4},"blond-haired-man":{id:"blond-haired-man",name:"Man: Blond Hair",keywords:["haired-man","man","male","boy","blonde","guy","person"],skins:[{unified:"1f471-200d-2642-fe0f",native:""},{unified:"1f471-1f3fb-200d-2642-fe0f",native:""},{unified:"1f471-1f3fc-200d-2642-fe0f",native:""},{unified:"1f471-1f3fd-200d-2642-fe0f",native:""},{unified:"1f471-1f3fe-200d-2642-fe0f",native:""},{unified:"1f471-1f3ff-200d-2642-fe0f",native:""}],version:4},older_adult:{id:"older_adult",name:"Older Adult",keywords:["person","human","elder","senior","gender","neutral"],skins:[{unified:"1f9d3",native:""},{unified:"1f9d3-1f3fb",native:""},{unified:"1f9d3-1f3fc",native:""},{unified:"1f9d3-1f3fd",native:""},{unified:"1f9d3-1f3fe",native:""},{unified:"1f9d3-1f3ff",native:""}],version:5},older_man:{id:"older_man",name:"Old Man",keywords:["older","human","male","men","elder","senior"],skins:[{unified:"1f474",native:""},{unified:"1f474-1f3fb",native:""},{unified:"1f474-1f3fc",native:""},{unified:"1f474-1f3fd",native:""},{unified:"1f474-1f3fe",native:""},{unified:"1f474-1f3ff",native:""}],version:1},older_woman:{id:"older_woman",name:"Old Woman",keywords:["older","human","female","women","lady","elder","senior"],skins:[{unified:"1f475",native:""},{unified:"1f475-1f3fb",native:""},{unified:"1f475-1f3fc",native:""},{unified:"1f475-1f3fd",native:""},{unified:"1f475-1f3fe",native:""},{unified:"1f475-1f3ff",native:""}],version:1},person_frowning:{id:"person_frowning",name:"Person Frowning",keywords:["worried"],skins:[{unified:"1f64d",native:""},{unified:"1f64d-1f3fb",native:""},{unified:"1f64d-1f3fc",native:""},{unified:"1f64d-1f3fd",native:""},{unified:"1f64d-1f3fe",native:""},{unified:"1f64d-1f3ff",native:""}],version:1},"man-frowning":{id:"man-frowning",name:"Man Frowning",keywords:["male","boy","sad","depressed","discouraged","unhappy"],skins:[{unified:"1f64d-200d-2642-fe0f",native:""},{unified:"1f64d-1f3fb-200d-2642-fe0f",native:""},{unified:"1f64d-1f3fc-200d-2642-fe0f",native:""},{unified:"1f64d-1f3fd-200d-2642-fe0f",native:""},{unified:"1f64d-1f3fe-200d-2642-fe0f",native:""},{unified:"1f64d-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-frowning":{id:"woman-frowning",name:"Woman Frowning",keywords:["female","girl","sad","depressed","discouraged","unhappy"],skins:[{unified:"1f64d-200d-2640-fe0f",native:""},{unified:"1f64d-1f3fb-200d-2640-fe0f",native:""},{unified:"1f64d-1f3fc-200d-2640-fe0f",native:""},{unified:"1f64d-1f3fd-200d-2640-fe0f",native:""},{unified:"1f64d-1f3fe-200d-2640-fe0f",native:""},{unified:"1f64d-1f3ff-200d-2640-fe0f",native:""}],version:4},person_with_pouting_face:{id:"person_with_pouting_face",name:"Person Pouting",keywords:["with","face","upset"],skins:[{unified:"1f64e",native:""},{unified:"1f64e-1f3fb",native:""},{unified:"1f64e-1f3fc",native:""},{unified:"1f64e-1f3fd",native:""},{unified:"1f64e-1f3fe",native:""},{unified:"1f64e-1f3ff",native:""}],version:1},"man-pouting":{id:"man-pouting",name:"Man Pouting",keywords:["male","boy"],skins:[{unified:"1f64e-200d-2642-fe0f",native:""},{unified:"1f64e-1f3fb-200d-2642-fe0f",native:""},{unified:"1f64e-1f3fc-200d-2642-fe0f",native:""},{unified:"1f64e-1f3fd-200d-2642-fe0f",native:""},{unified:"1f64e-1f3fe-200d-2642-fe0f",native:""},{unified:"1f64e-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-pouting":{id:"woman-pouting",name:"Woman Pouting",keywords:["female","girl"],skins:[{unified:"1f64e-200d-2640-fe0f",native:""},{unified:"1f64e-1f3fb-200d-2640-fe0f",native:""},{unified:"1f64e-1f3fc-200d-2640-fe0f",native:""},{unified:"1f64e-1f3fd-200d-2640-fe0f",native:""},{unified:"1f64e-1f3fe-200d-2640-fe0f",native:""},{unified:"1f64e-1f3ff-200d-2640-fe0f",native:""}],version:4},no_good:{id:"no_good",name:"Person Gesturing No",keywords:["good","decline"],skins:[{unified:"1f645",native:""},{unified:"1f645-1f3fb",native:""},{unified:"1f645-1f3fc",native:""},{unified:"1f645-1f3fd",native:""},{unified:"1f645-1f3fe",native:""},{unified:"1f645-1f3ff",native:""}],version:1},"man-gesturing-no":{id:"man-gesturing-no",name:"Man Gesturing No",keywords:["gesturing-no","male","boy","nope"],skins:[{unified:"1f645-200d-2642-fe0f",native:""},{unified:"1f645-1f3fb-200d-2642-fe0f",native:""},{unified:"1f645-1f3fc-200d-2642-fe0f",native:""},{unified:"1f645-1f3fd-200d-2642-fe0f",native:""},{unified:"1f645-1f3fe-200d-2642-fe0f",native:""},{unified:"1f645-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-gesturing-no":{id:"woman-gesturing-no",name:"Woman Gesturing No",keywords:["gesturing-no","female","girl","nope"],skins:[{unified:"1f645-200d-2640-fe0f",native:""},{unified:"1f645-1f3fb-200d-2640-fe0f",native:""},{unified:"1f645-1f3fc-200d-2640-fe0f",native:""},{unified:"1f645-1f3fd-200d-2640-fe0f",native:""},{unified:"1f645-1f3fe-200d-2640-fe0f",native:""},{unified:"1f645-1f3ff-200d-2640-fe0f",native:""}],version:4},ok_woman:{id:"ok_woman",name:"Person Gesturing Ok",keywords:["woman","agree"],skins:[{unified:"1f646",native:""},{unified:"1f646-1f3fb",native:""},{unified:"1f646-1f3fc",native:""},{unified:"1f646-1f3fd",native:""},{unified:"1f646-1f3fe",native:""},{unified:"1f646-1f3ff",native:""}],version:1},"man-gesturing-ok":{id:"man-gesturing-ok",name:"Man Gesturing Ok",keywords:["gesturing-ok","men","boy","male","blue","human"],skins:[{unified:"1f646-200d-2642-fe0f",native:""},{unified:"1f646-1f3fb-200d-2642-fe0f",native:""},{unified:"1f646-1f3fc-200d-2642-fe0f",native:""},{unified:"1f646-1f3fd-200d-2642-fe0f",native:""},{unified:"1f646-1f3fe-200d-2642-fe0f",native:""},{unified:"1f646-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-gesturing-ok":{id:"woman-gesturing-ok",name:"Woman Gesturing Ok",keywords:["gesturing-ok","women","girl","female","pink","human"],skins:[{unified:"1f646-200d-2640-fe0f",native:""},{unified:"1f646-1f3fb-200d-2640-fe0f",native:""},{unified:"1f646-1f3fc-200d-2640-fe0f",native:""},{unified:"1f646-1f3fd-200d-2640-fe0f",native:""},{unified:"1f646-1f3fe-200d-2640-fe0f",native:""},{unified:"1f646-1f3ff-200d-2640-fe0f",native:""}],version:4},information_desk_person:{id:"information_desk_person",name:"Person Tipping Hand",keywords:["information","desk"],skins:[{unified:"1f481",native:""},{unified:"1f481-1f3fb",native:""},{unified:"1f481-1f3fc",native:""},{unified:"1f481-1f3fd",native:""},{unified:"1f481-1f3fe",native:""},{unified:"1f481-1f3ff",native:""}],version:1},"man-tipping-hand":{id:"man-tipping-hand",name:"Man Tipping Hand",keywords:["tipping-hand","male","boy","human","information"],skins:[{unified:"1f481-200d-2642-fe0f",native:""},{unified:"1f481-1f3fb-200d-2642-fe0f",native:""},{unified:"1f481-1f3fc-200d-2642-fe0f",native:""},{unified:"1f481-1f3fd-200d-2642-fe0f",native:""},{unified:"1f481-1f3fe-200d-2642-fe0f",native:""},{unified:"1f481-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-tipping-hand":{id:"woman-tipping-hand",name:"Woman Tipping Hand",keywords:["tipping-hand","female","girl","human","information"],skins:[{unified:"1f481-200d-2640-fe0f",native:""},{unified:"1f481-1f3fb-200d-2640-fe0f",native:""},{unified:"1f481-1f3fc-200d-2640-fe0f",native:""},{unified:"1f481-1f3fd-200d-2640-fe0f",native:""},{unified:"1f481-1f3fe-200d-2640-fe0f",native:""},{unified:"1f481-1f3ff-200d-2640-fe0f",native:""}],version:4},raising_hand:{id:"raising_hand",name:"Person Raising Hand",keywords:["question"],skins:[{unified:"1f64b",native:""},{unified:"1f64b-1f3fb",native:""},{unified:"1f64b-1f3fc",native:""},{unified:"1f64b-1f3fd",native:""},{unified:"1f64b-1f3fe",native:""},{unified:"1f64b-1f3ff",native:""}],version:1},"man-raising-hand":{id:"man-raising-hand",name:"Man Raising Hand",keywords:["raising-hand","male","boy"],skins:[{unified:"1f64b-200d-2642-fe0f",native:""},{unified:"1f64b-1f3fb-200d-2642-fe0f",native:""},{unified:"1f64b-1f3fc-200d-2642-fe0f",native:""},{unified:"1f64b-1f3fd-200d-2642-fe0f",native:""},{unified:"1f64b-1f3fe-200d-2642-fe0f",native:""},{unified:"1f64b-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-raising-hand":{id:"woman-raising-hand",name:"Woman Raising Hand",keywords:["raising-hand","female","girl"],skins:[{unified:"1f64b-200d-2640-fe0f",native:""},{unified:"1f64b-1f3fb-200d-2640-fe0f",native:""},{unified:"1f64b-1f3fc-200d-2640-fe0f",native:""},{unified:"1f64b-1f3fd-200d-2640-fe0f",native:""},{unified:"1f64b-1f3fe-200d-2640-fe0f",native:""},{unified:"1f64b-1f3ff-200d-2640-fe0f",native:""}],version:4},deaf_person:{id:"deaf_person",name:"Deaf Person",keywords:["accessibility"],skins:[{unified:"1f9cf",native:""},{unified:"1f9cf-1f3fb",native:""},{unified:"1f9cf-1f3fc",native:""},{unified:"1f9cf-1f3fd",native:""},{unified:"1f9cf-1f3fe",native:""},{unified:"1f9cf-1f3ff",native:""}],version:12},deaf_man:{id:"deaf_man",name:"Deaf Man",keywords:["accessibility"],skins:[{unified:"1f9cf-200d-2642-fe0f",native:""},{unified:"1f9cf-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9cf-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9cf-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9cf-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9cf-1f3ff-200d-2642-fe0f",native:""}],version:12},deaf_woman:{id:"deaf_woman",name:"Deaf Woman",keywords:["accessibility"],skins:[{unified:"1f9cf-200d-2640-fe0f",native:""},{unified:"1f9cf-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9cf-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9cf-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9cf-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9cf-1f3ff-200d-2640-fe0f",native:""}],version:12},bow:{id:"bow",name:"Person Bowing",keywords:["bow","respectiful"],skins:[{unified:"1f647",native:""},{unified:"1f647-1f3fb",native:""},{unified:"1f647-1f3fc",native:""},{unified:"1f647-1f3fd",native:""},{unified:"1f647-1f3fe",native:""},{unified:"1f647-1f3ff",native:""}],version:1},"man-bowing":{id:"man-bowing",name:"Man Bowing",keywords:["male","boy"],skins:[{unified:"1f647-200d-2642-fe0f",native:""},{unified:"1f647-1f3fb-200d-2642-fe0f",native:""},{unified:"1f647-1f3fc-200d-2642-fe0f",native:""},{unified:"1f647-1f3fd-200d-2642-fe0f",native:""},{unified:"1f647-1f3fe-200d-2642-fe0f",native:""},{unified:"1f647-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-bowing":{id:"woman-bowing",name:"Woman Bowing",keywords:["female","girl"],skins:[{unified:"1f647-200d-2640-fe0f",native:""},{unified:"1f647-1f3fb-200d-2640-fe0f",native:""},{unified:"1f647-1f3fc-200d-2640-fe0f",native:""},{unified:"1f647-1f3fd-200d-2640-fe0f",native:""},{unified:"1f647-1f3fe-200d-2640-fe0f",native:""},{unified:"1f647-1f3ff-200d-2640-fe0f",native:""}],version:4},face_palm:{id:"face_palm",name:"Face Palm",keywords:["person","facepalming","disappointed"],skins:[{unified:"1f926",native:""},{unified:"1f926-1f3fb",native:""},{unified:"1f926-1f3fc",native:""},{unified:"1f926-1f3fd",native:""},{unified:"1f926-1f3fe",native:""},{unified:"1f926-1f3ff",native:""}],version:3},"man-facepalming":{id:"man-facepalming",name:"Man Facepalming",keywords:["male","boy","disbelief"],skins:[{unified:"1f926-200d-2642-fe0f",native:""},{unified:"1f926-1f3fb-200d-2642-fe0f",native:""},{unified:"1f926-1f3fc-200d-2642-fe0f",native:""},{unified:"1f926-1f3fd-200d-2642-fe0f",native:""},{unified:"1f926-1f3fe-200d-2642-fe0f",native:""},{unified:"1f926-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-facepalming":{id:"woman-facepalming",name:"Woman Facepalming",keywords:["female","girl","disbelief"],skins:[{unified:"1f926-200d-2640-fe0f",native:""},{unified:"1f926-1f3fb-200d-2640-fe0f",native:""},{unified:"1f926-1f3fc-200d-2640-fe0f",native:""},{unified:"1f926-1f3fd-200d-2640-fe0f",native:""},{unified:"1f926-1f3fe-200d-2640-fe0f",native:""},{unified:"1f926-1f3ff-200d-2640-fe0f",native:""}],version:4},shrug:{id:"shrug",name:"Shrug",keywords:["person","shrugging","regardless"],skins:[{unified:"1f937",native:""},{unified:"1f937-1f3fb",native:""},{unified:"1f937-1f3fc",native:""},{unified:"1f937-1f3fd",native:""},{unified:"1f937-1f3fe",native:""},{unified:"1f937-1f3ff",native:""}],version:3},"man-shrugging":{id:"man-shrugging",name:"Man Shrugging",keywords:["male","boy","confused","indifferent","doubt"],skins:[{unified:"1f937-200d-2642-fe0f",native:""},{unified:"1f937-1f3fb-200d-2642-fe0f",native:""},{unified:"1f937-1f3fc-200d-2642-fe0f",native:""},{unified:"1f937-1f3fd-200d-2642-fe0f",native:""},{unified:"1f937-1f3fe-200d-2642-fe0f",native:""},{unified:"1f937-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-shrugging":{id:"woman-shrugging",name:"Woman Shrugging",keywords:["female","girl","confused","indifferent","doubt"],skins:[{unified:"1f937-200d-2640-fe0f",native:""},{unified:"1f937-1f3fb-200d-2640-fe0f",native:""},{unified:"1f937-1f3fc-200d-2640-fe0f",native:""},{unified:"1f937-1f3fd-200d-2640-fe0f",native:""},{unified:"1f937-1f3fe-200d-2640-fe0f",native:""},{unified:"1f937-1f3ff-200d-2640-fe0f",native:""}],version:4},health_worker:{id:"health_worker",name:"Health Worker",keywords:["hospital"],skins:[{unified:"1f9d1-200d-2695-fe0f",native:""},{unified:"1f9d1-1f3fb-200d-2695-fe0f",native:""},{unified:"1f9d1-1f3fc-200d-2695-fe0f",native:""},{unified:"1f9d1-1f3fd-200d-2695-fe0f",native:""},{unified:"1f9d1-1f3fe-200d-2695-fe0f",native:""},{unified:"1f9d1-1f3ff-200d-2695-fe0f",native:""}],version:12.1},"male-doctor":{id:"male-doctor",name:"Man Health Worker",keywords:["male","doctor","nurse","therapist","healthcare","human"],skins:[{unified:"1f468-200d-2695-fe0f",native:""},{unified:"1f468-1f3fb-200d-2695-fe0f",native:""},{unified:"1f468-1f3fc-200d-2695-fe0f",native:""},{unified:"1f468-1f3fd-200d-2695-fe0f",native:""},{unified:"1f468-1f3fe-200d-2695-fe0f",native:""},{unified:"1f468-1f3ff-200d-2695-fe0f",native:""}],version:4},"female-doctor":{id:"female-doctor",name:"Woman Health Worker",keywords:["female","doctor","nurse","therapist","healthcare","human"],skins:[{unified:"1f469-200d-2695-fe0f",native:""},{unified:"1f469-1f3fb-200d-2695-fe0f",native:""},{unified:"1f469-1f3fc-200d-2695-fe0f",native:""},{unified:"1f469-1f3fd-200d-2695-fe0f",native:""},{unified:"1f469-1f3fe-200d-2695-fe0f",native:""},{unified:"1f469-1f3ff-200d-2695-fe0f",native:""}],version:4},student:{id:"student",name:"Student",keywords:["learn"],skins:[{unified:"1f9d1-200d-1f393",native:""},{unified:"1f9d1-1f3fb-200d-1f393",native:""},{unified:"1f9d1-1f3fc-200d-1f393",native:""},{unified:"1f9d1-1f3fd-200d-1f393",native:""},{unified:"1f9d1-1f3fe-200d-1f393",native:""},{unified:"1f9d1-1f3ff-200d-1f393",native:""}],version:12.1},"male-student":{id:"male-student",name:"Man Student",keywords:["male","graduate","human"],skins:[{unified:"1f468-200d-1f393",native:""},{unified:"1f468-1f3fb-200d-1f393",native:""},{unified:"1f468-1f3fc-200d-1f393",native:""},{unified:"1f468-1f3fd-200d-1f393",native:""},{unified:"1f468-1f3fe-200d-1f393",native:""},{unified:"1f468-1f3ff-200d-1f393",native:""}],version:4},"female-student":{id:"female-student",name:"Woman Student",keywords:["female","graduate","human"],skins:[{unified:"1f469-200d-1f393",native:""},{unified:"1f469-1f3fb-200d-1f393",native:""},{unified:"1f469-1f3fc-200d-1f393",native:""},{unified:"1f469-1f3fd-200d-1f393",native:""},{unified:"1f469-1f3fe-200d-1f393",native:""},{unified:"1f469-1f3ff-200d-1f393",native:""}],version:4},teacher:{id:"teacher",name:"Teacher",keywords:["professor"],skins:[{unified:"1f9d1-200d-1f3eb",native:""},{unified:"1f9d1-1f3fb-200d-1f3eb",native:""},{unified:"1f9d1-1f3fc-200d-1f3eb",native:""},{unified:"1f9d1-1f3fd-200d-1f3eb",native:""},{unified:"1f9d1-1f3fe-200d-1f3eb",native:""},{unified:"1f9d1-1f3ff-200d-1f3eb",native:""}],version:12.1},"male-teacher":{id:"male-teacher",name:"Man Teacher",keywords:["male","instructor","professor","human"],skins:[{unified:"1f468-200d-1f3eb",native:""},{unified:"1f468-1f3fb-200d-1f3eb",native:""},{unified:"1f468-1f3fc-200d-1f3eb",native:""},{unified:"1f468-1f3fd-200d-1f3eb",native:""},{unified:"1f468-1f3fe-200d-1f3eb",native:""},{unified:"1f468-1f3ff-200d-1f3eb",native:""}],version:4},"female-teacher":{id:"female-teacher",name:"Woman Teacher",keywords:["female","instructor","professor","human"],skins:[{unified:"1f469-200d-1f3eb",native:""},{unified:"1f469-1f3fb-200d-1f3eb",native:""},{unified:"1f469-1f3fc-200d-1f3eb",native:""},{unified:"1f469-1f3fd-200d-1f3eb",native:""},{unified:"1f469-1f3fe-200d-1f3eb",native:""},{unified:"1f469-1f3ff-200d-1f3eb",native:""}],version:4},judge:{id:"judge",name:"Judge",keywords:["law"],skins:[{unified:"1f9d1-200d-2696-fe0f",native:""},{unified:"1f9d1-1f3fb-200d-2696-fe0f",native:""},{unified:"1f9d1-1f3fc-200d-2696-fe0f",native:""},{unified:"1f9d1-1f3fd-200d-2696-fe0f",native:""},{unified:"1f9d1-1f3fe-200d-2696-fe0f",native:""},{unified:"1f9d1-1f3ff-200d-2696-fe0f",native:""}],version:12.1},"male-judge":{id:"male-judge",name:"Man Judge",keywords:["male","justice","court","human"],skins:[{unified:"1f468-200d-2696-fe0f",native:""},{unified:"1f468-1f3fb-200d-2696-fe0f",native:""},{unified:"1f468-1f3fc-200d-2696-fe0f",native:""},{unified:"1f468-1f3fd-200d-2696-fe0f",native:""},{unified:"1f468-1f3fe-200d-2696-fe0f",native:""},{unified:"1f468-1f3ff-200d-2696-fe0f",native:""}],version:4},"female-judge":{id:"female-judge",name:"Woman Judge",keywords:["female","justice","court","human"],skins:[{unified:"1f469-200d-2696-fe0f",native:""},{unified:"1f469-1f3fb-200d-2696-fe0f",native:""},{unified:"1f469-1f3fc-200d-2696-fe0f",native:""},{unified:"1f469-1f3fd-200d-2696-fe0f",native:""},{unified:"1f469-1f3fe-200d-2696-fe0f",native:""},{unified:"1f469-1f3ff-200d-2696-fe0f",native:""}],version:4},farmer:{id:"farmer",name:"Farmer",keywords:["crops"],skins:[{unified:"1f9d1-200d-1f33e",native:""},{unified:"1f9d1-1f3fb-200d-1f33e",native:""},{unified:"1f9d1-1f3fc-200d-1f33e",native:""},{unified:"1f9d1-1f3fd-200d-1f33e",native:""},{unified:"1f9d1-1f3fe-200d-1f33e",native:""},{unified:"1f9d1-1f3ff-200d-1f33e",native:""}],version:12.1},"male-farmer":{id:"male-farmer",name:"Man Farmer",keywords:["male","rancher","gardener","human"],skins:[{unified:"1f468-200d-1f33e",native:""},{unified:"1f468-1f3fb-200d-1f33e",native:""},{unified:"1f468-1f3fc-200d-1f33e",native:""},{unified:"1f468-1f3fd-200d-1f33e",native:""},{unified:"1f468-1f3fe-200d-1f33e",native:""},{unified:"1f468-1f3ff-200d-1f33e",native:""}],version:4},"female-farmer":{id:"female-farmer",name:"Woman Farmer",keywords:["female","rancher","gardener","human"],skins:[{unified:"1f469-200d-1f33e",native:""},{unified:"1f469-1f3fb-200d-1f33e",native:""},{unified:"1f469-1f3fc-200d-1f33e",native:""},{unified:"1f469-1f3fd-200d-1f33e",native:""},{unified:"1f469-1f3fe-200d-1f33e",native:""},{unified:"1f469-1f3ff-200d-1f33e",native:""}],version:4},cook:{id:"cook",name:"Cook",keywords:["food","kitchen","culinary"],skins:[{unified:"1f9d1-200d-1f373",native:""},{unified:"1f9d1-1f3fb-200d-1f373",native:""},{unified:"1f9d1-1f3fc-200d-1f373",native:""},{unified:"1f9d1-1f3fd-200d-1f373",native:""},{unified:"1f9d1-1f3fe-200d-1f373",native:""},{unified:"1f9d1-1f3ff-200d-1f373",native:""}],version:12.1},"male-cook":{id:"male-cook",name:"Man Cook",keywords:["male","chef","human"],skins:[{unified:"1f468-200d-1f373",native:""},{unified:"1f468-1f3fb-200d-1f373",native:""},{unified:"1f468-1f3fc-200d-1f373",native:""},{unified:"1f468-1f3fd-200d-1f373",native:""},{unified:"1f468-1f3fe-200d-1f373",native:""},{unified:"1f468-1f3ff-200d-1f373",native:""}],version:4},"female-cook":{id:"female-cook",name:"Woman Cook",keywords:["female","chef","human"],skins:[{unified:"1f469-200d-1f373",native:""},{unified:"1f469-1f3fb-200d-1f373",native:""},{unified:"1f469-1f3fc-200d-1f373",native:""},{unified:"1f469-1f3fd-200d-1f373",native:""},{unified:"1f469-1f3fe-200d-1f373",native:""},{unified:"1f469-1f3ff-200d-1f373",native:""}],version:4},mechanic:{id:"mechanic",name:"Mechanic",keywords:["worker","technician"],skins:[{unified:"1f9d1-200d-1f527",native:""},{unified:"1f9d1-1f3fb-200d-1f527",native:""},{unified:"1f9d1-1f3fc-200d-1f527",native:""},{unified:"1f9d1-1f3fd-200d-1f527",native:""},{unified:"1f9d1-1f3fe-200d-1f527",native:""},{unified:"1f9d1-1f3ff-200d-1f527",native:""}],version:12.1},"male-mechanic":{id:"male-mechanic",name:"Man Mechanic",keywords:["male","plumber","human","wrench"],skins:[{unified:"1f468-200d-1f527",native:""},{unified:"1f468-1f3fb-200d-1f527",native:""},{unified:"1f468-1f3fc-200d-1f527",native:""},{unified:"1f468-1f3fd-200d-1f527",native:""},{unified:"1f468-1f3fe-200d-1f527",native:""},{unified:"1f468-1f3ff-200d-1f527",native:""}],version:4},"female-mechanic":{id:"female-mechanic",name:"Woman Mechanic",keywords:["female","plumber","human","wrench"],skins:[{unified:"1f469-200d-1f527",native:""},{unified:"1f469-1f3fb-200d-1f527",native:""},{unified:"1f469-1f3fc-200d-1f527",native:""},{unified:"1f469-1f3fd-200d-1f527",native:""},{unified:"1f469-1f3fe-200d-1f527",native:""},{unified:"1f469-1f3ff-200d-1f527",native:""}],version:4},factory_worker:{id:"factory_worker",name:"Factory Worker",keywords:["labor"],skins:[{unified:"1f9d1-200d-1f3ed",native:""},{unified:"1f9d1-1f3fb-200d-1f3ed",native:""},{unified:"1f9d1-1f3fc-200d-1f3ed",native:""},{unified:"1f9d1-1f3fd-200d-1f3ed",native:""},{unified:"1f9d1-1f3fe-200d-1f3ed",native:""},{unified:"1f9d1-1f3ff-200d-1f3ed",native:""}],version:12.1},"male-factory-worker":{id:"male-factory-worker",name:"Man Factory Worker",keywords:["male","factory-worker","assembly","industrial","human"],skins:[{unified:"1f468-200d-1f3ed",native:""},{unified:"1f468-1f3fb-200d-1f3ed",native:""},{unified:"1f468-1f3fc-200d-1f3ed",native:""},{unified:"1f468-1f3fd-200d-1f3ed",native:""},{unified:"1f468-1f3fe-200d-1f3ed",native:""},{unified:"1f468-1f3ff-200d-1f3ed",native:""}],version:4},"female-factory-worker":{id:"female-factory-worker",name:"Woman Factory Worker",keywords:["female","factory-worker","assembly","industrial","human"],skins:[{unified:"1f469-200d-1f3ed",native:""},{unified:"1f469-1f3fb-200d-1f3ed",native:""},{unified:"1f469-1f3fc-200d-1f3ed",native:""},{unified:"1f469-1f3fd-200d-1f3ed",native:""},{unified:"1f469-1f3fe-200d-1f3ed",native:""},{unified:"1f469-1f3ff-200d-1f3ed",native:""}],version:4},office_worker:{id:"office_worker",name:"Office Worker",keywords:["business"],skins:[{unified:"1f9d1-200d-1f4bc",native:""},{unified:"1f9d1-1f3fb-200d-1f4bc",native:""},{unified:"1f9d1-1f3fc-200d-1f4bc",native:""},{unified:"1f9d1-1f3fd-200d-1f4bc",native:""},{unified:"1f9d1-1f3fe-200d-1f4bc",native:""},{unified:"1f9d1-1f3ff-200d-1f4bc",native:""}],version:12.1},"male-office-worker":{id:"male-office-worker",name:"Man Office Worker",keywords:["male","office-worker","business","manager","human"],skins:[{unified:"1f468-200d-1f4bc",native:""},{unified:"1f468-1f3fb-200d-1f4bc",native:""},{unified:"1f468-1f3fc-200d-1f4bc",native:""},{unified:"1f468-1f3fd-200d-1f4bc",native:""},{unified:"1f468-1f3fe-200d-1f4bc",native:""},{unified:"1f468-1f3ff-200d-1f4bc",native:""}],version:4},"female-office-worker":{id:"female-office-worker",name:"Woman Office Worker",keywords:["female","office-worker","business","manager","human"],skins:[{unified:"1f469-200d-1f4bc",native:""},{unified:"1f469-1f3fb-200d-1f4bc",native:""},{unified:"1f469-1f3fc-200d-1f4bc",native:""},{unified:"1f469-1f3fd-200d-1f4bc",native:""},{unified:"1f469-1f3fe-200d-1f4bc",native:""},{unified:"1f469-1f3ff-200d-1f4bc",native:""}],version:4},scientist:{id:"scientist",name:"Scientist",keywords:["chemistry"],skins:[{unified:"1f9d1-200d-1f52c",native:""},{unified:"1f9d1-1f3fb-200d-1f52c",native:""},{unified:"1f9d1-1f3fc-200d-1f52c",native:""},{unified:"1f9d1-1f3fd-200d-1f52c",native:""},{unified:"1f9d1-1f3fe-200d-1f52c",native:""},{unified:"1f9d1-1f3ff-200d-1f52c",native:""}],version:12.1},"male-scientist":{id:"male-scientist",name:"Man Scientist",keywords:["male","biologist","chemist","engineer","physicist","human"],skins:[{unified:"1f468-200d-1f52c",native:""},{unified:"1f468-1f3fb-200d-1f52c",native:""},{unified:"1f468-1f3fc-200d-1f52c",native:""},{unified:"1f468-1f3fd-200d-1f52c",native:""},{unified:"1f468-1f3fe-200d-1f52c",native:""},{unified:"1f468-1f3ff-200d-1f52c",native:""}],version:4},"female-scientist":{id:"female-scientist",name:"Woman Scientist",keywords:["female","biologist","chemist","engineer","physicist","human"],skins:[{unified:"1f469-200d-1f52c",native:""},{unified:"1f469-1f3fb-200d-1f52c",native:""},{unified:"1f469-1f3fc-200d-1f52c",native:""},{unified:"1f469-1f3fd-200d-1f52c",native:""},{unified:"1f469-1f3fe-200d-1f52c",native:""},{unified:"1f469-1f3ff-200d-1f52c",native:""}],version:4},technologist:{id:"technologist",name:"Technologist",keywords:["computer"],skins:[{unified:"1f9d1-200d-1f4bb",native:""},{unified:"1f9d1-1f3fb-200d-1f4bb",native:""},{unified:"1f9d1-1f3fc-200d-1f4bb",native:""},{unified:"1f9d1-1f3fd-200d-1f4bb",native:""},{unified:"1f9d1-1f3fe-200d-1f4bb",native:""},{unified:"1f9d1-1f3ff-200d-1f4bb",native:""}],version:12.1},"male-technologist":{id:"male-technologist",name:"Man Technologist",keywords:["male","coder","developer","engineer","programmer","software","human","laptop","computer"],skins:[{unified:"1f468-200d-1f4bb",native:""},{unified:"1f468-1f3fb-200d-1f4bb",native:""},{unified:"1f468-1f3fc-200d-1f4bb",native:""},{unified:"1f468-1f3fd-200d-1f4bb",native:""},{unified:"1f468-1f3fe-200d-1f4bb",native:""},{unified:"1f468-1f3ff-200d-1f4bb",native:""}],version:4},"female-technologist":{id:"female-technologist",name:"Woman Technologist",keywords:["female","coder","developer","engineer","programmer","software","human","laptop","computer"],skins:[{unified:"1f469-200d-1f4bb",native:""},{unified:"1f469-1f3fb-200d-1f4bb",native:""},{unified:"1f469-1f3fc-200d-1f4bb",native:""},{unified:"1f469-1f3fd-200d-1f4bb",native:""},{unified:"1f469-1f3fe-200d-1f4bb",native:""},{unified:"1f469-1f3ff-200d-1f4bb",native:""}],version:4},singer:{id:"singer",name:"Singer",keywords:["song","artist","performer"],skins:[{unified:"1f9d1-200d-1f3a4",native:""},{unified:"1f9d1-1f3fb-200d-1f3a4",native:""},{unified:"1f9d1-1f3fc-200d-1f3a4",native:""},{unified:"1f9d1-1f3fd-200d-1f3a4",native:""},{unified:"1f9d1-1f3fe-200d-1f3a4",native:""},{unified:"1f9d1-1f3ff-200d-1f3a4",native:""}],version:12.1},"male-singer":{id:"male-singer",name:"Man Singer",keywords:["male","rockstar","entertainer","human"],skins:[{unified:"1f468-200d-1f3a4",native:""},{unified:"1f468-1f3fb-200d-1f3a4",native:""},{unified:"1f468-1f3fc-200d-1f3a4",native:""},{unified:"1f468-1f3fd-200d-1f3a4",native:""},{unified:"1f468-1f3fe-200d-1f3a4",native:""},{unified:"1f468-1f3ff-200d-1f3a4",native:""}],version:4},"female-singer":{id:"female-singer",name:"Woman Singer",keywords:["female","rockstar","entertainer","human"],skins:[{unified:"1f469-200d-1f3a4",native:""},{unified:"1f469-1f3fb-200d-1f3a4",native:""},{unified:"1f469-1f3fc-200d-1f3a4",native:""},{unified:"1f469-1f3fd-200d-1f3a4",native:""},{unified:"1f469-1f3fe-200d-1f3a4",native:""},{unified:"1f469-1f3ff-200d-1f3a4",native:""}],version:4},artist:{id:"artist",name:"Artist",keywords:["painting","draw","creativity"],skins:[{unified:"1f9d1-200d-1f3a8",native:""},{unified:"1f9d1-1f3fb-200d-1f3a8",native:""},{unified:"1f9d1-1f3fc-200d-1f3a8",native:""},{unified:"1f9d1-1f3fd-200d-1f3a8",native:""},{unified:"1f9d1-1f3fe-200d-1f3a8",native:""},{unified:"1f9d1-1f3ff-200d-1f3a8",native:""}],version:12.1},"male-artist":{id:"male-artist",name:"Man Artist",keywords:["male","painter","human"],skins:[{unified:"1f468-200d-1f3a8",native:""},{unified:"1f468-1f3fb-200d-1f3a8",native:""},{unified:"1f468-1f3fc-200d-1f3a8",native:""},{unified:"1f468-1f3fd-200d-1f3a8",native:""},{unified:"1f468-1f3fe-200d-1f3a8",native:""},{unified:"1f468-1f3ff-200d-1f3a8",native:""}],version:4},"female-artist":{id:"female-artist",name:"Woman Artist",keywords:["female","painter","human"],skins:[{unified:"1f469-200d-1f3a8",native:""},{unified:"1f469-1f3fb-200d-1f3a8",native:""},{unified:"1f469-1f3fc-200d-1f3a8",native:""},{unified:"1f469-1f3fd-200d-1f3a8",native:""},{unified:"1f469-1f3fe-200d-1f3a8",native:""},{unified:"1f469-1f3ff-200d-1f3a8",native:""}],version:4},pilot:{id:"pilot",name:"Pilot",keywords:["fly","plane","airplane"],skins:[{unified:"1f9d1-200d-2708-fe0f",native:""},{unified:"1f9d1-1f3fb-200d-2708-fe0f",native:""},{unified:"1f9d1-1f3fc-200d-2708-fe0f",native:""},{unified:"1f9d1-1f3fd-200d-2708-fe0f",native:""},{unified:"1f9d1-1f3fe-200d-2708-fe0f",native:""},{unified:"1f9d1-1f3ff-200d-2708-fe0f",native:""}],version:12.1},"male-pilot":{id:"male-pilot",name:"Man Pilot",keywords:["male","aviator","plane","human"],skins:[{unified:"1f468-200d-2708-fe0f",native:""},{unified:"1f468-1f3fb-200d-2708-fe0f",native:""},{unified:"1f468-1f3fc-200d-2708-fe0f",native:""},{unified:"1f468-1f3fd-200d-2708-fe0f",native:""},{unified:"1f468-1f3fe-200d-2708-fe0f",native:""},{unified:"1f468-1f3ff-200d-2708-fe0f",native:""}],version:4},"female-pilot":{id:"female-pilot",name:"Woman Pilot",keywords:["female","aviator","plane","human"],skins:[{unified:"1f469-200d-2708-fe0f",native:""},{unified:"1f469-1f3fb-200d-2708-fe0f",native:""},{unified:"1f469-1f3fc-200d-2708-fe0f",native:""},{unified:"1f469-1f3fd-200d-2708-fe0f",native:""},{unified:"1f469-1f3fe-200d-2708-fe0f",native:""},{unified:"1f469-1f3ff-200d-2708-fe0f",native:""}],version:4},astronaut:{id:"astronaut",name:"Astronaut",keywords:["outerspace"],skins:[{unified:"1f9d1-200d-1f680",native:""},{unified:"1f9d1-1f3fb-200d-1f680",native:""},{unified:"1f9d1-1f3fc-200d-1f680",native:""},{unified:"1f9d1-1f3fd-200d-1f680",native:""},{unified:"1f9d1-1f3fe-200d-1f680",native:""},{unified:"1f9d1-1f3ff-200d-1f680",native:""}],version:12.1},"male-astronaut":{id:"male-astronaut",name:"Man Astronaut",keywords:["male","space","rocket","human"],skins:[{unified:"1f468-200d-1f680",native:""},{unified:"1f468-1f3fb-200d-1f680",native:""},{unified:"1f468-1f3fc-200d-1f680",native:""},{unified:"1f468-1f3fd-200d-1f680",native:""},{unified:"1f468-1f3fe-200d-1f680",native:""},{unified:"1f468-1f3ff-200d-1f680",native:""}],version:4},"female-astronaut":{id:"female-astronaut",name:"Woman Astronaut",keywords:["female","space","rocket","human"],skins:[{unified:"1f469-200d-1f680",native:""},{unified:"1f469-1f3fb-200d-1f680",native:""},{unified:"1f469-1f3fc-200d-1f680",native:""},{unified:"1f469-1f3fd-200d-1f680",native:""},{unified:"1f469-1f3fe-200d-1f680",native:""},{unified:"1f469-1f3ff-200d-1f680",native:""}],version:4},firefighter:{id:"firefighter",name:"Firefighter",keywords:["fire"],skins:[{unified:"1f9d1-200d-1f692",native:""},{unified:"1f9d1-1f3fb-200d-1f692",native:""},{unified:"1f9d1-1f3fc-200d-1f692",native:""},{unified:"1f9d1-1f3fd-200d-1f692",native:""},{unified:"1f9d1-1f3fe-200d-1f692",native:""},{unified:"1f9d1-1f3ff-200d-1f692",native:""}],version:12.1},"male-firefighter":{id:"male-firefighter",name:"Man Firefighter",keywords:["male","fireman","human"],skins:[{unified:"1f468-200d-1f692",native:""},{unified:"1f468-1f3fb-200d-1f692",native:""},{unified:"1f468-1f3fc-200d-1f692",native:""},{unified:"1f468-1f3fd-200d-1f692",native:""},{unified:"1f468-1f3fe-200d-1f692",native:""},{unified:"1f468-1f3ff-200d-1f692",native:""}],version:4},"female-firefighter":{id:"female-firefighter",name:"Woman Firefighter",keywords:["female","fireman","human"],skins:[{unified:"1f469-200d-1f692",native:""},{unified:"1f469-1f3fb-200d-1f692",native:""},{unified:"1f469-1f3fc-200d-1f692",native:""},{unified:"1f469-1f3fd-200d-1f692",native:""},{unified:"1f469-1f3fe-200d-1f692",native:""},{unified:"1f469-1f3ff-200d-1f692",native:""}],version:4},cop:{id:"cop",name:"Police Officer",keywords:["cop"],skins:[{unified:"1f46e",native:""},{unified:"1f46e-1f3fb",native:""},{unified:"1f46e-1f3fc",native:""},{unified:"1f46e-1f3fd",native:""},{unified:"1f46e-1f3fe",native:""},{unified:"1f46e-1f3ff",native:""}],version:1},"male-police-officer":{id:"male-police-officer",name:"Man Police Officer",keywords:["male","police-officer","law","legal","enforcement","arrest","911"],skins:[{unified:"1f46e-200d-2642-fe0f",native:""},{unified:"1f46e-1f3fb-200d-2642-fe0f",native:""},{unified:"1f46e-1f3fc-200d-2642-fe0f",native:""},{unified:"1f46e-1f3fd-200d-2642-fe0f",native:""},{unified:"1f46e-1f3fe-200d-2642-fe0f",native:""},{unified:"1f46e-1f3ff-200d-2642-fe0f",native:""}],version:4},"female-police-officer":{id:"female-police-officer",name:"Woman Police Officer",keywords:["female","police-officer","law","legal","enforcement","arrest","911"],skins:[{unified:"1f46e-200d-2640-fe0f",native:""},{unified:"1f46e-1f3fb-200d-2640-fe0f",native:""},{unified:"1f46e-1f3fc-200d-2640-fe0f",native:""},{unified:"1f46e-1f3fd-200d-2640-fe0f",native:""},{unified:"1f46e-1f3fe-200d-2640-fe0f",native:""},{unified:"1f46e-1f3ff-200d-2640-fe0f",native:""}],version:4},sleuth_or_spy:{id:"sleuth_or_spy",name:"Detective",keywords:["sleuth","or","spy","human"],skins:[{unified:"1f575-fe0f",native:""},{unified:"1f575-1f3fb",native:""},{unified:"1f575-1f3fc",native:""},{unified:"1f575-1f3fd",native:""},{unified:"1f575-1f3fe",native:""},{unified:"1f575-1f3ff",native:""}],version:1},"male-detective":{id:"male-detective",name:"Man Detective",keywords:["male","crime"],skins:[{unified:"1f575-fe0f-200d-2642-fe0f",native:""},{unified:"1f575-1f3fb-200d-2642-fe0f",native:""},{unified:"1f575-1f3fc-200d-2642-fe0f",native:""},{unified:"1f575-1f3fd-200d-2642-fe0f",native:""},{unified:"1f575-1f3fe-200d-2642-fe0f",native:""},{unified:"1f575-1f3ff-200d-2642-fe0f",native:""}],version:4},"female-detective":{id:"female-detective",name:"Woman Detective",keywords:["female","human","spy"],skins:[{unified:"1f575-fe0f-200d-2640-fe0f",native:""},{unified:"1f575-1f3fb-200d-2640-fe0f",native:""},{unified:"1f575-1f3fc-200d-2640-fe0f",native:""},{unified:"1f575-1f3fd-200d-2640-fe0f",native:""},{unified:"1f575-1f3fe-200d-2640-fe0f",native:""},{unified:"1f575-1f3ff-200d-2640-fe0f",native:""}],version:4},guardsman:{id:"guardsman",name:"Guard",keywords:["guardsman","protect"],skins:[{unified:"1f482",native:""},{unified:"1f482-1f3fb",native:""},{unified:"1f482-1f3fc",native:""},{unified:"1f482-1f3fd",native:""},{unified:"1f482-1f3fe",native:""},{unified:"1f482-1f3ff",native:""}],version:1},"male-guard":{id:"male-guard",name:"Man Guard",keywords:["male","uk","gb","british","guy","royal"],skins:[{unified:"1f482-200d-2642-fe0f",native:""},{unified:"1f482-1f3fb-200d-2642-fe0f",native:""},{unified:"1f482-1f3fc-200d-2642-fe0f",native:""},{unified:"1f482-1f3fd-200d-2642-fe0f",native:""},{unified:"1f482-1f3fe-200d-2642-fe0f",native:""},{unified:"1f482-1f3ff-200d-2642-fe0f",native:""}],version:4},"female-guard":{id:"female-guard",name:"Woman Guard",keywords:["female","uk","gb","british","royal"],skins:[{unified:"1f482-200d-2640-fe0f",native:""},{unified:"1f482-1f3fb-200d-2640-fe0f",native:""},{unified:"1f482-1f3fc-200d-2640-fe0f",native:""},{unified:"1f482-1f3fd-200d-2640-fe0f",native:""},{unified:"1f482-1f3fe-200d-2640-fe0f",native:""},{unified:"1f482-1f3ff-200d-2640-fe0f",native:""}],version:4},ninja:{id:"ninja",name:"Ninja",keywords:["ninjutsu","skills","japanese"],skins:[{unified:"1f977",native:""},{unified:"1f977-1f3fb",native:""},{unified:"1f977-1f3fc",native:""},{unified:"1f977-1f3fd",native:""},{unified:"1f977-1f3fe",native:""},{unified:"1f977-1f3ff",native:""}],version:13},construction_worker:{id:"construction_worker",name:"Construction Worker",keywords:["labor","build"],skins:[{unified:"1f477",native:""},{unified:"1f477-1f3fb",native:""},{unified:"1f477-1f3fc",native:""},{unified:"1f477-1f3fd",native:""},{unified:"1f477-1f3fe",native:""},{unified:"1f477-1f3ff",native:""}],version:1},"male-construction-worker":{id:"male-construction-worker",name:"Man Construction Worker",keywords:["male","construction-worker","human","wip","guy","build","labor"],skins:[{unified:"1f477-200d-2642-fe0f",native:""},{unified:"1f477-1f3fb-200d-2642-fe0f",native:""},{unified:"1f477-1f3fc-200d-2642-fe0f",native:""},{unified:"1f477-1f3fd-200d-2642-fe0f",native:""},{unified:"1f477-1f3fe-200d-2642-fe0f",native:""},{unified:"1f477-1f3ff-200d-2642-fe0f",native:""}],version:4},"female-construction-worker":{id:"female-construction-worker",name:"Woman Construction Worker",keywords:["female","construction-worker","human","wip","build","labor"],skins:[{unified:"1f477-200d-2640-fe0f",native:""},{unified:"1f477-1f3fb-200d-2640-fe0f",native:""},{unified:"1f477-1f3fc-200d-2640-fe0f",native:""},{unified:"1f477-1f3fd-200d-2640-fe0f",native:""},{unified:"1f477-1f3fe-200d-2640-fe0f",native:""},{unified:"1f477-1f3ff-200d-2640-fe0f",native:""}],version:4},person_with_crown:{id:"person_with_crown",name:"Person with Crown",keywords:["royalty","power"],skins:[{unified:"1fac5",native:""},{unified:"1fac5-1f3fb",native:""},{unified:"1fac5-1f3fc",native:""},{unified:"1fac5-1f3fd",native:""},{unified:"1fac5-1f3fe",native:""},{unified:"1fac5-1f3ff",native:""}],version:14},prince:{id:"prince",name:"Prince",keywords:["boy","man","male","crown","royal","king"],skins:[{unified:"1f934",native:""},{unified:"1f934-1f3fb",native:""},{unified:"1f934-1f3fc",native:""},{unified:"1f934-1f3fd",native:""},{unified:"1f934-1f3fe",native:""},{unified:"1f934-1f3ff",native:""}],version:3},princess:{id:"princess",name:"Princess",keywords:["girl","woman","female","blond","crown","royal","queen"],skins:[{unified:"1f478",native:""},{unified:"1f478-1f3fb",native:""},{unified:"1f478-1f3fc",native:""},{unified:"1f478-1f3fd",native:""},{unified:"1f478-1f3fe",native:""},{unified:"1f478-1f3ff",native:""}],version:1},man_with_turban:{id:"man_with_turban",name:"Man with Turban",keywords:["person","wearing","headdress"],skins:[{unified:"1f473",native:""},{unified:"1f473-1f3fb",native:""},{unified:"1f473-1f3fc",native:""},{unified:"1f473-1f3fd",native:""},{unified:"1f473-1f3fe",native:""},{unified:"1f473-1f3ff",native:""}],version:1},"man-wearing-turban":{id:"man-wearing-turban",name:"Man Wearing Turban",keywords:["wearing-turban","male","indian","hinduism","arabs"],skins:[{unified:"1f473-200d-2642-fe0f",native:""},{unified:"1f473-1f3fb-200d-2642-fe0f",native:""},{unified:"1f473-1f3fc-200d-2642-fe0f",native:""},{unified:"1f473-1f3fd-200d-2642-fe0f",native:""},{unified:"1f473-1f3fe-200d-2642-fe0f",native:""},{unified:"1f473-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-wearing-turban":{id:"woman-wearing-turban",name:"Woman Wearing Turban",keywords:["wearing-turban","female","indian","hinduism","arabs"],skins:[{unified:"1f473-200d-2640-fe0f",native:""},{unified:"1f473-1f3fb-200d-2640-fe0f",native:""},{unified:"1f473-1f3fc-200d-2640-fe0f",native:""},{unified:"1f473-1f3fd-200d-2640-fe0f",native:""},{unified:"1f473-1f3fe-200d-2640-fe0f",native:""},{unified:"1f473-1f3ff-200d-2640-fe0f",native:""}],version:4},man_with_gua_pi_mao:{id:"man_with_gua_pi_mao",name:"Man with Gua Pi Mao",keywords:["skullcap","male","boy","chinese"],skins:[{unified:"1f472",native:""},{unified:"1f472-1f3fb",native:""},{unified:"1f472-1f3fc",native:""},{unified:"1f472-1f3fd",native:""},{unified:"1f472-1f3fe",native:""},{unified:"1f472-1f3ff",native:""}],version:1},person_with_headscarf:{id:"person_with_headscarf",name:"Woman with Headscarf",keywords:["person","female","hijab","mantilla","tichel"],skins:[{unified:"1f9d5",native:""},{unified:"1f9d5-1f3fb",native:""},{unified:"1f9d5-1f3fc",native:""},{unified:"1f9d5-1f3fd",native:""},{unified:"1f9d5-1f3fe",native:""},{unified:"1f9d5-1f3ff",native:""}],version:5},person_in_tuxedo:{id:"person_in_tuxedo",name:"Man in Tuxedo",keywords:["person","couple","marriage","wedding","groom"],skins:[{unified:"1f935",native:""},{unified:"1f935-1f3fb",native:""},{unified:"1f935-1f3fc",native:""},{unified:"1f935-1f3fd",native:""},{unified:"1f935-1f3fe",native:""},{unified:"1f935-1f3ff",native:""}],version:3},man_in_tuxedo:{id:"man_in_tuxedo",name:"Man in Tuxedo",keywords:["formal","fashion"],skins:[{unified:"1f935-200d-2642-fe0f",native:""},{unified:"1f935-1f3fb-200d-2642-fe0f",native:""},{unified:"1f935-1f3fc-200d-2642-fe0f",native:""},{unified:"1f935-1f3fd-200d-2642-fe0f",native:""},{unified:"1f935-1f3fe-200d-2642-fe0f",native:""},{unified:"1f935-1f3ff-200d-2642-fe0f",native:""}],version:13},woman_in_tuxedo:{id:"woman_in_tuxedo",name:"Woman in Tuxedo",keywords:["formal","fashion"],skins:[{unified:"1f935-200d-2640-fe0f",native:""},{unified:"1f935-1f3fb-200d-2640-fe0f",native:""},{unified:"1f935-1f3fc-200d-2640-fe0f",native:""},{unified:"1f935-1f3fd-200d-2640-fe0f",native:""},{unified:"1f935-1f3fe-200d-2640-fe0f",native:""},{unified:"1f935-1f3ff-200d-2640-fe0f",native:""}],version:13},bride_with_veil:{id:"bride_with_veil",name:"Bride with Veil",keywords:["couple","marriage","wedding","woman"],skins:[{unified:"1f470",native:""},{unified:"1f470-1f3fb",native:""},{unified:"1f470-1f3fc",native:""},{unified:"1f470-1f3fd",native:""},{unified:"1f470-1f3fe",native:""},{unified:"1f470-1f3ff",native:""}],version:1},man_with_veil:{id:"man_with_veil",name:"Man with Veil",keywords:["wedding","marriage"],skins:[{unified:"1f470-200d-2642-fe0f",native:""},{unified:"1f470-1f3fb-200d-2642-fe0f",native:""},{unified:"1f470-1f3fc-200d-2642-fe0f",native:""},{unified:"1f470-1f3fd-200d-2642-fe0f",native:""},{unified:"1f470-1f3fe-200d-2642-fe0f",native:""},{unified:"1f470-1f3ff-200d-2642-fe0f",native:""}],version:13},woman_with_veil:{id:"woman_with_veil",name:"Woman with Veil",keywords:["wedding","marriage"],skins:[{unified:"1f470-200d-2640-fe0f",native:""},{unified:"1f470-1f3fb-200d-2640-fe0f",native:""},{unified:"1f470-1f3fc-200d-2640-fe0f",native:""},{unified:"1f470-1f3fd-200d-2640-fe0f",native:""},{unified:"1f470-1f3fe-200d-2640-fe0f",native:""},{unified:"1f470-1f3ff-200d-2640-fe0f",native:""}],version:13},pregnant_woman:{id:"pregnant_woman",name:"Pregnant Woman",keywords:["baby"],skins:[{unified:"1f930",native:""},{unified:"1f930-1f3fb",native:""},{unified:"1f930-1f3fc",native:""},{unified:"1f930-1f3fd",native:""},{unified:"1f930-1f3fe",native:""},{unified:"1f930-1f3ff",native:""}],version:3},pregnant_man:{id:"pregnant_man",name:"Pregnant Man",keywords:["baby","belly"],skins:[{unified:"1fac3",native:""},{unified:"1fac3-1f3fb",native:""},{unified:"1fac3-1f3fc",native:""},{unified:"1fac3-1f3fd",native:""},{unified:"1fac3-1f3fe",native:""},{unified:"1fac3-1f3ff",native:""}],version:14},pregnant_person:{id:"pregnant_person",name:"Pregnant Person",keywords:["baby","belly"],skins:[{unified:"1fac4",native:""},{unified:"1fac4-1f3fb",native:""},{unified:"1fac4-1f3fc",native:""},{unified:"1fac4-1f3fd",native:""},{unified:"1fac4-1f3fe",native:""},{unified:"1fac4-1f3ff",native:""}],version:14},"breast-feeding":{id:"breast-feeding",name:"Breast-Feeding",keywords:["breast","feeding","nursing","baby"],skins:[{unified:"1f931",native:""},{unified:"1f931-1f3fb",native:""},{unified:"1f931-1f3fc",native:""},{unified:"1f931-1f3fd",native:""},{unified:"1f931-1f3fe",native:""},{unified:"1f931-1f3ff",native:""}],version:5},woman_feeding_baby:{id:"woman_feeding_baby",name:"Woman Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f469-200d-1f37c",native:""},{unified:"1f469-1f3fb-200d-1f37c",native:""},{unified:"1f469-1f3fc-200d-1f37c",native:""},{unified:"1f469-1f3fd-200d-1f37c",native:""},{unified:"1f469-1f3fe-200d-1f37c",native:""},{unified:"1f469-1f3ff-200d-1f37c",native:""}],version:13},man_feeding_baby:{id:"man_feeding_baby",name:"Man Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f468-200d-1f37c",native:""},{unified:"1f468-1f3fb-200d-1f37c",native:""},{unified:"1f468-1f3fc-200d-1f37c",native:""},{unified:"1f468-1f3fd-200d-1f37c",native:""},{unified:"1f468-1f3fe-200d-1f37c",native:""},{unified:"1f468-1f3ff-200d-1f37c",native:""}],version:13},person_feeding_baby:{id:"person_feeding_baby",name:"Person Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f9d1-200d-1f37c",native:""},{unified:"1f9d1-1f3fb-200d-1f37c",native:""},{unified:"1f9d1-1f3fc-200d-1f37c",native:""},{unified:"1f9d1-1f3fd-200d-1f37c",native:""},{unified:"1f9d1-1f3fe-200d-1f37c",native:""},{unified:"1f9d1-1f3ff-200d-1f37c",native:""}],version:13},angel:{id:"angel",name:"Baby Angel",keywords:["heaven","wings","halo"],skins:[{unified:"1f47c",native:""},{unified:"1f47c-1f3fb",native:""},{unified:"1f47c-1f3fc",native:""},{unified:"1f47c-1f3fd",native:""},{unified:"1f47c-1f3fe",native:""},{unified:"1f47c-1f3ff",native:""}],version:1},santa:{id:"santa",name:"Santa Claus",keywords:["festival","man","male","xmas","father","christmas"],skins:[{unified:"1f385",native:""},{unified:"1f385-1f3fb",native:""},{unified:"1f385-1f3fc",native:""},{unified:"1f385-1f3fd",native:""},{unified:"1f385-1f3fe",native:""},{unified:"1f385-1f3ff",native:""}],version:1},mrs_claus:{id:"mrs_claus",name:"Mrs. Claus",keywords:["mrs","mother","christmas","woman","female","xmas"],skins:[{unified:"1f936",native:""},{unified:"1f936-1f3fb",native:""},{unified:"1f936-1f3fc",native:""},{unified:"1f936-1f3fd",native:""},{unified:"1f936-1f3fe",native:""},{unified:"1f936-1f3ff",native:""}],version:3},mx_claus:{id:"mx_claus",name:"Mx Claus",keywords:["christmas"],skins:[{unified:"1f9d1-200d-1f384",native:""},{unified:"1f9d1-1f3fb-200d-1f384",native:""},{unified:"1f9d1-1f3fc-200d-1f384",native:""},{unified:"1f9d1-1f3fd-200d-1f384",native:""},{unified:"1f9d1-1f3fe-200d-1f384",native:""},{unified:"1f9d1-1f3ff-200d-1f384",native:""}],version:13},superhero:{id:"superhero",name:"Superhero",keywords:["marvel"],skins:[{unified:"1f9b8",native:""},{unified:"1f9b8-1f3fb",native:""},{unified:"1f9b8-1f3fc",native:""},{unified:"1f9b8-1f3fd",native:""},{unified:"1f9b8-1f3fe",native:""},{unified:"1f9b8-1f3ff",native:""}],version:11},male_superhero:{id:"male_superhero",name:"Man Superhero",keywords:["male","good","hero","superpowers"],skins:[{unified:"1f9b8-200d-2642-fe0f",native:""},{unified:"1f9b8-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9b8-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9b8-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9b8-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9b8-1f3ff-200d-2642-fe0f",native:""}],version:11},female_superhero:{id:"female_superhero",name:"Woman Superhero",keywords:["female","good","heroine","superpowers"],skins:[{unified:"1f9b8-200d-2640-fe0f",native:""},{unified:"1f9b8-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9b8-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9b8-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9b8-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9b8-1f3ff-200d-2640-fe0f",native:""}],version:11},supervillain:{id:"supervillain",name:"Supervillain",keywords:["marvel"],skins:[{unified:"1f9b9",native:""},{unified:"1f9b9-1f3fb",native:""},{unified:"1f9b9-1f3fc",native:""},{unified:"1f9b9-1f3fd",native:""},{unified:"1f9b9-1f3fe",native:""},{unified:"1f9b9-1f3ff",native:""}],version:11},male_supervillain:{id:"male_supervillain",name:"Man Supervillain",keywords:["male","evil","bad","criminal","hero","superpowers"],skins:[{unified:"1f9b9-200d-2642-fe0f",native:""},{unified:"1f9b9-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9b9-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9b9-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9b9-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9b9-1f3ff-200d-2642-fe0f",native:""}],version:11},female_supervillain:{id:"female_supervillain",name:"Woman Supervillain",keywords:["female","evil","bad","criminal","heroine","superpowers"],skins:[{unified:"1f9b9-200d-2640-fe0f",native:""},{unified:"1f9b9-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9b9-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9b9-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9b9-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9b9-1f3ff-200d-2640-fe0f",native:""}],version:11},mage:{id:"mage",name:"Mage",keywords:["magic"],skins:[{unified:"1f9d9",native:""},{unified:"1f9d9-1f3fb",native:""},{unified:"1f9d9-1f3fc",native:""},{unified:"1f9d9-1f3fd",native:""},{unified:"1f9d9-1f3fe",native:""},{unified:"1f9d9-1f3ff",native:""}],version:5},male_mage:{id:"male_mage",name:"Man Mage",keywords:["male","sorcerer"],skins:[{unified:"1f9d9-200d-2642-fe0f",native:""},{unified:"1f9d9-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9d9-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9d9-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9d9-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9d9-1f3ff-200d-2642-fe0f",native:""}],version:5},female_mage:{id:"female_mage",name:"Woman Mage",keywords:["female","witch"],skins:[{unified:"1f9d9-200d-2640-fe0f",native:""},{unified:"1f9d9-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9d9-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9d9-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9d9-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9d9-1f3ff-200d-2640-fe0f",native:""}],version:5},fairy:{id:"fairy",name:"Fairy",keywords:["wings","magical"],skins:[{unified:"1f9da",native:""},{unified:"1f9da-1f3fb",native:""},{unified:"1f9da-1f3fc",native:""},{unified:"1f9da-1f3fd",native:""},{unified:"1f9da-1f3fe",native:""},{unified:"1f9da-1f3ff",native:""}],version:5},male_fairy:{id:"male_fairy",name:"Man Fairy",keywords:["male"],skins:[{unified:"1f9da-200d-2642-fe0f",native:""},{unified:"1f9da-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9da-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9da-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9da-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9da-1f3ff-200d-2642-fe0f",native:""}],version:5},female_fairy:{id:"female_fairy",name:"Woman Fairy",keywords:["female"],skins:[{unified:"1f9da-200d-2640-fe0f",native:""},{unified:"1f9da-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9da-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9da-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9da-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9da-1f3ff-200d-2640-fe0f",native:""}],version:5},vampire:{id:"vampire",name:"Vampire",keywords:["blood","twilight"],skins:[{unified:"1f9db",native:""},{unified:"1f9db-1f3fb",native:""},{unified:"1f9db-1f3fc",native:""},{unified:"1f9db-1f3fd",native:""},{unified:"1f9db-1f3fe",native:""},{unified:"1f9db-1f3ff",native:""}],version:5},male_vampire:{id:"male_vampire",name:"Man Vampire",keywords:["male","dracula"],skins:[{unified:"1f9db-200d-2642-fe0f",native:""},{unified:"1f9db-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9db-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9db-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9db-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9db-1f3ff-200d-2642-fe0f",native:""}],version:5},female_vampire:{id:"female_vampire",name:"Woman Vampire",keywords:["female"],skins:[{unified:"1f9db-200d-2640-fe0f",native:""},{unified:"1f9db-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9db-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9db-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9db-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9db-1f3ff-200d-2640-fe0f",native:""}],version:5},merperson:{id:"merperson",name:"Merperson",keywords:["sea"],skins:[{unified:"1f9dc",native:""},{unified:"1f9dc-1f3fb",native:""},{unified:"1f9dc-1f3fc",native:""},{unified:"1f9dc-1f3fd",native:""},{unified:"1f9dc-1f3fe",native:""},{unified:"1f9dc-1f3ff",native:""}],version:5},merman:{id:"merman",name:"Merman",keywords:["man","male","triton"],skins:[{unified:"1f9dc-200d-2642-fe0f",native:""},{unified:"1f9dc-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9dc-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9dc-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9dc-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9dc-1f3ff-200d-2642-fe0f",native:""}],version:5},mermaid:{id:"mermaid",name:"Mermaid",keywords:["woman","female","merwoman","ariel"],skins:[{unified:"1f9dc-200d-2640-fe0f",native:""},{unified:"1f9dc-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9dc-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9dc-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9dc-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9dc-1f3ff-200d-2640-fe0f",native:""}],version:5},elf:{id:"elf",name:"Elf",keywords:["magical"],skins:[{unified:"1f9dd",native:""},{unified:"1f9dd-1f3fb",native:""},{unified:"1f9dd-1f3fc",native:""},{unified:"1f9dd-1f3fd",native:""},{unified:"1f9dd-1f3fe",native:""},{unified:"1f9dd-1f3ff",native:""}],version:5},male_elf:{id:"male_elf",name:"Man Elf",keywords:["male"],skins:[{unified:"1f9dd-200d-2642-fe0f",native:""},{unified:"1f9dd-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9dd-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9dd-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9dd-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9dd-1f3ff-200d-2642-fe0f",native:""}],version:5},female_elf:{id:"female_elf",name:"Woman Elf",keywords:["female"],skins:[{unified:"1f9dd-200d-2640-fe0f",native:""},{unified:"1f9dd-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9dd-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9dd-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9dd-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9dd-1f3ff-200d-2640-fe0f",native:""}],version:5},genie:{id:"genie",name:"Genie",keywords:["magical","wishes"],skins:[{unified:"1f9de",native:""}],version:5},male_genie:{id:"male_genie",name:"Man Genie",keywords:["male"],skins:[{unified:"1f9de-200d-2642-fe0f",native:""}],version:5},female_genie:{id:"female_genie",name:"Woman Genie",keywords:["female"],skins:[{unified:"1f9de-200d-2640-fe0f",native:""}],version:5},zombie:{id:"zombie",name:"Zombie",keywords:["dead"],skins:[{unified:"1f9df",native:""}],version:5},male_zombie:{id:"male_zombie",name:"Man Zombie",keywords:["male","dracula","undead","walking","dead"],skins:[{unified:"1f9df-200d-2642-fe0f",native:""}],version:5},female_zombie:{id:"female_zombie",name:"Woman Zombie",keywords:["female","undead","walking","dead"],skins:[{unified:"1f9df-200d-2640-fe0f",native:""}],version:5},troll:{id:"troll",name:"Troll",keywords:["mystical","monster"],skins:[{unified:"1f9cc",native:""}],version:14},massage:{id:"massage",name:"Face Massage",keywords:["person","getting","relax"],skins:[{unified:"1f486",native:""},{unified:"1f486-1f3fb",native:""},{unified:"1f486-1f3fc",native:""},{unified:"1f486-1f3fd",native:""},{unified:"1f486-1f3fe",native:""},{unified:"1f486-1f3ff",native:""}],version:1},"man-getting-massage":{id:"man-getting-massage",name:"Man Getting Massage",keywords:["getting-massage","male","boy","head"],skins:[{unified:"1f486-200d-2642-fe0f",native:""},{unified:"1f486-1f3fb-200d-2642-fe0f",native:""},{unified:"1f486-1f3fc-200d-2642-fe0f",native:""},{unified:"1f486-1f3fd-200d-2642-fe0f",native:""},{unified:"1f486-1f3fe-200d-2642-fe0f",native:""},{unified:"1f486-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-getting-massage":{id:"woman-getting-massage",name:"Woman Getting Massage",keywords:["getting-massage","female","girl","head"],skins:[{unified:"1f486-200d-2640-fe0f",native:""},{unified:"1f486-1f3fb-200d-2640-fe0f",native:""},{unified:"1f486-1f3fc-200d-2640-fe0f",native:""},{unified:"1f486-1f3fd-200d-2640-fe0f",native:""},{unified:"1f486-1f3fe-200d-2640-fe0f",native:""},{unified:"1f486-1f3ff-200d-2640-fe0f",native:""}],version:4},haircut:{id:"haircut",name:"Haircut",keywords:["person","getting","hairstyle"],skins:[{unified:"1f487",native:""},{unified:"1f487-1f3fb",native:""},{unified:"1f487-1f3fc",native:""},{unified:"1f487-1f3fd",native:""},{unified:"1f487-1f3fe",native:""},{unified:"1f487-1f3ff",native:""}],version:1},"man-getting-haircut":{id:"man-getting-haircut",name:"Man Getting Haircut",keywords:["getting-haircut","male","boy"],skins:[{unified:"1f487-200d-2642-fe0f",native:""},{unified:"1f487-1f3fb-200d-2642-fe0f",native:""},{unified:"1f487-1f3fc-200d-2642-fe0f",native:""},{unified:"1f487-1f3fd-200d-2642-fe0f",native:""},{unified:"1f487-1f3fe-200d-2642-fe0f",native:""},{unified:"1f487-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-getting-haircut":{id:"woman-getting-haircut",name:"Woman Getting Haircut",keywords:["getting-haircut","female","girl"],skins:[{unified:"1f487-200d-2640-fe0f",native:""},{unified:"1f487-1f3fb-200d-2640-fe0f",native:""},{unified:"1f487-1f3fc-200d-2640-fe0f",native:""},{unified:"1f487-1f3fd-200d-2640-fe0f",native:""},{unified:"1f487-1f3fe-200d-2640-fe0f",native:""},{unified:"1f487-1f3ff-200d-2640-fe0f",native:""}],version:4},walking:{id:"walking",name:"Pedestrian",keywords:["walking","person","move"],skins:[{unified:"1f6b6",native:""},{unified:"1f6b6-1f3fb",native:""},{unified:"1f6b6-1f3fc",native:""},{unified:"1f6b6-1f3fd",native:""},{unified:"1f6b6-1f3fe",native:""},{unified:"1f6b6-1f3ff",native:""}],version:1},"man-walking":{id:"man-walking",name:"Man Walking",keywords:["human","feet","steps"],skins:[{unified:"1f6b6-200d-2642-fe0f",native:""},{unified:"1f6b6-1f3fb-200d-2642-fe0f",native:""},{unified:"1f6b6-1f3fc-200d-2642-fe0f",native:""},{unified:"1f6b6-1f3fd-200d-2642-fe0f",native:""},{unified:"1f6b6-1f3fe-200d-2642-fe0f",native:""},{unified:"1f6b6-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-walking":{id:"woman-walking",name:"Woman Walking",keywords:["human","feet","steps","female"],skins:[{unified:"1f6b6-200d-2640-fe0f",native:""},{unified:"1f6b6-1f3fb-200d-2640-fe0f",native:""},{unified:"1f6b6-1f3fc-200d-2640-fe0f",native:""},{unified:"1f6b6-1f3fd-200d-2640-fe0f",native:""},{unified:"1f6b6-1f3fe-200d-2640-fe0f",native:""},{unified:"1f6b6-1f3ff-200d-2640-fe0f",native:""}],version:4},standing_person:{id:"standing_person",name:"Standing Person",keywords:["still"],skins:[{unified:"1f9cd",native:""},{unified:"1f9cd-1f3fb",native:""},{unified:"1f9cd-1f3fc",native:""},{unified:"1f9cd-1f3fd",native:""},{unified:"1f9cd-1f3fe",native:""},{unified:"1f9cd-1f3ff",native:""}],version:12},man_standing:{id:"man_standing",name:"Man Standing",keywords:["still"],skins:[{unified:"1f9cd-200d-2642-fe0f",native:""},{unified:"1f9cd-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9cd-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9cd-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9cd-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9cd-1f3ff-200d-2642-fe0f",native:""}],version:12},woman_standing:{id:"woman_standing",name:"Woman Standing",keywords:["still"],skins:[{unified:"1f9cd-200d-2640-fe0f",native:""},{unified:"1f9cd-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9cd-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9cd-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9cd-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9cd-1f3ff-200d-2640-fe0f",native:""}],version:12},kneeling_person:{id:"kneeling_person",name:"Kneeling Person",keywords:["pray","respectful"],skins:[{unified:"1f9ce",native:""},{unified:"1f9ce-1f3fb",native:""},{unified:"1f9ce-1f3fc",native:""},{unified:"1f9ce-1f3fd",native:""},{unified:"1f9ce-1f3fe",native:""},{unified:"1f9ce-1f3ff",native:""}],version:12},man_kneeling:{id:"man_kneeling",name:"Man Kneeling",keywords:["pray","respectful"],skins:[{unified:"1f9ce-200d-2642-fe0f",native:""},{unified:"1f9ce-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9ce-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9ce-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9ce-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9ce-1f3ff-200d-2642-fe0f",native:""}],version:12},woman_kneeling:{id:"woman_kneeling",name:"Woman Kneeling",keywords:["respectful","pray"],skins:[{unified:"1f9ce-200d-2640-fe0f",native:""},{unified:"1f9ce-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9ce-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9ce-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9ce-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9ce-1f3ff-200d-2640-fe0f",native:""}],version:12},person_with_probing_cane:{id:"person_with_probing_cane",name:"Person with White Cane",keywords:["probing","blind"],skins:[{unified:"1f9d1-200d-1f9af",native:""},{unified:"1f9d1-1f3fb-200d-1f9af",native:""},{unified:"1f9d1-1f3fc-200d-1f9af",native:""},{unified:"1f9d1-1f3fd-200d-1f9af",native:""},{unified:"1f9d1-1f3fe-200d-1f9af",native:""},{unified:"1f9d1-1f3ff-200d-1f9af",native:""}],version:12.1},man_with_probing_cane:{id:"man_with_probing_cane",name:"Man with White Cane",keywords:["probing","blind"],skins:[{unified:"1f468-200d-1f9af",native:""},{unified:"1f468-1f3fb-200d-1f9af",native:""},{unified:"1f468-1f3fc-200d-1f9af",native:""},{unified:"1f468-1f3fd-200d-1f9af",native:""},{unified:"1f468-1f3fe-200d-1f9af",native:""},{unified:"1f468-1f3ff-200d-1f9af",native:""}],version:12},woman_with_probing_cane:{id:"woman_with_probing_cane",name:"Woman with White Cane",keywords:["probing","blind"],skins:[{unified:"1f469-200d-1f9af",native:""},{unified:"1f469-1f3fb-200d-1f9af",native:""},{unified:"1f469-1f3fc-200d-1f9af",native:""},{unified:"1f469-1f3fd-200d-1f9af",native:""},{unified:"1f469-1f3fe-200d-1f9af",native:""},{unified:"1f469-1f3ff-200d-1f9af",native:""}],version:12},person_in_motorized_wheelchair:{id:"person_in_motorized_wheelchair",name:"Person in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f9d1-200d-1f9bc",native:""},{unified:"1f9d1-1f3fb-200d-1f9bc",native:""},{unified:"1f9d1-1f3fc-200d-1f9bc",native:""},{unified:"1f9d1-1f3fd-200d-1f9bc",native:""},{unified:"1f9d1-1f3fe-200d-1f9bc",native:""},{unified:"1f9d1-1f3ff-200d-1f9bc",native:""}],version:12.1},man_in_motorized_wheelchair:{id:"man_in_motorized_wheelchair",name:"Man in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f468-200d-1f9bc",native:""},{unified:"1f468-1f3fb-200d-1f9bc",native:""},{unified:"1f468-1f3fc-200d-1f9bc",native:""},{unified:"1f468-1f3fd-200d-1f9bc",native:""},{unified:"1f468-1f3fe-200d-1f9bc",native:""},{unified:"1f468-1f3ff-200d-1f9bc",native:""}],version:12},woman_in_motorized_wheelchair:{id:"woman_in_motorized_wheelchair",name:"Woman in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f469-200d-1f9bc",native:""},{unified:"1f469-1f3fb-200d-1f9bc",native:""},{unified:"1f469-1f3fc-200d-1f9bc",native:""},{unified:"1f469-1f3fd-200d-1f9bc",native:""},{unified:"1f469-1f3fe-200d-1f9bc",native:""},{unified:"1f469-1f3ff-200d-1f9bc",native:""}],version:12},person_in_manual_wheelchair:{id:"person_in_manual_wheelchair",name:"Person in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f9d1-200d-1f9bd",native:""},{unified:"1f9d1-1f3fb-200d-1f9bd",native:""},{unified:"1f9d1-1f3fc-200d-1f9bd",native:""},{unified:"1f9d1-1f3fd-200d-1f9bd",native:""},{unified:"1f9d1-1f3fe-200d-1f9bd",native:""},{unified:"1f9d1-1f3ff-200d-1f9bd",native:""}],version:12.1},man_in_manual_wheelchair:{id:"man_in_manual_wheelchair",name:"Man in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f468-200d-1f9bd",native:""},{unified:"1f468-1f3fb-200d-1f9bd",native:""},{unified:"1f468-1f3fc-200d-1f9bd",native:""},{unified:"1f468-1f3fd-200d-1f9bd",native:""},{unified:"1f468-1f3fe-200d-1f9bd",native:""},{unified:"1f468-1f3ff-200d-1f9bd",native:""}],version:12},woman_in_manual_wheelchair:{id:"woman_in_manual_wheelchair",name:"Woman in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f469-200d-1f9bd",native:""},{unified:"1f469-1f3fb-200d-1f9bd",native:""},{unified:"1f469-1f3fc-200d-1f9bd",native:""},{unified:"1f469-1f3fd-200d-1f9bd",native:""},{unified:"1f469-1f3fe-200d-1f9bd",native:""},{unified:"1f469-1f3ff-200d-1f9bd",native:""}],version:12},runner:{id:"runner",name:"Runner",keywords:["running","person","move"],skins:[{unified:"1f3c3",native:""},{unified:"1f3c3-1f3fb",native:""},{unified:"1f3c3-1f3fc",native:""},{unified:"1f3c3-1f3fd",native:""},{unified:"1f3c3-1f3fe",native:""},{unified:"1f3c3-1f3ff",native:""}],version:1},"man-running":{id:"man-running",name:"Man Running",keywords:["walking","exercise","race"],skins:[{unified:"1f3c3-200d-2642-fe0f",native:""},{unified:"1f3c3-1f3fb-200d-2642-fe0f",native:""},{unified:"1f3c3-1f3fc-200d-2642-fe0f",native:""},{unified:"1f3c3-1f3fd-200d-2642-fe0f",native:""},{unified:"1f3c3-1f3fe-200d-2642-fe0f",native:""},{unified:"1f3c3-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-running":{id:"woman-running",name:"Woman Running",keywords:["walking","exercise","race","female"],skins:[{unified:"1f3c3-200d-2640-fe0f",native:""},{unified:"1f3c3-1f3fb-200d-2640-fe0f",native:""},{unified:"1f3c3-1f3fc-200d-2640-fe0f",native:""},{unified:"1f3c3-1f3fd-200d-2640-fe0f",native:""},{unified:"1f3c3-1f3fe-200d-2640-fe0f",native:""},{unified:"1f3c3-1f3ff-200d-2640-fe0f",native:""}],version:4},dancer:{id:"dancer",name:"Dancer",keywords:["woman","dancing","female","girl","fun"],skins:[{unified:"1f483",native:""},{unified:"1f483-1f3fb",native:""},{unified:"1f483-1f3fc",native:""},{unified:"1f483-1f3fd",native:""},{unified:"1f483-1f3fe",native:""},{unified:"1f483-1f3ff",native:""}],version:1},man_dancing:{id:"man_dancing",name:"Man Dancing",keywords:["male","boy","fun","dancer"],skins:[{unified:"1f57a",native:""},{unified:"1f57a-1f3fb",native:""},{unified:"1f57a-1f3fc",native:""},{unified:"1f57a-1f3fd",native:""},{unified:"1f57a-1f3fe",native:""},{unified:"1f57a-1f3ff",native:""}],version:3},man_in_business_suit_levitating:{id:"man_in_business_suit_levitating",name:"Person in Suit Levitating",keywords:["man","business","levitate","hover","jump"],skins:[{unified:"1f574-fe0f",native:""},{unified:"1f574-1f3fb",native:""},{unified:"1f574-1f3fc",native:""},{unified:"1f574-1f3fd",native:""},{unified:"1f574-1f3fe",native:""},{unified:"1f574-1f3ff",native:""}],version:1},dancers:{id:"dancers",name:"Woman with Bunny Ears",keywords:["dancers","people","perform","costume"],skins:[{unified:"1f46f",native:""}],version:1},"men-with-bunny-ears-partying":{id:"men-with-bunny-ears-partying",name:"Men with Bunny Ears",keywords:["with-bunny-ears-partying","man","male","boys"],skins:[{unified:"1f46f-200d-2642-fe0f",native:""}],version:4},"women-with-bunny-ears-partying":{id:"women-with-bunny-ears-partying",name:"Women with Bunny Ears",keywords:["with-bunny-ears-partying","woman","female","girls"],skins:[{unified:"1f46f-200d-2640-fe0f",native:""}],version:4},person_in_steamy_room:{id:"person_in_steamy_room",name:"Person in Steamy Room",keywords:["relax","spa"],skins:[{unified:"1f9d6",native:""},{unified:"1f9d6-1f3fb",native:""},{unified:"1f9d6-1f3fc",native:""},{unified:"1f9d6-1f3fd",native:""},{unified:"1f9d6-1f3fe",native:""},{unified:"1f9d6-1f3ff",native:""}],version:5},man_in_steamy_room:{id:"man_in_steamy_room",name:"Man in Steamy Room",keywords:["male","spa","steamroom","sauna"],skins:[{unified:"1f9d6-200d-2642-fe0f",native:""},{unified:"1f9d6-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9d6-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9d6-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9d6-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9d6-1f3ff-200d-2642-fe0f",native:""}],version:5},woman_in_steamy_room:{id:"woman_in_steamy_room",name:"Woman in Steamy Room",keywords:["female","spa","steamroom","sauna"],skins:[{unified:"1f9d6-200d-2640-fe0f",native:""},{unified:"1f9d6-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9d6-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9d6-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9d6-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9d6-1f3ff-200d-2640-fe0f",native:""}],version:5},person_climbing:{id:"person_climbing",name:"Person Climbing",keywords:["sport"],skins:[{unified:"1f9d7",native:""},{unified:"1f9d7-1f3fb",native:""},{unified:"1f9d7-1f3fc",native:""},{unified:"1f9d7-1f3fd",native:""},{unified:"1f9d7-1f3fe",native:""},{unified:"1f9d7-1f3ff",native:""}],version:5},man_climbing:{id:"man_climbing",name:"Man Climbing",keywords:["sports","hobby","male","rock"],skins:[{unified:"1f9d7-200d-2642-fe0f",native:""},{unified:"1f9d7-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9d7-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9d7-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9d7-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9d7-1f3ff-200d-2642-fe0f",native:""}],version:5},woman_climbing:{id:"woman_climbing",name:"Woman Climbing",keywords:["sports","hobby","female","rock"],skins:[{unified:"1f9d7-200d-2640-fe0f",native:""},{unified:"1f9d7-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9d7-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9d7-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9d7-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9d7-1f3ff-200d-2640-fe0f",native:""}],version:5},fencer:{id:"fencer",name:"Fencer",keywords:["person","fencing","sports","sword"],skins:[{unified:"1f93a",native:""}],version:3},horse_racing:{id:"horse_racing",name:"Horse Racing",keywords:["animal","betting","competition","gambling","luck"],skins:[{unified:"1f3c7",native:""},{unified:"1f3c7-1f3fb",native:""},{unified:"1f3c7-1f3fc",native:""},{unified:"1f3c7-1f3fd",native:""},{unified:"1f3c7-1f3fe",native:""},{unified:"1f3c7-1f3ff",native:""}],version:1},skier:{id:"skier",name:"Skier",keywords:["sports","winter","snow"],skins:[{unified:"26f7-fe0f",native:""}],version:1},snowboarder:{id:"snowboarder",name:"Snowboarder",keywords:["sports","winter"],skins:[{unified:"1f3c2",native:""},{unified:"1f3c2-1f3fb",native:""},{unified:"1f3c2-1f3fc",native:""},{unified:"1f3c2-1f3fd",native:""},{unified:"1f3c2-1f3fe",native:""},{unified:"1f3c2-1f3ff",native:""}],version:1},golfer:{id:"golfer",name:"Person Golfing",keywords:["golfer","sports","business"],skins:[{unified:"1f3cc-fe0f",native:""},{unified:"1f3cc-1f3fb",native:""},{unified:"1f3cc-1f3fc",native:""},{unified:"1f3cc-1f3fd",native:""},{unified:"1f3cc-1f3fe",native:""},{unified:"1f3cc-1f3ff",native:""}],version:1},"man-golfing":{id:"man-golfing",name:"Man Golfing",keywords:["sport"],skins:[{unified:"1f3cc-fe0f-200d-2642-fe0f",native:""},{unified:"1f3cc-1f3fb-200d-2642-fe0f",native:""},{unified:"1f3cc-1f3fc-200d-2642-fe0f",native:""},{unified:"1f3cc-1f3fd-200d-2642-fe0f",native:""},{unified:"1f3cc-1f3fe-200d-2642-fe0f",native:""},{unified:"1f3cc-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-golfing":{id:"woman-golfing",name:"Woman Golfing",keywords:["sports","business","female"],skins:[{unified:"1f3cc-fe0f-200d-2640-fe0f",native:""},{unified:"1f3cc-1f3fb-200d-2640-fe0f",native:""},{unified:"1f3cc-1f3fc-200d-2640-fe0f",native:""},{unified:"1f3cc-1f3fd-200d-2640-fe0f",native:""},{unified:"1f3cc-1f3fe-200d-2640-fe0f",native:""},{unified:"1f3cc-1f3ff-200d-2640-fe0f",native:""}],version:4},surfer:{id:"surfer",name:"Surfer",keywords:["person","surfing","sport","sea"],skins:[{unified:"1f3c4",native:""},{unified:"1f3c4-1f3fb",native:""},{unified:"1f3c4-1f3fc",native:""},{unified:"1f3c4-1f3fd",native:""},{unified:"1f3c4-1f3fe",native:""},{unified:"1f3c4-1f3ff",native:""}],version:1},"man-surfing":{id:"man-surfing",name:"Man Surfing",keywords:["sports","ocean","sea","summer","beach"],skins:[{unified:"1f3c4-200d-2642-fe0f",native:""},{unified:"1f3c4-1f3fb-200d-2642-fe0f",native:""},{unified:"1f3c4-1f3fc-200d-2642-fe0f",native:""},{unified:"1f3c4-1f3fd-200d-2642-fe0f",native:""},{unified:"1f3c4-1f3fe-200d-2642-fe0f",native:""},{unified:"1f3c4-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-surfing":{id:"woman-surfing",name:"Woman Surfing",keywords:["sports","ocean","sea","summer","beach","female"],skins:[{unified:"1f3c4-200d-2640-fe0f",native:""},{unified:"1f3c4-1f3fb-200d-2640-fe0f",native:""},{unified:"1f3c4-1f3fc-200d-2640-fe0f",native:""},{unified:"1f3c4-1f3fd-200d-2640-fe0f",native:""},{unified:"1f3c4-1f3fe-200d-2640-fe0f",native:""},{unified:"1f3c4-1f3ff-200d-2640-fe0f",native:""}],version:4},rowboat:{id:"rowboat",name:"Rowboat",keywords:["person","rowing","boat","sport","move"],skins:[{unified:"1f6a3",native:""},{unified:"1f6a3-1f3fb",native:""},{unified:"1f6a3-1f3fc",native:""},{unified:"1f6a3-1f3fd",native:""},{unified:"1f6a3-1f3fe",native:""},{unified:"1f6a3-1f3ff",native:""}],version:1},"man-rowing-boat":{id:"man-rowing-boat",name:"Man Rowing Boat",keywords:["rowing-boat","sports","hobby","water","ship"],skins:[{unified:"1f6a3-200d-2642-fe0f",native:""},{unified:"1f6a3-1f3fb-200d-2642-fe0f",native:""},{unified:"1f6a3-1f3fc-200d-2642-fe0f",native:""},{unified:"1f6a3-1f3fd-200d-2642-fe0f",native:""},{unified:"1f6a3-1f3fe-200d-2642-fe0f",native:""},{unified:"1f6a3-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-rowing-boat":{id:"woman-rowing-boat",name:"Woman Rowing Boat",keywords:["rowing-boat","sports","hobby","water","ship","female"],skins:[{unified:"1f6a3-200d-2640-fe0f",native:""},{unified:"1f6a3-1f3fb-200d-2640-fe0f",native:""},{unified:"1f6a3-1f3fc-200d-2640-fe0f",native:""},{unified:"1f6a3-1f3fd-200d-2640-fe0f",native:""},{unified:"1f6a3-1f3fe-200d-2640-fe0f",native:""},{unified:"1f6a3-1f3ff-200d-2640-fe0f",native:""}],version:4},swimmer:{id:"swimmer",name:"Swimmer",keywords:["person","swimming","sport","pool"],skins:[{unified:"1f3ca",native:""},{unified:"1f3ca-1f3fb",native:""},{unified:"1f3ca-1f3fc",native:""},{unified:"1f3ca-1f3fd",native:""},{unified:"1f3ca-1f3fe",native:""},{unified:"1f3ca-1f3ff",native:""}],version:1},"man-swimming":{id:"man-swimming",name:"Man Swimming",keywords:["sports","exercise","human","athlete","water","summer"],skins:[{unified:"1f3ca-200d-2642-fe0f",native:""},{unified:"1f3ca-1f3fb-200d-2642-fe0f",native:""},{unified:"1f3ca-1f3fc-200d-2642-fe0f",native:""},{unified:"1f3ca-1f3fd-200d-2642-fe0f",native:""},{unified:"1f3ca-1f3fe-200d-2642-fe0f",native:""},{unified:"1f3ca-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-swimming":{id:"woman-swimming",name:"Woman Swimming",keywords:["sports","exercise","human","athlete","water","summer","female"],skins:[{unified:"1f3ca-200d-2640-fe0f",native:""},{unified:"1f3ca-1f3fb-200d-2640-fe0f",native:""},{unified:"1f3ca-1f3fc-200d-2640-fe0f",native:""},{unified:"1f3ca-1f3fd-200d-2640-fe0f",native:""},{unified:"1f3ca-1f3fe-200d-2640-fe0f",native:""},{unified:"1f3ca-1f3ff-200d-2640-fe0f",native:""}],version:4},person_with_ball:{id:"person_with_ball",name:"Person Bouncing Ball",keywords:["with","sports","human"],skins:[{unified:"26f9-fe0f",native:""},{unified:"26f9-1f3fb",native:""},{unified:"26f9-1f3fc",native:""},{unified:"26f9-1f3fd",native:""},{unified:"26f9-1f3fe",native:""},{unified:"26f9-1f3ff",native:""}],version:1},"man-bouncing-ball":{id:"man-bouncing-ball",name:"Man Bouncing Ball",keywords:["bouncing-ball","sport"],skins:[{unified:"26f9-fe0f-200d-2642-fe0f",native:""},{unified:"26f9-1f3fb-200d-2642-fe0f",native:""},{unified:"26f9-1f3fc-200d-2642-fe0f",native:""},{unified:"26f9-1f3fd-200d-2642-fe0f",native:""},{unified:"26f9-1f3fe-200d-2642-fe0f",native:""},{unified:"26f9-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-bouncing-ball":{id:"woman-bouncing-ball",name:"Woman Bouncing Ball",keywords:["bouncing-ball","sports","human","female"],skins:[{unified:"26f9-fe0f-200d-2640-fe0f",native:""},{unified:"26f9-1f3fb-200d-2640-fe0f",native:""},{unified:"26f9-1f3fc-200d-2640-fe0f",native:""},{unified:"26f9-1f3fd-200d-2640-fe0f",native:""},{unified:"26f9-1f3fe-200d-2640-fe0f",native:""},{unified:"26f9-1f3ff-200d-2640-fe0f",native:""}],version:4},weight_lifter:{id:"weight_lifter",name:"Person Lifting Weights",keywords:["weight","lifter","sports","training","exercise"],skins:[{unified:"1f3cb-fe0f",native:""},{unified:"1f3cb-1f3fb",native:""},{unified:"1f3cb-1f3fc",native:""},{unified:"1f3cb-1f3fd",native:""},{unified:"1f3cb-1f3fe",native:""},{unified:"1f3cb-1f3ff",native:""}],version:1},"man-lifting-weights":{id:"man-lifting-weights",name:"Man Lifting Weights",keywords:["lifting-weights","sport"],skins:[{unified:"1f3cb-fe0f-200d-2642-fe0f",native:""},{unified:"1f3cb-1f3fb-200d-2642-fe0f",native:""},{unified:"1f3cb-1f3fc-200d-2642-fe0f",native:""},{unified:"1f3cb-1f3fd-200d-2642-fe0f",native:""},{unified:"1f3cb-1f3fe-200d-2642-fe0f",native:""},{unified:"1f3cb-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-lifting-weights":{id:"woman-lifting-weights",name:"Woman Lifting Weights",keywords:["lifting-weights","sports","training","exercise","female"],skins:[{unified:"1f3cb-fe0f-200d-2640-fe0f",native:""},{unified:"1f3cb-1f3fb-200d-2640-fe0f",native:""},{unified:"1f3cb-1f3fc-200d-2640-fe0f",native:""},{unified:"1f3cb-1f3fd-200d-2640-fe0f",native:""},{unified:"1f3cb-1f3fe-200d-2640-fe0f",native:""},{unified:"1f3cb-1f3ff-200d-2640-fe0f",native:""}],version:4},bicyclist:{id:"bicyclist",name:"Bicyclist",keywords:["person","biking","sport","move"],skins:[{unified:"1f6b4",native:""},{unified:"1f6b4-1f3fb",native:""},{unified:"1f6b4-1f3fc",native:""},{unified:"1f6b4-1f3fd",native:""},{unified:"1f6b4-1f3fe",native:""},{unified:"1f6b4-1f3ff",native:""}],version:1},"man-biking":{id:"man-biking",name:"Man Biking",keywords:["sports","bike","exercise","hipster"],skins:[{unified:"1f6b4-200d-2642-fe0f",native:""},{unified:"1f6b4-1f3fb-200d-2642-fe0f",native:""},{unified:"1f6b4-1f3fc-200d-2642-fe0f",native:""},{unified:"1f6b4-1f3fd-200d-2642-fe0f",native:""},{unified:"1f6b4-1f3fe-200d-2642-fe0f",native:""},{unified:"1f6b4-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-biking":{id:"woman-biking",name:"Woman Biking",keywords:["sports","bike","exercise","hipster","female"],skins:[{unified:"1f6b4-200d-2640-fe0f",native:""},{unified:"1f6b4-1f3fb-200d-2640-fe0f",native:""},{unified:"1f6b4-1f3fc-200d-2640-fe0f",native:""},{unified:"1f6b4-1f3fd-200d-2640-fe0f",native:""},{unified:"1f6b4-1f3fe-200d-2640-fe0f",native:""},{unified:"1f6b4-1f3ff-200d-2640-fe0f",native:""}],version:4},mountain_bicyclist:{id:"mountain_bicyclist",name:"Mountain Bicyclist",keywords:["person","biking","sport","move"],skins:[{unified:"1f6b5",native:""},{unified:"1f6b5-1f3fb",native:""},{unified:"1f6b5-1f3fc",native:""},{unified:"1f6b5-1f3fd",native:""},{unified:"1f6b5-1f3fe",native:""},{unified:"1f6b5-1f3ff",native:""}],version:1},"man-mountain-biking":{id:"man-mountain-biking",name:"Man Mountain Biking",keywords:["mountain-biking","transportation","sports","human","race","bike"],skins:[{unified:"1f6b5-200d-2642-fe0f",native:""},{unified:"1f6b5-1f3fb-200d-2642-fe0f",native:""},{unified:"1f6b5-1f3fc-200d-2642-fe0f",native:""},{unified:"1f6b5-1f3fd-200d-2642-fe0f",native:""},{unified:"1f6b5-1f3fe-200d-2642-fe0f",native:""},{unified:"1f6b5-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-mountain-biking":{id:"woman-mountain-biking",name:"Woman Mountain Biking",keywords:["mountain-biking","transportation","sports","human","race","bike","female"],skins:[{unified:"1f6b5-200d-2640-fe0f",native:""},{unified:"1f6b5-1f3fb-200d-2640-fe0f",native:""},{unified:"1f6b5-1f3fc-200d-2640-fe0f",native:""},{unified:"1f6b5-1f3fd-200d-2640-fe0f",native:""},{unified:"1f6b5-1f3fe-200d-2640-fe0f",native:""},{unified:"1f6b5-1f3ff-200d-2640-fe0f",native:""}],version:4},person_doing_cartwheel:{id:"person_doing_cartwheel",name:"Person Cartwheeling",keywords:["doing","cartwheel","sport","gymnastic"],skins:[{unified:"1f938",native:""},{unified:"1f938-1f3fb",native:""},{unified:"1f938-1f3fc",native:""},{unified:"1f938-1f3fd",native:""},{unified:"1f938-1f3fe",native:""},{unified:"1f938-1f3ff",native:""}],version:3},"man-cartwheeling":{id:"man-cartwheeling",name:"Man Cartwheeling",keywords:["gymnastics"],skins:[{unified:"1f938-200d-2642-fe0f",native:""},{unified:"1f938-1f3fb-200d-2642-fe0f",native:""},{unified:"1f938-1f3fc-200d-2642-fe0f",native:""},{unified:"1f938-1f3fd-200d-2642-fe0f",native:""},{unified:"1f938-1f3fe-200d-2642-fe0f",native:""},{unified:"1f938-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-cartwheeling":{id:"woman-cartwheeling",name:"Woman Cartwheeling",keywords:["gymnastics"],skins:[{unified:"1f938-200d-2640-fe0f",native:""},{unified:"1f938-1f3fb-200d-2640-fe0f",native:""},{unified:"1f938-1f3fc-200d-2640-fe0f",native:""},{unified:"1f938-1f3fd-200d-2640-fe0f",native:""},{unified:"1f938-1f3fe-200d-2640-fe0f",native:""},{unified:"1f938-1f3ff-200d-2640-fe0f",native:""}],version:4},wrestlers:{id:"wrestlers",name:"Wrestlers",keywords:["people","wrestling","sport"],skins:[{unified:"1f93c",native:""}],version:3},"man-wrestling":{id:"man-wrestling",name:"Men Wrestling",keywords:["man","sports","wrestlers"],skins:[{unified:"1f93c-200d-2642-fe0f",native:""}],version:4},"woman-wrestling":{id:"woman-wrestling",name:"Women Wrestling",keywords:["woman","sports","wrestlers"],skins:[{unified:"1f93c-200d-2640-fe0f",native:""}],version:4},water_polo:{id:"water_polo",name:"Water Polo",keywords:["person","playing","sport"],skins:[{unified:"1f93d",native:""},{unified:"1f93d-1f3fb",native:""},{unified:"1f93d-1f3fc",native:""},{unified:"1f93d-1f3fd",native:""},{unified:"1f93d-1f3fe",native:""},{unified:"1f93d-1f3ff",native:""}],version:3},"man-playing-water-polo":{id:"man-playing-water-polo",name:"Man Playing Water Polo",keywords:["playing-water-polo","sports","pool"],skins:[{unified:"1f93d-200d-2642-fe0f",native:""},{unified:"1f93d-1f3fb-200d-2642-fe0f",native:""},{unified:"1f93d-1f3fc-200d-2642-fe0f",native:""},{unified:"1f93d-1f3fd-200d-2642-fe0f",native:""},{unified:"1f93d-1f3fe-200d-2642-fe0f",native:""},{unified:"1f93d-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-playing-water-polo":{id:"woman-playing-water-polo",name:"Woman Playing Water Polo",keywords:["playing-water-polo","sports","pool"],skins:[{unified:"1f93d-200d-2640-fe0f",native:""},{unified:"1f93d-1f3fb-200d-2640-fe0f",native:""},{unified:"1f93d-1f3fc-200d-2640-fe0f",native:""},{unified:"1f93d-1f3fd-200d-2640-fe0f",native:""},{unified:"1f93d-1f3fe-200d-2640-fe0f",native:""},{unified:"1f93d-1f3ff-200d-2640-fe0f",native:""}],version:4},handball:{id:"handball",name:"Handball",keywords:["person","playing","sport"],skins:[{unified:"1f93e",native:""},{unified:"1f93e-1f3fb",native:""},{unified:"1f93e-1f3fc",native:""},{unified:"1f93e-1f3fd",native:""},{unified:"1f93e-1f3fe",native:""},{unified:"1f93e-1f3ff",native:""}],version:3},"man-playing-handball":{id:"man-playing-handball",name:"Man Playing Handball",keywords:["playing-handball","sports"],skins:[{unified:"1f93e-200d-2642-fe0f",native:""},{unified:"1f93e-1f3fb-200d-2642-fe0f",native:""},{unified:"1f93e-1f3fc-200d-2642-fe0f",native:""},{unified:"1f93e-1f3fd-200d-2642-fe0f",native:""},{unified:"1f93e-1f3fe-200d-2642-fe0f",native:""},{unified:"1f93e-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-playing-handball":{id:"woman-playing-handball",name:"Woman Playing Handball",keywords:["playing-handball","sports"],skins:[{unified:"1f93e-200d-2640-fe0f",native:""},{unified:"1f93e-1f3fb-200d-2640-fe0f",native:""},{unified:"1f93e-1f3fc-200d-2640-fe0f",native:""},{unified:"1f93e-1f3fd-200d-2640-fe0f",native:""},{unified:"1f93e-1f3fe-200d-2640-fe0f",native:""},{unified:"1f93e-1f3ff-200d-2640-fe0f",native:""}],version:4},juggling:{id:"juggling",name:"Juggling",keywords:["person","performance","balance"],skins:[{unified:"1f939",native:""},{unified:"1f939-1f3fb",native:""},{unified:"1f939-1f3fc",native:""},{unified:"1f939-1f3fd",native:""},{unified:"1f939-1f3fe",native:""},{unified:"1f939-1f3ff",native:""}],version:3},"man-juggling":{id:"man-juggling",name:"Man Juggling",keywords:["juggle","balance","skill","multitask"],skins:[{unified:"1f939-200d-2642-fe0f",native:""},{unified:"1f939-1f3fb-200d-2642-fe0f",native:""},{unified:"1f939-1f3fc-200d-2642-fe0f",native:""},{unified:"1f939-1f3fd-200d-2642-fe0f",native:""},{unified:"1f939-1f3fe-200d-2642-fe0f",native:""},{unified:"1f939-1f3ff-200d-2642-fe0f",native:""}],version:4},"woman-juggling":{id:"woman-juggling",name:"Woman Juggling",keywords:["juggle","balance","skill","multitask"],skins:[{unified:"1f939-200d-2640-fe0f",native:""},{unified:"1f939-1f3fb-200d-2640-fe0f",native:""},{unified:"1f939-1f3fc-200d-2640-fe0f",native:""},{unified:"1f939-1f3fd-200d-2640-fe0f",native:""},{unified:"1f939-1f3fe-200d-2640-fe0f",native:""},{unified:"1f939-1f3ff-200d-2640-fe0f",native:""}],version:4},person_in_lotus_position:{id:"person_in_lotus_position",name:"Person in Lotus Position",keywords:["meditate"],skins:[{unified:"1f9d8",native:""},{unified:"1f9d8-1f3fb",native:""},{unified:"1f9d8-1f3fc",native:""},{unified:"1f9d8-1f3fd",native:""},{unified:"1f9d8-1f3fe",native:""},{unified:"1f9d8-1f3ff",native:""}],version:5},man_in_lotus_position:{id:"man_in_lotus_position",name:"Man in Lotus Position",keywords:["male","meditation","yoga","serenity","zen","mindfulness"],skins:[{unified:"1f9d8-200d-2642-fe0f",native:""},{unified:"1f9d8-1f3fb-200d-2642-fe0f",native:""},{unified:"1f9d8-1f3fc-200d-2642-fe0f",native:""},{unified:"1f9d8-1f3fd-200d-2642-fe0f",native:""},{unified:"1f9d8-1f3fe-200d-2642-fe0f",native:""},{unified:"1f9d8-1f3ff-200d-2642-fe0f",native:""}],version:5},woman_in_lotus_position:{id:"woman_in_lotus_position",name:"Woman in Lotus Position",keywords:["female","meditation","yoga","serenity","zen","mindfulness"],skins:[{unified:"1f9d8-200d-2640-fe0f",native:""},{unified:"1f9d8-1f3fb-200d-2640-fe0f",native:""},{unified:"1f9d8-1f3fc-200d-2640-fe0f",native:""},{unified:"1f9d8-1f3fd-200d-2640-fe0f",native:""},{unified:"1f9d8-1f3fe-200d-2640-fe0f",native:""},{unified:"1f9d8-1f3ff-200d-2640-fe0f",native:""}],version:5},bath:{id:"bath",name:"Bath",keywords:["person","taking","clean","shower","bathroom"],skins:[{unified:"1f6c0",native:""},{unified:"1f6c0-1f3fb",native:""},{unified:"1f6c0-1f3fc",native:""},{unified:"1f6c0-1f3fd",native:""},{unified:"1f6c0-1f3fe",native:""},{unified:"1f6c0-1f3ff",native:""}],version:1},sleeping_accommodation:{id:"sleeping_accommodation",name:"Person in Bed",keywords:["sleeping","accommodation","rest"],skins:[{unified:"1f6cc",native:""},{unified:"1f6cc-1f3fb",native:""},{unified:"1f6cc-1f3fc",native:""},{unified:"1f6cc-1f3fd",native:""},{unified:"1f6cc-1f3fe",native:""},{unified:"1f6cc-1f3ff",native:""}],version:1},people_holding_hands:{id:"people_holding_hands",name:"People Holding Hands",keywords:["friendship"],skins:[{unified:"1f9d1-200d-1f91d-200d-1f9d1",native:""},{unified:"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb",native:""},{unified:"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc",native:""},{unified:"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd",native:""},{unified:"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe",native:""},{unified:"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff",native:""}],version:12},two_women_holding_hands:{id:"two_women_holding_hands",name:"Women Holding Hands",keywords:["two","pair","friendship","couple","love","like","female","people","human"],skins:[{unified:"1f46d",native:""},{unified:"1f46d-1f3fb",native:""},{unified:"1f46d-1f3fc",native:""},{unified:"1f46d-1f3fd",native:""},{unified:"1f46d-1f3fe",native:""},{unified:"1f46d-1f3ff",native:""}],version:1},man_and_woman_holding_hands:{id:"man_and_woman_holding_hands",name:"Man and Woman Holding Hands",keywords:["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],skins:[{unified:"1f46b",native:""},{unified:"1f46b-1f3fb",native:""},{unified:"1f46b-1f3fc",native:""},{unified:"1f46b-1f3fd",native:""},{unified:"1f46b-1f3fe",native:""},{unified:"1f46b-1f3ff",native:""}],version:1},two_men_holding_hands:{id:"two_men_holding_hands",name:"Men Holding Hands",keywords:["two","pair","couple","love","like","bromance","friendship","people","human"],skins:[{unified:"1f46c",native:""},{unified:"1f46c-1f3fb",native:""},{unified:"1f46c-1f3fc",native:""},{unified:"1f46c-1f3fd",native:""},{unified:"1f46c-1f3fe",native:""},{unified:"1f46c-1f3ff",native:""}],version:1},couplekiss:{id:"couplekiss",name:"Kiss",keywords:["couplekiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f48f",native:""},{unified:"1f48f-1f3fb",native:""},{unified:"1f48f-1f3fc",native:""},{unified:"1f48f-1f3fd",native:""},{unified:"1f48f-1f3fe",native:""},{unified:"1f48f-1f3ff",native:""}],version:1},"woman-kiss-man":{id:"woman-kiss-man",name:"Kiss: Woman, Man",keywords:["woman","kiss-man","kiss","love"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",native:""},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb",native:""},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc",native:""},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd",native:""},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe",native:""},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff",native:""}],version:2},"man-kiss-man":{id:"man-kiss-man",name:"Kiss: Man, Man",keywords:["kiss-man","kiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",native:""},{unified:"1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb",native:""},{unified:"1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc",native:""},{unified:"1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd",native:""},{unified:"1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe",native:""},{unified:"1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff",native:""}],version:2},"woman-kiss-woman":{id:"woman-kiss-woman",name:"Kiss: Woman, Woman",keywords:["kiss-woman","kiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",native:""},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb",native:""},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc",native:""},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd",native:""},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe",native:""},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff",native:""}],version:2},couple_with_heart:{id:"couple_with_heart",name:"Couple with Heart",keywords:["pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f491",native:""},{unified:"1f491-1f3fb",native:""},{unified:"1f491-1f3fc",native:""},{unified:"1f491-1f3fd",native:""},{unified:"1f491-1f3fe",native:""},{unified:"1f491-1f3ff",native:""}],version:1},"woman-heart-man":{id:"woman-heart-man",name:"Couple with Heart: Woman, Man",keywords:["woman","heart-man","heart","love"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f468",native:""},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb",native:""},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc",native:""},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd",native:""},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe",native:""},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff",native:""}],version:2},"man-heart-man":{id:"man-heart-man",name:"Couple with Heart: Man, Man",keywords:["heart-man","heart","pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f468-200d-2764-fe0f-200d-1f468",native:""},{unified:"1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb",native:""},{unified:"1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc",native:""},{unified:"1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd",native:""},{unified:"1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe",native:""},{unified:"1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff",native:""}],version:2},"woman-heart-woman":{id:"woman-heart-woman",name:"Couple with Heart: Woman, Woman",keywords:["heart-woman","heart","pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f469",native:""},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb",native:""},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc",native:""},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd",native:""},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe",native:""},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff",native:""}],version:2},family:{id:"family",name:"Family",keywords:["home","parents","child","mom","dad","father","mother","people","human"],skins:[{unified:"1f46a",native:""}],version:1},"man-woman-boy":{id:"man-woman-boy",name:"Family: Man, Woman, Boy",keywords:["man","woman-boy","family","woman","love"],skins:[{unified:"1f468-200d-1f469-200d-1f466",native:""}],version:2},"man-woman-girl":{id:"man-woman-girl",name:"Family: Man, Woman, Girl",keywords:["man","woman-girl","family","woman","home","parents","people","human","child"],skins:[{unified:"1f468-200d-1f469-200d-1f467",native:""}],version:2},"man-woman-girl-boy":{id:"man-woman-girl-boy",name:"Family: Man, Woman, Girl, Boy",keywords:["man","woman-girl-boy","family","woman","girl","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f467-200d-1f466",native:""}],version:2},"man-woman-boy-boy":{id:"man-woman-boy-boy",name:"Family: Man, Woman, Boy, Boy",keywords:["man","woman-boy-boy","family","woman","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f466-200d-1f466",native:""}],version:2},"man-woman-girl-girl":{id:"man-woman-girl-girl",name:"Family: Man, Woman, Girl, Girl",keywords:["man","woman-girl-girl","family","woman","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f467-200d-1f467",native:""}],version:2},"man-man-boy":{id:"man-man-boy",name:"Family: Man, Man, Boy",keywords:["man","man-boy","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f466",native:""}],version:2},"man-man-girl":{id:"man-man-girl",name:"Family: Man, Man, Girl",keywords:["man","man-girl","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467",native:""}],version:2},"man-man-girl-boy":{id:"man-man-girl-boy",name:"Family: Man, Man, Girl, Boy",keywords:["man","man-girl-boy","family","girl","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467-200d-1f466",native:""}],version:2},"man-man-boy-boy":{id:"man-man-boy-boy",name:"Family: Man, Man, Boy, Boy",keywords:["man","man-boy-boy","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f466-200d-1f466",native:""}],version:2},"man-man-girl-girl":{id:"man-man-girl-girl",name:"Family: Man, Man, Girl, Girl",keywords:["man","man-girl-girl","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467-200d-1f467",native:""}],version:2},"woman-woman-boy":{id:"woman-woman-boy",name:"Family: Woman, Woman, Boy",keywords:["woman","woman-boy","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f466",native:""}],version:2},"woman-woman-girl":{id:"woman-woman-girl",name:"Family: Woman, Woman, Girl",keywords:["woman","woman-girl","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467",native:""}],version:2},"woman-woman-girl-boy":{id:"woman-woman-girl-boy",name:"Family: Woman, Woman, Girl, Boy",keywords:["woman","woman-girl-boy","family","girl","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467-200d-1f466",native:""}],version:2},"woman-woman-boy-boy":{id:"woman-woman-boy-boy",name:"Family: Woman, Woman, Boy, Boy",keywords:["woman","woman-boy-boy","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f466-200d-1f466",native:""}],version:2},"woman-woman-girl-girl":{id:"woman-woman-girl-girl",name:"Family: Woman, Woman, Girl, Girl",keywords:["woman","woman-girl-girl","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467-200d-1f467",native:""}],version:2},"man-boy":{id:"man-boy",name:"Family: Man, Boy",keywords:["man","family","home","parent","people","human","child"],skins:[{unified:"1f468-200d-1f466",native:""}],version:4},"man-boy-boy":{id:"man-boy-boy",name:"Family: Man, Boy, Boy",keywords:["man","boy-boy","family","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f466-200d-1f466",native:""}],version:4},"man-girl":{id:"man-girl",name:"Family: Man, Girl",keywords:["man","family","home","parent","people","human","child"],skins:[{unified:"1f468-200d-1f467",native:""}],version:4},"man-girl-boy":{id:"man-girl-boy",name:"Family: Man, Girl, Boy",keywords:["man","girl-boy","family","girl","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f467-200d-1f466",native:""}],version:4},"man-girl-girl":{id:"man-girl-girl",name:"Family: Man, Girl, Girl",keywords:["man","girl-girl","family","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f467-200d-1f467",native:""}],version:4},"woman-boy":{id:"woman-boy",name:"Family: Woman, Boy",keywords:["woman","family","home","parent","people","human","child"],skins:[{unified:"1f469-200d-1f466",native:""}],version:4},"woman-boy-boy":{id:"woman-boy-boy",name:"Family: Woman, Boy, Boy",keywords:["woman","boy-boy","family","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f466-200d-1f466",native:""}],version:4},"woman-girl":{id:"woman-girl",name:"Family: Woman, Girl",keywords:["woman","family","home","parent","people","human","child"],skins:[{unified:"1f469-200d-1f467",native:""}],version:4},"woman-girl-boy":{id:"woman-girl-boy",name:"Family: Woman, Girl, Boy",keywords:["woman","girl-boy","family","girl","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f467-200d-1f466",native:""}],version:4},"woman-girl-girl":{id:"woman-girl-girl",name:"Family: Woman, Girl, Girl",keywords:["woman","girl-girl","family","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f467-200d-1f467",native:""}],version:4},speaking_head_in_silhouette:{id:"speaking_head_in_silhouette",name:"Speaking Head",keywords:["in","silhouette","user","person","human","sing","say","talk"],skins:[{unified:"1f5e3-fe0f",native:""}],version:1},bust_in_silhouette:{id:"bust_in_silhouette",name:"Bust in Silhouette",keywords:["user","person","human"],skins:[{unified:"1f464",native:""}],version:1},busts_in_silhouette:{id:"busts_in_silhouette",name:"Busts in Silhouette",keywords:["user","person","human","group","team"],skins:[{unified:"1f465",native:""}],version:1},people_hugging:{id:"people_hugging",name:"People Hugging",keywords:["care"],skins:[{unified:"1fac2",native:""}],version:13},footprints:{id:"footprints",name:"Footprints",keywords:["feet","tracking","walking","beach"],skins:[{unified:"1f463",native:""}],version:1},monkey_face:{id:"monkey_face",name:"Monkey Face",emoticons:[":o)"],keywords:["animal","nature","circus"],skins:[{unified:"1f435",native:""}],version:1},monkey:{id:"monkey",name:"Monkey",keywords:["animal","nature","banana","circus"],skins:[{unified:"1f412",native:""}],version:1},gorilla:{id:"gorilla",name:"Gorilla",keywords:["animal","nature","circus"],skins:[{unified:"1f98d",native:""}],version:3},orangutan:{id:"orangutan",name:"Orangutan",keywords:["animal"],skins:[{unified:"1f9a7",native:""}],version:12},dog:{id:"dog",name:"Dog Face",keywords:["animal","friend","nature","woof","puppy","pet","faithful"],skins:[{unified:"1f436",native:""}],version:1},dog2:{id:"dog2",name:"Dog",keywords:["dog2","animal","nature","friend","doge","pet","faithful"],skins:[{unified:"1f415",native:""}],version:1},guide_dog:{id:"guide_dog",name:"Guide Dog",keywords:["animal","blind"],skins:[{unified:"1f9ae",native:""}],version:12},service_dog:{id:"service_dog",name:"Service Dog",keywords:["blind","animal"],skins:[{unified:"1f415-200d-1f9ba",native:""}],version:12},poodle:{id:"poodle",name:"Poodle",keywords:["dog","animal","101","nature","pet"],skins:[{unified:"1f429",native:""}],version:1},wolf:{id:"wolf",name:"Wolf",keywords:["animal","nature","wild"],skins:[{unified:"1f43a",native:""}],version:1},fox_face:{id:"fox_face",name:"Fox",keywords:["face","animal","nature"],skins:[{unified:"1f98a",native:""}],version:3},raccoon:{id:"raccoon",name:"Raccoon",keywords:["animal","nature"],skins:[{unified:"1f99d",native:""}],version:11},cat:{id:"cat",name:"Cat Face",keywords:["animal","meow","nature","pet","kitten"],skins:[{unified:"1f431",native:""}],version:1},cat2:{id:"cat2",name:"Cat",keywords:["cat2","animal","meow","pet","cats"],skins:[{unified:"1f408",native:""}],version:1},black_cat:{id:"black_cat",name:"Black Cat",keywords:["superstition","luck"],skins:[{unified:"1f408-200d-2b1b",native:""}],version:13},lion_face:{id:"lion_face",name:"Lion",keywords:["face","animal","nature"],skins:[{unified:"1f981",native:""}],version:1},tiger:{id:"tiger",name:"Tiger Face",keywords:["animal","cat","danger","wild","nature","roar"],skins:[{unified:"1f42f",native:""}],version:1},tiger2:{id:"tiger2",name:"Tiger",keywords:["tiger2","animal","nature","roar"],skins:[{unified:"1f405",native:""}],version:1},leopard:{id:"leopard",name:"Leopard",keywords:["animal","nature"],skins:[{unified:"1f406",native:""}],version:1},horse:{id:"horse",name:"Horse Face",keywords:["animal","brown","nature"],skins:[{unified:"1f434",native:""}],version:1},moose:{id:"moose",name:"Moose",keywords:["shrek","canada","sweden","sven","cool"],skins:[{unified:"1face",native:""}],version:15},donkey:{id:"donkey",name:"Donkey",keywords:["eeyore","mule"],skins:[{unified:"1facf",native:""}],version:15},racehorse:{id:"racehorse",name:"Horse",keywords:["racehorse","animal","gamble","luck"],skins:[{unified:"1f40e",native:""}],version:1},unicorn_face:{id:"unicorn_face",name:"Unicorn",keywords:["face","animal","nature","mystical"],skins:[{unified:"1f984",native:""}],version:1},zebra_face:{id:"zebra_face",name:"Zebra",keywords:["face","animal","nature","stripes","safari"],skins:[{unified:"1f993",native:""}],version:5},deer:{id:"deer",name:"Deer",keywords:["animal","nature","horns","venison"],skins:[{unified:"1f98c",native:""}],version:3},bison:{id:"bison",name:"Bison",keywords:["ox"],skins:[{unified:"1f9ac",native:""}],version:13},cow:{id:"cow",name:"Cow Face",keywords:["beef","ox","animal","nature","moo","milk"],skins:[{unified:"1f42e",native:""}],version:1},ox:{id:"ox",name:"Ox",keywords:["animal","cow","beef"],skins:[{unified:"1f402",native:""}],version:1},water_buffalo:{id:"water_buffalo",name:"Water Buffalo",keywords:["animal","nature","ox","cow"],skins:[{unified:"1f403",native:""}],version:1},cow2:{id:"cow2",name:"Cow",keywords:["cow2","beef","ox","animal","nature","moo","milk"],skins:[{unified:"1f404",native:""}],version:1},pig:{id:"pig",name:"Pig Face",keywords:["animal","oink","nature"],skins:[{unified:"1f437",native:""}],version:1},pig2:{id:"pig2",name:"Pig",keywords:["pig2","animal","nature"],skins:[{unified:"1f416",native:""}],version:1},boar:{id:"boar",name:"Boar",keywords:["animal","nature"],skins:[{unified:"1f417",native:""}],version:1},pig_nose:{id:"pig_nose",name:"Pig Nose",keywords:["animal","oink"],skins:[{unified:"1f43d",native:""}],version:1},ram:{id:"ram",name:"Ram",keywords:["animal","sheep","nature"],skins:[{unified:"1f40f",native:""}],version:1},sheep:{id:"sheep",name:"Ewe",keywords:["sheep","animal","nature","wool","shipit"],skins:[{unified:"1f411",native:""}],version:1},goat:{id:"goat",name:"Goat",keywords:["animal","nature"],skins:[{unified:"1f410",native:""}],version:1},dromedary_camel:{id:"dromedary_camel",name:"Camel",keywords:["dromedary","animal","hot","desert","hump"],skins:[{unified:"1f42a",native:""}],version:1},camel:{id:"camel",name:"Bactrian Camel",keywords:["two","hump","animal","nature","hot","desert"],skins:[{unified:"1f42b",native:""}],version:1},llama:{id:"llama",name:"Llama",keywords:["animal","nature","alpaca"],skins:[{unified:"1f999",native:""}],version:11},giraffe_face:{id:"giraffe_face",name:"Giraffe",keywords:["face","animal","nature","spots","safari"],skins:[{unified:"1f992",native:""}],version:5},elephant:{id:"elephant",name:"Elephant",keywords:["animal","nature","nose","th","circus"],skins:[{unified:"1f418",native:""}],version:1},mammoth:{id:"mammoth",name:"Mammoth",keywords:["elephant","tusks"],skins:[{unified:"1f9a3",native:""}],version:13},rhinoceros:{id:"rhinoceros",name:"Rhinoceros",keywords:["animal","nature","horn"],skins:[{unified:"1f98f",native:""}],version:3},hippopotamus:{id:"hippopotamus",name:"Hippopotamus",keywords:["animal","nature"],skins:[{unified:"1f99b",native:""}],version:11},mouse:{id:"mouse",name:"Mouse Face",keywords:["animal","nature","cheese","wedge","rodent"],skins:[{unified:"1f42d",native:""}],version:1},mouse2:{id:"mouse2",name:"Mouse",keywords:["mouse2","animal","nature","rodent"],skins:[{unified:"1f401",native:""}],version:1},rat:{id:"rat",name:"Rat",keywords:["animal","mouse","rodent"],skins:[{unified:"1f400",native:""}],version:1},hamster:{id:"hamster",name:"Hamster",keywords:["animal","nature"],skins:[{unified:"1f439",native:""}],version:1},rabbit:{id:"rabbit",name:"Rabbit Face",keywords:["animal","nature","pet","spring","magic","bunny"],skins:[{unified:"1f430",native:""}],version:1},rabbit2:{id:"rabbit2",name:"Rabbit",keywords:["rabbit2","animal","nature","pet","magic","spring"],skins:[{unified:"1f407",native:""}],version:1},chipmunk:{id:"chipmunk",name:"Chipmunk",keywords:["animal","nature","rodent","squirrel"],skins:[{unified:"1f43f-fe0f",native:""}],version:1},beaver:{id:"beaver",name:"Beaver",keywords:["animal","rodent"],skins:[{unified:"1f9ab",native:""}],version:13},hedgehog:{id:"hedgehog",name:"Hedgehog",keywords:["animal","nature","spiny"],skins:[{unified:"1f994",native:""}],version:5},bat:{id:"bat",name:"Bat",keywords:["animal","nature","blind","vampire"],skins:[{unified:"1f987",native:""}],version:3},bear:{id:"bear",name:"Bear",keywords:["animal","nature","wild"],skins:[{unified:"1f43b",native:""}],version:1},polar_bear:{id:"polar_bear",name:"Polar Bear",keywords:["animal","arctic"],skins:[{unified:"1f43b-200d-2744-fe0f",native:""}],version:13},koala:{id:"koala",name:"Koala",keywords:["animal","nature"],skins:[{unified:"1f428",native:""}],version:1},panda_face:{id:"panda_face",name:"Panda",keywords:["face","animal","nature"],skins:[{unified:"1f43c",native:""}],version:1},sloth:{id:"sloth",name:"Sloth",keywords:["animal"],skins:[{unified:"1f9a5",native:""}],version:12},otter:{id:"otter",name:"Otter",keywords:["animal"],skins:[{unified:"1f9a6",native:""}],version:12},skunk:{id:"skunk",name:"Skunk",keywords:["animal"],skins:[{unified:"1f9a8",native:""}],version:12},kangaroo:{id:"kangaroo",name:"Kangaroo",keywords:["animal","nature","australia","joey","hop","marsupial"],skins:[{unified:"1f998",native:""}],version:11},badger:{id:"badger",name:"Badger",keywords:["animal","nature","honey"],skins:[{unified:"1f9a1",native:""}],version:11},feet:{id:"feet",name:"Paw Prints",keywords:["feet","animal","tracking","footprints","dog","cat","pet"],skins:[{unified:"1f43e",native:""}],version:1},turkey:{id:"turkey",name:"Turkey",keywords:["animal","bird"],skins:[{unified:"1f983",native:""}],version:1},chicken:{id:"chicken",name:"Chicken",keywords:["animal","cluck","nature","bird"],skins:[{unified:"1f414",native:""}],version:1},rooster:{id:"rooster",name:"Rooster",keywords:["animal","nature","chicken"],skins:[{unified:"1f413",native:""}],version:1},hatching_chick:{id:"hatching_chick",name:"Hatching Chick",keywords:["animal","chicken","egg","born","baby","bird"],skins:[{unified:"1f423",native:""}],version:1},baby_chick:{id:"baby_chick",name:"Baby Chick",keywords:["animal","chicken","bird"],skins:[{unified:"1f424",native:""}],version:1},hatched_chick:{id:"hatched_chick",name:"Front-Facing Baby Chick",keywords:["hatched","front","facing","animal","chicken","bird"],skins:[{unified:"1f425",native:""}],version:1},bird:{id:"bird",name:"Bird",keywords:["animal","nature","fly","tweet","spring"],skins:[{unified:"1f426",native:""}],version:1},penguin:{id:"penguin",name:"Penguin",keywords:["animal","nature"],skins:[{unified:"1f427",native:""}],version:1},dove_of_peace:{id:"dove_of_peace",name:"Dove",keywords:["of","peace","animal","bird"],skins:[{unified:"1f54a-fe0f",native:""}],version:1},eagle:{id:"eagle",name:"Eagle",keywords:["animal","nature","bird"],skins:[{unified:"1f985",native:""}],version:3},duck:{id:"duck",name:"Duck",keywords:["animal","nature","bird","mallard"],skins:[{unified:"1f986",native:""}],version:3},swan:{id:"swan",name:"Swan",keywords:["animal","nature","bird"],skins:[{unified:"1f9a2",native:""}],version:11},owl:{id:"owl",name:"Owl",keywords:["animal","nature","bird","hoot"],skins:[{unified:"1f989",native:""}],version:3},dodo:{id:"dodo",name:"Dodo",keywords:["animal","bird"],skins:[{unified:"1f9a4",native:""}],version:13},feather:{id:"feather",name:"Feather",keywords:["bird","fly"],skins:[{unified:"1fab6",native:""}],version:13},flamingo:{id:"flamingo",name:"Flamingo",keywords:["animal"],skins:[{unified:"1f9a9",native:""}],version:12},peacock:{id:"peacock",name:"Peacock",keywords:["animal","nature","peahen","bird"],skins:[{unified:"1f99a",native:""}],version:11},parrot:{id:"parrot",name:"Parrot",keywords:["animal","nature","bird","pirate","talk"],skins:[{unified:"1f99c",native:""}],version:11},wing:{id:"wing",name:"Wing",keywords:["angel","birds","flying"],skins:[{unified:"1fabd",native:""}],version:15},black_bird:{id:"black_bird",name:"Black Bird",keywords:["crow"],skins:[{unified:"1f426-200d-2b1b",native:""}],version:15},goose:{id:"goose",name:"Goose",keywords:["silly","jemima","goosebumps"],skins:[{unified:"1fabf",native:""}],version:15},frog:{id:"frog",name:"Frog",keywords:["animal","nature","croak","toad"],skins:[{unified:"1f438",native:""}],version:1},crocodile:{id:"crocodile",name:"Crocodile",keywords:["animal","nature","reptile","lizard","alligator"],skins:[{unified:"1f40a",native:""}],version:1},turtle:{id:"turtle",name:"Turtle",keywords:["animal","slow","nature","tortoise"],skins:[{unified:"1f422",native:""}],version:1},lizard:{id:"lizard",name:"Lizard",keywords:["animal","nature","reptile"],skins:[{unified:"1f98e",native:""}],version:3},snake:{id:"snake",name:"Snake",keywords:["animal","evil","nature","hiss","python"],skins:[{unified:"1f40d",native:""}],version:1},dragon_face:{id:"dragon_face",name:"Dragon Face",keywords:["animal","myth","nature","chinese","green"],skins:[{unified:"1f432",native:""}],version:1},dragon:{id:"dragon",name:"Dragon",keywords:["animal","myth","nature","chinese","green"],skins:[{unified:"1f409",native:""}],version:1},sauropod:{id:"sauropod",name:"Sauropod",keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],skins:[{unified:"1f995",native:""}],version:5},"t-rex":{id:"t-rex",name:"T-Rex",keywords:["t","rex","animal","nature","dinosaur","tyrannosaurus","extinct"],skins:[{unified:"1f996",native:""}],version:5},whale:{id:"whale",name:"Spouting Whale",keywords:["animal","nature","sea","ocean"],skins:[{unified:"1f433",native:""}],version:1},whale2:{id:"whale2",name:"Whale",keywords:["whale2","animal","nature","sea","ocean"],skins:[{unified:"1f40b",native:""}],version:1},dolphin:{id:"dolphin",name:"Dolphin",keywords:["flipper","animal","nature","fish","sea","ocean","fins","beach"],skins:[{unified:"1f42c",native:""}],version:1},seal:{id:"seal",name:"Seal",keywords:["animal","creature","sea"],skins:[{unified:"1f9ad",native:""}],version:13},fish:{id:"fish",name:"Fish",keywords:["animal","food","nature"],skins:[{unified:"1f41f",native:""}],version:1},tropical_fish:{id:"tropical_fish",name:"Tropical Fish",keywords:["animal","swim","ocean","beach","nemo"],skins:[{unified:"1f420",native:""}],version:1},blowfish:{id:"blowfish",name:"Blowfish",keywords:["animal","nature","food","sea","ocean"],skins:[{unified:"1f421",native:""}],version:1},shark:{id:"shark",name:"Shark",keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],skins:[{unified:"1f988",native:""}],version:3},octopus:{id:"octopus",name:"Octopus",keywords:["animal","creature","ocean","sea","nature","beach"],skins:[{unified:"1f419",native:""}],version:1},shell:{id:"shell",name:"Spiral Shell",keywords:["nature","sea","beach"],skins:[{unified:"1f41a",native:""}],version:1},coral:{id:"coral",name:"Coral",keywords:["ocean","sea","reef"],skins:[{unified:"1fab8",native:""}],version:14},jellyfish:{id:"jellyfish",name:"Jellyfish",keywords:["sting","tentacles"],skins:[{unified:"1fabc",native:""}],version:15},snail:{id:"snail",name:"Snail",keywords:["slow","animal","shell"],skins:[{unified:"1f40c",native:""}],version:1},butterfly:{id:"butterfly",name:"Butterfly",keywords:["animal","insect","nature","caterpillar"],skins:[{unified:"1f98b",native:""}],version:3},bug:{id:"bug",name:"Bug",keywords:["animal","insect","nature","worm"],skins:[{unified:"1f41b",native:""}],version:1},ant:{id:"ant",name:"Ant",keywords:["animal","insect","nature","bug"],skins:[{unified:"1f41c",native:""}],version:1},bee:{id:"bee",name:"Honeybee",keywords:["bee","animal","insect","nature","bug","spring","honey"],skins:[{unified:"1f41d",native:""}],version:1},beetle:{id:"beetle",name:"Beetle",keywords:["insect"],skins:[{unified:"1fab2",native:""}],version:13},ladybug:{id:"ladybug",name:"Lady Beetle",keywords:["ladybug","animal","insect","nature"],skins:[{unified:"1f41e",native:""}],version:1},cricket:{id:"cricket",name:"Cricket",keywords:["animal","chirp"],skins:[{unified:"1f997",native:""}],version:5},cockroach:{id:"cockroach",name:"Cockroach",keywords:["insect","pests"],skins:[{unified:"1fab3",native:""}],version:13},spider:{id:"spider",name:"Spider",keywords:["animal","arachnid"],skins:[{unified:"1f577-fe0f",native:""}],version:1},spider_web:{id:"spider_web",name:"Spider Web",keywords:["animal","insect","arachnid","silk"],skins:[{unified:"1f578-fe0f",native:""}],version:1},scorpion:{id:"scorpion",name:"Scorpion",keywords:["animal","arachnid"],skins:[{unified:"1f982",native:""}],version:1},mosquito:{id:"mosquito",name:"Mosquito",keywords:["animal","nature","insect","malaria"],skins:[{unified:"1f99f",native:""}],version:11},fly:{id:"fly",name:"Fly",keywords:["insect"],skins:[{unified:"1fab0",native:""}],version:13},worm:{id:"worm",name:"Worm",keywords:["animal"],skins:[{unified:"1fab1",native:""}],version:13},microbe:{id:"microbe",name:"Microbe",keywords:["amoeba","bacteria","germs","virus","covid"],skins:[{unified:"1f9a0",native:""}],version:11},bouquet:{id:"bouquet",name:"Bouquet",keywords:["flowers","nature","spring"],skins:[{unified:"1f490",native:""}],version:1},cherry_blossom:{id:"cherry_blossom",name:"Cherry Blossom",keywords:["nature","plant","spring","flower"],skins:[{unified:"1f338",native:""}],version:1},white_flower:{id:"white_flower",name:"White Flower",keywords:["japanese","spring"],skins:[{unified:"1f4ae",native:""}],version:1},lotus:{id:"lotus",name:"Lotus",keywords:["flower","calm","meditation"],skins:[{unified:"1fab7",native:""}],version:14},rosette:{id:"rosette",name:"Rosette",keywords:["flower","decoration","military"],skins:[{unified:"1f3f5-fe0f",native:""}],version:1},rose:{id:"rose",name:"Rose",keywords:["flowers","valentines","love","spring"],skins:[{unified:"1f339",native:""}],version:1},wilted_flower:{id:"wilted_flower",name:"Wilted Flower",keywords:["plant","nature","rose"],skins:[{unified:"1f940",native:""}],version:3},hibiscus:{id:"hibiscus",name:"Hibiscus",keywords:["plant","vegetable","flowers","beach"],skins:[{unified:"1f33a",native:""}],version:1},sunflower:{id:"sunflower",name:"Sunflower",keywords:["nature","plant","fall"],skins:[{unified:"1f33b",native:""}],version:1},blossom:{id:"blossom",name:"Blossom",keywords:["nature","flowers","yellow"],skins:[{unified:"1f33c",native:""}],version:1},tulip:{id:"tulip",name:"Tulip",keywords:["flowers","plant","nature","summer","spring"],skins:[{unified:"1f337",native:""}],version:1},hyacinth:{id:"hyacinth",name:"Hyacinth",keywords:["flower","lavender"],skins:[{unified:"1fabb",native:""}],version:15},seedling:{id:"seedling",name:"Seedling",keywords:["plant","nature","grass","lawn","spring"],skins:[{unified:"1f331",native:""}],version:1},potted_plant:{id:"potted_plant",name:"Potted Plant",keywords:["greenery","house"],skins:[{unified:"1fab4",native:""}],version:13},evergreen_tree:{id:"evergreen_tree",name:"Evergreen Tree",keywords:["plant","nature"],skins:[{unified:"1f332",native:""}],version:1},deciduous_tree:{id:"deciduous_tree",name:"Deciduous Tree",keywords:["plant","nature"],skins:[{unified:"1f333",native:""}],version:1},palm_tree:{id:"palm_tree",name:"Palm Tree",keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],skins:[{unified:"1f334",native:""}],version:1},cactus:{id:"cactus",name:"Cactus",keywords:["vegetable","plant","nature"],skins:[{unified:"1f335",native:""}],version:1},ear_of_rice:{id:"ear_of_rice",name:"Ear of Rice",keywords:["sheaf","nature","plant"],skins:[{unified:"1f33e",native:""}],version:1},herb:{id:"herb",name:"Herb",keywords:["vegetable","plant","medicine","weed","grass","lawn"],skins:[{unified:"1f33f",native:""}],version:1},shamrock:{id:"shamrock",name:"Shamrock",keywords:["vegetable","plant","nature","irish","clover"],skins:[{unified:"2618-fe0f",native:""}],version:1},four_leaf_clover:{id:"four_leaf_clover",name:"Four Leaf Clover",keywords:["vegetable","plant","nature","lucky","irish"],skins:[{unified:"1f340",native:""}],version:1},maple_leaf:{id:"maple_leaf",name:"Maple Leaf",keywords:["nature","plant","vegetable","ca","fall"],skins:[{unified:"1f341",native:""}],version:1},fallen_leaf:{id:"fallen_leaf",name:"Fallen Leaf",keywords:["nature","plant","vegetable","leaves"],skins:[{unified:"1f342",native:""}],version:1},leaves:{id:"leaves",name:"Leaf Fluttering in Wind",keywords:["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],skins:[{unified:"1f343",native:""}],version:1},empty_nest:{id:"empty_nest",name:"Empty Nest",keywords:["bird"],skins:[{unified:"1fab9",native:""}],version:14},nest_with_eggs:{id:"nest_with_eggs",name:"Nest with Eggs",keywords:["bird"],skins:[{unified:"1faba",native:""}],version:14},mushroom:{id:"mushroom",name:"Mushroom",keywords:["plant","vegetable"],skins:[{unified:"1f344",native:""}],version:1},grapes:{id:"grapes",name:"Grapes",keywords:["fruit","food","wine"],skins:[{unified:"1f347",native:""}],version:1},melon:{id:"melon",name:"Melon",keywords:["fruit","nature","food"],skins:[{unified:"1f348",native:""}],version:1},watermelon:{id:"watermelon",name:"Watermelon",keywords:["fruit","food","picnic","summer"],skins:[{unified:"1f349",native:""}],version:1},tangerine:{id:"tangerine",name:"Tangerine",keywords:["food","fruit","nature","orange"],skins:[{unified:"1f34a",native:""}],version:1},lemon:{id:"lemon",name:"Lemon",keywords:["fruit","nature"],skins:[{unified:"1f34b",native:""}],version:1},banana:{id:"banana",name:"Banana",keywords:["fruit","food","monkey"],skins:[{unified:"1f34c",native:""}],version:1},pineapple:{id:"pineapple",name:"Pineapple",keywords:["fruit","nature","food"],skins:[{unified:"1f34d",native:""}],version:1},mango:{id:"mango",name:"Mango",keywords:["fruit","food","tropical"],skins:[{unified:"1f96d",native:""}],version:11},apple:{id:"apple",name:"Red Apple",keywords:["fruit","mac","school"],skins:[{unified:"1f34e",native:""}],version:1},green_apple:{id:"green_apple",name:"Green Apple",keywords:["fruit","nature"],skins:[{unified:"1f34f",native:""}],version:1},pear:{id:"pear",name:"Pear",keywords:["fruit","nature","food"],skins:[{unified:"1f350",native:""}],version:1},peach:{id:"peach",name:"Peach",keywords:["fruit","nature","food"],skins:[{unified:"1f351",native:""}],version:1},cherries:{id:"cherries",name:"Cherries",keywords:["food","fruit"],skins:[{unified:"1f352",native:""}],version:1},strawberry:{id:"strawberry",name:"Strawberry",keywords:["fruit","food","nature"],skins:[{unified:"1f353",native:""}],version:1},blueberries:{id:"blueberries",name:"Blueberries",keywords:["fruit"],skins:[{unified:"1fad0",native:""}],version:13},kiwifruit:{id:"kiwifruit",name:"Kiwifruit",keywords:["kiwi","fruit","food"],skins:[{unified:"1f95d",native:""}],version:3},tomato:{id:"tomato",name:"Tomato",keywords:["fruit","vegetable","nature","food"],skins:[{unified:"1f345",native:""}],version:1},olive:{id:"olive",name:"Olive",keywords:["fruit"],skins:[{unified:"1fad2",native:""}],version:13},coconut:{id:"coconut",name:"Coconut",keywords:["fruit","nature","food","palm"],skins:[{unified:"1f965",native:""}],version:5},avocado:{id:"avocado",name:"Avocado",keywords:["fruit","food"],skins:[{unified:"1f951",native:""}],version:3},eggplant:{id:"eggplant",name:"Eggplant",keywords:["vegetable","nature","food","aubergine"],skins:[{unified:"1f346",native:""}],version:1},potato:{id:"potato",name:"Potato",keywords:["food","tuber","vegatable","starch"],skins:[{unified:"1f954",native:""}],version:3},carrot:{id:"carrot",name:"Carrot",keywords:["vegetable","food","orange"],skins:[{unified:"1f955",native:""}],version:3},corn:{id:"corn",name:"Ear of Corn",keywords:["food","vegetable","plant"],skins:[{unified:"1f33d",native:""}],version:1},hot_pepper:{id:"hot_pepper",name:"Hot Pepper",keywords:["food","spicy","chilli","chili"],skins:[{unified:"1f336-fe0f",native:""}],version:1},bell_pepper:{id:"bell_pepper",name:"Bell Pepper",keywords:["fruit","plant"],skins:[{unified:"1fad1",native:""}],version:13},cucumber:{id:"cucumber",name:"Cucumber",keywords:["fruit","food","pickle"],skins:[{unified:"1f952",native:""}],version:3},leafy_green:{id:"leafy_green",name:"Leafy Green",keywords:["food","vegetable","plant","bok","choy","cabbage","kale","lettuce"],skins:[{unified:"1f96c",native:""}],version:11},broccoli:{id:"broccoli",name:"Broccoli",keywords:["fruit","food","vegetable"],skins:[{unified:"1f966",native:""}],version:5},garlic:{id:"garlic",name:"Garlic",keywords:["food","spice","cook"],skins:[{unified:"1f9c4",native:""}],version:12},onion:{id:"onion",name:"Onion",keywords:["cook","food","spice"],skins:[{unified:"1f9c5",native:""}],version:12},peanuts:{id:"peanuts",name:"Peanuts",keywords:["food","nut"],skins:[{unified:"1f95c",native:""}],version:3},beans:{id:"beans",name:"Beans",keywords:["food"],skins:[{unified:"1fad8",native:""}],version:14},chestnut:{id:"chestnut",name:"Chestnut",keywords:["food","squirrel"],skins:[{unified:"1f330",native:""}],version:1},ginger_root:{id:"ginger_root",name:"Ginger Root",keywords:["spice","yellow","cooking","gingerbread"],skins:[{unified:"1fada",native:""}],version:15},pea_pod:{id:"pea_pod",name:"Pea Pod",keywords:["cozy","green"],skins:[{unified:"1fadb",native:""}],version:15},bread:{id:"bread",name:"Bread",keywords:["food","wheat","breakfast","toast"],skins:[{unified:"1f35e",native:""}],version:1},croissant:{id:"croissant",name:"Croissant",keywords:["food","bread","french"],skins:[{unified:"1f950",native:""}],version:3},baguette_bread:{id:"baguette_bread",name:"Baguette Bread",keywords:["food","french","france","bakery"],skins:[{unified:"1f956",native:""}],version:3},flatbread:{id:"flatbread",name:"Flatbread",keywords:["flour","food","bakery"],skins:[{unified:"1fad3",native:""}],version:13},pretzel:{id:"pretzel",name:"Pretzel",keywords:["food","bread","twisted","germany","bakery"],skins:[{unified:"1f968",native:""}],version:5},bagel:{id:"bagel",name:"Bagel",keywords:["food","bread","bakery","schmear","jewish"],skins:[{unified:"1f96f",native:""}],version:11},pancakes:{id:"pancakes",name:"Pancakes",keywords:["food","breakfast","flapjacks","hotcakes","brunch"],skins:[{unified:"1f95e",native:""}],version:3},waffle:{id:"waffle",name:"Waffle",keywords:["food","breakfast","brunch"],skins:[{unified:"1f9c7",native:""}],version:12},cheese_wedge:{id:"cheese_wedge",name:"Cheese Wedge",keywords:["food","chadder","swiss"],skins:[{unified:"1f9c0",native:""}],version:1},meat_on_bone:{id:"meat_on_bone",name:"Meat on Bone",keywords:["good","food","drumstick"],skins:[{unified:"1f356",native:""}],version:1},poultry_leg:{id:"poultry_leg",name:"Poultry Leg",keywords:["food","meat","drumstick","bird","chicken","turkey"],skins:[{unified:"1f357",native:""}],version:1},cut_of_meat:{id:"cut_of_meat",name:"Cut of Meat",keywords:["food","cow","chop","lambchop","porkchop"],skins:[{unified:"1f969",native:""}],version:5},bacon:{id:"bacon",name:"Bacon",keywords:["food","breakfast","pork","pig","meat","brunch"],skins:[{unified:"1f953",native:""}],version:3},hamburger:{id:"hamburger",name:"Hamburger",keywords:["meat","fast","food","beef","cheeseburger","mcdonalds","burger","king"],skins:[{unified:"1f354",native:""}],version:1},fries:{id:"fries",name:"French Fries",keywords:["chips","snack","fast","food","potato"],skins:[{unified:"1f35f",native:""}],version:1},pizza:{id:"pizza",name:"Pizza",keywords:["food","party","italy"],skins:[{unified:"1f355",native:""}],version:1},hotdog:{id:"hotdog",name:"Hot Dog",keywords:["hotdog","food","frankfurter","america"],skins:[{unified:"1f32d",native:""}],version:1},sandwich:{id:"sandwich",name:"Sandwich",keywords:["food","lunch","bread","toast","bakery"],skins:[{unified:"1f96a",native:""}],version:5},taco:{id:"taco",name:"Taco",keywords:["food","mexican"],skins:[{unified:"1f32e",native:""}],version:1},burrito:{id:"burrito",name:"Burrito",keywords:["food","mexican"],skins:[{unified:"1f32f",native:""}],version:1},tamale:{id:"tamale",name:"Tamale",keywords:["food","masa"],skins:[{unified:"1fad4",native:""}],version:13},stuffed_flatbread:{id:"stuffed_flatbread",name:"Stuffed Flatbread",keywords:["food","gyro","mediterranean"],skins:[{unified:"1f959",native:""}],version:3},falafel:{id:"falafel",name:"Falafel",keywords:["food","mediterranean"],skins:[{unified:"1f9c6",native:""}],version:12},egg:{id:"egg",name:"Egg",keywords:["food","chicken","breakfast"],skins:[{unified:"1f95a",native:""}],version:3},fried_egg:{id:"fried_egg",name:"Cooking",keywords:["fried","egg","food","breakfast","kitchen","skillet"],skins:[{unified:"1f373",native:""}],version:1},shallow_pan_of_food:{id:"shallow_pan_of_food",name:"Shallow Pan of Food",keywords:["cooking","casserole","paella","skillet"],skins:[{unified:"1f958",native:""}],version:3},stew:{id:"stew",name:"Pot of Food",keywords:["stew","meat","soup","hot"],skins:[{unified:"1f372",native:""}],version:1},fondue:{id:"fondue",name:"Fondue",keywords:["cheese","pot","food"],skins:[{unified:"1fad5",native:""}],version:13},bowl_with_spoon:{id:"bowl_with_spoon",name:"Bowl with Spoon",keywords:["food","breakfast","cereal","oatmeal","porridge"],skins:[{unified:"1f963",native:""}],version:5},green_salad:{id:"green_salad",name:"Green Salad",keywords:["food","healthy","lettuce","vegetable"],skins:[{unified:"1f957",native:""}],version:3},popcorn:{id:"popcorn",name:"Popcorn",keywords:["food","movie","theater","films","snack","drama"],skins:[{unified:"1f37f",native:""}],version:1},butter:{id:"butter",name:"Butter",keywords:["food","cook"],skins:[{unified:"1f9c8",native:""}],version:12},salt:{id:"salt",name:"Salt",keywords:["condiment","shaker"],skins:[{unified:"1f9c2",native:""}],version:11},canned_food:{id:"canned_food",name:"Canned Food",keywords:["soup","tomatoes"],skins:[{unified:"1f96b",native:""}],version:5},bento:{id:"bento",name:"Bento Box",keywords:["food","japanese","lunch"],skins:[{unified:"1f371",native:""}],version:1},rice_cracker:{id:"rice_cracker",name:"Rice Cracker",keywords:["food","japanese","snack"],skins:[{unified:"1f358",native:""}],version:1},rice_ball:{id:"rice_ball",name:"Rice Ball",keywords:["food","japanese"],skins:[{unified:"1f359",native:""}],version:1},rice:{id:"rice",name:"Cooked Rice",keywords:["food","asian"],skins:[{unified:"1f35a",native:""}],version:1},curry:{id:"curry",name:"Curry Rice",keywords:["food","spicy","hot","indian"],skins:[{unified:"1f35b",native:""}],version:1},ramen:{id:"ramen",name:"Steaming Bowl",keywords:["ramen","food","japanese","noodle","chopsticks"],skins:[{unified:"1f35c",native:""}],version:1},spaghetti:{id:"spaghetti",name:"Spaghetti",keywords:["food","italian","pasta","noodle"],skins:[{unified:"1f35d",native:""}],version:1},sweet_potato:{id:"sweet_potato",name:"Roasted Sweet Potato",keywords:["food","nature","plant"],skins:[{unified:"1f360",native:""}],version:1},oden:{id:"oden",name:"Oden",keywords:["food","japanese"],skins:[{unified:"1f362",native:""}],version:1},sushi:{id:"sushi",name:"Sushi",keywords:["food","fish","japanese","rice"],skins:[{unified:"1f363",native:""}],version:1},fried_shrimp:{id:"fried_shrimp",name:"Fried Shrimp",keywords:["food","animal","appetizer","summer"],skins:[{unified:"1f364",native:""}],version:1},fish_cake:{id:"fish_cake",name:"Fish Cake with Swirl",keywords:["food","japan","sea","beach","narutomaki","pink","kamaboko","surimi","ramen"],skins:[{unified:"1f365",native:""}],version:1},moon_cake:{id:"moon_cake",name:"Moon Cake",keywords:["food","autumn","dessert"],skins:[{unified:"1f96e",native:""}],version:11},dango:{id:"dango",name:"Dango",keywords:["food","dessert","sweet","japanese","barbecue","meat"],skins:[{unified:"1f361",native:""}],version:1},dumpling:{id:"dumpling",name:"Dumpling",keywords:["food","empanada","pierogi","potsticker","gyoza"],skins:[{unified:"1f95f",native:""}],version:5},fortune_cookie:{id:"fortune_cookie",name:"Fortune Cookie",keywords:["food","prophecy","dessert"],skins:[{unified:"1f960",native:""}],version:5},takeout_box:{id:"takeout_box",name:"Takeout Box",keywords:["food","leftovers"],skins:[{unified:"1f961",native:""}],version:5},crab:{id:"crab",name:"Crab",keywords:["animal","crustacean"],skins:[{unified:"1f980",native:""}],version:1},lobster:{id:"lobster",name:"Lobster",keywords:["animal","nature","bisque","claws","seafood"],skins:[{unified:"1f99e",native:""}],version:11},shrimp:{id:"shrimp",name:"Shrimp",keywords:["animal","ocean","nature","seafood"],skins:[{unified:"1f990",native:""}],version:3},squid:{id:"squid",name:"Squid",keywords:["animal","nature","ocean","sea"],skins:[{unified:"1f991",native:""}],version:3},oyster:{id:"oyster",name:"Oyster",keywords:["food"],skins:[{unified:"1f9aa",native:""}],version:12},icecream:{id:"icecream",name:"Soft Ice Cream",keywords:["icecream","food","hot","dessert","summer"],skins:[{unified:"1f366",native:""}],version:1},shaved_ice:{id:"shaved_ice",name:"Shaved Ice",keywords:["hot","dessert","summer"],skins:[{unified:"1f367",native:""}],version:1},ice_cream:{id:"ice_cream",name:"Ice Cream",keywords:["food","hot","dessert"],skins:[{unified:"1f368",native:""}],version:1},doughnut:{id:"doughnut",name:"Doughnut",keywords:["food","dessert","snack","sweet","donut"],skins:[{unified:"1f369",native:""}],version:1},cookie:{id:"cookie",name:"Cookie",keywords:["food","snack","oreo","chocolate","sweet","dessert"],skins:[{unified:"1f36a",native:""}],version:1},birthday:{id:"birthday",name:"Birthday Cake",keywords:["food","dessert"],skins:[{unified:"1f382",native:""}],version:1},cake:{id:"cake",name:"Shortcake",keywords:["cake","food","dessert"],skins:[{unified:"1f370",native:""}],version:1},cupcake:{id:"cupcake",name:"Cupcake",keywords:["food","dessert","bakery","sweet"],skins:[{unified:"1f9c1",native:""}],version:11},pie:{id:"pie",name:"Pie",keywords:["food","dessert","pastry"],skins:[{unified:"1f967",native:""}],version:5},chocolate_bar:{id:"chocolate_bar",name:"Chocolate Bar",keywords:["food","snack","dessert","sweet"],skins:[{unified:"1f36b",native:""}],version:1},candy:{id:"candy",name:"Candy",keywords:["snack","dessert","sweet","lolly"],skins:[{unified:"1f36c",native:""}],version:1},lollipop:{id:"lollipop",name:"Lollipop",keywords:["food","snack","candy","sweet"],skins:[{unified:"1f36d",native:""}],version:1},custard:{id:"custard",name:"Custard",keywords:["dessert","food"],skins:[{unified:"1f36e",native:""}],version:1},honey_pot:{id:"honey_pot",name:"Honey Pot",keywords:["bees","sweet","kitchen"],skins:[{unified:"1f36f",native:""}],version:1},baby_bottle:{id:"baby_bottle",name:"Baby Bottle",keywords:["food","container","milk"],skins:[{unified:"1f37c",native:""}],version:1},glass_of_milk:{id:"glass_of_milk",name:"Glass of Milk",keywords:["beverage","drink","cow"],skins:[{unified:"1f95b",native:""}],version:3},coffee:{id:"coffee",name:"Hot Beverage",keywords:["coffee","caffeine","latte","espresso","mug"],skins:[{unified:"2615",native:""}],version:1},teapot:{id:"teapot",name:"Teapot",keywords:["drink","hot"],skins:[{unified:"1fad6",native:""}],version:13},tea:{id:"tea",name:"Teacup Without Handle",keywords:["tea","drink","bowl","breakfast","green","british"],skins:[{unified:"1f375",native:""}],version:1},sake:{id:"sake",name:"Sake",keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],skins:[{unified:"1f376",native:""}],version:1},champagne:{id:"champagne",name:"Bottle with Popping Cork",keywords:["champagne","drink","wine","celebration"],skins:[{unified:"1f37e",native:""}],version:1},wine_glass:{id:"wine_glass",name:"Wine Glass",keywords:["drink","beverage","drunk","alcohol","booze"],skins:[{unified:"1f377",native:""}],version:1},cocktail:{id:"cocktail",name:"Cocktail Glass",keywords:["drink","drunk","alcohol","beverage","booze","mojito"],skins:[{unified:"1f378",native:""}],version:1},tropical_drink:{id:"tropical_drink",name:"Tropical Drink",keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],skins:[{unified:"1f379",native:""}],version:1},beer:{id:"beer",name:"Beer Mug",keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],skins:[{unified:"1f37a",native:""}],version:1},beers:{id:"beers",name:"Clinking Beer Mugs",keywords:["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],skins:[{unified:"1f37b",native:""}],version:1},clinking_glasses:{id:"clinking_glasses",name:"Clinking Glasses",keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],skins:[{unified:"1f942",native:""}],version:3},tumbler_glass:{id:"tumbler_glass",name:"Tumbler Glass",keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","shot"],skins:[{unified:"1f943",native:""}],version:3},pouring_liquid:{id:"pouring_liquid",name:"Pouring Liquid",keywords:["cup","water"],skins:[{unified:"1fad7",native:""}],version:14},cup_with_straw:{id:"cup_with_straw",name:"Cup with Straw",keywords:["drink","soda"],skins:[{unified:"1f964",native:""}],version:5},bubble_tea:{id:"bubble_tea",name:"Bubble Tea",keywords:["taiwan","boba","milk","straw"],skins:[{unified:"1f9cb",native:""}],version:13},beverage_box:{id:"beverage_box",name:"Beverage Box",keywords:["drink"],skins:[{unified:"1f9c3",native:""}],version:12},mate_drink:{id:"mate_drink",name:"Mate",keywords:["drink","tea","beverage"],skins:[{unified:"1f9c9",native:""}],version:12},ice_cube:{id:"ice_cube",name:"Ice",keywords:["cube","water","cold"],skins:[{unified:"1f9ca",native:""}],version:12},chopsticks:{id:"chopsticks",name:"Chopsticks",keywords:["food"],skins:[{unified:"1f962",native:""}],version:5},knife_fork_plate:{id:"knife_fork_plate",name:"Fork and Knife with Plate",keywords:["food","eat","meal","lunch","dinner","restaurant"],skins:[{unified:"1f37d-fe0f",native:""}],version:1},fork_and_knife:{id:"fork_and_knife",name:"Fork and Knife",keywords:["cutlery","kitchen"],skins:[{unified:"1f374",native:""}],version:1},spoon:{id:"spoon",name:"Spoon",keywords:["cutlery","kitchen","tableware"],skins:[{unified:"1f944",native:""}],version:3},hocho:{id:"hocho",name:"Hocho",keywords:["knife","kitchen","blade","cutlery","weapon"],skins:[{unified:"1f52a",native:""}],version:1},jar:{id:"jar",name:"Jar",keywords:["container","sauce"],skins:[{unified:"1fad9",native:""}],version:14},amphora:{id:"amphora",name:"Amphora",keywords:["vase","jar"],skins:[{unified:"1f3fa",native:""}],version:1},earth_africa:{id:"earth_africa",name:"Earth Globe Europe-Africa",keywords:["africa","showing","europe","world","international"],skins:[{unified:"1f30d",native:""}],version:1},earth_americas:{id:"earth_americas",name:"Earth Globe Americas",keywords:["showing","world","USA","international"],skins:[{unified:"1f30e",native:""}],version:1},earth_asia:{id:"earth_asia",name:"Earth Globe Asia-Australia",keywords:["asia","showing","australia","world","east","international"],skins:[{unified:"1f30f",native:""}],version:1},globe_with_meridians:{id:"globe_with_meridians",name:"Globe with Meridians",keywords:["earth","international","world","internet","interweb","i18n"],skins:[{unified:"1f310",native:""}],version:1},world_map:{id:"world_map",name:"World Map",keywords:["location","direction"],skins:[{unified:"1f5fa-fe0f",native:""}],version:1},japan:{id:"japan",name:"Map of Japan",keywords:["nation","country","japanese","asia"],skins:[{unified:"1f5fe",native:""}],version:1},compass:{id:"compass",name:"Compass",keywords:["magnetic","navigation","orienteering"],skins:[{unified:"1f9ed",native:""}],version:11},snow_capped_mountain:{id:"snow_capped_mountain",name:"Snow-Capped Mountain",keywords:["snow","capped","photo","nature","environment","winter","cold"],skins:[{unified:"1f3d4-fe0f",native:""}],version:1},mountain:{id:"mountain",name:"Mountain",keywords:["photo","nature","environment"],skins:[{unified:"26f0-fe0f",native:""}],version:1},volcano:{id:"volcano",name:"Volcano",keywords:["photo","nature","disaster"],skins:[{unified:"1f30b",native:""}],version:1},mount_fuji:{id:"mount_fuji",name:"Mount Fuji",keywords:["photo","mountain","nature","japanese"],skins:[{unified:"1f5fb",native:""}],version:1},camping:{id:"camping",name:"Camping",keywords:["photo","outdoors","tent"],skins:[{unified:"1f3d5-fe0f",native:""}],version:1},beach_with_umbrella:{id:"beach_with_umbrella",name:"Beach with Umbrella",keywords:["weather","summer","sunny","sand","mojito"],skins:[{unified:"1f3d6-fe0f",native:""}],version:1},desert:{id:"desert",name:"Desert",keywords:["photo","warm","saharah"],skins:[{unified:"1f3dc-fe0f",native:""}],version:1},desert_island:{id:"desert_island",name:"Desert Island",keywords:["photo","tropical","mojito"],skins:[{unified:"1f3dd-fe0f",native:""}],version:1},national_park:{id:"national_park",name:"National Park",keywords:["photo","environment","nature"],skins:[{unified:"1f3de-fe0f",native:""}],version:1},stadium:{id:"stadium",name:"Stadium",keywords:["photo","place","sports","concert","venue"],skins:[{unified:"1f3df-fe0f",native:""}],version:1},classical_building:{id:"classical_building",name:"Classical Building",keywords:["art","culture","history"],skins:[{unified:"1f3db-fe0f",native:""}],version:1},building_construction:{id:"building_construction",name:"Building Construction",keywords:["wip","working","progress"],skins:[{unified:"1f3d7-fe0f",native:""}],version:1},bricks:{id:"bricks",name:"Brick",keywords:["bricks"],skins:[{unified:"1f9f1",native:""}],version:11},rock:{id:"rock",name:"Rock",keywords:["stone"],skins:[{unified:"1faa8",native:""}],version:13},wood:{id:"wood",name:"Wood",keywords:["nature","timber","trunk"],skins:[{unified:"1fab5",native:""}],version:13},hut:{id:"hut",name:"Hut",keywords:["house","structure"],skins:[{unified:"1f6d6",native:""}],version:13},house_buildings:{id:"house_buildings",name:"Houses",keywords:["house","buildings","photo"],skins:[{unified:"1f3d8-fe0f",native:""}],version:1},derelict_house_building:{id:"derelict_house_building",name:"Derelict House",keywords:["building","abandon","evict","broken"],skins:[{unified:"1f3da-fe0f",native:""}],version:1},house:{id:"house",name:"House",keywords:["building","home"],skins:[{unified:"1f3e0",native:""}],version:1},house_with_garden:{id:"house_with_garden",name:"House with Garden",keywords:["home","plant","nature"],skins:[{unified:"1f3e1",native:""}],version:1},office:{id:"office",name:"Office Building",keywords:["bureau","work"],skins:[{unified:"1f3e2",native:""}],version:1},post_office:{id:"post_office",name:"Japanese Post Office",keywords:["building","envelope","communication"],skins:[{unified:"1f3e3",native:""}],version:1},european_post_office:{id:"european_post_office",name:"Post Office",keywords:["european","building","email"],skins:[{unified:"1f3e4",native:""}],version:1},hospital:{id:"hospital",name:"Hospital",keywords:["building","health","surgery","doctor"],skins:[{unified:"1f3e5",native:""}],version:1},bank:{id:"bank",name:"Bank",keywords:["building","money","sales","cash","business","enterprise"],skins:[{unified:"1f3e6",native:""}],version:1},hotel:{id:"hotel",name:"Hotel",keywords:["building","accomodation","checkin"],skins:[{unified:"1f3e8",native:""}],version:1},love_hotel:{id:"love_hotel",name:"Love Hotel",keywords:["like","affection","dating"],skins:[{unified:"1f3e9",native:""}],version:1},convenience_store:{id:"convenience_store",name:"Convenience Store",keywords:["building","shopping","groceries"],skins:[{unified:"1f3ea",native:""}],version:1},school:{id:"school",name:"School",keywords:["building","student","education","learn","teach"],skins:[{unified:"1f3eb",native:""}],version:1},department_store:{id:"department_store",name:"Department Store",keywords:["building","shopping","mall"],skins:[{unified:"1f3ec",native:""}],version:1},factory:{id:"factory",name:"Factory",keywords:["building","industry","pollution","smoke"],skins:[{unified:"1f3ed",native:""}],version:1},japanese_castle:{id:"japanese_castle",name:"Japanese Castle",keywords:["photo","building"],skins:[{unified:"1f3ef",native:""}],version:1},european_castle:{id:"european_castle",name:"Castle",keywords:["european","building","royalty","history"],skins:[{unified:"1f3f0",native:""}],version:1},wedding:{id:"wedding",name:"Wedding",keywords:["love","like","affection","couple","marriage","bride","groom"],skins:[{unified:"1f492",native:""}],version:1},tokyo_tower:{id:"tokyo_tower",name:"Tokyo Tower",keywords:["photo","japanese"],skins:[{unified:"1f5fc",native:""}],version:1},statue_of_liberty:{id:"statue_of_liberty",name:"Statue of Liberty",keywords:["american","newyork"],skins:[{unified:"1f5fd",native:""}],version:1},church:{id:"church",name:"Church",keywords:["building","religion","christ"],skins:[{unified:"26ea",native:""}],version:1},mosque:{id:"mosque",name:"Mosque",keywords:["islam","worship","minaret"],skins:[{unified:"1f54c",native:""}],version:1},hindu_temple:{id:"hindu_temple",name:"Hindu Temple",keywords:["religion"],skins:[{unified:"1f6d5",native:""}],version:12},synagogue:{id:"synagogue",name:"Synagogue",keywords:["judaism","worship","temple","jewish"],skins:[{unified:"1f54d",native:""}],version:1},shinto_shrine:{id:"shinto_shrine",name:"Shinto Shrine",keywords:["temple","japan","kyoto"],skins:[{unified:"26e9-fe0f",native:""}],version:1},kaaba:{id:"kaaba",name:"Kaaba",keywords:["mecca","mosque","islam"],skins:[{unified:"1f54b",native:""}],version:1},fountain:{id:"fountain",name:"Fountain",keywords:["photo","summer","water","fresh"],skins:[{unified:"26f2",native:""}],version:1},tent:{id:"tent",name:"Tent",keywords:["photo","camping","outdoors"],skins:[{unified:"26fa",native:""}],version:1},foggy:{id:"foggy",name:"Foggy",keywords:["photo","mountain"],skins:[{unified:"1f301",native:""}],version:1},night_with_stars:{id:"night_with_stars",name:"Night with Stars",keywords:["evening","city","downtown"],skins:[{unified:"1f303",native:""}],version:1},cityscape:{id:"cityscape",name:"Cityscape",keywords:["photo","night","life","urban"],skins:[{unified:"1f3d9-fe0f",native:""}],version:1},sunrise_over_mountains:{id:"sunrise_over_mountains",name:"Sunrise over Mountains",keywords:["view","vacation","photo"],skins:[{unified:"1f304",native:""}],version:1},sunrise:{id:"sunrise",name:"Sunrise",keywords:["morning","view","vacation","photo"],skins:[{unified:"1f305",native:""}],version:1},city_sunset:{id:"city_sunset",name:"Cityscape at Dusk",keywords:["city","sunset","photo","evening","sky","buildings"],skins:[{unified:"1f306",native:""}],version:1},city_sunrise:{id:"city_sunrise",name:"Sunset",keywords:["city","sunrise","photo","good","morning","dawn"],skins:[{unified:"1f307",native:""}],version:1},bridge_at_night:{id:"bridge_at_night",name:"Bridge at Night",keywords:["photo","sanfrancisco"],skins:[{unified:"1f309",native:""}],version:1},hotsprings:{id:"hotsprings",name:"Hot Springs",keywords:["hotsprings","bath","warm","relax"],skins:[{unified:"2668-fe0f",native:""}],version:1},carousel_horse:{id:"carousel_horse",name:"Carousel Horse",keywords:["photo","carnival"],skins:[{unified:"1f3a0",native:""}],version:1},playground_slide:{id:"playground_slide",name:"Playground Slide",keywords:["fun","park"],skins:[{unified:"1f6dd",native:""}],version:14},ferris_wheel:{id:"ferris_wheel",name:"Ferris Wheel",keywords:["photo","carnival","londoneye"],skins:[{unified:"1f3a1",native:""}],version:1},roller_coaster:{id:"roller_coaster",name:"Roller Coaster",keywords:["carnival","playground","photo","fun"],skins:[{unified:"1f3a2",native:""}],version:1},barber:{id:"barber",name:"Barber Pole",keywords:["hair","salon","style"],skins:[{unified:"1f488",native:""}],version:1},circus_tent:{id:"circus_tent",name:"Circus Tent",keywords:["festival","carnival","party"],skins:[{unified:"1f3aa",native:""}],version:1},steam_locomotive:{id:"steam_locomotive",name:"Locomotive",keywords:["steam","transportation","vehicle","train"],skins:[{unified:"1f682",native:""}],version:1},railway_car:{id:"railway_car",name:"Railway Car",keywords:["transportation","vehicle"],skins:[{unified:"1f683",native:""}],version:1},bullettrain_side:{id:"bullettrain_side",name:"High-Speed Train",keywords:["bullettrain","side","high","speed","transportation","vehicle"],skins:[{unified:"1f684",native:""}],version:1},bullettrain_front:{id:"bullettrain_front",name:"Bullet Train",keywords:["bullettrain","front","transportation","vehicle","speed","fast","public","travel"],skins:[{unified:"1f685",native:""}],version:1},train2:{id:"train2",name:"Train",keywords:["train2","transportation","vehicle"],skins:[{unified:"1f686",native:""}],version:1},metro:{id:"metro",name:"Metro",keywords:["transportation","blue","square","mrt","underground","tube"],skins:[{unified:"1f687",native:""}],version:1},light_rail:{id:"light_rail",name:"Light Rail",keywords:["transportation","vehicle"],skins:[{unified:"1f688",native:""}],version:1},station:{id:"station",name:"Station",keywords:["transportation","vehicle","public"],skins:[{unified:"1f689",native:""}],version:1},tram:{id:"tram",name:"Tram",keywords:["transportation","vehicle"],skins:[{unified:"1f68a",native:""}],version:1},monorail:{id:"monorail",name:"Monorail",keywords:["transportation","vehicle"],skins:[{unified:"1f69d",native:""}],version:1},mountain_railway:{id:"mountain_railway",name:"Mountain Railway",keywords:["transportation","vehicle"],skins:[{unified:"1f69e",native:""}],version:1},train:{id:"train",name:"Tram Car",keywords:["train","transportation","vehicle","carriage","public","travel"],skins:[{unified:"1f68b",native:""}],version:1},bus:{id:"bus",name:"Bus",keywords:["car","vehicle","transportation"],skins:[{unified:"1f68c",native:""}],version:1},oncoming_bus:{id:"oncoming_bus",name:"Oncoming Bus",keywords:["vehicle","transportation"],skins:[{unified:"1f68d",native:""}],version:1},trolleybus:{id:"trolleybus",name:"Trolleybus",keywords:["bart","transportation","vehicle"],skins:[{unified:"1f68e",native:""}],version:1},minibus:{id:"minibus",name:"Minibus",keywords:["vehicle","car","transportation"],skins:[{unified:"1f690",native:""}],version:1},ambulance:{id:"ambulance",name:"Ambulance",keywords:["health","911","hospital"],skins:[{unified:"1f691",native:""}],version:1},fire_engine:{id:"fire_engine",name:"Fire Engine",keywords:["transportation","cars","vehicle"],skins:[{unified:"1f692",native:""}],version:1},police_car:{id:"police_car",name:"Police Car",keywords:["vehicle","cars","transportation","law","legal","enforcement"],skins:[{unified:"1f693",native:""}],version:1},oncoming_police_car:{id:"oncoming_police_car",name:"Oncoming Police Car",keywords:["vehicle","law","legal","enforcement","911"],skins:[{unified:"1f694",native:""}],version:1},taxi:{id:"taxi",name:"Taxi",keywords:["uber","vehicle","cars","transportation"],skins:[{unified:"1f695",native:""}],version:1},oncoming_taxi:{id:"oncoming_taxi",name:"Oncoming Taxi",keywords:["vehicle","cars","uber"],skins:[{unified:"1f696",native:""}],version:1},car:{id:"car",name:"Automobile",keywords:["car","red","transportation","vehicle"],skins:[{unified:"1f697",native:""}],version:1},oncoming_automobile:{id:"oncoming_automobile",name:"Oncoming Automobile",keywords:["car","vehicle","transportation"],skins:[{unified:"1f698",native:""}],version:1},blue_car:{id:"blue_car",name:"Recreational Vehicle",keywords:["blue","car","sport","utility","transportation"],skins:[{unified:"1f699",native:""}],version:1},pickup_truck:{id:"pickup_truck",name:"Pickup Truck",keywords:["car","transportation"],skins:[{unified:"1f6fb",native:""}],version:13},truck:{id:"truck",name:"Delivery Truck",keywords:["cars","transportation"],skins:[{unified:"1f69a",native:""}],version:1},articulated_lorry:{id:"articulated_lorry",name:"Articulated Lorry",keywords:["vehicle","cars","transportation","express"],skins:[{unified:"1f69b",native:""}],version:1},tractor:{id:"tractor",name:"Tractor",keywords:["vehicle","car","farming","agriculture"],skins:[{unified:"1f69c",native:""}],version:1},racing_car:{id:"racing_car",name:"Racing Car",keywords:["sports","race","fast","formula","f1"],skins:[{unified:"1f3ce-fe0f",native:""}],version:1},racing_motorcycle:{id:"racing_motorcycle",name:"Motorcycle",keywords:["racing","race","sports","fast"],skins:[{unified:"1f3cd-fe0f",native:""}],version:1},motor_scooter:{id:"motor_scooter",name:"Motor Scooter",keywords:["vehicle","vespa","sasha"],skins:[{unified:"1f6f5",native:""}],version:3},manual_wheelchair:{id:"manual_wheelchair",name:"Manual Wheelchair",keywords:["accessibility"],skins:[{unified:"1f9bd",native:""}],version:12},motorized_wheelchair:{id:"motorized_wheelchair",name:"Motorized Wheelchair",keywords:["accessibility"],skins:[{unified:"1f9bc",native:""}],version:12},auto_rickshaw:{id:"auto_rickshaw",name:"Auto Rickshaw",keywords:["move","transportation"],skins:[{unified:"1f6fa",native:""}],version:12},bike:{id:"bike",name:"Bicycle",keywords:["bike","sports","exercise","hipster"],skins:[{unified:"1f6b2",native:""}],version:1},scooter:{id:"scooter",name:"Scooter",keywords:["kick","vehicle","razor"],skins:[{unified:"1f6f4",native:""}],version:3},skateboard:{id:"skateboard",name:"Skateboard",keywords:["board"],skins:[{unified:"1f6f9",native:""}],version:11},roller_skate:{id:"roller_skate",name:"Roller Skate",keywords:["footwear","sports"],skins:[{unified:"1f6fc",native:""}],version:13},busstop:{id:"busstop",name:"Bus Stop",keywords:["busstop","transportation","wait"],skins:[{unified:"1f68f",native:""}],version:1},motorway:{id:"motorway",name:"Motorway",keywords:["road","cupertino","interstate","highway"],skins:[{unified:"1f6e3-fe0f",native:""}],version:1},railway_track:{id:"railway_track",name:"Railway Track",keywords:["train","transportation"],skins:[{unified:"1f6e4-fe0f",native:""}],version:1},oil_drum:{id:"oil_drum",name:"Oil Drum",keywords:["barrell"],skins:[{unified:"1f6e2-fe0f",native:""}],version:1},fuelpump:{id:"fuelpump",name:"Fuel Pump",keywords:["fuelpump","gas","station","petroleum"],skins:[{unified:"26fd",native:""}],version:1},wheel:{id:"wheel",name:"Wheel",keywords:["car","transport"],skins:[{unified:"1f6de",native:""}],version:14},rotating_light:{id:"rotating_light",name:"Police Car Light",keywords:["rotating","ambulance","911","emergency","alert","error","pinged","law","legal"],skins:[{unified:"1f6a8",native:""}],version:1},traffic_light:{id:"traffic_light",name:"Horizontal Traffic Light",keywords:["transportation","signal"],skins:[{unified:"1f6a5",native:""}],version:1},vertical_traffic_light:{id:"vertical_traffic_light",name:"Vertical Traffic Light",keywords:["transportation","driving"],skins:[{unified:"1f6a6",native:""}],version:1},octagonal_sign:{id:"octagonal_sign",name:"Stop Sign",keywords:["octagonal"],skins:[{unified:"1f6d1",native:""}],version:3},construction:{id:"construction",name:"Construction",keywords:["wip","progress","caution","warning"],skins:[{unified:"1f6a7",native:""}],version:1},anchor:{id:"anchor",name:"Anchor",keywords:["ship","ferry","sea","boat"],skins:[{unified:"2693",native:""}],version:1},ring_buoy:{id:"ring_buoy",name:"Ring Buoy",keywords:["life","saver","preserver"],skins:[{unified:"1f6df",native:""}],version:14},boat:{id:"boat",name:"Sailboat",keywords:["boat","ship","summer","transportation","water","sailing"],skins:[{unified:"26f5",native:""}],version:1},canoe:{id:"canoe",name:"Canoe",keywords:["boat","paddle","water","ship"],skins:[{unified:"1f6f6",native:""}],version:3},speedboat:{id:"speedboat",name:"Speedboat",keywords:["ship","transportation","vehicle","summer"],skins:[{unified:"1f6a4",native:""}],version:1},passenger_ship:{id:"passenger_ship",name:"Passenger Ship",keywords:["yacht","cruise","ferry"],skins:[{unified:"1f6f3-fe0f",native:""}],version:1},ferry:{id:"ferry",name:"Ferry",keywords:["boat","ship","yacht"],skins:[{unified:"26f4-fe0f",native:""}],version:1},motor_boat:{id:"motor_boat",name:"Motor Boat",keywords:["ship"],skins:[{unified:"1f6e5-fe0f",native:""}],version:1},ship:{id:"ship",name:"Ship",keywords:["transportation","titanic","deploy"],skins:[{unified:"1f6a2",native:""}],version:1},airplane:{id:"airplane",name:"Airplane",keywords:["vehicle","transportation","flight","fly"],skins:[{unified:"2708-fe0f",native:""}],version:1},small_airplane:{id:"small_airplane",name:"Small Airplane",keywords:["flight","transportation","fly","vehicle"],skins:[{unified:"1f6e9-fe0f",native:""}],version:1},airplane_departure:{id:"airplane_departure",name:"Airplane Departure",keywords:["airport","flight","landing"],skins:[{unified:"1f6eb",native:""}],version:1},airplane_arriving:{id:"airplane_arriving",name:"Airplane Arrival",keywords:["arriving","airport","flight","boarding"],skins:[{unified:"1f6ec",native:""}],version:1},parachute:{id:"parachute",name:"Parachute",keywords:["fly","glide"],skins:[{unified:"1fa82",native:""}],version:12},seat:{id:"seat",name:"Seat",keywords:["sit","airplane","transport","bus","flight","fly"],skins:[{unified:"1f4ba",native:""}],version:1},helicopter:{id:"helicopter",name:"Helicopter",keywords:["transportation","vehicle","fly"],skins:[{unified:"1f681",native:""}],version:1},suspension_railway:{id:"suspension_railway",name:"Suspension Railway",keywords:["vehicle","transportation"],skins:[{unified:"1f69f",native:""}],version:1},mountain_cableway:{id:"mountain_cableway",name:"Mountain Cableway",keywords:["transportation","vehicle","ski"],skins:[{unified:"1f6a0",native:""}],version:1},aerial_tramway:{id:"aerial_tramway",name:"Aerial Tramway",keywords:["transportation","vehicle","ski"],skins:[{unified:"1f6a1",native:""}],version:1},satellite:{id:"satellite",name:"Satellite",keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],skins:[{unified:"1f6f0-fe0f",native:""}],version:1},rocket:{id:"rocket",name:"Rocket",keywords:["launch","ship","staffmode","NASA","outer","space","fly"],skins:[{unified:"1f680",native:""}],version:1},flying_saucer:{id:"flying_saucer",name:"Flying Saucer",keywords:["transportation","vehicle","ufo"],skins:[{unified:"1f6f8",native:""}],version:5},bellhop_bell:{id:"bellhop_bell",name:"Bellhop Bell",keywords:["service"],skins:[{unified:"1f6ce-fe0f",native:""}],version:1},luggage:{id:"luggage",name:"Luggage",keywords:["packing","travel"],skins:[{unified:"1f9f3",native:""}],version:11},hourglass:{id:"hourglass",name:"Hourglass",keywords:["done","time","clock","oldschool","limit","exam","quiz","test"],skins:[{unified:"231b",native:""}],version:1},hourglass_flowing_sand:{id:"hourglass_flowing_sand",name:"Hourglass Not Done",keywords:["flowing","sand","oldschool","time","countdown"],skins:[{unified:"23f3",native:""}],version:1},watch:{id:"watch",name:"Watch",keywords:["time","accessories"],skins:[{unified:"231a",native:""}],version:1},alarm_clock:{id:"alarm_clock",name:"Alarm Clock",keywords:["time","wake"],skins:[{unified:"23f0",native:""}],version:1},stopwatch:{id:"stopwatch",name:"Stopwatch",keywords:["time","deadline"],skins:[{unified:"23f1-fe0f",native:""}],version:1},timer_clock:{id:"timer_clock",name:"Timer Clock",keywords:["alarm"],skins:[{unified:"23f2-fe0f",native:""}],version:1},mantelpiece_clock:{id:"mantelpiece_clock",name:"Mantelpiece Clock",keywords:["time"],skins:[{unified:"1f570-fe0f",native:""}],version:1},clock12:{id:"clock12",name:"Twelve Oclock",keywords:["clock12","o","clock","12","00:00","0000","12:00","1200","time","noon","midnight","midday","late","early","schedule"],skins:[{unified:"1f55b",native:""}],version:1},clock1230:{id:"clock1230",name:"Twelve-Thirty",keywords:["clock1230","twelve","thirty","00:30","0030","12:30","1230","time","late","early","schedule"],skins:[{unified:"1f567",native:""}],version:1},clock1:{id:"clock1",name:"One Oclock",keywords:["clock1","o","clock","1","1:00","100","13:00","1300","time","late","early","schedule"],skins:[{unified:"1f550",native:""}],version:1},clock130:{id:"clock130",name:"One-Thirty",keywords:["clock130","one","thirty","1:30","130","13:30","1330","time","late","early","schedule"],skins:[{unified:"1f55c",native:""}],version:1},clock2:{id:"clock2",name:"Two Oclock",keywords:["clock2","o","clock","2","2:00","200","14:00","1400","time","late","early","schedule"],skins:[{unified:"1f551",native:""}],version:1},clock230:{id:"clock230",name:"Two-Thirty",keywords:["clock230","two","thirty","2:30","230","14:30","1430","time","late","early","schedule"],skins:[{unified:"1f55d",native:""}],version:1},clock3:{id:"clock3",name:"Three Oclock",keywords:["clock3","o","clock","3","3:00","300","15:00","1500","time","late","early","schedule"],skins:[{unified:"1f552",native:""}],version:1},clock330:{id:"clock330",name:"Three-Thirty",keywords:["clock330","three","thirty","3:30","330","15:30","1530","time","late","early","schedule"],skins:[{unified:"1f55e",native:""}],version:1},clock4:{id:"clock4",name:"Four Oclock",keywords:["clock4","o","clock","4","4:00","400","16:00","1600","time","late","early","schedule"],skins:[{unified:"1f553",native:""}],version:1},clock430:{id:"clock430",name:"Four-Thirty",keywords:["clock430","four","thirty","4:30","430","16:30","1630","time","late","early","schedule"],skins:[{unified:"1f55f",native:""}],version:1},clock5:{id:"clock5",name:"Five Oclock",keywords:["clock5","o","clock","5","5:00","500","17:00","1700","time","late","early","schedule"],skins:[{unified:"1f554",native:""}],version:1},clock530:{id:"clock530",name:"Five-Thirty",keywords:["clock530","five","thirty","5:30","530","17:30","1730","time","late","early","schedule"],skins:[{unified:"1f560",native:""}],version:1},clock6:{id:"clock6",name:"Six Oclock",keywords:["clock6","o","clock","6","6:00","600","18:00","1800","time","late","early","schedule","dawn","dusk"],skins:[{unified:"1f555",native:""}],version:1},clock630:{id:"clock630",name:"Six-Thirty",keywords:["clock630","six","thirty","6:30","630","18:30","1830","time","late","early","schedule"],skins:[{unified:"1f561",native:""}],version:1},clock7:{id:"clock7",name:"Seven Oclock",keywords:["clock7","o","clock","7","7:00","700","19:00","1900","time","late","early","schedule"],skins:[{unified:"1f556",native:""}],version:1},clock730:{id:"clock730",name:"Seven-Thirty",keywords:["clock730","seven","thirty","7:30","730","19:30","1930","time","late","early","schedule"],skins:[{unified:"1f562",native:""}],version:1},clock8:{id:"clock8",name:"Eight Oclock",keywords:["clock8","o","clock","8","8:00","800","20:00","2000","time","late","early","schedule"],skins:[{unified:"1f557",native:""}],version:1},clock830:{id:"clock830",name:"Eight-Thirty",keywords:["clock830","eight","thirty","8:30","830","20:30","2030","time","late","early","schedule"],skins:[{unified:"1f563",native:""}],version:1},clock9:{id:"clock9",name:"Nine Oclock",keywords:["clock9","o","clock","9","9:00","900","21:00","2100","time","late","early","schedule"],skins:[{unified:"1f558",native:""}],version:1},clock930:{id:"clock930",name:"Nine-Thirty",keywords:["clock930","nine","thirty","9:30","930","21:30","2130","time","late","early","schedule"],skins:[{unified:"1f564",native:""}],version:1},clock10:{id:"clock10",name:"Ten Oclock",keywords:["clock10","o","clock","10","10:00","1000","22:00","2200","time","late","early","schedule"],skins:[{unified:"1f559",native:""}],version:1},clock1030:{id:"clock1030",name:"Ten-Thirty",keywords:["clock1030","ten","thirty","10:30","1030","22:30","2230","time","late","early","schedule"],skins:[{unified:"1f565",native:""}],version:1},clock11:{id:"clock11",name:"Eleven Oclock",keywords:["clock11","o","clock","11","11:00","1100","23:00","2300","time","late","early","schedule"],skins:[{unified:"1f55a",native:""}],version:1},clock1130:{id:"clock1130",name:"Eleven-Thirty",keywords:["clock1130","eleven","thirty","11:30","1130","23:30","2330","time","late","early","schedule"],skins:[{unified:"1f566",native:""}],version:1},new_moon:{id:"new_moon",name:"New Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f311",native:""}],version:1},waxing_crescent_moon:{id:"waxing_crescent_moon",name:"Waxing Crescent Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f312",native:""}],version:1},first_quarter_moon:{id:"first_quarter_moon",name:"First Quarter Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f313",native:""}],version:1},moon:{id:"moon",name:"Waxing Gibbous Moon",keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],skins:[{unified:"1f314",native:""}],version:1},full_moon:{id:"full_moon",name:"Full Moon",keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f315",native:""}],version:1},waning_gibbous_moon:{id:"waning_gibbous_moon",name:"Waning Gibbous Moon",keywords:["nature","twilight","planet","space","night","evening","sleep","waxing"],skins:[{unified:"1f316",native:""}],version:1},last_quarter_moon:{id:"last_quarter_moon",name:"Last Quarter Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f317",native:""}],version:1},waning_crescent_moon:{id:"waning_crescent_moon",name:"Waning Crescent Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f318",native:""}],version:1},crescent_moon:{id:"crescent_moon",name:"Crescent Moon",keywords:["night","sleep","sky","evening","magic"],skins:[{unified:"1f319",native:""}],version:1},new_moon_with_face:{id:"new_moon_with_face",name:"New Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31a",native:""}],version:1},first_quarter_moon_with_face:{id:"first_quarter_moon_with_face",name:"First Quarter Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31b",native:""}],version:1},last_quarter_moon_with_face:{id:"last_quarter_moon_with_face",name:"Last Quarter Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31c",native:""}],version:1},thermometer:{id:"thermometer",name:"Thermometer",keywords:["weather","temperature","hot","cold"],skins:[{unified:"1f321-fe0f",native:""}],version:1},sunny:{id:"sunny",name:"Sun",keywords:["sunny","weather","nature","brightness","summer","beach","spring"],skins:[{unified:"2600-fe0f",native:""}],version:1},full_moon_with_face:{id:"full_moon_with_face",name:"Full Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31d",native:""}],version:1},sun_with_face:{id:"sun_with_face",name:"Sun with Face",keywords:["nature","morning","sky"],skins:[{unified:"1f31e",native:""}],version:1},ringed_planet:{id:"ringed_planet",name:"Ringed Planet",keywords:["outerspace"],skins:[{unified:"1fa90",native:""}],version:12},star:{id:"star",name:"Star",keywords:["night","yellow"],skins:[{unified:"2b50",native:""}],version:1},star2:{id:"star2",name:"Glowing Star",keywords:["star2","night","sparkle","awesome","good","magic"],skins:[{unified:"1f31f",native:""}],version:1},stars:{id:"stars",name:"Shooting Star",keywords:["stars","night","photo"],skins:[{unified:"1f320",native:""}],version:1},milky_way:{id:"milky_way",name:"Milky Way",keywords:["photo","space","stars"],skins:[{unified:"1f30c",native:""}],version:1},cloud:{id:"cloud",name:"Cloud",keywords:["weather","sky"],skins:[{unified:"2601-fe0f",native:""}],version:1},partly_sunny:{id:"partly_sunny",name:"Sun Behind Cloud",keywords:["partly","sunny","weather","nature","cloudy","morning","fall","spring"],skins:[{unified:"26c5",native:""}],version:1},thunder_cloud_and_rain:{id:"thunder_cloud_and_rain",name:"Cloud with Lightning and Rain",keywords:["thunder","weather"],skins:[{unified:"26c8-fe0f",native:""}],version:1},mostly_sunny:{id:"mostly_sunny",name:"Sun Behind Small Cloud",keywords:["mostly","sunny","weather"],skins:[{unified:"1f324-fe0f",native:""}],version:1},barely_sunny:{id:"barely_sunny",name:"Sun Behind Large Cloud",keywords:["barely","sunny","weather"],skins:[{unified:"1f325-fe0f",native:""}],version:1},partly_sunny_rain:{id:"partly_sunny_rain",name:"Sun Behind Rain Cloud",keywords:["partly","sunny","weather"],skins:[{unified:"1f326-fe0f",native:""}],version:1},rain_cloud:{id:"rain_cloud",name:"Cloud with Rain",keywords:["weather"],skins:[{unified:"1f327-fe0f",native:""}],version:1},snow_cloud:{id:"snow_cloud",name:"Cloud with Snow",keywords:["weather"],skins:[{unified:"1f328-fe0f",native:""}],version:1},lightning:{id:"lightning",name:"Cloud with Lightning",keywords:["weather","thunder"],skins:[{unified:"1f329-fe0f",native:""}],version:1},tornado:{id:"tornado",name:"Tornado",keywords:["cloud","weather","cyclone","twister"],skins:[{unified:"1f32a-fe0f",native:""}],version:1},fog:{id:"fog",name:"Fog",keywords:["weather"],skins:[{unified:"1f32b-fe0f",native:""}],version:1},wind_blowing_face:{id:"wind_blowing_face",name:"Wind Face",keywords:["blowing","gust","air"],skins:[{unified:"1f32c-fe0f",native:""}],version:1},cyclone:{id:"cyclone",name:"Cyclone",keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],skins:[{unified:"1f300",native:""}],version:1},rainbow:{id:"rainbow",name:"Rainbow",keywords:["nature","happy","unicorn","face","photo","sky","spring"],skins:[{unified:"1f308",native:""}],version:1},closed_umbrella:{id:"closed_umbrella",name:"Closed Umbrella",keywords:["weather","rain","drizzle"],skins:[{unified:"1f302",native:""}],version:1},umbrella:{id:"umbrella",name:"Umbrella",keywords:["weather","spring"],skins:[{unified:"2602-fe0f",native:""}],version:1},umbrella_with_rain_drops:{id:"umbrella_with_rain_drops",name:"Umbrella with Rain Drops",keywords:["rainy","weather","spring"],skins:[{unified:"2614",native:""}],version:1},umbrella_on_ground:{id:"umbrella_on_ground",name:"Umbrella on Ground",keywords:["weather","summer"],skins:[{unified:"26f1-fe0f",native:""}],version:1},zap:{id:"zap",name:"High Voltage",keywords:["zap","thunder","weather","lightning","bolt","fast"],skins:[{unified:"26a1",native:""}],version:1},snowflake:{id:"snowflake",name:"Snowflake",keywords:["winter","season","cold","weather","christmas","xmas"],skins:[{unified:"2744-fe0f",native:""}],version:1},snowman:{id:"snowman",name:"Snowman",keywords:["winter","season","cold","weather","christmas","xmas","frozen"],skins:[{unified:"2603-fe0f",native:""}],version:1},snowman_without_snow:{id:"snowman_without_snow",name:"Snowman Without Snow",keywords:["winter","season","cold","weather","christmas","xmas","frozen"],skins:[{unified:"26c4",native:""}],version:1},comet:{id:"comet",name:"Comet",keywords:["space"],skins:[{unified:"2604-fe0f",native:""}],version:1},fire:{id:"fire",name:"Fire",keywords:["hot","cook","flame"],skins:[{unified:"1f525",native:""}],version:1},droplet:{id:"droplet",name:"Droplet",keywords:["water","drip","faucet","spring"],skins:[{unified:"1f4a7",native:""}],version:1},ocean:{id:"ocean",name:"Water Wave",keywords:["ocean","sea","nature","tsunami","disaster"],skins:[{unified:"1f30a",native:""}],version:1},jack_o_lantern:{id:"jack_o_lantern",name:"Jack-O-Lantern",keywords:["jack","o","lantern","halloween","light","pumpkin","creepy","fall"],skins:[{unified:"1f383",native:""}],version:1},christmas_tree:{id:"christmas_tree",name:"Christmas Tree",keywords:["festival","vacation","december","xmas","celebration"],skins:[{unified:"1f384",native:""}],version:1},fireworks:{id:"fireworks",name:"Fireworks",keywords:["photo","festival","carnival","congratulations"],skins:[{unified:"1f386",native:""}],version:1},sparkler:{id:"sparkler",name:"Sparkler",keywords:["stars","night","shine"],skins:[{unified:"1f387",native:""}],version:1},firecracker:{id:"firecracker",name:"Firecracker",keywords:["dynamite","boom","explode","explosion","explosive"],skins:[{unified:"1f9e8",native:""}],version:11},sparkles:{id:"sparkles",name:"Sparkles",keywords:["stars","shine","shiny","cool","awesome","good","magic"],skins:[{unified:"2728",native:""}],version:1},balloon:{id:"balloon",name:"Balloon",keywords:["party","celebration","birthday","circus"],skins:[{unified:"1f388",native:""}],version:1},tada:{id:"tada",name:"Party Popper",keywords:["tada","congratulations","birthday","magic","circus","celebration"],skins:[{unified:"1f389",native:""}],version:1},confetti_ball:{id:"confetti_ball",name:"Confetti Ball",keywords:["festival","party","birthday","circus"],skins:[{unified:"1f38a",native:""}],version:1},tanabata_tree:{id:"tanabata_tree",name:"Tanabata Tree",keywords:["plant","nature","branch","summer","bamboo","wish","star","festival","tanzaku"],skins:[{unified:"1f38b",native:""}],version:1},bamboo:{id:"bamboo",name:"Pine Decoration",keywords:["bamboo","japanese","plant","nature","vegetable","panda","new","years"],skins:[{unified:"1f38d",native:""}],version:1},dolls:{id:"dolls",name:"Japanese Dolls",keywords:["toy","kimono"],skins:[{unified:"1f38e",native:""}],version:1},flags:{id:"flags",name:"Carp Streamer",keywords:["flags","fish","japanese","koinobori","banner"],skins:[{unified:"1f38f",native:""}],version:1},wind_chime:{id:"wind_chime",name:"Wind Chime",keywords:["nature","ding","spring","bell"],skins:[{unified:"1f390",native:""}],version:1},rice_scene:{id:"rice_scene",name:"Moon Viewing Ceremony",keywords:["rice","scene","photo","japan","asia","tsukimi"],skins:[{unified:"1f391",native:""}],version:1},red_envelope:{id:"red_envelope",name:"Red Envelope",keywords:["gift"],skins:[{unified:"1f9e7",native:""}],version:11},ribbon:{id:"ribbon",name:"Ribbon",keywords:["decoration","pink","girl","bowtie"],skins:[{unified:"1f380",native:""}],version:1},gift:{id:"gift",name:"Wrapped Gift",keywords:["present","birthday","christmas","xmas"],skins:[{unified:"1f381",native:""}],version:1},reminder_ribbon:{id:"reminder_ribbon",name:"Reminder Ribbon",keywords:["sports","cause","support","awareness"],skins:[{unified:"1f397-fe0f",native:""}],version:1},admission_tickets:{id:"admission_tickets",name:"Admission Tickets",keywords:["sports","concert","entrance"],skins:[{unified:"1f39f-fe0f",native:""}],version:1},ticket:{id:"ticket",name:"Ticket",keywords:["event","concert","pass"],skins:[{unified:"1f3ab",native:""}],version:1},medal:{id:"medal",name:"Military Medal",keywords:["award","winning","army"],skins:[{unified:"1f396-fe0f",native:""}],version:1},trophy:{id:"trophy",name:"Trophy",keywords:["win","award","contest","place","ftw","ceremony"],skins:[{unified:"1f3c6",native:""}],version:1},sports_medal:{id:"sports_medal",name:"Sports Medal",keywords:["award","winning"],skins:[{unified:"1f3c5",native:""}],version:1},first_place_medal:{id:"first_place_medal",name:"1st Place Medal",keywords:["first","award","winning"],skins:[{unified:"1f947",native:""}],version:3},second_place_medal:{id:"second_place_medal",name:"2nd Place Medal",keywords:["second","award"],skins:[{unified:"1f948",native:""}],version:3},third_place_medal:{id:"third_place_medal",name:"3rd Place Medal",keywords:["third","award"],skins:[{unified:"1f949",native:""}],version:3},soccer:{id:"soccer",name:"Soccer Ball",keywords:["sports","football"],skins:[{unified:"26bd",native:""}],version:1},baseball:{id:"baseball",name:"Baseball",keywords:["sports","balls"],skins:[{unified:"26be",native:""}],version:1},softball:{id:"softball",name:"Softball",keywords:["sports","balls"],skins:[{unified:"1f94e",native:""}],version:11},basketball:{id:"basketball",name:"Basketball",keywords:["sports","balls","NBA"],skins:[{unified:"1f3c0",native:""}],version:1},volleyball:{id:"volleyball",name:"Volleyball",keywords:["sports","balls"],skins:[{unified:"1f3d0",native:""}],version:1},football:{id:"football",name:"American Football",keywords:["sports","balls","NFL"],skins:[{unified:"1f3c8",native:""}],version:1},rugby_football:{id:"rugby_football",name:"Rugby Football",keywords:["sports","team"],skins:[{unified:"1f3c9",native:""}],version:1},tennis:{id:"tennis",name:"Tennis",keywords:["sports","balls","green"],skins:[{unified:"1f3be",native:""}],version:1},flying_disc:{id:"flying_disc",name:"Flying Disc",keywords:["sports","frisbee","ultimate"],skins:[{unified:"1f94f",native:""}],version:11},bowling:{id:"bowling",name:"Bowling",keywords:["sports","fun","play"],skins:[{unified:"1f3b3",native:""}],version:1},cricket_bat_and_ball:{id:"cricket_bat_and_ball",name:"Cricket Game",keywords:["bat","and","ball","sports"],skins:[{unified:"1f3cf",native:""}],version:1},field_hockey_stick_and_ball:{id:"field_hockey_stick_and_ball",name:"Field Hockey",keywords:["stick","and","ball","sports"],skins:[{unified:"1f3d1",native:""}],version:1},ice_hockey_stick_and_puck:{id:"ice_hockey_stick_and_puck",name:"Ice Hockey",keywords:["stick","and","puck","sports"],skins:[{unified:"1f3d2",native:""}],version:1},lacrosse:{id:"lacrosse",name:"Lacrosse",keywords:["sports","ball","stick"],skins:[{unified:"1f94d",native:""}],version:11},table_tennis_paddle_and_ball:{id:"table_tennis_paddle_and_ball",name:"Ping Pong",keywords:["table","tennis","paddle","and","ball","sports","pingpong"],skins:[{unified:"1f3d3",native:""}],version:1},badminton_racquet_and_shuttlecock:{id:"badminton_racquet_and_shuttlecock",name:"Badminton",keywords:["racquet","and","shuttlecock","sports"],skins:[{unified:"1f3f8",native:""}],version:1},boxing_glove:{id:"boxing_glove",name:"Boxing Glove",keywords:["sports","fighting"],skins:[{unified:"1f94a",native:""}],version:3},martial_arts_uniform:{id:"martial_arts_uniform",name:"Martial Arts Uniform",keywords:["judo","karate","taekwondo"],skins:[{unified:"1f94b",native:""}],version:3},goal_net:{id:"goal_net",name:"Goal Net",keywords:["sports"],skins:[{unified:"1f945",native:""}],version:3},golf:{id:"golf",name:"Flag in Hole",keywords:["golf","sports","business","summer"],skins:[{unified:"26f3",native:""}],version:1},ice_skate:{id:"ice_skate",name:"Ice Skate",keywords:["sports"],skins:[{unified:"26f8-fe0f",native:""}],version:1},fishing_pole_and_fish:{id:"fishing_pole_and_fish",name:"Fishing Pole",keywords:["and","fish","food","hobby","summer"],skins:[{unified:"1f3a3",native:""}],version:1},diving_mask:{id:"diving_mask",name:"Diving Mask",keywords:["sport","ocean"],skins:[{unified:"1f93f",native:""}],version:12},running_shirt_with_sash:{id:"running_shirt_with_sash",name:"Running Shirt",keywords:["with","sash","play","pageant"],skins:[{unified:"1f3bd",native:""}],version:1},ski:{id:"ski",name:"Skis",keywords:["ski","sports","winter","cold","snow"],skins:[{unified:"1f3bf",native:""}],version:1},sled:{id:"sled",name:"Sled",keywords:["sleigh","luge","toboggan"],skins:[{unified:"1f6f7",native:""}],version:5},curling_stone:{id:"curling_stone",name:"Curling Stone",keywords:["sports"],skins:[{unified:"1f94c",native:""}],version:5},dart:{id:"dart",name:"Bullseye",keywords:["dart","direct","hit","game","play","bar","target"],skins:[{unified:"1f3af",native:""}],version:1},"yo-yo":{id:"yo-yo",name:"Yo-Yo",keywords:["yo","toy"],skins:[{unified:"1fa80",native:""}],version:12},kite:{id:"kite",name:"Kite",keywords:["wind","fly"],skins:[{unified:"1fa81",native:""}],version:12},gun:{id:"gun",name:"Pistol",keywords:["gun","violence","weapon","revolver"],skins:[{unified:"1f52b",native:""}],version:1},"8ball":{id:"8ball",name:"Billiards",keywords:["8ball","pool","8","ball","hobby","game","luck","magic"],skins:[{unified:"1f3b1",native:""}],version:1},crystal_ball:{id:"crystal_ball",name:"Crystal Ball",keywords:["disco","party","magic","circus","fortune","teller"],skins:[{unified:"1f52e",native:""}],version:1},magic_wand:{id:"magic_wand",name:"Magic Wand",keywords:["supernature","power"],skins:[{unified:"1fa84",native:""}],version:13},video_game:{id:"video_game",name:"Video Game",keywords:["play","console","PS4","controller"],skins:[{unified:"1f3ae",native:""}],version:1},joystick:{id:"joystick",name:"Joystick",keywords:["game","play"],skins:[{unified:"1f579-fe0f",native:""}],version:1},slot_machine:{id:"slot_machine",name:"Slot Machine",keywords:["bet","gamble","vegas","fruit","luck","casino"],skins:[{unified:"1f3b0",native:""}],version:1},game_die:{id:"game_die",name:"Game Die",keywords:["dice","random","tabletop","play","luck"],skins:[{unified:"1f3b2",native:""}],version:1},jigsaw:{id:"jigsaw",name:"Puzzle Piece",keywords:["jigsaw","interlocking"],skins:[{unified:"1f9e9",native:""}],version:11},teddy_bear:{id:"teddy_bear",name:"Teddy Bear",keywords:["plush","stuffed"],skins:[{unified:"1f9f8",native:""}],version:11},pinata:{id:"pinata",name:"Pinata",keywords:["mexico","candy","celebration"],skins:[{unified:"1fa85",native:""}],version:13},mirror_ball:{id:"mirror_ball",name:"Mirror Ball",keywords:["disco","dance","party"],skins:[{unified:"1faa9",native:""}],version:14},nesting_dolls:{id:"nesting_dolls",name:"Nesting Dolls",keywords:["matryoshka","toy"],skins:[{unified:"1fa86",native:""}],version:13},spades:{id:"spades",name:"Spade Suit",keywords:["spades","poker","cards","suits","magic"],skins:[{unified:"2660-fe0f",native:""}],version:1},hearts:{id:"hearts",name:"Heart Suit",keywords:["hearts","poker","cards","magic","suits"],skins:[{unified:"2665-fe0f",native:""}],version:1},diamonds:{id:"diamonds",name:"Diamond Suit",keywords:["diamonds","poker","cards","magic","suits"],skins:[{unified:"2666-fe0f",native:""}],version:1},clubs:{id:"clubs",name:"Club Suit",keywords:["clubs","poker","cards","magic","suits"],skins:[{unified:"2663-fe0f",native:""}],version:1},chess_pawn:{id:"chess_pawn",name:"Chess Pawn",keywords:["expendable"],skins:[{unified:"265f-fe0f",native:""}],version:11},black_joker:{id:"black_joker",name:"Joker",keywords:["black","poker","cards","game","play","magic"],skins:[{unified:"1f0cf",native:""}],version:1},mahjong:{id:"mahjong",name:"Mahjong Red Dragon",keywords:["game","play","chinese","kanji"],skins:[{unified:"1f004",native:""}],version:1},flower_playing_cards:{id:"flower_playing_cards",name:"Flower Playing Cards",keywords:["game","sunset","red"],skins:[{unified:"1f3b4",native:""}],version:1},performing_arts:{id:"performing_arts",name:"Performing Arts",keywords:["acting","theater","drama"],skins:[{unified:"1f3ad",native:""}],version:1},frame_with_picture:{id:"frame_with_picture",name:"Framed Picture",keywords:["frame","with","photography"],skins:[{unified:"1f5bc-fe0f",native:""}],version:1},art:{id:"art",name:"Artist Palette",keywords:["art","design","paint","draw","colors"],skins:[{unified:"1f3a8",native:""}],version:1},thread:{id:"thread",name:"Thread",keywords:["needle","sewing","spool","string"],skins:[{unified:"1f9f5",native:""}],version:11},sewing_needle:{id:"sewing_needle",name:"Sewing Needle",keywords:["stitches"],skins:[{unified:"1faa1",native:""}],version:13},yarn:{id:"yarn",name:"Yarn",keywords:["ball","crochet","knit"],skins:[{unified:"1f9f6",native:""}],version:11},knot:{id:"knot",name:"Knot",keywords:["rope","scout"],skins:[{unified:"1faa2",native:""}],version:13},eyeglasses:{id:"eyeglasses",name:"Glasses",keywords:["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],skins:[{unified:"1f453",native:""}],version:1},dark_sunglasses:{id:"dark_sunglasses",name:"Sunglasses",keywords:["dark","face","cool","accessories"],skins:[{unified:"1f576-fe0f",native:""}],version:1},goggles:{id:"goggles",name:"Goggles",keywords:["eyes","protection","safety"],skins:[{unified:"1f97d",native:""}],version:11},lab_coat:{id:"lab_coat",name:"Lab Coat",keywords:["doctor","experiment","scientist","chemist"],skins:[{unified:"1f97c",native:""}],version:11},safety_vest:{id:"safety_vest",name:"Safety Vest",keywords:["protection"],skins:[{unified:"1f9ba",native:""}],version:12},necktie:{id:"necktie",name:"Necktie",keywords:["shirt","suitup","formal","fashion","cloth","business"],skins:[{unified:"1f454",native:""}],version:1},shirt:{id:"shirt",name:"T-Shirt",keywords:["shirt","tshirt","t","fashion","cloth","casual","tee"],skins:[{unified:"1f455",native:""}],version:1},jeans:{id:"jeans",name:"Jeans",keywords:["fashion","shopping"],skins:[{unified:"1f456",native:""}],version:1},scarf:{id:"scarf",name:"Scarf",keywords:["neck","winter","clothes"],skins:[{unified:"1f9e3",native:""}],version:5},gloves:{id:"gloves",name:"Gloves",keywords:["hands","winter","clothes"],skins:[{unified:"1f9e4",native:""}],version:5},coat:{id:"coat",name:"Coat",keywords:["jacket"],skins:[{unified:"1f9e5",native:""}],version:5},socks:{id:"socks",name:"Socks",keywords:["stockings","clothes"],skins:[{unified:"1f9e6",native:""}],version:5},dress:{id:"dress",name:"Dress",keywords:["clothes","fashion","shopping"],skins:[{unified:"1f457",native:""}],version:1},kimono:{id:"kimono",name:"Kimono",keywords:["dress","fashion","women","female","japanese"],skins:[{unified:"1f458",native:""}],version:1},sari:{id:"sari",name:"Sari",keywords:["dress"],skins:[{unified:"1f97b",native:""}],version:12},"one-piece_swimsuit":{id:"one-piece_swimsuit",name:"One-Piece Swimsuit",keywords:["one","piece","fashion"],skins:[{unified:"1fa71",native:""}],version:12},briefs:{id:"briefs",name:"Briefs",keywords:["clothing"],skins:[{unified:"1fa72",native:""}],version:12},shorts:{id:"shorts",name:"Shorts",keywords:["clothing"],skins:[{unified:"1fa73",native:""}],version:12},bikini:{id:"bikini",name:"Bikini",keywords:["swimming","female","woman","girl","fashion","beach","summer"],skins:[{unified:"1f459",native:""}],version:1},womans_clothes:{id:"womans_clothes",name:"Womans Clothes",keywords:["woman","s","fashion","shopping","bags","female"],skins:[{unified:"1f45a",native:""}],version:1},folding_hand_fan:{id:"folding_hand_fan",name:"Folding Hand Fan",keywords:["flamenco","hot"],skins:[{unified:"1faad",native:""}],version:15},purse:{id:"purse",name:"Purse",keywords:["fashion","accessories","money","sales","shopping"],skins:[{unified:"1f45b",native:""}],version:1},handbag:{id:"handbag",name:"Handbag",keywords:["fashion","accessory","accessories","shopping"],skins:[{unified:"1f45c",native:""}],version:1},pouch:{id:"pouch",name:"Pouch",keywords:["clutch","bag","accessories","shopping"],skins:[{unified:"1f45d",native:""}],version:1},shopping_bags:{id:"shopping_bags",name:"Shopping Bags",keywords:["mall","buy","purchase"],skins:[{unified:"1f6cd-fe0f",native:""}],version:1},school_satchel:{id:"school_satchel",name:"Backpack",keywords:["school","satchel","student","education","bag"],skins:[{unified:"1f392",native:""}],version:1},thong_sandal:{id:"thong_sandal",name:"Thong Sandal",keywords:["footwear","summer"],skins:[{unified:"1fa74",native:""}],version:13},mans_shoe:{id:"mans_shoe",name:"Mans Shoe",keywords:["man","s","fashion","male"],skins:[{unified:"1f45e",native:""}],version:1},athletic_shoe:{id:"athletic_shoe",name:"Running Shoe",keywords:["athletic","shoes","sports","sneakers"],skins:[{unified:"1f45f",native:""}],version:1},hiking_boot:{id:"hiking_boot",name:"Hiking Boot",keywords:["backpacking","camping"],skins:[{unified:"1f97e",native:""}],version:11},womans_flat_shoe:{id:"womans_flat_shoe",name:"Flat Shoe",keywords:["womans","ballet","slip","on","slipper"],skins:[{unified:"1f97f",native:""}],version:11},high_heel:{id:"high_heel",name:"High-Heeled Shoe",keywords:["high","heel","heeled","fashion","shoes","female","pumps","stiletto"],skins:[{unified:"1f460",native:""}],version:1},sandal:{id:"sandal",name:"Womans Sandal",keywords:["woman","s","shoes","fashion","flip","flops"],skins:[{unified:"1f461",native:""}],version:1},ballet_shoes:{id:"ballet_shoes",name:"Ballet Shoes",keywords:["dance"],skins:[{unified:"1fa70",native:""}],version:12},boot:{id:"boot",name:"Womans Boots",keywords:["boot","woman","s","shoes","fashion"],skins:[{unified:"1f462",native:""}],version:1},hair_pick:{id:"hair_pick",name:"Hair Pick",keywords:["afro","comb"],skins:[{unified:"1faae",native:""}],version:15},crown:{id:"crown",name:"Crown",keywords:["king","kod","leader","royalty","lord"],skins:[{unified:"1f451",native:""}],version:1},womans_hat:{id:"womans_hat",name:"Womans Hat",keywords:["woman","s","fashion","accessories","female","lady","spring"],skins:[{unified:"1f452",native:""}],version:1},tophat:{id:"tophat",name:"Top Hat",keywords:["tophat","magic","gentleman","classy","circus"],skins:[{unified:"1f3a9",native:""}],version:1},mortar_board:{id:"mortar_board",name:"Graduation Cap",keywords:["mortar","board","school","college","degree","university","hat","legal","learn","education"],skins:[{unified:"1f393",native:""}],version:1},billed_cap:{id:"billed_cap",name:"Billed Cap",keywords:["baseball"],skins:[{unified:"1f9e2",native:""}],version:5},military_helmet:{id:"military_helmet",name:"Military Helmet",keywords:["army","protection"],skins:[{unified:"1fa96",native:""}],version:13},helmet_with_white_cross:{id:"helmet_with_white_cross",name:"Rescue Workers Helmet",keywords:["with","white","cross","worker","s","construction","build"],skins:[{unified:"26d1-fe0f",native:""}],version:1},prayer_beads:{id:"prayer_beads",name:"Prayer Beads",keywords:["dhikr","religious"],skins:[{unified:"1f4ff",native:""}],version:1},lipstick:{id:"lipstick",name:"Lipstick",keywords:["female","girl","fashion","woman"],skins:[{unified:"1f484",native:""}],version:1},ring:{id:"ring",name:"Ring",keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],skins:[{unified:"1f48d",native:""}],version:1},gem:{id:"gem",name:"Gem Stone",keywords:["blue","ruby","diamond","jewelry"],skins:[{unified:"1f48e",native:""}],version:1},mute:{id:"mute",name:"Muted Speaker",keywords:["mute","sound","volume","silence","quiet"],skins:[{unified:"1f507",native:""}],version:1},speaker:{id:"speaker",name:"Speaker",keywords:["low","volume","sound","silence","broadcast"],skins:[{unified:"1f508",native:""}],version:1},sound:{id:"sound",name:"Speaker Medium Volume",keywords:["sound","broadcast"],skins:[{unified:"1f509",native:""}],version:1},loud_sound:{id:"loud_sound",name:"Speaker High Volume",keywords:["loud","sound","noise","noisy","broadcast"],skins:[{unified:"1f50a",native:""}],version:1},loudspeaker:{id:"loudspeaker",name:"Loudspeaker",keywords:["volume","sound"],skins:[{unified:"1f4e2",native:""}],version:1},mega:{id:"mega",name:"Megaphone",keywords:["mega","sound","speaker","volume"],skins:[{unified:"1f4e3",native:""}],version:1},postal_horn:{id:"postal_horn",name:"Postal Horn",keywords:["instrument","music"],skins:[{unified:"1f4ef",native:""}],version:1},bell:{id:"bell",name:"Bell",keywords:["sound","notification","christmas","xmas","chime"],skins:[{unified:"1f514",native:""}],version:1},no_bell:{id:"no_bell",name:"Bell with Slash",keywords:["no","sound","volume","mute","quiet","silent"],skins:[{unified:"1f515",native:""}],version:1},musical_score:{id:"musical_score",name:"Musical Score",keywords:["treble","clef","compose"],skins:[{unified:"1f3bc",native:""}],version:1},musical_note:{id:"musical_note",name:"Musical Note",keywords:["score","tone","sound"],skins:[{unified:"1f3b5",native:""}],version:1},notes:{id:"notes",name:"Musical Notes",keywords:["music","score"],skins:[{unified:"1f3b6",native:""}],version:1},studio_microphone:{id:"studio_microphone",name:"Studio Microphone",keywords:["sing","recording","artist","talkshow"],skins:[{unified:"1f399-fe0f",native:""}],version:1},level_slider:{id:"level_slider",name:"Level Slider",keywords:["scale"],skins:[{unified:"1f39a-fe0f",native:""}],version:1},control_knobs:{id:"control_knobs",name:"Control Knobs",keywords:["dial"],skins:[{unified:"1f39b-fe0f",native:""}],version:1},microphone:{id:"microphone",name:"Microphone",keywords:["sound","music","PA","sing","talkshow"],skins:[{unified:"1f3a4",native:""}],version:1},headphones:{id:"headphones",name:"Headphone",keywords:["headphones","music","score","gadgets"],skins:[{unified:"1f3a7",native:""}],version:1},radio:{id:"radio",name:"Radio",keywords:["communication","music","podcast","program"],skins:[{unified:"1f4fb",native:""}],version:1},saxophone:{id:"saxophone",name:"Saxophone",keywords:["music","instrument","jazz","blues"],skins:[{unified:"1f3b7",native:""}],version:1},accordion:{id:"accordion",name:"Accordion",keywords:["music"],skins:[{unified:"1fa97",native:""}],version:13},guitar:{id:"guitar",name:"Guitar",keywords:["music","instrument"],skins:[{unified:"1f3b8",native:""}],version:1},musical_keyboard:{id:"musical_keyboard",name:"Musical Keyboard",keywords:["piano","instrument","compose"],skins:[{unified:"1f3b9",native:""}],version:1},trumpet:{id:"trumpet",name:"Trumpet",keywords:["music","brass"],skins:[{unified:"1f3ba",native:""}],version:1},violin:{id:"violin",name:"Violin",keywords:["music","instrument","orchestra","symphony"],skins:[{unified:"1f3bb",native:""}],version:1},banjo:{id:"banjo",name:"Banjo",keywords:["music","instructment"],skins:[{unified:"1fa95",native:""}],version:12},drum_with_drumsticks:{id:"drum_with_drumsticks",name:"Drum",keywords:["with","drumsticks","music","instrument","snare"],skins:[{unified:"1f941",native:""}],version:3},long_drum:{id:"long_drum",name:"Long Drum",keywords:["music"],skins:[{unified:"1fa98",native:""}],version:13},maracas:{id:"maracas",name:"Maracas",keywords:["music","instrument","percussion"],skins:[{unified:"1fa87",native:""}],version:15},flute:{id:"flute",name:"Flute",keywords:["bamboo","music","instrument","pied","piper"],skins:[{unified:"1fa88",native:""}],version:15},iphone:{id:"iphone",name:"Mobile Phone",keywords:["iphone","technology","apple","gadgets","dial"],skins:[{unified:"1f4f1",native:""}],version:1},calling:{id:"calling",name:"Mobile Phone with Arrow",keywords:["calling","iphone","incoming"],skins:[{unified:"1f4f2",native:""}],version:1},phone:{id:"phone",name:"Telephone",keywords:["phone","technology","communication","dial"],skins:[{unified:"260e-fe0f",native:""}],version:1},telephone_receiver:{id:"telephone_receiver",name:"Telephone Receiver",keywords:["technology","communication","dial"],skins:[{unified:"1f4de",native:""}],version:1},pager:{id:"pager",name:"Pager",keywords:["bbcall","oldschool","90s"],skins:[{unified:"1f4df",native:""}],version:1},fax:{id:"fax",name:"Fax Machine",keywords:["communication","technology"],skins:[{unified:"1f4e0",native:""}],version:1},battery:{id:"battery",name:"Battery",keywords:["power","energy","sustain"],skins:[{unified:"1f50b",native:""}],version:1},low_battery:{id:"low_battery",name:"Low Battery",keywords:["drained","dead"],skins:[{unified:"1faab",native:""}],version:14},electric_plug:{id:"electric_plug",name:"Electric Plug",keywords:["charger","power"],skins:[{unified:"1f50c",native:""}],version:1},computer:{id:"computer",name:"Laptop",keywords:["computer","technology","screen","display","monitor"],skins:[{unified:"1f4bb",native:""}],version:1},desktop_computer:{id:"desktop_computer",name:"Desktop Computer",keywords:["technology","computing","screen"],skins:[{unified:"1f5a5-fe0f",native:""}],version:1},printer:{id:"printer",name:"Printer",keywords:["paper","ink"],skins:[{unified:"1f5a8-fe0f",native:""}],version:1},keyboard:{id:"keyboard",name:"Keyboard",keywords:["technology","computer","type","input","text"],skins:[{unified:"2328-fe0f",native:""}],version:1},three_button_mouse:{id:"three_button_mouse",name:"Computer Mouse",keywords:["three","button","click"],skins:[{unified:"1f5b1-fe0f",native:""}],version:1},trackball:{id:"trackball",name:"Trackball",keywords:["technology","trackpad"],skins:[{unified:"1f5b2-fe0f",native:""}],version:1},minidisc:{id:"minidisc",name:"Minidisc",keywords:["computer","disk","technology","record","data","90s"],skins:[{unified:"1f4bd",native:""}],version:1},floppy_disk:{id:"floppy_disk",name:"Floppy Disk",keywords:["oldschool","technology","save","90s","80s"],skins:[{unified:"1f4be",native:""}],version:1},cd:{id:"cd",name:"Optical Disc",keywords:["cd","disk","technology","dvd","90s"],skins:[{unified:"1f4bf",native:""}],version:1},dvd:{id:"dvd",name:"Dvd",keywords:["cd","disk","disc"],skins:[{unified:"1f4c0",native:""}],version:1},abacus:{id:"abacus",name:"Abacus",keywords:["calculation"],skins:[{unified:"1f9ee",native:""}],version:11},movie_camera:{id:"movie_camera",name:"Movie Camera",keywords:["film","record"],skins:[{unified:"1f3a5",native:""}],version:1},film_frames:{id:"film_frames",name:"Film Frames",keywords:["movie"],skins:[{unified:"1f39e-fe0f",native:""}],version:1},film_projector:{id:"film_projector",name:"Film Projector",keywords:["video","tape","record","movie"],skins:[{unified:"1f4fd-fe0f",native:""}],version:1},clapper:{id:"clapper",name:"Clapper Board",keywords:["movie","film","record"],skins:[{unified:"1f3ac",native:""}],version:1},tv:{id:"tv",name:"Television",keywords:["tv","technology","program","oldschool","show"],skins:[{unified:"1f4fa",native:""}],version:1},camera:{id:"camera",name:"Camera",keywords:["gadgets","photography"],skins:[{unified:"1f4f7",native:""}],version:1},camera_with_flash:{id:"camera_with_flash",name:"Camera with Flash",keywords:["photography","gadgets"],skins:[{unified:"1f4f8",native:""}],version:1},video_camera:{id:"video_camera",name:"Video Camera",keywords:["film","record"],skins:[{unified:"1f4f9",native:""}],version:1},vhs:{id:"vhs",name:"Videocassette",keywords:["vhs","record","video","oldschool","90s","80s"],skins:[{unified:"1f4fc",native:""}],version:1},mag:{id:"mag",name:"Magnifying Glass Tilted Left",keywords:["mag","search","zoom","find","detective"],skins:[{unified:"1f50d",native:""}],version:1},mag_right:{id:"mag_right",name:"Magnifying Glass Tilted Right",keywords:["mag","search","zoom","find","detective"],skins:[{unified:"1f50e",native:""}],version:1},candle:{id:"candle",name:"Candle",keywords:["fire","wax"],skins:[{unified:"1f56f-fe0f",native:""}],version:1},bulb:{id:"bulb",name:"Light Bulb",keywords:["electricity","idea"],skins:[{unified:"1f4a1",native:""}],version:1},flashlight:{id:"flashlight",name:"Flashlight",keywords:["dark","camping","sight","night"],skins:[{unified:"1f526",native:""}],version:1},izakaya_lantern:{id:"izakaya_lantern",name:"Izakaya Lantern",keywords:["red","paper","light","halloween","spooky"],skins:[{unified:"1f3ee",native:""}],version:1},diya_lamp:{id:"diya_lamp",name:"Diya Lamp",keywords:["lighting"],skins:[{unified:"1fa94",native:""}],version:12},notebook_with_decorative_cover:{id:"notebook_with_decorative_cover",name:"Notebook with Decorative Cover",keywords:["classroom","notes","record","paper","study"],skins:[{unified:"1f4d4",native:""}],version:1},closed_book:{id:"closed_book",name:"Closed Book",keywords:["read","library","knowledge","textbook","learn"],skins:[{unified:"1f4d5",native:""}],version:1},book:{id:"book",name:"Open Book",keywords:["read","library","knowledge","literature","learn","study"],skins:[{unified:"1f4d6",native:""}],version:1},green_book:{id:"green_book",name:"Green Book",keywords:["read","library","knowledge","study"],skins:[{unified:"1f4d7",native:""}],version:1},blue_book:{id:"blue_book",name:"Blue Book",keywords:["read","library","knowledge","learn","study"],skins:[{unified:"1f4d8",native:""}],version:1},orange_book:{id:"orange_book",name:"Orange Book",keywords:["read","library","knowledge","textbook","study"],skins:[{unified:"1f4d9",native:""}],version:1},books:{id:"books",name:"Books",keywords:["literature","library","study"],skins:[{unified:"1f4da",native:""}],version:1},notebook:{id:"notebook",name:"Notebook",keywords:["stationery","record","notes","paper","study"],skins:[{unified:"1f4d3",native:""}],version:1},ledger:{id:"ledger",name:"Ledger",keywords:["notes","paper"],skins:[{unified:"1f4d2",native:""}],version:1},page_with_curl:{id:"page_with_curl",name:"Page with Curl",keywords:["documents","office","paper"],skins:[{unified:"1f4c3",native:""}],version:1},scroll:{id:"scroll",name:"Scroll",keywords:["documents","ancient","history","paper"],skins:[{unified:"1f4dc",native:""}],version:1},page_facing_up:{id:"page_facing_up",name:"Page Facing Up",keywords:["documents","office","paper","information"],skins:[{unified:"1f4c4",native:""}],version:1},newspaper:{id:"newspaper",name:"Newspaper",keywords:["press","headline"],skins:[{unified:"1f4f0",native:""}],version:1},rolled_up_newspaper:{id:"rolled_up_newspaper",name:"Rolled-Up Newspaper",keywords:["rolled","up","press","headline"],skins:[{unified:"1f5de-fe0f",native:""}],version:1},bookmark_tabs:{id:"bookmark_tabs",name:"Bookmark Tabs",keywords:["favorite","save","order","tidy"],skins:[{unified:"1f4d1",native:""}],version:1},bookmark:{id:"bookmark",name:"Bookmark",keywords:["favorite","label","save"],skins:[{unified:"1f516",native:""}],version:1},label:{id:"label",name:"Label",keywords:["sale","tag"],skins:[{unified:"1f3f7-fe0f",native:""}],version:1},moneybag:{id:"moneybag",name:"Money Bag",keywords:["moneybag","dollar","payment","coins","sale"],skins:[{unified:"1f4b0",native:""}],version:1},coin:{id:"coin",name:"Coin",keywords:["money","currency"],skins:[{unified:"1fa99",native:""}],version:13},yen:{id:"yen",name:"Yen Banknote",keywords:["money","sales","japanese","dollar","currency"],skins:[{unified:"1f4b4",native:""}],version:1},dollar:{id:"dollar",name:"Dollar Banknote",keywords:["money","sales","bill","currency"],skins:[{unified:"1f4b5",native:""}],version:1},euro:{id:"euro",name:"Euro Banknote",keywords:["money","sales","dollar","currency"],skins:[{unified:"1f4b6",native:""}],version:1},pound:{id:"pound",name:"Pound Banknote",keywords:["british","sterling","money","sales","bills","uk","england","currency"],skins:[{unified:"1f4b7",native:""}],version:1},money_with_wings:{id:"money_with_wings",name:"Money with Wings",keywords:["dollar","bills","payment","sale"],skins:[{unified:"1f4b8",native:""}],version:1},credit_card:{id:"credit_card",name:"Credit Card",keywords:["money","sales","dollar","bill","payment","shopping"],skins:[{unified:"1f4b3",native:""}],version:1},receipt:{id:"receipt",name:"Receipt",keywords:["accounting","expenses"],skins:[{unified:"1f9fe",native:""}],version:11},chart:{id:"chart",name:"Chart Increasing with Yen",keywords:["green","square","graph","presentation","stats"],skins:[{unified:"1f4b9",native:""}],version:1},email:{id:"email",name:"Envelope",keywords:["email","letter","postal","inbox","communication"],skins:[{unified:"2709-fe0f",native:""}],version:1},"e-mail":{id:"e-mail",name:"E-Mail",keywords:["e","mail","communication","inbox"],skins:[{unified:"1f4e7",native:""}],version:1},incoming_envelope:{id:"incoming_envelope",name:"Incoming Envelope",keywords:["email","inbox"],skins:[{unified:"1f4e8",native:""}],version:1},envelope_with_arrow:{id:"envelope_with_arrow",name:"Envelope with Arrow",keywords:["email","communication"],skins:[{unified:"1f4e9",native:""}],version:1},outbox_tray:{id:"outbox_tray",name:"Outbox Tray",keywords:["inbox","email"],skins:[{unified:"1f4e4",native:""}],version:1},inbox_tray:{id:"inbox_tray",name:"Inbox Tray",keywords:["email","documents"],skins:[{unified:"1f4e5",native:""}],version:1},package:{id:"package",name:"Package",keywords:["mail","gift","cardboard","box","moving"],skins:[{unified:"1f4e6",native:""}],version:1},mailbox:{id:"mailbox",name:"Closed Mailbox with Raised Flag",keywords:["email","inbox","communication"],skins:[{unified:"1f4eb",native:""}],version:1},mailbox_closed:{id:"mailbox_closed",name:"Closed Mailbox with Lowered Flag",keywords:["email","communication","inbox"],skins:[{unified:"1f4ea",native:""}],version:1},mailbox_with_mail:{id:"mailbox_with_mail",name:"Open Mailbox with Raised Flag",keywords:["mail","email","inbox","communication"],skins:[{unified:"1f4ec",native:""}],version:1},mailbox_with_no_mail:{id:"mailbox_with_no_mail",name:"Open Mailbox with Lowered Flag",keywords:["no","mail","email","inbox"],skins:[{unified:"1f4ed",native:""}],version:1},postbox:{id:"postbox",name:"Postbox",keywords:["email","letter","envelope"],skins:[{unified:"1f4ee",native:""}],version:1},ballot_box_with_ballot:{id:"ballot_box_with_ballot",name:"Ballot Box with Ballot",keywords:["election","vote"],skins:[{unified:"1f5f3-fe0f",native:""}],version:1},pencil2:{id:"pencil2",name:"Pencil",keywords:["pencil2","stationery","write","paper","writing","school","study"],skins:[{unified:"270f-fe0f",native:""}],version:1},black_nib:{id:"black_nib",name:"Black Nib",keywords:["pen","stationery","writing","write"],skins:[{unified:"2712-fe0f",native:""}],version:1},lower_left_fountain_pen:{id:"lower_left_fountain_pen",name:"Fountain Pen",keywords:["lower","left","stationery","writing","write"],skins:[{unified:"1f58b-fe0f",native:""}],version:1},lower_left_ballpoint_pen:{id:"lower_left_ballpoint_pen",name:"Pen",keywords:["lower","left","ballpoint","stationery","writing","write"],skins:[{unified:"1f58a-fe0f",native:""}],version:1},lower_left_paintbrush:{id:"lower_left_paintbrush",name:"Paintbrush",keywords:["lower","left","drawing","creativity","art"],skins:[{unified:"1f58c-fe0f",native:""}],version:1},lower_left_crayon:{id:"lower_left_crayon",name:"Crayon",keywords:["lower","left","drawing","creativity"],skins:[{unified:"1f58d-fe0f",native:""}],version:1},memo:{id:"memo",name:"Memo",keywords:["pencil","write","documents","stationery","paper","writing","legal","exam","quiz","test","study","compose"],skins:[{unified:"1f4dd",native:""}],version:1},briefcase:{id:"briefcase",name:"Briefcase",keywords:["business","documents","work","law","legal","job","career"],skins:[{unified:"1f4bc",native:""}],version:1},file_folder:{id:"file_folder",name:"File Folder",keywords:["documents","business","office"],skins:[{unified:"1f4c1",native:""}],version:1},open_file_folder:{id:"open_file_folder",name:"Open File Folder",keywords:["documents","load"],skins:[{unified:"1f4c2",native:""}],version:1},card_index_dividers:{id:"card_index_dividers",name:"Card Index Dividers",keywords:["organizing","business","stationery"],skins:[{unified:"1f5c2-fe0f",native:""}],version:1},date:{id:"date",name:"Calendar",keywords:["date","schedule"],skins:[{unified:"1f4c5",native:""}],version:1},calendar:{id:"calendar",name:"Tear-off Calendar",keywords:["tear","off","schedule","date","planning"],skins:[{unified:"1f4c6",native:""}],version:1},spiral_note_pad:{id:"spiral_note_pad",name:"Spiral Notepad",keywords:["note","pad","memo","stationery"],skins:[{unified:"1f5d2-fe0f",native:""}],version:1},spiral_calendar_pad:{id:"spiral_calendar_pad",name:"Spiral Calendar",keywords:["pad","date","schedule","planning"],skins:[{unified:"1f5d3-fe0f",native:""}],version:1},card_index:{id:"card_index",name:"Card Index",keywords:["business","stationery"],skins:[{unified:"1f4c7",native:""}],version:1},chart_with_upwards_trend:{id:"chart_with_upwards_trend",name:"Chart Increasing",keywords:["with","upwards","trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],skins:[{unified:"1f4c8",native:""}],version:1},chart_with_downwards_trend:{id:"chart_with_downwards_trend",name:"Chart Decreasing",keywords:["with","downwards","trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],skins:[{unified:"1f4c9",native:""}],version:1},bar_chart:{id:"bar_chart",name:"Bar Chart",keywords:["graph","presentation","stats"],skins:[{unified:"1f4ca",native:""}],version:1},clipboard:{id:"clipboard",name:"Clipboard",keywords:["stationery","documents"],skins:[{unified:"1f4cb",native:""}],version:1},pushpin:{id:"pushpin",name:"Pushpin",keywords:["stationery","mark","here"],skins:[{unified:"1f4cc",native:""}],version:1},round_pushpin:{id:"round_pushpin",name:"Round Pushpin",keywords:["stationery","location","map","here"],skins:[{unified:"1f4cd",native:""}],version:1},paperclip:{id:"paperclip",name:"Paperclip",keywords:["documents","stationery"],skins:[{unified:"1f4ce",native:""}],version:1},linked_paperclips:{id:"linked_paperclips",name:"Linked Paperclips",keywords:["documents","stationery"],skins:[{unified:"1f587-fe0f",native:""}],version:1},straight_ruler:{id:"straight_ruler",name:"Straight Ruler",keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],skins:[{unified:"1f4cf",native:""}],version:1},triangular_ruler:{id:"triangular_ruler",name:"Triangular Ruler",keywords:["stationery","math","architect","sketch"],skins:[{unified:"1f4d0",native:""}],version:1},scissors:{id:"scissors",name:"Scissors",keywords:["stationery","cut"],skins:[{unified:"2702-fe0f",native:""}],version:1},card_file_box:{id:"card_file_box",name:"Card File Box",keywords:["business","stationery"],skins:[{unified:"1f5c3-fe0f",native:""}],version:1},file_cabinet:{id:"file_cabinet",name:"File Cabinet",keywords:["filing","organizing"],skins:[{unified:"1f5c4-fe0f",native:""}],version:1},wastebasket:{id:"wastebasket",name:"Wastebasket",keywords:["bin","trash","rubbish","garbage","toss"],skins:[{unified:"1f5d1-fe0f",native:""}],version:1},lock:{id:"lock",name:"Lock",keywords:["locked","security","password","padlock"],skins:[{unified:"1f512",native:""}],version:1},unlock:{id:"unlock",name:"Unlocked",keywords:["unlock","privacy","security"],skins:[{unified:"1f513",native:""}],version:1},lock_with_ink_pen:{id:"lock_with_ink_pen",name:"Locked with Pen",keywords:["lock","ink","security","secret"],skins:[{unified:"1f50f",native:""}],version:1},closed_lock_with_key:{id:"closed_lock_with_key",name:"Locked with Key",keywords:["closed","lock","security","privacy"],skins:[{unified:"1f510",native:""}],version:1},key:{id:"key",name:"Key",keywords:["lock","door","password"],skins:[{unified:"1f511",native:""}],version:1},old_key:{id:"old_key",name:"Old Key",keywords:["lock","door","password"],skins:[{unified:"1f5dd-fe0f",native:""}],version:1},hammer:{id:"hammer",name:"Hammer",keywords:["tools","build","create"],skins:[{unified:"1f528",native:""}],version:1},axe:{id:"axe",name:"Axe",keywords:["tool","chop","cut"],skins:[{unified:"1fa93",native:""}],version:12},pick:{id:"pick",name:"Pick",keywords:["tools","dig"],skins:[{unified:"26cf-fe0f",native:""}],version:1},hammer_and_pick:{id:"hammer_and_pick",name:"Hammer and Pick",keywords:["tools","build","create"],skins:[{unified:"2692-fe0f",native:""}],version:1},hammer_and_wrench:{id:"hammer_and_wrench",name:"Hammer and Wrench",keywords:["tools","build","create"],skins:[{unified:"1f6e0-fe0f",native:""}],version:1},dagger_knife:{id:"dagger_knife",name:"Dagger",keywords:["knife","weapon"],skins:[{unified:"1f5e1-fe0f",native:""}],version:1},crossed_swords:{id:"crossed_swords",name:"Crossed Swords",keywords:["weapon"],skins:[{unified:"2694-fe0f",native:""}],version:1},bomb:{id:"bomb",name:"Bomb",keywords:["boom","explode","explosion","terrorism"],skins:[{unified:"1f4a3",native:""}],version:1},boomerang:{id:"boomerang",name:"Boomerang",keywords:["weapon"],skins:[{unified:"1fa83",native:""}],version:13},bow_and_arrow:{id:"bow_and_arrow",name:"Bow and Arrow",keywords:["sports"],skins:[{unified:"1f3f9",native:""}],version:1},shield:{id:"shield",name:"Shield",keywords:["protection","security"],skins:[{unified:"1f6e1-fe0f",native:""}],version:1},carpentry_saw:{id:"carpentry_saw",name:"Carpentry Saw",keywords:["cut","chop"],skins:[{unified:"1fa9a",native:""}],version:13},wrench:{id:"wrench",name:"Wrench",keywords:["tools","diy","ikea","fix","maintainer"],skins:[{unified:"1f527",native:""}],version:1},screwdriver:{id:"screwdriver",name:"Screwdriver",keywords:["tools"],skins:[{unified:"1fa9b",native:""}],version:13},nut_and_bolt:{id:"nut_and_bolt",name:"Nut and Bolt",keywords:["handy","tools","fix"],skins:[{unified:"1f529",native:""}],version:1},gear:{id:"gear",name:"Gear",keywords:["cog"],skins:[{unified:"2699-fe0f",native:""}],version:1},compression:{id:"compression",name:"Clamp",keywords:["compression","tool"],skins:[{unified:"1f5dc-fe0f",native:""}],version:1},scales:{id:"scales",name:"Balance Scale",keywords:["scales","law","fairness","weight"],skins:[{unified:"2696-fe0f",native:""}],version:1},probing_cane:{id:"probing_cane",name:"White Cane",keywords:["probing","accessibility"],skins:[{unified:"1f9af",native:""}],version:12},link:{id:"link",name:"Link",keywords:["rings","url"],skins:[{unified:"1f517",native:""}],version:1},chains:{id:"chains",name:"Chains",keywords:["lock","arrest"],skins:[{unified:"26d3-fe0f",native:""}],version:1},hook:{id:"hook",name:"Hook",keywords:["tools"],skins:[{unified:"1fa9d",native:""}],version:13},toolbox:{id:"toolbox",name:"Toolbox",keywords:["tools","diy","fix","maintainer","mechanic"],skins:[{unified:"1f9f0",native:""}],version:11},magnet:{id:"magnet",name:"Magnet",keywords:["attraction","magnetic"],skins:[{unified:"1f9f2",native:""}],version:11},ladder:{id:"ladder",name:"Ladder",keywords:["tools"],skins:[{unified:"1fa9c",native:""}],version:13},alembic:{id:"alembic",name:"Alembic",keywords:["distilling","science","experiment","chemistry"],skins:[{unified:"2697-fe0f",native:""}],version:1},test_tube:{id:"test_tube",name:"Test Tube",keywords:["chemistry","experiment","lab","science"],skins:[{unified:"1f9ea",native:""}],version:11},petri_dish:{id:"petri_dish",name:"Petri Dish",keywords:["bacteria","biology","culture","lab"],skins:[{unified:"1f9eb",native:""}],version:11},dna:{id:"dna",name:"Dna",keywords:["biologist","genetics","life"],skins:[{unified:"1f9ec",native:""}],version:11},microscope:{id:"microscope",name:"Microscope",keywords:["laboratory","experiment","zoomin","science","study"],skins:[{unified:"1f52c",native:""}],version:1},telescope:{id:"telescope",name:"Telescope",keywords:["stars","space","zoom","science","astronomy"],skins:[{unified:"1f52d",native:""}],version:1},satellite_antenna:{id:"satellite_antenna",name:"Satellite Antenna",keywords:["communication","future","radio","space"],skins:[{unified:"1f4e1",native:""}],version:1},syringe:{id:"syringe",name:"Syringe",keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],skins:[{unified:"1f489",native:""}],version:1},drop_of_blood:{id:"drop_of_blood",name:"Drop of Blood",keywords:["period","hurt","harm","wound"],skins:[{unified:"1fa78",native:""}],version:12},pill:{id:"pill",name:"Pill",keywords:["health","medicine","doctor","pharmacy","drug"],skins:[{unified:"1f48a",native:""}],version:1},adhesive_bandage:{id:"adhesive_bandage",name:"Adhesive Bandage",keywords:["heal"],skins:[{unified:"1fa79",native:""}],version:12},crutch:{id:"crutch",name:"Crutch",keywords:["accessibility","assist"],skins:[{unified:"1fa7c",native:""}],version:14},stethoscope:{id:"stethoscope",name:"Stethoscope",keywords:["health"],skins:[{unified:"1fa7a",native:""}],version:12},"x-ray":{id:"x-ray",name:"X-Ray",keywords:["x","ray","skeleton","medicine"],skins:[{unified:"1fa7b",native:""}],version:14},door:{id:"door",name:"Door",keywords:["house","entry","exit"],skins:[{unified:"1f6aa",native:""}],version:1},elevator:{id:"elevator",name:"Elevator",keywords:["lift"],skins:[{unified:"1f6d7",native:""}],version:13},mirror:{id:"mirror",name:"Mirror",keywords:["reflection"],skins:[{unified:"1fa9e",native:""}],version:13},window:{id:"window",name:"Window",keywords:["scenery"],skins:[{unified:"1fa9f",native:""}],version:13},bed:{id:"bed",name:"Bed",keywords:["sleep","rest"],skins:[{unified:"1f6cf-fe0f",native:""}],version:1},couch_and_lamp:{id:"couch_and_lamp",name:"Couch and Lamp",keywords:["read","chill"],skins:[{unified:"1f6cb-fe0f",native:""}],version:1},chair:{id:"chair",name:"Chair",keywords:["sit","furniture"],skins:[{unified:"1fa91",native:""}],version:12},toilet:{id:"toilet",name:"Toilet",keywords:["restroom","wc","washroom","bathroom","potty"],skins:[{unified:"1f6bd",native:""}],version:1},plunger:{id:"plunger",name:"Plunger",keywords:["toilet"],skins:[{unified:"1faa0",native:""}],version:13},shower:{id:"shower",name:"Shower",keywords:["clean","water","bathroom"],skins:[{unified:"1f6bf",native:""}],version:1},bathtub:{id:"bathtub",name:"Bathtub",keywords:["clean","shower","bathroom"],skins:[{unified:"1f6c1",native:""}],version:1},mouse_trap:{id:"mouse_trap",name:"Mouse Trap",keywords:["cheese"],skins:[{unified:"1faa4",native:""}],version:13},razor:{id:"razor",name:"Razor",keywords:["cut"],skins:[{unified:"1fa92",native:""}],version:12},lotion_bottle:{id:"lotion_bottle",name:"Lotion Bottle",keywords:["moisturizer","sunscreen"],skins:[{unified:"1f9f4",native:""}],version:11},safety_pin:{id:"safety_pin",name:"Safety Pin",keywords:["diaper"],skins:[{unified:"1f9f7",native:""}],version:11},broom:{id:"broom",name:"Broom",keywords:["cleaning","sweeping","witch"],skins:[{unified:"1f9f9",native:""}],version:11},basket:{id:"basket",name:"Basket",keywords:["laundry"],skins:[{unified:"1f9fa",native:""}],version:11},roll_of_paper:{id:"roll_of_paper",name:"Roll of Paper",keywords:[],skins:[{unified:"1f9fb",native:""}],version:11},bucket:{id:"bucket",name:"Bucket",keywords:["water","container"],skins:[{unified:"1faa3",native:""}],version:13},soap:{id:"soap",name:"Soap",keywords:["bar","bathing","cleaning","lather"],skins:[{unified:"1f9fc",native:""}],version:11},bubbles:{id:"bubbles",name:"Bubbles",keywords:["soap","fun","carbonation","sparkling"],skins:[{unified:"1fae7",native:""}],version:14},toothbrush:{id:"toothbrush",name:"Toothbrush",keywords:["hygiene","dental"],skins:[{unified:"1faa5",native:""}],version:13},sponge:{id:"sponge",name:"Sponge",keywords:["absorbing","cleaning","porous"],skins:[{unified:"1f9fd",native:""}],version:11},fire_extinguisher:{id:"fire_extinguisher",name:"Fire Extinguisher",keywords:["quench"],skins:[{unified:"1f9ef",native:""}],version:11},shopping_trolley:{id:"shopping_trolley",name:"Shopping Cart",keywords:["trolley"],skins:[{unified:"1f6d2",native:""}],version:3},smoking:{id:"smoking",name:"Cigarette",keywords:["smoking","kills","tobacco","joint","smoke"],skins:[{unified:"1f6ac",native:""}],version:1},coffin:{id:"coffin",name:"Coffin",keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],skins:[{unified:"26b0-fe0f",native:""}],version:1},headstone:{id:"headstone",name:"Headstone",keywords:["death","rip","grave"],skins:[{unified:"1faa6",native:""}],version:13},funeral_urn:{id:"funeral_urn",name:"Funeral Urn",keywords:["dead","die","death","rip","ashes"],skins:[{unified:"26b1-fe0f",native:""}],version:1},nazar_amulet:{id:"nazar_amulet",name:"Nazar Amulet",keywords:["bead","charm"],skins:[{unified:"1f9ff",native:""}],version:11},hamsa:{id:"hamsa",name:"Hamsa",keywords:["religion","protection"],skins:[{unified:"1faac",native:""}],version:14},moyai:{id:"moyai",name:"Moai",keywords:["moyai","rock","easter","island"],skins:[{unified:"1f5ff",native:""}],version:1},placard:{id:"placard",name:"Placard",keywords:["announcement"],skins:[{unified:"1faa7",native:""}],version:13},identification_card:{id:"identification_card",name:"Identification Card",keywords:["document"],skins:[{unified:"1faaa",native:""}],version:14},atm:{id:"atm",name:"Atm Sign",keywords:["money","sales","cash","blue","square","payment","bank"],skins:[{unified:"1f3e7",native:""}],version:1},put_litter_in_its_place:{id:"put_litter_in_its_place",name:"Litter in Bin Sign",keywords:["put","its","place","blue","square","human","info"],skins:[{unified:"1f6ae",native:""}],version:1},potable_water:{id:"potable_water",name:"Potable Water",keywords:["blue","square","liquid","restroom","cleaning","faucet"],skins:[{unified:"1f6b0",native:""}],version:1},wheelchair:{id:"wheelchair",name:"Wheelchair Symbol",keywords:["blue","square","disabled","accessibility"],skins:[{unified:"267f",native:""}],version:1},mens:{id:"mens",name:"Mens Room",keywords:["mens","men","s","toilet","restroom","wc","blue","square","gender","male"],skins:[{unified:"1f6b9",native:""}],version:1},womens:{id:"womens",name:"Womens Room",keywords:["womens","women","s","purple","square","woman","female","toilet","loo","restroom","gender"],skins:[{unified:"1f6ba",native:""}],version:1},restroom:{id:"restroom",name:"Restroom",keywords:["blue","square","toilet","refresh","wc","gender"],skins:[{unified:"1f6bb",native:""}],version:1},baby_symbol:{id:"baby_symbol",name:"Baby Symbol",keywords:["orange","square","child"],skins:[{unified:"1f6bc",native:""}],version:1},wc:{id:"wc",name:"Water Closet",keywords:["wc","toilet","restroom","blue","square"],skins:[{unified:"1f6be",native:""}],version:1},passport_control:{id:"passport_control",name:"Passport Control",keywords:["custom","blue","square"],skins:[{unified:"1f6c2",native:""}],version:1},customs:{id:"customs",name:"Customs",keywords:["passport","border","blue","square"],skins:[{unified:"1f6c3",native:""}],version:1},baggage_claim:{id:"baggage_claim",name:"Baggage Claim",keywords:["blue","square","airport","transport"],skins:[{unified:"1f6c4",native:""}],version:1},left_luggage:{id:"left_luggage",name:"Left Luggage",keywords:["blue","square","travel"],skins:[{unified:"1f6c5",native:""}],version:1},warning:{id:"warning",name:"Warning",keywords:["exclamation","wip","alert","error","problem","issue"],skins:[{unified:"26a0-fe0f",native:""}],version:1},children_crossing:{id:"children_crossing",name:"Children Crossing",keywords:["school","warning","danger","sign","driving","yellow","diamond"],skins:[{unified:"1f6b8",native:""}],version:1},no_entry:{id:"no_entry",name:"No Entry",keywords:["limit","security","privacy","bad","denied","stop","circle"],skins:[{unified:"26d4",native:""}],version:1},no_entry_sign:{id:"no_entry_sign",name:"Prohibited",keywords:["no","entry","sign","forbid","stop","limit","denied","disallow","circle"],skins:[{unified:"1f6ab",native:""}],version:1},no_bicycles:{id:"no_bicycles",name:"No Bicycles",keywords:["cyclist","prohibited","circle"],skins:[{unified:"1f6b3",native:""}],version:1},no_smoking:{id:"no_smoking",name:"No Smoking",keywords:["cigarette","blue","square","smell","smoke"],skins:[{unified:"1f6ad",native:""}],version:1},do_not_litter:{id:"do_not_litter",name:"No Littering",keywords:["do","not","litter","trash","bin","garbage","circle"],skins:[{unified:"1f6af",native:""}],version:1},"non-potable_water":{id:"non-potable_water",name:"Non-Potable Water",keywords:["non","potable","drink","faucet","tap","circle"],skins:[{unified:"1f6b1",native:""}],version:1},no_pedestrians:{id:"no_pedestrians",name:"No Pedestrians",keywords:["rules","crossing","walking","circle"],skins:[{unified:"1f6b7",native:""}],version:1},no_mobile_phones:{id:"no_mobile_phones",name:"No Mobile Phones",keywords:["iphone","mute","circle"],skins:[{unified:"1f4f5",native:""}],version:1},underage:{id:"underage",name:"No One Under Eighteen",keywords:["underage","18","drink","pub","night","minor","circle"],skins:[{unified:"1f51e",native:""}],version:1},radioactive_sign:{id:"radioactive_sign",name:"Radioactive",keywords:["sign","nuclear","danger"],skins:[{unified:"2622-fe0f",native:""}],version:1},biohazard_sign:{id:"biohazard_sign",name:"Biohazard",keywords:["sign","danger"],skins:[{unified:"2623-fe0f",native:""}],version:1},arrow_up:{id:"arrow_up",name:"Up Arrow",keywords:["blue","square","continue","top","direction"],skins:[{unified:"2b06-fe0f",native:""}],version:1},arrow_upper_right:{id:"arrow_upper_right",name:"Up-Right Arrow",keywords:["upper","right","up","blue","square","point","direction","diagonal","northeast"],skins:[{unified:"2197-fe0f",native:""}],version:1},arrow_right:{id:"arrow_right",name:"Right Arrow",keywords:["blue","square","next"],skins:[{unified:"27a1-fe0f",native:""}],version:1},arrow_lower_right:{id:"arrow_lower_right",name:"South East Arrow",keywords:["lower","right","down","blue","square","direction","diagonal","southeast"],skins:[{unified:"2198-fe0f",native:""}],version:1},arrow_down:{id:"arrow_down",name:"Down Arrow",keywords:["blue","square","direction","bottom"],skins:[{unified:"2b07-fe0f",native:""}],version:1},arrow_lower_left:{id:"arrow_lower_left",name:"Down-Left Arrow",keywords:["lower","left","down","blue","square","direction","diagonal","southwest"],skins:[{unified:"2199-fe0f",native:""}],version:1},arrow_left:{id:"arrow_left",name:"Left Arrow",keywords:["blue","square","previous","back"],skins:[{unified:"2b05-fe0f",native:""}],version:1},arrow_upper_left:{id:"arrow_upper_left",name:"Up-Left Arrow",keywords:["upper","left","up","blue","square","point","direction","diagonal","northwest"],skins:[{unified:"2196-fe0f",native:""}],version:1},arrow_up_down:{id:"arrow_up_down",name:"Up Down Arrow",keywords:["blue","square","direction","way","vertical"],skins:[{unified:"2195-fe0f",native:""}],version:1},left_right_arrow:{id:"left_right_arrow",name:"Left Right Arrow",keywords:["shape","direction","horizontal","sideways"],skins:[{unified:"2194-fe0f",native:""}],version:1},leftwards_arrow_with_hook:{id:"leftwards_arrow_with_hook",name:"Right Arrow Curving Left",keywords:["leftwards","with","hook","back","return","blue","square","undo","enter"],skins:[{unified:"21a9-fe0f",native:""}],version:1},arrow_right_hook:{id:"arrow_right_hook",name:"Left Arrow Curving Right",keywords:["hook","blue","square","return","rotate","direction"],skins:[{unified:"21aa-fe0f",native:""}],version:1},arrow_heading_up:{id:"arrow_heading_up",name:"Right Arrow Curving Up",keywords:["heading","blue","square","direction","top"],skins:[{unified:"2934-fe0f",native:""}],version:1},arrow_heading_down:{id:"arrow_heading_down",name:"Right Arrow Curving Down",keywords:["heading","blue","square","direction","bottom"],skins:[{unified:"2935-fe0f",native:""}],version:1},arrows_clockwise:{id:"arrows_clockwise",name:"Clockwise Vertical Arrows",keywords:["sync","cycle","round","repeat"],skins:[{unified:"1f503",native:""}],version:1},arrows_counterclockwise:{id:"arrows_counterclockwise",name:"Counterclockwise Arrows Button",keywords:["blue","square","sync","cycle"],skins:[{unified:"1f504",native:""}],version:1},back:{id:"back",name:"Back Arrow",keywords:["words","return"],skins:[{unified:"1f519",native:""}],version:1},end:{id:"end",name:"End Arrow",keywords:["words"],skins:[{unified:"1f51a",native:""}],version:1},on:{id:"on",name:"On! Arrow",keywords:["on","words"],skins:[{unified:"1f51b",native:""}],version:1},soon:{id:"soon",name:"Soon Arrow",keywords:["words"],skins:[{unified:"1f51c",native:""}],version:1},top:{id:"top",name:"Top Arrow",keywords:["words","blue","square"],skins:[{unified:"1f51d",native:""}],version:1},place_of_worship:{id:"place_of_worship",name:"Place of Worship",keywords:["religion","church","temple","prayer"],skins:[{unified:"1f6d0",native:""}],version:1},atom_symbol:{id:"atom_symbol",name:"Atom Symbol",keywords:["science","physics","chemistry"],skins:[{unified:"269b-fe0f",native:""}],version:1},om_symbol:{id:"om_symbol",name:"Om",keywords:["symbol","hinduism","buddhism","sikhism","jainism"],skins:[{unified:"1f549-fe0f",native:""}],version:1},star_of_david:{id:"star_of_david",name:"Star of David",keywords:["judaism"],skins:[{unified:"2721-fe0f",native:""}],version:1},wheel_of_dharma:{id:"wheel_of_dharma",name:"Wheel of Dharma",keywords:["hinduism","buddhism","sikhism","jainism"],skins:[{unified:"2638-fe0f",native:""}],version:1},yin_yang:{id:"yin_yang",name:"Yin Yang",keywords:["balance"],skins:[{unified:"262f-fe0f",native:""}],version:1},latin_cross:{id:"latin_cross",name:"Latin Cross",keywords:["christianity"],skins:[{unified:"271d-fe0f",native:""}],version:1},orthodox_cross:{id:"orthodox_cross",name:"Orthodox Cross",keywords:["suppedaneum","religion"],skins:[{unified:"2626-fe0f",native:""}],version:1},star_and_crescent:{id:"star_and_crescent",name:"Star and Crescent",keywords:["islam"],skins:[{unified:"262a-fe0f",native:""}],version:1},peace_symbol:{id:"peace_symbol",name:"Peace Symbol",keywords:["hippie"],skins:[{unified:"262e-fe0f",native:""}],version:1},menorah_with_nine_branches:{id:"menorah_with_nine_branches",name:"Menorah",keywords:["with","nine","branches","hanukkah","candles","jewish"],skins:[{unified:"1f54e",native:""}],version:1},six_pointed_star:{id:"six_pointed_star",name:"Dotted Six-Pointed Star",keywords:["six","pointed","purple","square","religion","jewish","hexagram"],skins:[{unified:"1f52f",native:""}],version:1},khanda:{id:"khanda",name:"Khanda",keywords:["Sikhism","religion"],skins:[{unified:"1faaf",native:""}],version:15},aries:{id:"aries",name:"Aries",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"2648",native:""}],version:1},taurus:{id:"taurus",name:"Taurus",keywords:["purple","square","sign","zodiac","astrology"],skins:[{unified:"2649",native:""}],version:1},gemini:{id:"gemini",name:"Gemini",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264a",native:""}],version:1},cancer:{id:"cancer",name:"Cancer",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264b",native:""}],version:1},leo:{id:"leo",name:"Leo",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"264c",native:""}],version:1},virgo:{id:"virgo",name:"Virgo",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264d",native:""}],version:1},libra:{id:"libra",name:"Libra",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"264e",native:""}],version:1},scorpius:{id:"scorpius",name:"Scorpio",keywords:["scorpius","sign","zodiac","purple","square","astrology"],skins:[{unified:"264f",native:""}],version:1},sagittarius:{id:"sagittarius",name:"Sagittarius",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"2650",native:""}],version:1},capricorn:{id:"capricorn",name:"Capricorn",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"2651",native:""}],version:1},aquarius:{id:"aquarius",name:"Aquarius",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"2652",native:""}],version:1},pisces:{id:"pisces",name:"Pisces",keywords:["purple","square","sign","zodiac","astrology"],skins:[{unified:"2653",native:""}],version:1},ophiuchus:{id:"ophiuchus",name:"Ophiuchus",keywords:["sign","purple","square","constellation","astrology"],skins:[{unified:"26ce",native:""}],version:1},twisted_rightwards_arrows:{id:"twisted_rightwards_arrows",name:"Shuffle Tracks Button",keywords:["twisted","rightwards","arrows","blue","square","music","random"],skins:[{unified:"1f500",native:""}],version:1},repeat:{id:"repeat",name:"Repeat Button",keywords:["loop","record"],skins:[{unified:"1f501",native:""}],version:1},repeat_one:{id:"repeat_one",name:"Repeat Single Button",keywords:["one","blue","square","loop"],skins:[{unified:"1f502",native:""}],version:1},arrow_forward:{id:"arrow_forward",name:"Play Button",keywords:["arrow","forward","blue","square","right","direction"],skins:[{unified:"25b6-fe0f",native:""}],version:1},fast_forward:{id:"fast_forward",name:"Fast-Forward Button",keywords:["fast","forward","blue","square","play","speed","continue"],skins:[{unified:"23e9",native:""}],version:1},black_right_pointing_double_triangle_with_vertical_bar:{id:"black_right_pointing_double_triangle_with_vertical_bar",name:"Next Track Button",keywords:["black","right","pointing","double","triangle","with","vertical","bar","forward","blue","square"],skins:[{unified:"23ed-fe0f",native:""}],version:1},black_right_pointing_triangle_with_double_vertical_bar:{id:"black_right_pointing_triangle_with_double_vertical_bar",name:"Play or Pause Button",keywords:["black","right","pointing","triangle","with","double","vertical","bar","blue","square"],skins:[{unified:"23ef-fe0f",native:""}],version:1},arrow_backward:{id:"arrow_backward",name:"Reverse Button",keywords:["arrow","backward","blue","square","left","direction"],skins:[{unified:"25c0-fe0f",native:""}],version:1},rewind:{id:"rewind",name:"Fast Reverse Button",keywords:["rewind","play","blue","square"],skins:[{unified:"23ea",native:""}],version:1},black_left_pointing_double_triangle_with_vertical_bar:{id:"black_left_pointing_double_triangle_with_vertical_bar",name:"Last Track Button",keywords:["black","left","pointing","double","triangle","with","vertical","bar","backward"],skins:[{unified:"23ee-fe0f",native:""}],version:1},arrow_up_small:{id:"arrow_up_small",name:"Upwards Button",keywords:["arrow","up","small","blue","square","triangle","direction","point","forward","top"],skins:[{unified:"1f53c",native:""}],version:1},arrow_double_up:{id:"arrow_double_up",name:"Fast Up Button",keywords:["arrow","double","blue","square","direction","top"],skins:[{unified:"23eb",native:""}],version:1},arrow_down_small:{id:"arrow_down_small",name:"Downwards Button",keywords:["arrow","down","small","blue","square","direction","bottom"],skins:[{unified:"1f53d",native:""}],version:1},arrow_double_down:{id:"arrow_double_down",name:"Fast Down Button",keywords:["arrow","double","blue","square","direction","bottom"],skins:[{unified:"23ec",native:""}],version:1},double_vertical_bar:{id:"double_vertical_bar",name:"Pause Button",keywords:["double","vertical","bar","blue","square"],skins:[{unified:"23f8-fe0f",native:""}],version:1},black_square_for_stop:{id:"black_square_for_stop",name:"Stop Button",keywords:["black","square","for","blue"],skins:[{unified:"23f9-fe0f",native:""}],version:1},black_circle_for_record:{id:"black_circle_for_record",name:"Record Button",keywords:["black","circle","for","blue","square"],skins:[{unified:"23fa-fe0f",native:""}],version:1},eject:{id:"eject",name:"Eject Button",keywords:["blue","square"],skins:[{unified:"23cf-fe0f",native:""}],version:1},cinema:{id:"cinema",name:"Cinema",keywords:["blue","square","record","film","movie","curtain","stage","theater"],skins:[{unified:"1f3a6",native:""}],version:1},low_brightness:{id:"low_brightness",name:"Dim Button",keywords:["low","brightness","sun","afternoon","warm","summer"],skins:[{unified:"1f505",native:""}],version:1},high_brightness:{id:"high_brightness",name:"Bright Button",keywords:["high","brightness","sun","light"],skins:[{unified:"1f506",native:""}],version:1},signal_strength:{id:"signal_strength",name:"Antenna Bars",keywords:["signal","strength","blue","square","reception","phone","internet","connection","wifi","bluetooth"],skins:[{unified:"1f4f6",native:""}],version:1},wireless:{id:"wireless",name:"Wireless",keywords:["wifi","internet","contactless","signal"],skins:[{unified:"1f6dc",native:""}],version:15},vibration_mode:{id:"vibration_mode",name:"Vibration Mode",keywords:["orange","square","phone"],skins:[{unified:"1f4f3",native:""}],version:1},mobile_phone_off:{id:"mobile_phone_off",name:"Mobile Phone off",keywords:["mute","orange","square","silence","quiet"],skins:[{unified:"1f4f4",native:""}],version:1},female_sign:{id:"female_sign",name:"Female Sign",keywords:["woman","women","lady","girl"],skins:[{unified:"2640-fe0f",native:""}],version:4},male_sign:{id:"male_sign",name:"Male Sign",keywords:["man","boy","men"],skins:[{unified:"2642-fe0f",native:""}],version:4},transgender_symbol:{id:"transgender_symbol",name:"Transgender Symbol",keywords:["lgbtq"],skins:[{unified:"26a7-fe0f",native:""}],version:13},heavy_multiplication_x:{id:"heavy_multiplication_x",name:"Multiply",keywords:["heavy","multiplication","x","sign","math","calculation"],skins:[{unified:"2716-fe0f",native:""}],version:1},heavy_plus_sign:{id:"heavy_plus_sign",name:"Plus",keywords:["heavy","sign","math","calculation","addition","more","increase"],skins:[{unified:"2795",native:""}],version:1},heavy_minus_sign:{id:"heavy_minus_sign",name:"Minus",keywords:["heavy","sign","math","calculation","subtract","less"],skins:[{unified:"2796",native:""}],version:1},heavy_division_sign:{id:"heavy_division_sign",name:"Divide",keywords:["heavy","division","sign","math","calculation"],skins:[{unified:"2797",native:""}],version:1},heavy_equals_sign:{id:"heavy_equals_sign",name:"Heavy Equals Sign",keywords:["math"],skins:[{unified:"1f7f0",native:""}],version:14},infinity:{id:"infinity",name:"Infinity",keywords:["forever"],skins:[{unified:"267e-fe0f",native:""}],version:11},bangbang:{id:"bangbang",name:"Double Exclamation Mark",keywords:["bangbang","surprise"],skins:[{unified:"203c-fe0f",native:""}],version:1},interrobang:{id:"interrobang",name:"Exclamation Question Mark",keywords:["interrobang","wat","punctuation","surprise"],skins:[{unified:"2049-fe0f",native:""}],version:1},question:{id:"question",name:"Red Question Mark",keywords:["doubt","confused"],skins:[{unified:"2753",native:""}],version:1},grey_question:{id:"grey_question",name:"White Question Mark",keywords:["grey","doubts","gray","huh","confused"],skins:[{unified:"2754",native:""}],version:1},grey_exclamation:{id:"grey_exclamation",name:"White Exclamation Mark",keywords:["grey","surprise","punctuation","gray","wow","warning"],skins:[{unified:"2755",native:""}],version:1},exclamation:{id:"exclamation",name:"Red Exclamation Mark",keywords:["heavy","danger","surprise","punctuation","wow","warning"],skins:[{unified:"2757",native:""}],version:1},wavy_dash:{id:"wavy_dash",name:"Wavy Dash",keywords:["draw","line","moustache","mustache","squiggle","scribble"],skins:[{unified:"3030-fe0f",native:""}],version:1},currency_exchange:{id:"currency_exchange",name:"Currency Exchange",keywords:["money","sales","dollar","travel"],skins:[{unified:"1f4b1",native:""}],version:1},heavy_dollar_sign:{id:"heavy_dollar_sign",name:"Heavy Dollar Sign",keywords:["money","sales","payment","currency","buck"],skins:[{unified:"1f4b2",native:""}],version:1},medical_symbol:{id:"medical_symbol",name:"Medical Symbol",keywords:["staff","of","aesculapius","health","hospital"],skins:[{unified:"2695-fe0f",native:""}],version:4},recycle:{id:"recycle",name:"Recycling Symbol",keywords:["recycle","arrow","environment","garbage","trash"],skins:[{unified:"267b-fe0f",native:""}],version:1},fleur_de_lis:{id:"fleur_de_lis",name:"Fleur-De-Lis",keywords:["fleur","de","lis","decorative","scout"],skins:[{unified:"269c-fe0f",native:""}],version:1},trident:{id:"trident",name:"Trident Emblem",keywords:["weapon","spear"],skins:[{unified:"1f531",native:""}],version:1},name_badge:{id:"name_badge",name:"Name Badge",keywords:["fire","forbid"],skins:[{unified:"1f4db",native:""}],version:1},beginner:{id:"beginner",name:"Japanese Symbol for Beginner",keywords:["badge","shield"],skins:[{unified:"1f530",native:""}],version:1},o:{id:"o",name:"Hollow Red Circle",keywords:["o","round"],skins:[{unified:"2b55",native:""}],version:1},white_check_mark:{id:"white_check_mark",name:"Check Mark Button",keywords:["white","green","square","ok","agree","vote","election","answer","tick"],skins:[{unified:"2705",native:""}],version:1},ballot_box_with_check:{id:"ballot_box_with_check",name:"Check Box with Check",keywords:["ballot","ok","agree","confirm","black","square","vote","election","yes","tick"],skins:[{unified:"2611-fe0f",native:""}],version:1},heavy_check_mark:{id:"heavy_check_mark",name:"Check Mark",keywords:["heavy","ok","nike","answer","yes","tick"],skins:[{unified:"2714-fe0f",native:""}],version:1},x:{id:"x",name:"Cross Mark",keywords:["x","no","delete","remove","cancel","red"],skins:[{unified:"274c",native:""}],version:1},negative_squared_cross_mark:{id:"negative_squared_cross_mark",name:"Cross Mark Button",keywords:["negative","squared","x","green","square","no","deny"],skins:[{unified:"274e",native:""}],version:1},curly_loop:{id:"curly_loop",name:"Curly Loop",keywords:["scribble","draw","shape","squiggle"],skins:[{unified:"27b0",native:""}],version:1},loop:{id:"loop",name:"Double Curly Loop",keywords:["tape","cassette"],skins:[{unified:"27bf",native:""}],version:1},part_alternation_mark:{id:"part_alternation_mark",name:"Part Alternation Mark",keywords:["graph","presentation","stats","business","economics","bad"],skins:[{unified:"303d-fe0f",native:""}],version:1},eight_spoked_asterisk:{id:"eight_spoked_asterisk",name:"Eight Spoked Asterisk",keywords:["star","sparkle","green","square"],skins:[{unified:"2733-fe0f",native:""}],version:1},eight_pointed_black_star:{id:"eight_pointed_black_star",name:"Eight-Pointed Star",keywords:["eight","pointed","black","orange","square","shape","polygon"],skins:[{unified:"2734-fe0f",native:""}],version:1},sparkle:{id:"sparkle",name:"Sparkle",keywords:["stars","green","square","awesome","good","fireworks"],skins:[{unified:"2747-fe0f",native:""}],version:1},copyright:{id:"copyright",name:"Copyright",keywords:["ip","license","circle","law","legal"],skins:[{unified:"00a9-fe0f",native:""}],version:1},registered:{id:"registered",name:"Registered",keywords:["alphabet","circle"],skins:[{unified:"00ae-fe0f",native:""}],version:1},tm:{id:"tm",name:"Trade Mark",keywords:["tm","trademark","brand","law","legal"],skins:[{unified:"2122-fe0f",native:""}],version:1},hash:{id:"hash",name:"Hash Key",keywords:["keycap","","symbol","blue","square","twitter"],skins:[{unified:"0023-fe0f-20e3",native:"#"}],version:1},keycap_star:{id:"keycap_star",name:"Keycap: *",keywords:["keycap","star",""],skins:[{unified:"002a-fe0f-20e3",native:"*"}],version:2},zero:{id:"zero",name:"Keycap 0",keywords:["zero","numbers","blue","square","null"],skins:[{unified:"0030-fe0f-20e3",native:"0"}],version:1},one:{id:"one",name:"Keycap 1",keywords:["one","blue","square","numbers"],skins:[{unified:"0031-fe0f-20e3",native:"1"}],version:1},two:{id:"two",name:"Keycap 2",keywords:["two","numbers","prime","blue","square"],skins:[{unified:"0032-fe0f-20e3",native:"2"}],version:1},three:{id:"three",name:"Keycap 3",keywords:["three","numbers","prime","blue","square"],skins:[{unified:"0033-fe0f-20e3",native:"3"}],version:1},four:{id:"four",name:"Keycap 4",keywords:["four","numbers","blue","square"],skins:[{unified:"0034-fe0f-20e3",native:"4"}],version:1},five:{id:"five",name:"Keycap 5",keywords:["five","numbers","blue","square","prime"],skins:[{unified:"0035-fe0f-20e3",native:"5"}],version:1},six:{id:"six",name:"Keycap 6",keywords:["six","numbers","blue","square"],skins:[{unified:"0036-fe0f-20e3",native:"6"}],version:1},seven:{id:"seven",name:"Keycap 7",keywords:["seven","numbers","blue","square","prime"],skins:[{unified:"0037-fe0f-20e3",native:"7"}],version:1},eight:{id:"eight",name:"Keycap 8",keywords:["eight","blue","square","numbers"],skins:[{unified:"0038-fe0f-20e3",native:"8"}],version:1},nine:{id:"nine",name:"Keycap 9",keywords:["nine","blue","square","numbers"],skins:[{unified:"0039-fe0f-20e3",native:"9"}],version:1},keycap_ten:{id:"keycap_ten",name:"Keycap 10",keywords:["ten","numbers","blue","square"],skins:[{unified:"1f51f",native:""}],version:1},capital_abcd:{id:"capital_abcd",name:"Input Latin Uppercase",keywords:["capital","abcd","alphabet","words","blue","square"],skins:[{unified:"1f520",native:""}],version:1},abcd:{id:"abcd",name:"Input Latin Lowercase",keywords:["abcd","blue","square","alphabet"],skins:[{unified:"1f521",native:""}],version:1},symbols:{id:"symbols",name:"Input Symbols",keywords:["blue","square","music","note","ampersand","percent","glyphs","characters"],skins:[{unified:"1f523",native:""}],version:1},abc:{id:"abc",name:"Input Latin Letters",keywords:["abc","blue","square","alphabet"],skins:[{unified:"1f524",native:""}],version:1},a:{id:"a",name:"A Button (blood Type)",keywords:["red","square","alphabet","letter"],skins:[{unified:"1f170-fe0f",native:""}],version:1},ab:{id:"ab",name:"Negative Squared Ab",keywords:["button","red","square","alphabet"],skins:[{unified:"1f18e",native:""}],version:1},b:{id:"b",name:"B Button (blood Type)",keywords:["red","square","alphabet","letter"],skins:[{unified:"1f171-fe0f",native:""}],version:1},cl:{id:"cl",name:"Cl Button",keywords:["alphabet","words","red","square"],skins:[{unified:"1f191",native:""}],version:1},cool:{id:"cool",name:"Cool Button",keywords:["words","blue","square"],skins:[{unified:"1f192",native:""}],version:1},free:{id:"free",name:"Free Button",keywords:["blue","square","words"],skins:[{unified:"1f193",native:""}],version:1},information_source:{id:"information_source",name:"Information",keywords:["source","blue","square","alphabet","letter"],skins:[{unified:"2139-fe0f",native:""}],version:1},id:{id:"id",name:"Id Button",keywords:["purple","square","words"],skins:[{unified:"1f194",native:""}],version:1},m:{id:"m",name:"Circled M",keywords:["alphabet","blue","circle","letter"],skins:[{unified:"24c2-fe0f",native:""}],version:1},new:{id:"new",name:"New Button",keywords:["blue","square","words","start"],skins:[{unified:"1f195",native:""}],version:1},ng:{id:"ng",name:"Ng Button",keywords:["blue","square","words","shape","icon"],skins:[{unified:"1f196",native:""}],version:1},o2:{id:"o2",name:"O Button (blood Type)",keywords:["o2","alphabet","red","square","letter"],skins:[{unified:"1f17e-fe0f",native:""}],version:1},ok:{id:"ok",name:"Ok Button",keywords:["good","agree","yes","blue","square"],skins:[{unified:"1f197",native:""}],version:1},parking:{id:"parking",name:"P Button",keywords:["parking","cars","blue","square","alphabet","letter"],skins:[{unified:"1f17f-fe0f",native:""}],version:1},sos:{id:"sos",name:"Sos Button",keywords:["help","red","square","words","emergency","911"],skins:[{unified:"1f198",native:""}],version:1},up:{id:"up",name:"Up! Button",keywords:["up","blue","square","above","high"],skins:[{unified:"1f199",native:""}],version:1},vs:{id:"vs",name:"Vs Button",keywords:["words","orange","square"],skins:[{unified:"1f19a",native:""}],version:1},koko:{id:"koko",name:"Squared Katakana Koko",keywords:["japanese","here","button","blue","square","destination"],skins:[{unified:"1f201",native:""}],version:1},sa:{id:"sa",name:"Squared Katakana Sa",keywords:["japanese","service","charge","button","blue","square"],skins:[{unified:"1f202-fe0f",native:""}],version:1},u6708:{id:"u6708",name:"Japanese monthly Amount Button",keywords:["u6708","monthly","amount","chinese","month","moon","orange","square","kanji"],skins:[{unified:"1f237-fe0f",native:""}],version:1},u6709:{id:"u6709",name:"Squared Cjk Unified Ideograph-6709",keywords:["u6709","japanese","not","free","of","charge","button","orange","square","chinese","have","kanji"],skins:[{unified:"1f236",native:""}],version:1},u6307:{id:"u6307",name:"Japanese reserved Button",keywords:["u6307","reserved","chinese","point","green","square","kanji"],skins:[{unified:"1f22f",native:""}],version:1},ideograph_advantage:{id:"ideograph_advantage",name:"Japanese bargain Button",keywords:["ideograph","advantage","bargain","chinese","kanji","obtain","get","circle"],skins:[{unified:"1f250",native:""}],version:1},u5272:{id:"u5272",name:"Japanese discount Button",keywords:["u5272","discount","cut","divide","chinese","kanji","pink","square"],skins:[{unified:"1f239",native:""}],version:1},u7121:{id:"u7121",name:"Japanese free of Charge Button",keywords:["u7121","free","charge","nothing","chinese","kanji","orange","square"],skins:[{unified:"1f21a",native:""}],version:1},u7981:{id:"u7981",name:"Japanese prohibited Button",keywords:["u7981","prohibited","kanji","chinese","forbidden","limit","restricted","red","square"],skins:[{unified:"1f232",native:""}],version:1},accept:{id:"accept",name:"Circled Ideograph Accept",keywords:["japanese","acceptable","button","ok","good","chinese","kanji","agree","yes","orange","circle"],skins:[{unified:"1f251",native:""}],version:1},u7533:{id:"u7533",name:"Japanese application Button",keywords:["u7533","application","chinese","kanji","orange","square"],skins:[{unified:"1f238",native:""}],version:1},u5408:{id:"u5408",name:"Japanese passing Grade Button",keywords:["u5408","passing","grade","chinese","join","kanji","red","square"],skins:[{unified:"1f234",native:""}],version:1},u7a7a:{id:"u7a7a",name:"Japanese vacancy Button",keywords:["u7a7a","vacancy","kanji","chinese","empty","sky","blue","square"],skins:[{unified:"1f233",native:""}],version:1},congratulations:{id:"congratulations",name:"Circled Ideograph Congratulation",keywords:["congratulations","japanese","button","chinese","kanji","red","circle"],skins:[{unified:"3297-fe0f",native:""}],version:1},secret:{id:"secret",name:"Circled Ideograph Secret",keywords:["japanese","button","privacy","chinese","sshh","kanji","red","circle"],skins:[{unified:"3299-fe0f",native:""}],version:1},u55b6:{id:"u55b6",name:"Squared Cjk Unified Ideograph-55b6",keywords:["u55b6","japanese","open","for","business","button","opening","hours","orange","square"],skins:[{unified:"1f23a",native:""}],version:1},u6e80:{id:"u6e80",name:"Japanese no Vacancy Button",keywords:["u6e80","no","vacancy","full","chinese","red","square","kanji"],skins:[{unified:"1f235",native:""}],version:1},red_circle:{id:"red_circle",name:"Red Circle",keywords:["shape","error","danger"],skins:[{unified:"1f534",native:""}],version:1},large_orange_circle:{id:"large_orange_circle",name:"Orange Circle",keywords:["large","round"],skins:[{unified:"1f7e0",native:""}],version:12},large_yellow_circle:{id:"large_yellow_circle",name:"Yellow Circle",keywords:["large","round"],skins:[{unified:"1f7e1",native:""}],version:12},large_green_circle:{id:"large_green_circle",name:"Green Circle",keywords:["large","round"],skins:[{unified:"1f7e2",native:""}],version:12},large_blue_circle:{id:"large_blue_circle",name:"Blue Circle",keywords:["large","shape","icon","button"],skins:[{unified:"1f535",native:""}],version:1},large_purple_circle:{id:"large_purple_circle",name:"Purple Circle",keywords:["large","round"],skins:[{unified:"1f7e3",native:""}],version:12},large_brown_circle:{id:"large_brown_circle",name:"Brown Circle",keywords:["large","round"],skins:[{unified:"1f7e4",native:""}],version:12},black_circle:{id:"black_circle",name:"Black Circle",keywords:["shape","button","round"],skins:[{unified:"26ab",native:""}],version:1},white_circle:{id:"white_circle",name:"White Circle",keywords:["shape","round"],skins:[{unified:"26aa",native:""}],version:1},large_red_square:{id:"large_red_square",name:"Red Square",keywords:["large"],skins:[{unified:"1f7e5",native:""}],version:12},large_orange_square:{id:"large_orange_square",name:"Orange Square",keywords:["large"],skins:[{unified:"1f7e7",native:""}],version:12},large_yellow_square:{id:"large_yellow_square",name:"Yellow Square",keywords:["large"],skins:[{unified:"1f7e8",native:""}],version:12},large_green_square:{id:"large_green_square",name:"Green Square",keywords:["large"],skins:[{unified:"1f7e9",native:""}],version:12},large_blue_square:{id:"large_blue_square",name:"Blue Square",keywords:["large"],skins:[{unified:"1f7e6",native:""}],version:12},large_purple_square:{id:"large_purple_square",name:"Purple Square",keywords:["large"],skins:[{unified:"1f7ea",native:""}],version:12},large_brown_square:{id:"large_brown_square",name:"Brown Square",keywords:["large"],skins:[{unified:"1f7eb",native:""}],version:12},black_large_square:{id:"black_large_square",name:"Black Large Square",keywords:["shape","icon","button"],skins:[{unified:"2b1b",native:""}],version:1},white_large_square:{id:"white_large_square",name:"White Large Square",keywords:["shape","icon","stone","button"],skins:[{unified:"2b1c",native:""}],version:1},black_medium_square:{id:"black_medium_square",name:"Black Medium Square",keywords:["shape","button","icon"],skins:[{unified:"25fc-fe0f",native:""}],version:1},white_medium_square:{id:"white_medium_square",name:"White Medium Square",keywords:["shape","stone","icon"],skins:[{unified:"25fb-fe0f",native:""}],version:1},black_medium_small_square:{id:"black_medium_small_square",name:"Black Medium Small Square",keywords:["icon","shape","button"],skins:[{unified:"25fe",native:""}],version:1},white_medium_small_square:{id:"white_medium_small_square",name:"White Medium Small Square",keywords:["shape","stone","icon","button"],skins:[{unified:"25fd",native:""}],version:1},black_small_square:{id:"black_small_square",name:"Black Small Square",keywords:["shape","icon"],skins:[{unified:"25aa-fe0f",native:""}],version:1},white_small_square:{id:"white_small_square",name:"White Small Square",keywords:["shape","icon"],skins:[{unified:"25ab-fe0f",native:""}],version:1},large_orange_diamond:{id:"large_orange_diamond",name:"Large Orange Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f536",native:""}],version:1},large_blue_diamond:{id:"large_blue_diamond",name:"Large Blue Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f537",native:""}],version:1},small_orange_diamond:{id:"small_orange_diamond",name:"Small Orange Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f538",native:""}],version:1},small_blue_diamond:{id:"small_blue_diamond",name:"Small Blue Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f539",native:""}],version:1},small_red_triangle:{id:"small_red_triangle",name:"Red Triangle Pointed Up",keywords:["small","shape","direction","top"],skins:[{unified:"1f53a",native:""}],version:1},small_red_triangle_down:{id:"small_red_triangle_down",name:"Red Triangle Pointed Down",keywords:["small","shape","direction","bottom"],skins:[{unified:"1f53b",native:""}],version:1},diamond_shape_with_a_dot_inside:{id:"diamond_shape_with_a_dot_inside",name:"Diamond with a Dot",keywords:["shape","inside","jewel","blue","gem","crystal","fancy"],skins:[{unified:"1f4a0",native:""}],version:1},radio_button:{id:"radio_button",name:"Radio Button",keywords:["input","old","music","circle"],skins:[{unified:"1f518",native:""}],version:1},white_square_button:{id:"white_square_button",name:"White Square Button",keywords:["shape","input"],skins:[{unified:"1f533",native:""}],version:1},black_square_button:{id:"black_square_button",name:"Black Square Button",keywords:["shape","input","frame"],skins:[{unified:"1f532",native:""}],version:1},checkered_flag:{id:"checkered_flag",name:"Chequered Flag",keywords:["checkered","contest","finishline","race","gokart"],skins:[{unified:"1f3c1",native:""}],version:1},triangular_flag_on_post:{id:"triangular_flag_on_post",name:"Triangular Flag",keywords:["on","post","mark","milestone","place"],skins:[{unified:"1f6a9",native:""}],version:1},crossed_flags:{id:"crossed_flags",name:"Crossed Flags",keywords:["japanese","nation","country","border"],skins:[{unified:"1f38c",native:""}],version:1},waving_black_flag:{id:"waving_black_flag",name:"Black Flag",keywords:["waving","pirate"],skins:[{unified:"1f3f4",native:""}],version:1},waving_white_flag:{id:"waving_white_flag",name:"White Flag",keywords:["waving","losing","loser","lost","surrender","give","up","fail"],skins:[{unified:"1f3f3-fe0f",native:""}],version:1},"rainbow-flag":{id:"rainbow-flag",name:"Rainbow Flag",keywords:["pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],skins:[{unified:"1f3f3-fe0f-200d-1f308",native:""}],version:4},transgender_flag:{id:"transgender_flag",name:"Transgender Flag",keywords:["lgbtq"],skins:[{unified:"1f3f3-fe0f-200d-26a7-fe0f",native:""}],version:13},pirate_flag:{id:"pirate_flag",name:"Pirate Flag",keywords:["skull","crossbones","banner"],skins:[{unified:"1f3f4-200d-2620-fe0f",native:""}],version:11},"flag-ac":{id:"flag-ac",name:"Ascension Island Flag",keywords:["ac"],skins:[{unified:"1f1e6-1f1e8",native:""}],version:2},"flag-ad":{id:"flag-ad",name:"Andorra Flag",keywords:["ad","nation","country","banner"],skins:[{unified:"1f1e6-1f1e9",native:""}],version:2},"flag-ae":{id:"flag-ae",name:"United Arab Emirates Flag",keywords:["ae","nation","country","banner"],skins:[{unified:"1f1e6-1f1ea",native:""}],version:2},"flag-af":{id:"flag-af",name:"Afghanistan Flag",keywords:["af","nation","country","banner"],skins:[{unified:"1f1e6-1f1eb",native:""}],version:2},"flag-ag":{id:"flag-ag",name:"Antigua & Barbuda Flag",keywords:["ag","nation","country","banner"],skins:[{unified:"1f1e6-1f1ec",native:""}],version:2},"flag-ai":{id:"flag-ai",name:"Anguilla Flag",keywords:["ai","nation","country","banner"],skins:[{unified:"1f1e6-1f1ee",native:""}],version:2},"flag-al":{id:"flag-al",name:"Albania Flag",keywords:["al","nation","country","banner"],skins:[{unified:"1f1e6-1f1f1",native:""}],version:2},"flag-am":{id:"flag-am",name:"Armenia Flag",keywords:["am","nation","country","banner"],skins:[{unified:"1f1e6-1f1f2",native:""}],version:2},"flag-ao":{id:"flag-ao",name:"Angola Flag",keywords:["ao","nation","country","banner"],skins:[{unified:"1f1e6-1f1f4",native:""}],version:2},"flag-aq":{id:"flag-aq",name:"Antarctica Flag",keywords:["aq","nation","country","banner"],skins:[{unified:"1f1e6-1f1f6",native:""}],version:2},"flag-ar":{id:"flag-ar",name:"Argentina Flag",keywords:["ar","nation","country","banner"],skins:[{unified:"1f1e6-1f1f7",native:""}],version:2},"flag-as":{id:"flag-as",name:"American Samoa Flag",keywords:["as","ws","nation","country","banner"],skins:[{unified:"1f1e6-1f1f8",native:""}],version:2},"flag-at":{id:"flag-at",name:"Austria Flag",keywords:["at","nation","country","banner"],skins:[{unified:"1f1e6-1f1f9",native:""}],version:2},"flag-au":{id:"flag-au",name:"Australia Flag",keywords:["au","nation","country","banner"],skins:[{unified:"1f1e6-1f1fa",native:""}],version:2},"flag-aw":{id:"flag-aw",name:"Aruba Flag",keywords:["aw","nation","country","banner"],skins:[{unified:"1f1e6-1f1fc",native:""}],version:2},"flag-ax":{id:"flag-ax",name:"land Islands Flag",keywords:["ax","aland","Aland","nation","country","banner"],skins:[{unified:"1f1e6-1f1fd",native:""}],version:2},"flag-az":{id:"flag-az",name:"Azerbaijan Flag",keywords:["az","nation","country","banner"],skins:[{unified:"1f1e6-1f1ff",native:""}],version:2},"flag-ba":{id:"flag-ba",name:"Bosnia & Herzegovina Flag",keywords:["ba","nation","country","banner"],skins:[{unified:"1f1e7-1f1e6",native:""}],version:2},"flag-bb":{id:"flag-bb",name:"Barbados Flag",keywords:["bb","nation","country","banner"],skins:[{unified:"1f1e7-1f1e7",native:""}],version:2},"flag-bd":{id:"flag-bd",name:"Bangladesh Flag",keywords:["bd","nation","country","banner"],skins:[{unified:"1f1e7-1f1e9",native:""}],version:2},"flag-be":{id:"flag-be",name:"Belgium Flag",keywords:["be","nation","country","banner"],skins:[{unified:"1f1e7-1f1ea",native:""}],version:2},"flag-bf":{id:"flag-bf",name:"Burkina Faso Flag",keywords:["bf","nation","country","banner"],skins:[{unified:"1f1e7-1f1eb",native:""}],version:2},"flag-bg":{id:"flag-bg",name:"Bulgaria Flag",keywords:["bg","nation","country","banner"],skins:[{unified:"1f1e7-1f1ec",native:""}],version:2},"flag-bh":{id:"flag-bh",name:"Bahrain Flag",keywords:["bh","nation","country","banner"],skins:[{unified:"1f1e7-1f1ed",native:""}],version:2},"flag-bi":{id:"flag-bi",name:"Burundi Flag",keywords:["bi","nation","country","banner"],skins:[{unified:"1f1e7-1f1ee",native:""}],version:2},"flag-bj":{id:"flag-bj",name:"Benin Flag",keywords:["bj","nation","country","banner"],skins:[{unified:"1f1e7-1f1ef",native:""}],version:2},"flag-bl":{id:"flag-bl",name:"St. Barthlemy Flag",keywords:["bl","st","barthelemy","saint","nation","country","banner"],skins:[{unified:"1f1e7-1f1f1",native:""}],version:2},"flag-bm":{id:"flag-bm",name:"Bermuda Flag",keywords:["bm","nation","country","banner"],skins:[{unified:"1f1e7-1f1f2",native:""}],version:2},"flag-bn":{id:"flag-bn",name:"Brunei Flag",keywords:["bn","darussalam","nation","country","banner"],skins:[{unified:"1f1e7-1f1f3",native:""}],version:2},"flag-bo":{id:"flag-bo",name:"Bolivia Flag",keywords:["bo","nation","country","banner"],skins:[{unified:"1f1e7-1f1f4",native:""}],version:2},"flag-bq":{id:"flag-bq",name:"Caribbean Netherlands Flag",keywords:["bq","bonaire","nation","country","banner"],skins:[{unified:"1f1e7-1f1f6",native:""}],version:2},"flag-br":{id:"flag-br",name:"Brazil Flag",keywords:["br","nation","country","banner"],skins:[{unified:"1f1e7-1f1f7",native:""}],version:2},"flag-bs":{id:"flag-bs",name:"Bahamas Flag",keywords:["bs","nation","country","banner"],skins:[{unified:"1f1e7-1f1f8",native:""}],version:2},"flag-bt":{id:"flag-bt",name:"Bhutan Flag",keywords:["bt","nation","country","banner"],skins:[{unified:"1f1e7-1f1f9",native:""}],version:2},"flag-bv":{id:"flag-bv",name:"Bouvet Island Flag",keywords:["bv","norway"],skins:[{unified:"1f1e7-1f1fb",native:""}],version:2},"flag-bw":{id:"flag-bw",name:"Botswana Flag",keywords:["bw","nation","country","banner"],skins:[{unified:"1f1e7-1f1fc",native:""}],version:2},"flag-by":{id:"flag-by",name:"Belarus Flag",keywords:["by","nation","country","banner"],skins:[{unified:"1f1e7-1f1fe",native:""}],version:2},"flag-bz":{id:"flag-bz",name:"Belize Flag",keywords:["bz","nation","country","banner"],skins:[{unified:"1f1e7-1f1ff",native:""}],version:2},"flag-ca":{id:"flag-ca",name:"Canada Flag",keywords:["ca","nation","country","banner"],skins:[{unified:"1f1e8-1f1e6",native:""}],version:2},"flag-cc":{id:"flag-cc",name:"Cocos (keeling) Islands Flag",keywords:["cc","keeling","nation","country","banner"],skins:[{unified:"1f1e8-1f1e8",native:""}],version:2},"flag-cd":{id:"flag-cd",name:"Congo - Kinshasa Flag",keywords:["cd","democratic","republic","nation","country","banner"],skins:[{unified:"1f1e8-1f1e9",native:""}],version:2},"flag-cf":{id:"flag-cf",name:"Central African Republic Flag",keywords:["cf","nation","country","banner"],skins:[{unified:"1f1e8-1f1eb",native:""}],version:2},"flag-cg":{id:"flag-cg",name:"Congo - Brazzaville Flag",keywords:["cg","nation","country","banner"],skins:[{unified:"1f1e8-1f1ec",native:""}],version:2},"flag-ch":{id:"flag-ch",name:"Switzerland Flag",keywords:["ch","nation","country","banner"],skins:[{unified:"1f1e8-1f1ed",native:""}],version:2},"flag-ci":{id:"flag-ci",name:"Cte Divoire Flag",keywords:["ci","cote","d","ivoire","ivory","coast","nation","country","banner"],skins:[{unified:"1f1e8-1f1ee",native:""}],version:2},"flag-ck":{id:"flag-ck",name:"Cook Islands Flag",keywords:["ck","nation","country","banner"],skins:[{unified:"1f1e8-1f1f0",native:""}],version:2},"flag-cl":{id:"flag-cl",name:"Chile Flag",keywords:["cl","nation","country","banner"],skins:[{unified:"1f1e8-1f1f1",native:""}],version:2},"flag-cm":{id:"flag-cm",name:"Cameroon Flag",keywords:["cm","nation","country","banner"],skins:[{unified:"1f1e8-1f1f2",native:""}],version:2},cn:{id:"cn",name:"China Flag",keywords:["cn","chinese","prc","country","nation","banner"],skins:[{unified:"1f1e8-1f1f3",native:""}],version:1},"flag-co":{id:"flag-co",name:"Colombia Flag",keywords:["co","nation","country","banner"],skins:[{unified:"1f1e8-1f1f4",native:""}],version:2},"flag-cp":{id:"flag-cp",name:"Clipperton Island Flag",keywords:["cp"],skins:[{unified:"1f1e8-1f1f5",native:""}],version:2},"flag-cr":{id:"flag-cr",name:"Costa Rica Flag",keywords:["cr","nation","country","banner"],skins:[{unified:"1f1e8-1f1f7",native:""}],version:2},"flag-cu":{id:"flag-cu",name:"Cuba Flag",keywords:["cu","nation","country","banner"],skins:[{unified:"1f1e8-1f1fa",native:""}],version:2},"flag-cv":{id:"flag-cv",name:"Cape Verde Flag",keywords:["cv","cabo","nation","country","banner"],skins:[{unified:"1f1e8-1f1fb",native:""}],version:2},"flag-cw":{id:"flag-cw",name:"Curaao Flag",keywords:["cw","curacao","nation","country","banner"],skins:[{unified:"1f1e8-1f1fc",native:""}],version:2},"flag-cx":{id:"flag-cx",name:"Christmas Island Flag",keywords:["cx","nation","country","banner"],skins:[{unified:"1f1e8-1f1fd",native:""}],version:2},"flag-cy":{id:"flag-cy",name:"Cyprus Flag",keywords:["cy","nation","country","banner"],skins:[{unified:"1f1e8-1f1fe",native:""}],version:2},"flag-cz":{id:"flag-cz",name:"Czechia Flag",keywords:["cz","nation","country","banner"],skins:[{unified:"1f1e8-1f1ff",native:""}],version:2},de:{id:"de",name:"Germany Flag",keywords:["de","german","nation","country","banner"],skins:[{unified:"1f1e9-1f1ea",native:""}],version:1},"flag-dg":{id:"flag-dg",name:"Diego Garcia Flag",keywords:["dg"],skins:[{unified:"1f1e9-1f1ec",native:""}],version:2},"flag-dj":{id:"flag-dj",name:"Djibouti Flag",keywords:["dj","nation","country","banner"],skins:[{unified:"1f1e9-1f1ef",native:""}],version:2},"flag-dk":{id:"flag-dk",name:"Denmark Flag",keywords:["dk","nation","country","banner"],skins:[{unified:"1f1e9-1f1f0",native:""}],version:2},"flag-dm":{id:"flag-dm",name:"Dominica Flag",keywords:["dm","nation","country","banner"],skins:[{unified:"1f1e9-1f1f2",native:""}],version:2},"flag-do":{id:"flag-do",name:"Dominican Republic Flag",keywords:["do","nation","country","banner"],skins:[{unified:"1f1e9-1f1f4",native:""}],version:2},"flag-dz":{id:"flag-dz",name:"Algeria Flag",keywords:["dz","nation","country","banner"],skins:[{unified:"1f1e9-1f1ff",native:""}],version:2},"flag-ea":{id:"flag-ea",name:"Ceuta & Melilla Flag",keywords:["ea"],skins:[{unified:"1f1ea-1f1e6",native:""}],version:2},"flag-ec":{id:"flag-ec",name:"Ecuador Flag",keywords:["ec","nation","country","banner"],skins:[{unified:"1f1ea-1f1e8",native:""}],version:2},"flag-ee":{id:"flag-ee",name:"Estonia Flag",keywords:["ee","nation","country","banner"],skins:[{unified:"1f1ea-1f1ea",native:""}],version:2},"flag-eg":{id:"flag-eg",name:"Egypt Flag",keywords:["eg","nation","country","banner"],skins:[{unified:"1f1ea-1f1ec",native:""}],version:2},"flag-eh":{id:"flag-eh",name:"Western Sahara Flag",keywords:["eh","nation","country","banner"],skins:[{unified:"1f1ea-1f1ed",native:""}],version:2},"flag-er":{id:"flag-er",name:"Eritrea Flag",keywords:["er","nation","country","banner"],skins:[{unified:"1f1ea-1f1f7",native:""}],version:2},es:{id:"es",name:"Spain Flag",keywords:["es","nation","country","banner"],skins:[{unified:"1f1ea-1f1f8",native:""}],version:1},"flag-et":{id:"flag-et",name:"Ethiopia Flag",keywords:["et","nation","country","banner"],skins:[{unified:"1f1ea-1f1f9",native:""}],version:2},"flag-eu":{id:"flag-eu",name:"European Union Flag",keywords:["eu","banner"],skins:[{unified:"1f1ea-1f1fa",native:""}],version:2},"flag-fi":{id:"flag-fi",name:"Finland Flag",keywords:["fi","nation","country","banner"],skins:[{unified:"1f1eb-1f1ee",native:""}],version:2},"flag-fj":{id:"flag-fj",name:"Fiji Flag",keywords:["fj","nation","country","banner"],skins:[{unified:"1f1eb-1f1ef",native:""}],version:2},"flag-fk":{id:"flag-fk",name:"Falkland Islands Flag",keywords:["fk","malvinas","nation","country","banner"],skins:[{unified:"1f1eb-1f1f0",native:""}],version:2},"flag-fm":{id:"flag-fm",name:"Micronesia Flag",keywords:["fm","federated","states","nation","country","banner"],skins:[{unified:"1f1eb-1f1f2",native:""}],version:2},"flag-fo":{id:"flag-fo",name:"Faroe Islands Flag",keywords:["fo","nation","country","banner"],skins:[{unified:"1f1eb-1f1f4",native:""}],version:2},fr:{id:"fr",name:"France Flag",keywords:["fr","banner","nation","french","country"],skins:[{unified:"1f1eb-1f1f7",native:""}],version:1},"flag-ga":{id:"flag-ga",name:"Gabon Flag",keywords:["ga","nation","country","banner"],skins:[{unified:"1f1ec-1f1e6",native:""}],version:2},gb:{id:"gb",name:"United Kingdom Flag",keywords:["gb","uk","great","britain","northern","ireland","nation","country","banner","british","UK","english","england","union","jack"],skins:[{unified:"1f1ec-1f1e7",native:""}],version:1},"flag-gd":{id:"flag-gd",name:"Grenada Flag",keywords:["gd","nation","country","banner"],skins:[{unified:"1f1ec-1f1e9",native:""}],version:2},"flag-ge":{id:"flag-ge",name:"Georgia Flag",keywords:["ge","nation","country","banner"],skins:[{unified:"1f1ec-1f1ea",native:""}],version:2},"flag-gf":{id:"flag-gf",name:"French Guiana Flag",keywords:["gf","nation","country","banner"],skins:[{unified:"1f1ec-1f1eb",native:""}],version:2},"flag-gg":{id:"flag-gg",name:"Guernsey Flag",keywords:["gg","nation","country","banner"],skins:[{unified:"1f1ec-1f1ec",native:""}],version:2},"flag-gh":{id:"flag-gh",name:"Ghana Flag",keywords:["gh","nation","country","banner"],skins:[{unified:"1f1ec-1f1ed",native:""}],version:2},"flag-gi":{id:"flag-gi",name:"Gibraltar Flag",keywords:["gi","nation","country","banner"],skins:[{unified:"1f1ec-1f1ee",native:""}],version:2},"flag-gl":{id:"flag-gl",name:"Greenland Flag",keywords:["gl","nation","country","banner"],skins:[{unified:"1f1ec-1f1f1",native:""}],version:2},"flag-gm":{id:"flag-gm",name:"Gambia Flag",keywords:["gm","nation","country","banner"],skins:[{unified:"1f1ec-1f1f2",native:""}],version:2},"flag-gn":{id:"flag-gn",name:"Guinea Flag",keywords:["gn","nation","country","banner"],skins:[{unified:"1f1ec-1f1f3",native:""}],version:2},"flag-gp":{id:"flag-gp",name:"Guadeloupe Flag",keywords:["gp","nation","country","banner"],skins:[{unified:"1f1ec-1f1f5",native:""}],version:2},"flag-gq":{id:"flag-gq",name:"Equatorial Guinea Flag",keywords:["gq","gn","nation","country","banner"],skins:[{unified:"1f1ec-1f1f6",native:""}],version:2},"flag-gr":{id:"flag-gr",name:"Greece Flag",keywords:["gr","nation","country","banner"],skins:[{unified:"1f1ec-1f1f7",native:""}],version:2},"flag-gs":{id:"flag-gs",name:"South Georgia & South Sandwich Islands Flag",keywords:["gs","nation","country","banner"],skins:[{unified:"1f1ec-1f1f8",native:""}],version:2},"flag-gt":{id:"flag-gt",name:"Guatemala Flag",keywords:["gt","nation","country","banner"],skins:[{unified:"1f1ec-1f1f9",native:""}],version:2},"flag-gu":{id:"flag-gu",name:"Guam Flag",keywords:["gu","nation","country","banner"],skins:[{unified:"1f1ec-1f1fa",native:""}],version:2},"flag-gw":{id:"flag-gw",name:"Guinea-Bissau Flag",keywords:["gw","guinea","bissau","nation","country","banner"],skins:[{unified:"1f1ec-1f1fc",native:""}],version:2},"flag-gy":{id:"flag-gy",name:"Guyana Flag",keywords:["gy","nation","country","banner"],skins:[{unified:"1f1ec-1f1fe",native:""}],version:2},"flag-hk":{id:"flag-hk",name:"Hong Kong Sar China Flag",keywords:["hk","nation","country","banner"],skins:[{unified:"1f1ed-1f1f0",native:""}],version:2},"flag-hm":{id:"flag-hm",name:"Heard & Mcdonald Islands Flag",keywords:["hm"],skins:[{unified:"1f1ed-1f1f2",native:""}],version:2},"flag-hn":{id:"flag-hn",name:"Honduras Flag",keywords:["hn","nation","country","banner"],skins:[{unified:"1f1ed-1f1f3",native:""}],version:2},"flag-hr":{id:"flag-hr",name:"Croatia Flag",keywords:["hr","nation","country","banner"],skins:[{unified:"1f1ed-1f1f7",native:""}],version:2},"flag-ht":{id:"flag-ht",name:"Haiti Flag",keywords:["ht","nation","country","banner"],skins:[{unified:"1f1ed-1f1f9",native:""}],version:2},"flag-hu":{id:"flag-hu",name:"Hungary Flag",keywords:["hu","nation","country","banner"],skins:[{unified:"1f1ed-1f1fa",native:""}],version:2},"flag-ic":{id:"flag-ic",name:"Canary Islands Flag",keywords:["ic","nation","country","banner"],skins:[{unified:"1f1ee-1f1e8",native:""}],version:2},"flag-id":{id:"flag-id",name:"Indonesia Flag",keywords:["id","nation","country","banner"],skins:[{unified:"1f1ee-1f1e9",native:""}],version:2},"flag-ie":{id:"flag-ie",name:"Ireland Flag",keywords:["ie","nation","country","banner"],skins:[{unified:"1f1ee-1f1ea",native:""}],version:2},"flag-il":{id:"flag-il",name:"Israel Flag",keywords:["il","nation","country","banner"],skins:[{unified:"1f1ee-1f1f1",native:""}],version:2},"flag-im":{id:"flag-im",name:"Isle of Man Flag",keywords:["im","nation","country","banner"],skins:[{unified:"1f1ee-1f1f2",native:""}],version:2},"flag-in":{id:"flag-in",name:"India Flag",keywords:["in","nation","country","banner"],skins:[{unified:"1f1ee-1f1f3",native:""}],version:2},"flag-io":{id:"flag-io",name:"British Indian Ocean Territory Flag",keywords:["io","nation","country","banner"],skins:[{unified:"1f1ee-1f1f4",native:""}],version:2},"flag-iq":{id:"flag-iq",name:"Iraq Flag",keywords:["iq","nation","country","banner"],skins:[{unified:"1f1ee-1f1f6",native:""}],version:2},"flag-ir":{id:"flag-ir",name:"Iran Flag",keywords:["ir","islamic","republic","nation","country","banner"],skins:[{unified:"1f1ee-1f1f7",native:""}],version:2},"flag-is":{id:"flag-is",name:"Iceland Flag",keywords:["is","nation","country","banner"],skins:[{unified:"1f1ee-1f1f8",native:""}],version:2},it:{id:"it",name:"Italy Flag",keywords:["it","nation","country","banner"],skins:[{unified:"1f1ee-1f1f9",native:""}],version:1},"flag-je":{id:"flag-je",name:"Jersey Flag",keywords:["je","nation","country","banner"],skins:[{unified:"1f1ef-1f1ea",native:""}],version:2},"flag-jm":{id:"flag-jm",name:"Jamaica Flag",keywords:["jm","nation","country","banner"],skins:[{unified:"1f1ef-1f1f2",native:""}],version:2},"flag-jo":{id:"flag-jo",name:"Jordan Flag",keywords:["jo","nation","country","banner"],skins:[{unified:"1f1ef-1f1f4",native:""}],version:2},jp:{id:"jp",name:"Japan Flag",keywords:["jp","japanese","nation","country","banner","ja"],skins:[{unified:"1f1ef-1f1f5",native:""}],version:1},"flag-ke":{id:"flag-ke",name:"Kenya Flag",keywords:["ke","nation","country","banner"],skins:[{unified:"1f1f0-1f1ea",native:""}],version:2},"flag-kg":{id:"flag-kg",name:"Kyrgyzstan Flag",keywords:["kg","nation","country","banner"],skins:[{unified:"1f1f0-1f1ec",native:""}],version:2},"flag-kh":{id:"flag-kh",name:"Cambodia Flag",keywords:["kh","nation","country","banner"],skins:[{unified:"1f1f0-1f1ed",native:""}],version:2},"flag-ki":{id:"flag-ki",name:"Kiribati Flag",keywords:["ki","nation","country","banner"],skins:[{unified:"1f1f0-1f1ee",native:""}],version:2},"flag-km":{id:"flag-km",name:"Comoros Flag",keywords:["km","nation","country","banner"],skins:[{unified:"1f1f0-1f1f2",native:""}],version:2},"flag-kn":{id:"flag-kn",name:"St. Kitts & Nevis Flag",keywords:["kn","st","saint","nation","country","banner"],skins:[{unified:"1f1f0-1f1f3",native:""}],version:2},"flag-kp":{id:"flag-kp",name:"North Korea Flag",keywords:["kp","nation","country","banner"],skins:[{unified:"1f1f0-1f1f5",native:""}],version:2},kr:{id:"kr",name:"South Korea Flag",keywords:["kr","nation","country","banner"],skins:[{unified:"1f1f0-1f1f7",native:""}],version:1},"flag-kw":{id:"flag-kw",name:"Kuwait Flag",keywords:["kw","nation","country","banner"],skins:[{unified:"1f1f0-1f1fc",native:""}],version:2},"flag-ky":{id:"flag-ky",name:"Cayman Islands Flag",keywords:["ky","nation","country","banner"],skins:[{unified:"1f1f0-1f1fe",native:""}],version:2},"flag-kz":{id:"flag-kz",name:"Kazakhstan Flag",keywords:["kz","nation","country","banner"],skins:[{unified:"1f1f0-1f1ff",native:""}],version:2},"flag-la":{id:"flag-la",name:"Laos Flag",keywords:["la","lao","democratic","republic","nation","country","banner"],skins:[{unified:"1f1f1-1f1e6",native:""}],version:2},"flag-lb":{id:"flag-lb",name:"Lebanon Flag",keywords:["lb","nation","country","banner"],skins:[{unified:"1f1f1-1f1e7",native:""}],version:2},"flag-lc":{id:"flag-lc",name:"St. Lucia Flag",keywords:["lc","st","saint","nation","country","banner"],skins:[{unified:"1f1f1-1f1e8",native:""}],version:2},"flag-li":{id:"flag-li",name:"Liechtenstein Flag",keywords:["li","nation","country","banner"],skins:[{unified:"1f1f1-1f1ee",native:""}],version:2},"flag-lk":{id:"flag-lk",name:"Sri Lanka Flag",keywords:["lk","nation","country","banner"],skins:[{unified:"1f1f1-1f1f0",native:""}],version:2},"flag-lr":{id:"flag-lr",name:"Liberia Flag",keywords:["lr","nation","country","banner"],skins:[{unified:"1f1f1-1f1f7",native:""}],version:2},"flag-ls":{id:"flag-ls",name:"Lesotho Flag",keywords:["ls","nation","country","banner"],skins:[{unified:"1f1f1-1f1f8",native:""}],version:2},"flag-lt":{id:"flag-lt",name:"Lithuania Flag",keywords:["lt","nation","country","banner"],skins:[{unified:"1f1f1-1f1f9",native:""}],version:2},"flag-lu":{id:"flag-lu",name:"Luxembourg Flag",keywords:["lu","nation","country","banner"],skins:[{unified:"1f1f1-1f1fa",native:""}],version:2},"flag-lv":{id:"flag-lv",name:"Latvia Flag",keywords:["lv","nation","country","banner"],skins:[{unified:"1f1f1-1f1fb",native:""}],version:2},"flag-ly":{id:"flag-ly",name:"Libya Flag",keywords:["ly","nation","country","banner"],skins:[{unified:"1f1f1-1f1fe",native:""}],version:2},"flag-ma":{id:"flag-ma",name:"Morocco Flag",keywords:["ma","nation","country","banner"],skins:[{unified:"1f1f2-1f1e6",native:""}],version:2},"flag-mc":{id:"flag-mc",name:"Monaco Flag",keywords:["mc","nation","country","banner"],skins:[{unified:"1f1f2-1f1e8",native:""}],version:2},"flag-md":{id:"flag-md",name:"Moldova Flag",keywords:["md","republic","nation","country","banner"],skins:[{unified:"1f1f2-1f1e9",native:""}],version:2},"flag-me":{id:"flag-me",name:"Montenegro Flag",keywords:["me","nation","country","banner"],skins:[{unified:"1f1f2-1f1ea",native:""}],version:2},"flag-mf":{id:"flag-mf",name:"St. Martin Flag",keywords:["mf","st"],skins:[{unified:"1f1f2-1f1eb",native:""}],version:2},"flag-mg":{id:"flag-mg",name:"Madagascar Flag",keywords:["mg","nation","country","banner"],skins:[{unified:"1f1f2-1f1ec",native:""}],version:2},"flag-mh":{id:"flag-mh",name:"Marshall Islands Flag",keywords:["mh","nation","country","banner"],skins:[{unified:"1f1f2-1f1ed",native:""}],version:2},"flag-mk":{id:"flag-mk",name:"North Macedonia Flag",keywords:["mk","nation","country","banner"],skins:[{unified:"1f1f2-1f1f0",native:""}],version:2},"flag-ml":{id:"flag-ml",name:"Mali Flag",keywords:["ml","nation","country","banner"],skins:[{unified:"1f1f2-1f1f1",native:""}],version:2},"flag-mm":{id:"flag-mm",name:"Myanmar (burma) Flag",keywords:["mm","nation","country","banner"],skins:[{unified:"1f1f2-1f1f2",native:""}],version:2},"flag-mn":{id:"flag-mn",name:"Mongolia Flag",keywords:["mn","nation","country","banner"],skins:[{unified:"1f1f2-1f1f3",native:""}],version:2},"flag-mo":{id:"flag-mo",name:"Macao Sar China Flag",keywords:["mo","nation","country","banner"],skins:[{unified:"1f1f2-1f1f4",native:""}],version:2},"flag-mp":{id:"flag-mp",name:"Northern Mariana Islands Flag",keywords:["mp","nation","country","banner"],skins:[{unified:"1f1f2-1f1f5",native:""}],version:2},"flag-mq":{id:"flag-mq",name:"Martinique Flag",keywords:["mq","nation","country","banner"],skins:[{unified:"1f1f2-1f1f6",native:""}],version:2},"flag-mr":{id:"flag-mr",name:"Mauritania Flag",keywords:["mr","nation","country","banner"],skins:[{unified:"1f1f2-1f1f7",native:""}],version:2},"flag-ms":{id:"flag-ms",name:"Montserrat Flag",keywords:["ms","nation","country","banner"],skins:[{unified:"1f1f2-1f1f8",native:""}],version:2},"flag-mt":{id:"flag-mt",name:"Malta Flag",keywords:["mt","nation","country","banner"],skins:[{unified:"1f1f2-1f1f9",native:""}],version:2},"flag-mu":{id:"flag-mu",name:"Mauritius Flag",keywords:["mu","nation","country","banner"],skins:[{unified:"1f1f2-1f1fa",native:""}],version:2},"flag-mv":{id:"flag-mv",name:"Maldives Flag",keywords:["mv","nation","country","banner"],skins:[{unified:"1f1f2-1f1fb",native:""}],version:2},"flag-mw":{id:"flag-mw",name:"Malawi Flag",keywords:["mw","nation","country","banner"],skins:[{unified:"1f1f2-1f1fc",native:""}],version:2},"flag-mx":{id:"flag-mx",name:"Mexico Flag",keywords:["mx","nation","country","banner"],skins:[{unified:"1f1f2-1f1fd",native:""}],version:2},"flag-my":{id:"flag-my",name:"Malaysia Flag",keywords:["my","nation","country","banner"],skins:[{unified:"1f1f2-1f1fe",native:""}],version:2},"flag-mz":{id:"flag-mz",name:"Mozambique Flag",keywords:["mz","nation","country","banner"],skins:[{unified:"1f1f2-1f1ff",native:""}],version:2},"flag-na":{id:"flag-na",name:"Namibia Flag",keywords:["na","nation","country","banner"],skins:[{unified:"1f1f3-1f1e6",native:""}],version:2},"flag-nc":{id:"flag-nc",name:"New Caledonia Flag",keywords:["nc","nation","country","banner"],skins:[{unified:"1f1f3-1f1e8",native:""}],version:2},"flag-ne":{id:"flag-ne",name:"Niger Flag",keywords:["ne","nation","country","banner"],skins:[{unified:"1f1f3-1f1ea",native:""}],version:2},"flag-nf":{id:"flag-nf",name:"Norfolk Island Flag",keywords:["nf","nation","country","banner"],skins:[{unified:"1f1f3-1f1eb",native:""}],version:2},"flag-ng":{id:"flag-ng",name:"Nigeria Flag",keywords:["ng","nation","country","banner"],skins:[{unified:"1f1f3-1f1ec",native:""}],version:2},"flag-ni":{id:"flag-ni",name:"Nicaragua Flag",keywords:["ni","nation","country","banner"],skins:[{unified:"1f1f3-1f1ee",native:""}],version:2},"flag-nl":{id:"flag-nl",name:"Netherlands Flag",keywords:["nl","nation","country","banner"],skins:[{unified:"1f1f3-1f1f1",native:""}],version:2},"flag-no":{id:"flag-no",name:"Norway Flag",keywords:["no","nation","country","banner"],skins:[{unified:"1f1f3-1f1f4",native:""}],version:2},"flag-np":{id:"flag-np",name:"Nepal Flag",keywords:["np","nation","country","banner"],skins:[{unified:"1f1f3-1f1f5",native:""}],version:2},"flag-nr":{id:"flag-nr",name:"Nauru Flag",keywords:["nr","nation","country","banner"],skins:[{unified:"1f1f3-1f1f7",native:""}],version:2},"flag-nu":{id:"flag-nu",name:"Niue Flag",keywords:["nu","nation","country","banner"],skins:[{unified:"1f1f3-1f1fa",native:""}],version:2},"flag-nz":{id:"flag-nz",name:"New Zealand Flag",keywords:["nz","nation","country","banner"],skins:[{unified:"1f1f3-1f1ff",native:""}],version:2},"flag-om":{id:"flag-om",name:"Oman Flag",keywords:["om","symbol","nation","country","banner"],skins:[{unified:"1f1f4-1f1f2",native:""}],version:2},"flag-pa":{id:"flag-pa",name:"Panama Flag",keywords:["pa","nation","country","banner"],skins:[{unified:"1f1f5-1f1e6",native:""}],version:2},"flag-pe":{id:"flag-pe",name:"Peru Flag",keywords:["pe","nation","country","banner"],skins:[{unified:"1f1f5-1f1ea",native:""}],version:2},"flag-pf":{id:"flag-pf",name:"French Polynesia Flag",keywords:["pf","nation","country","banner"],skins:[{unified:"1f1f5-1f1eb",native:""}],version:2},"flag-pg":{id:"flag-pg",name:"Papua New Guinea Flag",keywords:["pg","nation","country","banner"],skins:[{unified:"1f1f5-1f1ec",native:""}],version:2},"flag-ph":{id:"flag-ph",name:"Philippines Flag",keywords:["ph","nation","country","banner"],skins:[{unified:"1f1f5-1f1ed",native:""}],version:2},"flag-pk":{id:"flag-pk",name:"Pakistan Flag",keywords:["pk","nation","country","banner"],skins:[{unified:"1f1f5-1f1f0",native:""}],version:2},"flag-pl":{id:"flag-pl",name:"Poland Flag",keywords:["pl","nation","country","banner"],skins:[{unified:"1f1f5-1f1f1",native:""}],version:2},"flag-pm":{id:"flag-pm",name:"St. Pierre & Miquelon Flag",keywords:["pm","st","saint","nation","country","banner"],skins:[{unified:"1f1f5-1f1f2",native:""}],version:2},"flag-pn":{id:"flag-pn",name:"Pitcairn Islands Flag",keywords:["pn","nation","country","banner"],skins:[{unified:"1f1f5-1f1f3",native:""}],version:2},"flag-pr":{id:"flag-pr",name:"Puerto Rico Flag",keywords:["pr","nation","country","banner"],skins:[{unified:"1f1f5-1f1f7",native:""}],version:2},"flag-ps":{id:"flag-ps",name:"Palestinian Territories Flag",keywords:["ps","palestine","nation","country","banner"],skins:[{unified:"1f1f5-1f1f8",native:""}],version:2},"flag-pt":{id:"flag-pt",name:"Portugal Flag",keywords:["pt","nation","country","banner"],skins:[{unified:"1f1f5-1f1f9",native:""}],version:2},"flag-pw":{id:"flag-pw",name:"Palau Flag",keywords:["pw","nation","country","banner"],skins:[{unified:"1f1f5-1f1fc",native:""}],version:2},"flag-py":{id:"flag-py",name:"Paraguay Flag",keywords:["py","nation","country","banner"],skins:[{unified:"1f1f5-1f1fe",native:""}],version:2},"flag-qa":{id:"flag-qa",name:"Qatar Flag",keywords:["qa","nation","country","banner"],skins:[{unified:"1f1f6-1f1e6",native:""}],version:2},"flag-re":{id:"flag-re",name:"Runion Flag",keywords:["re","reunion","nation","country","banner"],skins:[{unified:"1f1f7-1f1ea",native:""}],version:2},"flag-ro":{id:"flag-ro",name:"Romania Flag",keywords:["ro","nation","country","banner"],skins:[{unified:"1f1f7-1f1f4",native:""}],version:2},"flag-rs":{id:"flag-rs",name:"Serbia Flag",keywords:["rs","nation","country","banner"],skins:[{unified:"1f1f7-1f1f8",native:""}],version:2},ru:{id:"ru",name:"Russia Flag",keywords:["ru","russian","federation","nation","country","banner"],skins:[{unified:"1f1f7-1f1fa",native:""}],version:1},"flag-rw":{id:"flag-rw",name:"Rwanda Flag",keywords:["rw","nation","country","banner"],skins:[{unified:"1f1f7-1f1fc",native:""}],version:2},"flag-sa":{id:"flag-sa",name:"Saudi Arabia Flag",keywords:["sa","nation","country","banner"],skins:[{unified:"1f1f8-1f1e6",native:""}],version:2},"flag-sb":{id:"flag-sb",name:"Solomon Islands Flag",keywords:["sb","nation","country","banner"],skins:[{unified:"1f1f8-1f1e7",native:""}],version:2},"flag-sc":{id:"flag-sc",name:"Seychelles Flag",keywords:["sc","nation","country","banner"],skins:[{unified:"1f1f8-1f1e8",native:""}],version:2},"flag-sd":{id:"flag-sd",name:"Sudan Flag",keywords:["sd","nation","country","banner"],skins:[{unified:"1f1f8-1f1e9",native:""}],version:2},"flag-se":{id:"flag-se",name:"Sweden Flag",keywords:["se","nation","country","banner"],skins:[{unified:"1f1f8-1f1ea",native:""}],version:2},"flag-sg":{id:"flag-sg",name:"Singapore Flag",keywords:["sg","nation","country","banner"],skins:[{unified:"1f1f8-1f1ec",native:""}],version:2},"flag-sh":{id:"flag-sh",name:"St. Helena Flag",keywords:["sh","st","saint","ascension","tristan","cunha","nation","country","banner"],skins:[{unified:"1f1f8-1f1ed",native:""}],version:2},"flag-si":{id:"flag-si",name:"Slovenia Flag",keywords:["si","nation","country","banner"],skins:[{unified:"1f1f8-1f1ee",native:""}],version:2},"flag-sj":{id:"flag-sj",name:"Svalbard & Jan Mayen Flag",keywords:["sj"],skins:[{unified:"1f1f8-1f1ef",native:""}],version:2},"flag-sk":{id:"flag-sk",name:"Slovakia Flag",keywords:["sk","nation","country","banner"],skins:[{unified:"1f1f8-1f1f0",native:""}],version:2},"flag-sl":{id:"flag-sl",name:"Sierra Leone Flag",keywords:["sl","nation","country","banner"],skins:[{unified:"1f1f8-1f1f1",native:""}],version:2},"flag-sm":{id:"flag-sm",name:"San Marino Flag",keywords:["sm","nation","country","banner"],skins:[{unified:"1f1f8-1f1f2",native:""}],version:2},"flag-sn":{id:"flag-sn",name:"Senegal Flag",keywords:["sn","nation","country","banner"],skins:[{unified:"1f1f8-1f1f3",native:""}],version:2},"flag-so":{id:"flag-so",name:"Somalia Flag",keywords:["so","nation","country","banner"],skins:[{unified:"1f1f8-1f1f4",native:""}],version:2},"flag-sr":{id:"flag-sr",name:"Suriname Flag",keywords:["sr","nation","country","banner"],skins:[{unified:"1f1f8-1f1f7",native:""}],version:2},"flag-ss":{id:"flag-ss",name:"South Sudan Flag",keywords:["ss","sd","nation","country","banner"],skins:[{unified:"1f1f8-1f1f8",native:""}],version:2},"flag-st":{id:"flag-st",name:"So Tom & Prncipe Flag",keywords:["st","sao","tome","principe","nation","country","banner"],skins:[{unified:"1f1f8-1f1f9",native:""}],version:2},"flag-sv":{id:"flag-sv",name:"El Salvador Flag",keywords:["sv","nation","country","banner"],skins:[{unified:"1f1f8-1f1fb",native:""}],version:2},"flag-sx":{id:"flag-sx",name:"Sint Maarten Flag",keywords:["sx","dutch","nation","country","banner"],skins:[{unified:"1f1f8-1f1fd",native:""}],version:2},"flag-sy":{id:"flag-sy",name:"Syria Flag",keywords:["sy","syrian","arab","republic","nation","country","banner"],skins:[{unified:"1f1f8-1f1fe",native:""}],version:2},"flag-sz":{id:"flag-sz",name:"Eswatini Flag",keywords:["sz","nation","country","banner"],skins:[{unified:"1f1f8-1f1ff",native:""}],version:2},"flag-ta":{id:"flag-ta",name:"Tristan Da Cunha Flag",keywords:["ta"],skins:[{unified:"1f1f9-1f1e6",native:""}],version:2},"flag-tc":{id:"flag-tc",name:"Turks & Caicos Islands Flag",keywords:["tc","nation","country","banner"],skins:[{unified:"1f1f9-1f1e8",native:""}],version:2},"flag-td":{id:"flag-td",name:"Chad Flag",keywords:["td","nation","country","banner"],skins:[{unified:"1f1f9-1f1e9",native:""}],version:2},"flag-tf":{id:"flag-tf",name:"French Southern Territories Flag",keywords:["tf","nation","country","banner"],skins:[{unified:"1f1f9-1f1eb",native:""}],version:2},"flag-tg":{id:"flag-tg",name:"Togo Flag",keywords:["tg","nation","country","banner"],skins:[{unified:"1f1f9-1f1ec",native:""}],version:2},"flag-th":{id:"flag-th",name:"Thailand Flag",keywords:["th","nation","country","banner"],skins:[{unified:"1f1f9-1f1ed",native:""}],version:2},"flag-tj":{id:"flag-tj",name:"Tajikistan Flag",keywords:["tj","nation","country","banner"],skins:[{unified:"1f1f9-1f1ef",native:""}],version:2},"flag-tk":{id:"flag-tk",name:"Tokelau Flag",keywords:["tk","nation","country","banner"],skins:[{unified:"1f1f9-1f1f0",native:""}],version:2},"flag-tl":{id:"flag-tl",name:"Timor-Leste Flag",keywords:["tl","timor","leste","nation","country","banner"],skins:[{unified:"1f1f9-1f1f1",native:""}],version:2},"flag-tm":{id:"flag-tm",name:"Turkmenistan Flag",keywords:["tm","nation","country","banner"],skins:[{unified:"1f1f9-1f1f2",native:""}],version:2},"flag-tn":{id:"flag-tn",name:"Tunisia Flag",keywords:["tn","nation","country","banner"],skins:[{unified:"1f1f9-1f1f3",native:""}],version:2},"flag-to":{id:"flag-to",name:"Tonga Flag",keywords:["to","nation","country","banner"],skins:[{unified:"1f1f9-1f1f4",native:""}],version:2},"flag-tr":{id:"flag-tr",name:"Turkey Flag",keywords:["tr","nation","country","banner"],skins:[{unified:"1f1f9-1f1f7",native:""}],version:2},"flag-tt":{id:"flag-tt",name:"Trinidad & Tobago Flag",keywords:["tt","nation","country","banner"],skins:[{unified:"1f1f9-1f1f9",native:""}],version:2},"flag-tv":{id:"flag-tv",name:"Tuvalu Flag",keywords:["tv","nation","country","banner"],skins:[{unified:"1f1f9-1f1fb",native:""}],version:2},"flag-tw":{id:"flag-tw",name:"Taiwan Flag",keywords:["tw","nation","country","banner"],skins:[{unified:"1f1f9-1f1fc",native:""}],version:2},"flag-tz":{id:"flag-tz",name:"Tanzania Flag",keywords:["tz","united","republic","nation","country","banner"],skins:[{unified:"1f1f9-1f1ff",native:""}],version:2},"flag-ua":{id:"flag-ua",name:"Ukraine Flag",keywords:["ua","nation","country","banner"],skins:[{unified:"1f1fa-1f1e6",native:""}],version:2},"flag-ug":{id:"flag-ug",name:"Uganda Flag",keywords:["ug","nation","country","banner"],skins:[{unified:"1f1fa-1f1ec",native:""}],version:2},"flag-um":{id:"flag-um",name:"U.s. Outlying Islands Flag",keywords:["um","u","s"],skins:[{unified:"1f1fa-1f1f2",native:""}],version:2},"flag-un":{id:"flag-un",name:"United Nations Flag",keywords:["un","banner"],skins:[{unified:"1f1fa-1f1f3",native:""}],version:4},us:{id:"us",name:"United States Flag",keywords:["us","america","nation","country","banner"],skins:[{unified:"1f1fa-1f1f8",native:""}],version:1},"flag-uy":{id:"flag-uy",name:"Uruguay Flag",keywords:["uy","nation","country","banner"],skins:[{unified:"1f1fa-1f1fe",native:""}],version:2},"flag-uz":{id:"flag-uz",name:"Uzbekistan Flag",keywords:["uz","nation","country","banner"],skins:[{unified:"1f1fa-1f1ff",native:""}],version:2},"flag-va":{id:"flag-va",name:"Vatican City Flag",keywords:["va","nation","country","banner"],skins:[{unified:"1f1fb-1f1e6",native:""}],version:2},"flag-vc":{id:"flag-vc",name:"St. Vincent & Grenadines Flag",keywords:["vc","st","saint","nation","country","banner"],skins:[{unified:"1f1fb-1f1e8",native:""}],version:2},"flag-ve":{id:"flag-ve",name:"Venezuela Flag",keywords:["ve","bolivarian","republic","nation","country","banner"],skins:[{unified:"1f1fb-1f1ea",native:""}],version:2},"flag-vg":{id:"flag-vg",name:"British Virgin Islands Flag",keywords:["vg","bvi","nation","country","banner"],skins:[{unified:"1f1fb-1f1ec",native:""}],version:2},"flag-vi":{id:"flag-vi",name:"U.s. Virgin Islands Flag",keywords:["vi","u","s","us","nation","country","banner"],skins:[{unified:"1f1fb-1f1ee",native:""}],version:2},"flag-vn":{id:"flag-vn",name:"Vietnam Flag",keywords:["vn","viet","nam","nation","country","banner"],skins:[{unified:"1f1fb-1f1f3",native:""}],version:2},"flag-vu":{id:"flag-vu",name:"Vanuatu Flag",keywords:["vu","nation","country","banner"],skins:[{unified:"1f1fb-1f1fa",native:""}],version:2},"flag-wf":{id:"flag-wf",name:"Wallis & Futuna Flag",keywords:["wf","nation","country","banner"],skins:[{unified:"1f1fc-1f1eb",native:""}],version:2},"flag-ws":{id:"flag-ws",name:"Samoa Flag",keywords:["ws","nation","country","banner"],skins:[{unified:"1f1fc-1f1f8",native:""}],version:2},"flag-xk":{id:"flag-xk",name:"Kosovo Flag",keywords:["xk","nation","country","banner"],skins:[{unified:"1f1fd-1f1f0",native:""}],version:2},"flag-ye":{id:"flag-ye",name:"Yemen Flag",keywords:["ye","nation","country","banner"],skins:[{unified:"1f1fe-1f1ea",native:""}],version:2},"flag-yt":{id:"flag-yt",name:"Mayotte Flag",keywords:["yt","nation","country","banner"],skins:[{unified:"1f1fe-1f1f9",native:""}],version:2},"flag-za":{id:"flag-za",name:"South Africa Flag",keywords:["za","nation","country","banner"],skins:[{unified:"1f1ff-1f1e6",native:""}],version:2},"flag-zm":{id:"flag-zm",name:"Zambia Flag",keywords:["zm","nation","country","banner"],skins:[{unified:"1f1ff-1f1f2",native:""}],version:2},"flag-zw":{id:"flag-zw",name:"Zimbabwe Flag",keywords:["zw","nation","country","banner"],skins:[{unified:"1f1ff-1f1fc",native:""}],version:2},"flag-england":{id:"flag-england",name:"England Flag",keywords:["english"],skins:[{unified:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",native:""}],version:5},"flag-scotland":{id:"flag-scotland",name:"Scotland Flag",keywords:["scottish"],skins:[{unified:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",native:""}],version:5},"flag-wales":{id:"flag-wales",name:"Wales Flag",keywords:["welsh"],skins:[{unified:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",native:""}],version:5}},aliases:{satisfied:"laughing",grinning_face_with_star_eyes:"star-struck",grinning_face_with_one_large_and_one_small_eye:"zany_face",smiling_face_with_smiling_eyes_and_hand_covering_mouth:"face_with_hand_over_mouth",face_with_finger_covering_closed_lips:"shushing_face",face_with_one_eyebrow_raised:"face_with_raised_eyebrow",face_with_open_mouth_vomiting:"face_vomiting",shocked_face_with_exploding_head:"exploding_head",serious_face_with_symbols_covering_mouth:"face_with_symbols_on_mouth",poop:"hankey",shit:"hankey",collision:"boom",raised_hand:"hand",hand_with_index_and_middle_fingers_crossed:"crossed_fingers",sign_of_the_horns:"the_horns",reversed_hand_with_middle_finger_extended:"middle_finger",thumbsup:"+1",thumbsdown:"-1",punch:"facepunch",mother_christmas:"mrs_claus",running:"runner","man-with-bunny-ears-partying":"men-with-bunny-ears-partying","woman-with-bunny-ears-partying":"women-with-bunny-ears-partying",women_holding_hands:"two_women_holding_hands",woman_and_man_holding_hands:"man_and_woman_holding_hands",couple:"man_and_woman_holding_hands",men_holding_hands:"two_men_holding_hands",paw_prints:"feet",flipper:"dolphin",honeybee:"bee",lady_beetle:"ladybug",cooking:"fried_egg",knife:"hocho",red_car:"car",sailboat:"boat",waxing_gibbous_moon:"moon",sun_small_cloud:"mostly_sunny",sun_behind_cloud:"barely_sunny",sun_behind_rain_cloud:"partly_sunny_rain",lightning_cloud:"lightning",tornado_cloud:"tornado",tshirt:"shirt",shoe:"mans_shoe",telephone:"phone",lantern:"izakaya_lantern",open_book:"book",envelope:"email",pencil:"memo",heavy_exclamation_mark:"exclamation",staff_of_aesculapius:"medical_symbol","flag-cn":"cn","flag-de":"de","flag-es":"es","flag-fr":"fr",uk:"gb","flag-gb":"gb","flag-it":"it","flag-jp":"jp","flag-kr":"kr","flag-ru":"ru","flag-us":"us"},sheet:{cols:61,rows:61}};var __defProp$8=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__decorateClass$8=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$8(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$8(target,key,result),result};let NoteEmojis=class extends s$2{createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.emojiInit()}onSelect(emoji){this.dispatchEvent(new NoteEmojiSelectEvent(emoji))}emojiInit(){const pickerOptions={maxFrequentRows:0,skinTonePosition:"none",theme:"light",navPosition:"none",previewPosition:"none",data,onEmojiSelect:data2=>{this.onSelect(data2.native)}};for(;this.lastChild;)this.removeChild(this.lastChild);this.append(new $efa000751917694d$export$2e2bcd8739ae039(pickerOptions))}};NoteEmojis=__decorateClass$8([t$2("imt-note-emojis")],NoteEmojis);var freeGlobal=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(value){var isOwn=hasOwnProperty$c.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch{}var result=nativeObjectToString$1.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(value){return nativeObjectToString.call(value)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(value){return value==null?value===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function isObjectLike(value){return value!=null&&typeof value=="object"}var isArray=Array.isArray;function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function identity(value){return value}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag$2||tag==genTag$1||tag==asyncTag||tag==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func2){return!!maskSrcKey&&maskSrcKey in func2}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(func2){if(func2!=null){try{return funcToString$2.call(func2)}catch{}try{return func2+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function getValue(object2,key){return object2==null?void 0:object2[key]}function getNative(object2,key){var value=getValue(object2,key);return baseIsNative(value)?value:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function object2(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object2.prototype=proto;var result=new object2;return object2.prototype=void 0,result}}();function apply(func2,thisArg,args){switch(args.length){case 0:return func2.call(thisArg);case 1:return func2.call(thisArg,args[0]);case 2:return func2.call(thisArg,args[0],args[1]);case 3:return func2.call(thisArg,args[0],args[1],args[2])}return func2.apply(thisArg,args)}function copyArray(source,array2){var index2=-1,length=source.length;for(array2||(array2=Array(length));++index2<length;)array2[index2]=source[index2];return array2}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(func2){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func2.apply(void 0,arguments)}}function constant(value){return function(){return value}}var defineProperty=function(){try{var func2=getNative(Object,"defineProperty");return func2({},"",{}),func2}catch{}}(),baseSetToString=defineProperty?function(func2,string2){return defineProperty(func2,"toString",{configurable:!0,enumerable:!1,value:constant(string2),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(array2,iteratee){for(var index2=-1,length=array2==null?0:array2.length;++index2<length&&iteratee(array2[index2],index2,array2)!==!1;);return array2}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(value,length){var type=typeof value;return length=length??MAX_SAFE_INTEGER$1,!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function baseAssignValue(object2,key,value){key=="__proto__"&&defineProperty?defineProperty(object2,key,{configurable:!0,enumerable:!0,value,writable:!0}):object2[key]=value}function eq(value,other){return value===other||value!==value&&other!==other}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue$1(object2,key,value){var objValue=object2[key];(!(hasOwnProperty$a.call(object2,key)&&eq(objValue,value))||value===void 0&&!(key in object2))&&baseAssignValue(object2,key,value)}function copyObject(source,props,object2,customizer){var isNew=!object2;object2||(object2={});for(var index2=-1,length=props.length;++index2<length;){var key=props[index2],newValue=void 0;newValue===void 0&&(newValue=source[key]),isNew?baseAssignValue(object2,key,newValue):assignValue$1(object2,key,newValue)}return object2}var nativeMax=Math.max;function overRest(func2,start2,transform2){return start2=nativeMax(start2===void 0?func2.length-1:start2,0),function(){for(var args=arguments,index2=-1,length=nativeMax(args.length-start2,0),array2=Array(length);++index2<length;)array2[index2]=args[start2+index2];index2=-1;for(var otherArgs=Array(start2+1);++index2<start2;)otherArgs[index2]=args[index2];return otherArgs[start2]=transform2(array2),apply(func2,this,otherArgs)}}function baseRest(func2,start2){return setToString(overRest(func2,start2,identity),func2+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isIterateeCall(value,index2,object2){if(!isObject(object2))return!1;var type=typeof index2;return(type=="number"?isArrayLike(object2)&&isIndex$1(index2,object2.length):type=="string"&&index2 in object2)?eq(object2[index2],value):!1}function createAssigner(assigner){return baseRest(function(object2,sources){var index2=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object2=Object(object2);++index2<length;){var source=sources[index2];source&&assigner(object2,source,index2,customizer)}return object2})}var objectProto$b=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto$b;return value===proto}function baseTimes(n2,iteratee){for(var index2=-1,result=Array(n2);++index2<n2;)result[index2]=iteratee(index2);return result}var argsTag$3="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$9.call(value,"callee")&&!propertyIsEnumerable$1.call(value,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func2){return function(value){return func2(value)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)(inherited||hasOwnProperty$8.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex$1(key,length)))&&result.push(key);return result}function overArg(func2,transform2){return function(arg){return func2(transform2(arg))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(object2){if(!isPrototype(object2))return nativeKeys(object2);var result=[];for(var key in Object(object2))hasOwnProperty$7.call(object2,key)&&key!="constructor"&&result.push(key);return result}function keys(object2){return isArrayLike(object2)?arrayLikeKeys(object2):baseKeys(object2)}function nativeKeysIn(object2){var result=[];if(object2!=null)for(var key in Object(object2))result.push(key);return result}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(object2){if(!isObject(object2))return nativeKeysIn(object2);var isProto=isPrototype(object2),result=[];for(var key in object2)key=="constructor"&&(isProto||!hasOwnProperty$6.call(object2,key))||result.push(key);return result}function keysIn(object2){return isArrayLike(object2)?arrayLikeKeys(object2,!0):baseKeysIn(object2)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(key){var data2=this.__data__;if(nativeCreate){var result=data2[key];return result===HASH_UNDEFINED$2?void 0:result}return hasOwnProperty$5.call(data2,key)?data2[key]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(key){var data2=this.__data__;return nativeCreate?data2[key]!==void 0:hasOwnProperty$4.call(data2,key)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(key,value){var data2=this.__data__;return this.size+=this.has(key)?0:1,data2[key]=nativeCreate&&value===void 0?HASH_UNDEFINED$1:value,this}function Hash(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(array2,key){for(var length=array2.length;length--;)if(eq(array2[length][0],key))return length;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(key){var data2=this.__data__,index2=assocIndexOf(data2,key);if(index2<0)return!1;var lastIndex=data2.length-1;return index2==lastIndex?data2.pop():splice.call(data2,index2,1),--this.size,!0}function listCacheGet(key){var data2=this.__data__,index2=assocIndexOf(data2,key);return index2<0?void 0:data2[index2][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data2=this.__data__,index2=assocIndexOf(data2,key);return index2<0?(++this.size,data2.push([key,value])):data2[index2][1]=value,this}function ListCache(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function getMapData(map2,key){var data2=map2.__data__;return isKeyable(key)?data2[typeof key=="string"?"string":"hash"]:data2.map}function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data2=getMapData(this,key),size=data2.size;return data2.set(key,value),this.size+=data2.size==size?0:1,this}function MapCache(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;function arrayPush(array2,values){for(var index2=-1,length=values.length,offset2=array2.length;++index2<length;)array2[offset2+index2]=values[index2];return array2}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag$3)return!1;var proto=getPrototype(value);if(proto===null)return!0;var Ctor=hasOwnProperty$3.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(key){var data2=this.__data__,result=data2.delete(key);return this.size=data2.size,result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data2=this.__data__;if(data2 instanceof ListCache){var pairs=data2.__data__;if(!Map$1||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data2.size,this;data2=this.__data__=new MapCache(pairs)}return data2.set(key,value),this.size=data2.size,this}function Stack(entries){var data2=this.__data__=new ListCache(entries);this.size=data2.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function baseAssign(object2,source){return object2&&copyObject(source,keys(source),object2)}function baseAssignIn(object2,source){return object2&&copyObject(source,keysIn(source),object2)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer2?Buffer2.allocUnsafe:void 0;function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function arrayFilter(array2,predicate){for(var index2=-1,length=array2==null?0:array2.length,resIndex=0,result=[];++index2<length;){var value=array2[index2];predicate(value,index2,array2)&&(result[resIndex++]=value)}return result}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(object2){return object2==null?[]:(object2=Object(object2),arrayFilter(nativeGetSymbols$1(object2),function(symbol){return propertyIsEnumerable.call(object2,symbol)}))}:stubArray;function copySymbols(source,object2){return copyObject(source,getSymbols(source),object2)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(object2){for(var result=[];object2;)arrayPush(result,getSymbols(object2)),object2=getPrototype(object2);return result}:stubArray;function copySymbolsIn(source,object2){return copyObject(source,getSymbolsIn(source),object2)}function baseGetAllKeys(object2,keysFunc,symbolsFunc){var result=keysFunc(object2);return isArray(object2)?result:arrayPush(result,symbolsFunc(object2))}function getAllKeys(object2){return baseGetAllKeys(object2,keys,getSymbols)}function getAllKeysIn(object2){return baseGetAllKeys(object2,keysIn,getSymbolsIn)}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag$2?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return result});var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(array2){var length=array2.length,result=new array2.constructor(length);return length&&typeof array2[0]=="string"&&hasOwnProperty$2.call(array2,"index")&&(result.index=array2.index,result.input=array2.input),result}var Uint8Array2=root.Uint8Array;function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array2(result).set(new Uint8Array2(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(symbol){return symbolValueOf$1?Object(symbolValueOf$1.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(object2,tag,isDeep){var Ctor=object2.constructor;switch(tag){case arrayBufferTag$2:return cloneArrayBuffer(object2);case boolTag$2:case dateTag$2:return new Ctor(+object2);case dataViewTag$2:return cloneDataView(object2,isDeep);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(object2,isDeep);case mapTag$3:return new Ctor;case numberTag$2:case stringTag$2:return new Ctor(object2);case regexpTag$2:return cloneRegExp(object2);case setTag$3:return new Ctor;case symbolTag$2:return cloneSymbol(object2)}}function initCloneObject(object2){return typeof object2.constructor=="function"&&!isPrototype(object2)?baseCreate(getPrototype(object2)):{}}var mapTag$2="[object Map]";function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(value,bitmask,customizer,key,object2,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG$1,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG$1;if(result!==void 0)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag$1||tag==argsTag$1||isFunc&&!object2){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object2?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap(value)&&value.forEach(function(subValue,key2){result.set(key2,baseClone(subValue,bitmask,customizer,key2,value,stack))});var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,function(subValue,key2){props&&(key2=subValue,subValue=value[key2]),assignValue$1(result,key2,baseClone(subValue,bitmask,customizer,key2,value,stack))}),result}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep$1(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function SetCache(values){var index2=-1,length=values==null?0:values.length;for(this.__data__=new MapCache;++index2<length;)this.add(values[index2])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function arraySome(array2,predicate){for(var index2=-1,length=array2==null?0:array2.length;++index2<length;)if(predicate(array2[index2],index2,array2))return!0;return!1}function cacheHas(cache,key){return cache.has(key)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays(array2,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$3,arrLength=array2.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array2),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array2;var index2=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(stack.set(array2,other),stack.set(other,array2);++index2<arrLength;){var arrValue=array2[index2],othValue=other[index2];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index2,other,array2,stack):customizer(arrValue,othValue,index2,array2,other,stack);if(compared!==void 0){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue2,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}return stack.delete(array2),stack.delete(other),result}function mapToArray(map2){var index2=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index2]=[key,value]}),result}function setToArray(set2){var index2=-1,result=Array(set2.size);return set2.forEach(function(value){result[++index2]=value}),result}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(object2,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object2.byteLength!=other.byteLength||object2.byteOffset!=other.byteOffset)return!1;object2=object2.buffer,other=other.buffer;case arrayBufferTag:return!(object2.byteLength!=other.byteLength||!equalFunc(new Uint8Array2(object2),new Uint8Array2(other)));case boolTag:case dateTag:case numberTag:return eq(+object2,+other);case errorTag:return object2.name==other.name&&object2.message==other.message;case regexpTag:case stringTag:return object2==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG$2;if(convert||(convert=setToArray),object2.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object2);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object2,other);var result=equalArrays(convert(object2),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object2),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object2)==symbolValueOf.call(other)}return!1}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(object2,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$1,objProps=getAllKeys(object2),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index2=objLength;index2--;){var key=objProps[index2];if(!(isPartial?key in other:hasOwnProperty$1.call(other,key)))return!1}var objStacked=stack.get(object2),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object2;var result=!0;stack.set(object2,other),stack.set(other,object2);for(var skipCtor=isPartial;++index2<objLength;){key=objProps[index2];var objValue=object2[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object2,stack):customizer(objValue,othValue,key,object2,other,stack);if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object2.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object2&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object2),stack.delete(other),result}var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(object2,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object2),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object2),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object2)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object2)?equalArrays(object2,other,bitmask,customizer,equalFunc,stack):equalByTag(object2,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object2,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object2.value():object2,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag?(stack||(stack=new Stack),equalObjects(object2,other,bitmask,customizer,equalFunc,stack)):!1}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other?!0:value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function createBaseFor(fromRight){return function(object2,iteratee,keysFunc){for(var index2=-1,iterable=Object(object2),props=keysFunc(object2),length=props.length;length--;){var key=props[++index2];if(iteratee(iterable[key],key,iterable)===!1)break}return object2}}var baseFor=createBaseFor();function assignMergeValue(object2,key,value){(value!==void 0&&!eq(object2[key],value)||value===void 0&&!(key in object2))&&baseAssignValue(object2,key,value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function safeGet(object2,key){if(!(key==="constructor"&&typeof object2[key]=="function")&&key!="__proto__")return object2[key]}function toPlainObject(value){return copyObject(value,keysIn(value))}function baseMergeDeep(object2,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object2,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object2,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object2,source,stack):void 0,isCommon=newValue===void 0;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):(!isObject(objValue)||isFunction(objValue))&&(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object2,key,newValue)}function baseMerge(object2,source,srcIndex,customizer,stack){object2!==source&&baseFor(source,function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object2,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object2,key),srcValue,key+"",object2,source,stack):void 0;newValue===void 0&&(newValue=srcValue),assignMergeValue(object2,key,newValue)}},keysIn)}function isEqual$2(value,other){return baseIsEqual(value,other)}var merge=createAssigner(function(object2,source,srcIndex){baseMerge(object2,source,srcIndex)}),Scope=(Scope2=>(Scope2[Scope2.TYPE=3]="TYPE",Scope2[Scope2.LEVEL=12]="LEVEL",Scope2[Scope2.ATTRIBUTE=13]="ATTRIBUTE",Scope2[Scope2.BLOT=14]="BLOT",Scope2[Scope2.INLINE=7]="INLINE",Scope2[Scope2.BLOCK=11]="BLOCK",Scope2[Scope2.BLOCK_BLOT=10]="BLOCK_BLOT",Scope2[Scope2.INLINE_BLOT=6]="INLINE_BLOT",Scope2[Scope2.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Scope2[Scope2.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Scope2[Scope2.ANY=15]="ANY",Scope2))(Scope||{});class Attributor{constructor(attrName,keyName,options={}){this.attrName=attrName,this.keyName=keyName;const attributeBit=Scope.TYPE&Scope.ATTRIBUTE;this.scope=options.scope!=null?options.scope&Scope.LEVEL|attributeBit:Scope.ATTRIBUTE,options.whitelist!=null&&(this.whitelist=options.whitelist)}static keys(node2){return Array.from(node2.attributes).map(item=>item.name)}add(node2,value){return this.canAdd(node2,value)?(node2.setAttribute(this.keyName,value),!0):!1}canAdd(_node,value){return this.whitelist==null?!0:typeof value=="string"?this.whitelist.indexOf(value.replace(/["']/g,""))>-1:this.whitelist.indexOf(value)>-1}remove(node2){node2.removeAttribute(this.keyName)}value(node2){const value=node2.getAttribute(this.keyName);return this.canAdd(node2,value)&&value?value:""}}class ParchmentError extends Error{constructor(message){message="[Parchment] "+message,super(message),this.message=message,this.name=this.constructor.name}}const _Registry=class _Registry2{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(node2,bubble=!1){if(node2==null)return null;if(this.blots.has(node2))return this.blots.get(node2)||null;if(bubble){let parentNode2=null;try{parentNode2=node2.parentNode}catch{return null}return this.find(parentNode2,bubble)}return null}create(scroll,input,value){const match2=this.query(input);if(match2==null)throw new ParchmentError(`Unable to create ${input} blot`);const blotClass=match2,node2=input instanceof Node||input.nodeType===Node.TEXT_NODE?input:blotClass.create(value),blot=new blotClass(scroll,node2,value);return _Registry2.blots.set(blot.domNode,blot),blot}find(node2,bubble=!1){return _Registry2.find(node2,bubble)}query(query,scope2=Scope.ANY){let match2;return typeof query=="string"?match2=this.types[query]||this.attributes[query]:query instanceof Text||query.nodeType===Node.TEXT_NODE?match2=this.types.text:typeof query=="number"?query&Scope.LEVEL&Scope.BLOCK?match2=this.types.block:query&Scope.LEVEL&Scope.INLINE&&(match2=this.types.inline):query instanceof Element&&((query.getAttribute("class")||"").split(/\s+/).some(name=>(match2=this.classes[name],!!match2)),match2=match2||this.tags[query.tagName]),match2==null?null:"scope"in match2&&scope2&Scope.LEVEL&match2.scope&&scope2&Scope.TYPE&match2.scope?match2:null}register(...definitions){return definitions.map(definition=>{const isBlot="blotName"in definition,isAttr="attrName"in definition;if(!isBlot&&!isAttr)throw new ParchmentError("Invalid definition");if(isBlot&&definition.blotName==="abstract")throw new ParchmentError("Cannot register abstract class");const key=isBlot?definition.blotName:isAttr?definition.attrName:void 0;return this.types[key]=definition,isAttr?typeof definition.keyName=="string"&&(this.attributes[definition.keyName]=definition):isBlot&&(definition.className&&(this.classes[definition.className]=definition),definition.tagName&&(Array.isArray(definition.tagName)?definition.tagName=definition.tagName.map(tagName=>tagName.toUpperCase()):definition.tagName=definition.tagName.toUpperCase(),(Array.isArray(definition.tagName)?definition.tagName:[definition.tagName]).forEach(tag=>{(this.tags[tag]==null||definition.className==null)&&(this.tags[tag]=definition)}))),definition})}};_Registry.blots=new WeakMap;let Registry=_Registry;function match(node2,prefix){return(node2.getAttribute("class")||"").split(/\s+/).filter(name=>name.indexOf(`${prefix}-`)===0)}class ClassAttributor extends Attributor{static keys(node2){return(node2.getAttribute("class")||"").split(/\s+/).map(name=>name.split("-").slice(0,-1).join("-"))}add(node2,value){return this.canAdd(node2,value)?(this.remove(node2),node2.classList.add(`${this.keyName}-${value}`),!0):!1}remove(node2){match(node2,this.keyName).forEach(name=>{node2.classList.remove(name)}),node2.classList.length===0&&node2.removeAttribute("class")}value(node2){const value=(match(node2,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(node2,value)?value:""}}const ClassAttributor$1=ClassAttributor;function camelize(name){const parts=name.split("-"),rest=parts.slice(1).map(part=>part[0].toUpperCase()+part.slice(1)).join("");return parts[0]+rest}class StyleAttributor extends Attributor{static keys(node2){return(node2.getAttribute("style")||"").split(";").map(value=>value.split(":")[0].trim())}add(node2,value){return this.canAdd(node2,value)?(node2.style[camelize(this.keyName)]=value,!0):!1}remove(node2){node2.style[camelize(this.keyName)]="",node2.getAttribute("style")||node2.removeAttribute("style")}value(node2){const value=node2.style[camelize(this.keyName)];return this.canAdd(node2,value)?value:""}}const StyleAttributor$1=StyleAttributor;class AttributorStore{constructor(domNode){this.attributes={},this.domNode=domNode,this.build()}attribute(attribute,value){value?attribute.add(this.domNode,value)&&(attribute.value(this.domNode)!=null?this.attributes[attribute.attrName]=attribute:delete this.attributes[attribute.attrName]):(attribute.remove(this.domNode),delete this.attributes[attribute.attrName])}build(){this.attributes={};const blot=Registry.find(this.domNode);if(blot==null)return;const attributes=Attributor.keys(this.domNode),classes2=ClassAttributor$1.keys(this.domNode),styles=StyleAttributor$1.keys(this.domNode);attributes.concat(classes2).concat(styles).forEach(name=>{const attr=blot.scroll.query(name,Scope.ATTRIBUTE);attr instanceof Attributor&&(this.attributes[attr.attrName]=attr)})}copy(target){Object.keys(this.attributes).forEach(key=>{const value=this.attributes[key].value(this.domNode);target.format(key,value)})}move(target){this.copy(target),Object.keys(this.attributes).forEach(key=>{this.attributes[key].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((attributes,name)=>(attributes[name]=this.attributes[name].value(this.domNode),attributes),{})}}const AttributorStore$1=AttributorStore,_ShadowBlot=class{constructor(scroll,domNode){this.scroll=scroll,this.domNode=domNode,Registry.blots.set(domNode,this),this.prev=null,this.next=null}static create(rawValue){if(this.tagName==null)throw new ParchmentError("Blot definition missing tagName");let node2,value;return Array.isArray(this.tagName)?(typeof rawValue=="string"?(value=rawValue.toUpperCase(),parseInt(value,10).toString()===value&&(value=parseInt(value,10))):typeof rawValue=="number"&&(value=rawValue),typeof value=="number"?node2=document.createElement(this.tagName[value-1]):value&&this.tagName.indexOf(value)>-1?node2=document.createElement(value):node2=document.createElement(this.tagName[0])):node2=document.createElement(this.tagName),this.className&&node2.classList.add(this.className),node2}get statics(){return this.constructor}attach(){}clone(){const domNode=this.domNode.cloneNode(!1);return this.scroll.create(domNode)}detach(){this.parent!=null&&this.parent.removeChild(this),Registry.blots.delete(this.domNode)}deleteAt(index2,length){this.isolate(index2,length).remove()}formatAt(index2,length,name,value){const blot=this.isolate(index2,length);if(this.scroll.query(name,Scope.BLOT)!=null&&value)blot.wrap(name,value);else if(this.scroll.query(name,Scope.ATTRIBUTE)!=null){const parent2=this.scroll.create(this.statics.scope);blot.wrap(parent2),parent2.format(name,value)}}insertAt(index2,value,def){const blot=def==null?this.scroll.create("text",value):this.scroll.create(value,def),ref=this.split(index2);this.parent.insertBefore(blot,ref||void 0)}isolate(index2,length){const target=this.split(index2);if(target==null)throw new Error("Attempt to isolate at end");return target.split(length),target}length(){return 1}offset(root2=this.parent){return this.parent==null||this===root2?0:this.parent.children.offset(this)+this.parent.offset(root2)}optimize(_context){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(name,value){const replacement=typeof name=="string"?this.scroll.create(name,value):name;return this.parent!=null&&(this.parent.insertBefore(replacement,this.next||void 0),this.remove()),replacement}split(index2,_force){return index2===0?this:this.next}update(_mutations,_context){}wrap(name,value){const wrapper2=typeof name=="string"?this.scroll.create(name,value):name;if(this.parent!=null&&this.parent.insertBefore(wrapper2,this.next||void 0),typeof wrapper2.appendChild!="function")throw new ParchmentError(`Cannot wrap ${name}`);return wrapper2.appendChild(this),wrapper2}};_ShadowBlot.blotName="abstract";let ShadowBlot=_ShadowBlot;const _LeafBlot=class extends ShadowBlot{static value(_domNode){return!0}index(node2,offset2){return this.domNode===node2||this.domNode.compareDocumentPosition(node2)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(offset2,1):-1}position(index2,_inclusive){let offset2=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return index2>0&&(offset2+=1),[this.parent.domNode,offset2]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_LeafBlot.scope=Scope.INLINE_BLOT;const LeafBlot$1=_LeafBlot;class LinkedList{constructor(){this.head=null,this.tail=null,this.length=0}append(...nodes){if(this.insertBefore(nodes[0],null),nodes.length>1){const rest=nodes.slice(1);this.append(...rest)}}at(index2){const next=this.iterator();let cur=next();for(;cur&&index2>0;)index2-=1,cur=next();return cur}contains(node2){const next=this.iterator();let cur=next();for(;cur;){if(cur===node2)return!0;cur=next()}return!1}indexOf(node2){const next=this.iterator();let cur=next(),index2=0;for(;cur;){if(cur===node2)return index2;index2+=1,cur=next()}return-1}insertBefore(node2,refNode){node2!=null&&(this.remove(node2),node2.next=refNode,refNode!=null?(node2.prev=refNode.prev,refNode.prev!=null&&(refNode.prev.next=node2),refNode.prev=node2,refNode===this.head&&(this.head=node2)):this.tail!=null?(this.tail.next=node2,node2.prev=this.tail,this.tail=node2):(node2.prev=null,this.head=this.tail=node2),this.length+=1)}offset(target){let index2=0,cur=this.head;for(;cur!=null;){if(cur===target)return index2;index2+=cur.length(),cur=cur.next}return-1}remove(node2){this.contains(node2)&&(node2.prev!=null&&(node2.prev.next=node2.next),node2.next!=null&&(node2.next.prev=node2.prev),node2===this.head&&(this.head=node2.next),node2===this.tail&&(this.tail=node2.prev),this.length-=1)}iterator(curNode=this.head){return()=>{const ret=curNode;return curNode!=null&&(curNode=curNode.next),ret}}find(index2,inclusive=!1){const next=this.iterator();let cur=next();for(;cur;){const length=cur.length();if(index2<length||inclusive&&index2===length&&(cur.next==null||cur.next.length()!==0))return[cur,index2];index2-=length,cur=next()}return[null,0]}forEach(callback){const next=this.iterator();let cur=next();for(;cur;)callback(cur),cur=next()}forEachAt(index2,length,callback){if(length<=0)return;const[startNode,offset2]=this.find(index2);let curIndex=index2-offset2;const next=this.iterator(startNode);let cur=next();for(;cur&&curIndex<index2+length;){const curLength=cur.length();index2>curIndex?callback(cur,index2-curIndex,Math.min(length,curIndex+curLength-index2)):callback(cur,0,Math.min(curLength,index2+length-curIndex)),curIndex+=curLength,cur=next()}}map(callback){return this.reduce((memo,cur)=>(memo.push(callback(cur)),memo),[])}reduce(callback,memo){const next=this.iterator();let cur=next();for(;cur;)memo=callback(memo,cur),cur=next();return memo}}function makeAttachedBlot(node2,scroll){const found=scroll.find(node2);if(found)return found;try{return scroll.create(node2)}catch{const blot=scroll.create(Scope.INLINE);return Array.from(node2.childNodes).forEach(child=>{blot.domNode.appendChild(child)}),node2.parentNode&&node2.parentNode.replaceChild(blot.domNode,node2),blot.attach(),blot}}const _ParentBlot=class _ParentBlot2 extends ShadowBlot{constructor(scroll,domNode){super(scroll,domNode),this.uiNode=null,this.build()}appendChild(other){this.insertBefore(other)}attach(){super.attach(),this.children.forEach(child=>{child.attach()})}attachUI(node2){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=node2,_ParentBlot2.uiClass&&this.uiNode.classList.add(_ParentBlot2.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new LinkedList,Array.from(this.domNode.childNodes).filter(node2=>node2!==this.uiNode).reverse().forEach(node2=>{try{const child=makeAttachedBlot(node2,this.scroll);this.insertBefore(child,this.children.head||void 0)}catch(err){if(err instanceof ParchmentError)return;throw err}})}deleteAt(index2,length){if(index2===0&&length===this.length())return this.remove();this.children.forEachAt(index2,length,(child,offset2,childLength)=>{child.deleteAt(offset2,childLength)})}descendant(criteria,index2=0){const[child,offset2]=this.children.find(index2);return criteria.blotName==null&&criteria(child)||criteria.blotName!=null&&child instanceof criteria?[child,offset2]:child instanceof _ParentBlot2?child.descendant(criteria,offset2):[null,-1]}descendants(criteria,index2=0,length=Number.MAX_VALUE){let descendants=[],lengthLeft=length;return this.children.forEachAt(index2,length,(child,childIndex,childLength)=>{(criteria.blotName==null&&criteria(child)||criteria.blotName!=null&&child instanceof criteria)&&descendants.push(child),child instanceof _ParentBlot2&&(descendants=descendants.concat(child.descendants(criteria,childIndex,lengthLeft))),lengthLeft-=childLength}),descendants}detach(){this.children.forEach(child=>{child.detach()}),super.detach()}enforceAllowedChildren(){let done=!1;this.children.forEach(child=>{done||this.statics.allowedChildren.some(def=>child instanceof def)||(child.statics.scope===Scope.BLOCK_BLOT?(child.next!=null&&this.splitAfter(child),child.prev!=null&&this.splitAfter(child.prev),child.parent.unwrap(),done=!0):child instanceof _ParentBlot2?child.unwrap():child.remove())})}formatAt(index2,length,name,value){this.children.forEachAt(index2,length,(child,offset2,childLength)=>{child.formatAt(offset2,childLength,name,value)})}insertAt(index2,value,def){const[child,offset2]=this.children.find(index2);if(child)child.insertAt(offset2,value,def);else{const blot=def==null?this.scroll.create("text",value):this.scroll.create(value,def);this.appendChild(blot)}}insertBefore(childBlot,refBlot){childBlot.parent!=null&&childBlot.parent.children.remove(childBlot);let refDomNode=null;this.children.insertBefore(childBlot,refBlot||null),childBlot.parent=this,refBlot!=null&&(refDomNode=refBlot.domNode),(this.domNode.parentNode!==childBlot.domNode||this.domNode.nextSibling!==refDomNode)&&this.domNode.insertBefore(childBlot.domNode,refDomNode),childBlot.attach()}length(){return this.children.reduce((memo,child)=>memo+child.length(),0)}moveChildren(targetParent,refNode){this.children.forEach(child=>{targetParent.insertBefore(child,refNode)})}optimize(context){if(super.optimize(context),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const child=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(child)}else this.remove()}path(index2,inclusive=!1){const[child,offset2]=this.children.find(index2,inclusive),position=[[this,index2]];return child instanceof _ParentBlot2?position.concat(child.path(offset2,inclusive)):(child!=null&&position.push([child,offset2]),position)}removeChild(child){this.children.remove(child)}replaceWith(name,value){const replacement=typeof name=="string"?this.scroll.create(name,value):name;return replacement instanceof _ParentBlot2&&this.moveChildren(replacement),super.replaceWith(replacement)}split(index2,force=!1){if(!force){if(index2===0)return this;if(index2===this.length())return this.next}const after=this.clone();return this.parent&&this.parent.insertBefore(after,this.next||void 0),this.children.forEachAt(index2,this.length(),(child,offset2,_length)=>{const split2=child.split(offset2,force);split2!=null&&after.appendChild(split2)}),after}splitAfter(child){const after=this.clone();for(;child.next!=null;)after.appendChild(child.next);return this.parent&&this.parent.insertBefore(after,this.next||void 0),after}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(mutations,_context){const addedNodes=[],removedNodes=[];mutations.forEach(mutation=>{mutation.target===this.domNode&&mutation.type==="childList"&&(addedNodes.push(...mutation.addedNodes),removedNodes.push(...mutation.removedNodes))}),removedNodes.forEach(node2=>{if(node2.parentNode!=null&&node2.tagName!=="IFRAME"&&document.body.compareDocumentPosition(node2)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const blot=this.scroll.find(node2);blot!=null&&(blot.domNode.parentNode==null||blot.domNode.parentNode===this.domNode)&&blot.detach()}),addedNodes.filter(node2=>node2.parentNode===this.domNode&&node2!==this.uiNode).sort((a2,b2)=>a2===b2?0:a2.compareDocumentPosition(b2)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(node2=>{let refBlot=null;node2.nextSibling!=null&&(refBlot=this.scroll.find(node2.nextSibling));const blot=makeAttachedBlot(node2,this.scroll);(blot.next!==refBlot||blot.next==null)&&(blot.parent!=null&&blot.parent.removeChild(this),this.insertBefore(blot,refBlot||void 0))}),this.enforceAllowedChildren()}};_ParentBlot.uiClass="";const ParentBlot$1=_ParentBlot;function isEqual$1(obj1,obj2){if(Object.keys(obj1).length!==Object.keys(obj2).length)return!1;for(const prop in obj1)if(obj1[prop]!==obj2[prop])return!1;return!0}const _InlineBlot=class _InlineBlot2 extends ParentBlot$1{static create(value){return super.create(value)}static formats(domNode,scroll){const match2=scroll.query(_InlineBlot2.blotName);if(!(match2!=null&&domNode.tagName===match2.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return domNode.tagName.toLowerCase()}}constructor(scroll,domNode){super(scroll,domNode),this.attributes=new AttributorStore$1(this.domNode)}format(name,value){if(name===this.statics.blotName&&!value)this.children.forEach(child=>{child instanceof _InlineBlot2||(child=child.wrap(_InlineBlot2.blotName,!0)),this.attributes.copy(child)}),this.unwrap();else{const format2=this.scroll.query(name,Scope.INLINE);if(format2==null)return;format2 instanceof Attributor?this.attributes.attribute(format2,value):value&&(name!==this.statics.blotName||this.formats()[name]!==value)&&this.replaceWith(name,value)}}formats(){const formats=this.attributes.values(),format2=this.statics.formats(this.domNode,this.scroll);return format2!=null&&(formats[this.statics.blotName]=format2),formats}formatAt(index2,length,name,value){this.formats()[name]!=null||this.scroll.query(name,Scope.ATTRIBUTE)?this.isolate(index2,length).format(name,value):super.formatAt(index2,length,name,value)}optimize(context){super.optimize(context);const formats=this.formats();if(Object.keys(formats).length===0)return this.unwrap();const next=this.next;next instanceof _InlineBlot2&&next.prev===this&&isEqual$1(formats,next.formats())&&(next.moveChildren(this),next.remove())}replaceWith(name,value){const replacement=super.replaceWith(name,value);return this.attributes.copy(replacement),replacement}update(mutations,context){super.update(mutations,context),mutations.some(mutation=>mutation.target===this.domNode&&mutation.type==="attributes")&&this.attributes.build()}wrap(name,value){const wrapper2=super.wrap(name,value);return wrapper2 instanceof _InlineBlot2&&this.attributes.move(wrapper2),wrapper2}};_InlineBlot.allowedChildren=[_InlineBlot,LeafBlot$1],_InlineBlot.blotName="inline",_InlineBlot.scope=Scope.INLINE_BLOT,_InlineBlot.tagName="SPAN";const InlineBlot$1=_InlineBlot,_BlockBlot=class _BlockBlot2 extends ParentBlot$1{static create(value){return super.create(value)}static formats(domNode,scroll){const match2=scroll.query(_BlockBlot2.blotName);if(!(match2!=null&&domNode.tagName===match2.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return domNode.tagName.toLowerCase()}}constructor(scroll,domNode){super(scroll,domNode),this.attributes=new AttributorStore$1(this.domNode)}format(name,value){const format2=this.scroll.query(name,Scope.BLOCK);format2!=null&&(format2 instanceof Attributor?this.attributes.attribute(format2,value):name===this.statics.blotName&&!value?this.replaceWith(_BlockBlot2.blotName):value&&(name!==this.statics.blotName||this.formats()[name]!==value)&&this.replaceWith(name,value))}formats(){const formats=this.attributes.values(),format2=this.statics.formats(this.domNode,this.scroll);return format2!=null&&(formats[this.statics.blotName]=format2),formats}formatAt(index2,length,name,value){this.scroll.query(name,Scope.BLOCK)!=null?this.format(name,value):super.formatAt(index2,length,name,value)}insertAt(index2,value,def){if(def==null||this.scroll.query(value,Scope.INLINE)!=null)super.insertAt(index2,value,def);else{const after=this.split(index2);if(after!=null){const blot=this.scroll.create(value,def);after.parent.insertBefore(blot,after)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(name,value){const replacement=super.replaceWith(name,value);return this.attributes.copy(replacement),replacement}update(mutations,context){super.update(mutations,context),mutations.some(mutation=>mutation.target===this.domNode&&mutation.type==="attributes")&&this.attributes.build()}};_BlockBlot.blotName="block",_BlockBlot.scope=Scope.BLOCK_BLOT,_BlockBlot.tagName="P",_BlockBlot.allowedChildren=[InlineBlot$1,_BlockBlot,LeafBlot$1];const BlockBlot$1=_BlockBlot,_ContainerBlot=class extends ParentBlot$1{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(index2,length){super.deleteAt(index2,length),this.enforceAllowedChildren()}formatAt(index2,length,name,value){super.formatAt(index2,length,name,value),this.enforceAllowedChildren()}insertAt(index2,value,def){super.insertAt(index2,value,def),this.enforceAllowedChildren()}optimize(context){super.optimize(context),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};_ContainerBlot.blotName="container",_ContainerBlot.scope=Scope.BLOCK_BLOT;const ContainerBlot$1=_ContainerBlot;class EmbedBlot extends LeafBlot$1{static formats(_domNode,_scroll){}format(name,value){super.formatAt(0,this.length(),name,value)}formatAt(index2,length,name,value){index2===0&&length===this.length()?this.format(name,value):super.formatAt(index2,length,name,value)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const EmbedBlot$1=EmbedBlot,OBSERVER_CONFIG={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},MAX_OPTIMIZE_ITERATIONS=100,_ScrollBlot=class extends ParentBlot$1{constructor(registry,node2){super(null,node2),this.registry=registry,this.scroll=this,this.build(),this.observer=new MutationObserver(mutations=>{this.update(mutations)}),this.observer.observe(this.domNode,OBSERVER_CONFIG),this.attach()}create(input,value){return this.registry.create(this,input,value)}find(node2,bubble=!1){const blot=this.registry.find(node2,bubble);return blot?blot.scroll===this?blot:bubble?this.find(blot.scroll.domNode.parentNode,!0):null:null}query(query,scope2=Scope.ANY){return this.registry.query(query,scope2)}register(...definitions){return this.registry.register(...definitions)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(index2,length){this.update(),index2===0&&length===this.length()?this.children.forEach(child=>{child.remove()}):super.deleteAt(index2,length)}formatAt(index2,length,name,value){this.update(),super.formatAt(index2,length,name,value)}insertAt(index2,value,def){this.update(),super.insertAt(index2,value,def)}optimize(mutations=[],context={}){super.optimize(context);const mutationsMap=context.mutationsMap||new WeakMap;let records=Array.from(this.observer.takeRecords());for(;records.length>0;)mutations.push(records.pop());const mark=(blot,markParent=!0)=>{blot==null||blot===this||blot.domNode.parentNode!=null&&(mutationsMap.has(blot.domNode)||mutationsMap.set(blot.domNode,[]),markParent&&mark(blot.parent))},optimize=blot=>{mutationsMap.has(blot.domNode)&&(blot instanceof ParentBlot$1&&blot.children.forEach(optimize),mutationsMap.delete(blot.domNode),blot.optimize(context))};let remaining=mutations;for(let i2=0;remaining.length>0;i2+=1){if(i2>=MAX_OPTIMIZE_ITERATIONS)throw new Error("[Parchment] Maximum optimize iterations reached");for(remaining.forEach(mutation=>{const blot=this.find(mutation.target,!0);blot!=null&&(blot.domNode===mutation.target&&(mutation.type==="childList"?(mark(this.find(mutation.previousSibling,!1)),Array.from(mutation.addedNodes).forEach(node2=>{const child=this.find(node2,!1);mark(child,!1),child instanceof ParentBlot$1&&child.children.forEach(grandChild=>{mark(grandChild,!1)})})):mutation.type==="attributes"&&mark(blot.prev)),mark(blot))}),this.children.forEach(optimize),remaining=Array.from(this.observer.takeRecords()),records=remaining.slice();records.length>0;)mutations.push(records.pop())}}update(mutations,context={}){mutations=mutations||this.observer.takeRecords();const mutationsMap=new WeakMap;mutations.map(mutation=>{const blot=this.find(mutation.target,!0);return blot==null?null:mutationsMap.has(blot.domNode)?(mutationsMap.get(blot.domNode).push(mutation),null):(mutationsMap.set(blot.domNode,[mutation]),blot)}).forEach(blot=>{blot!=null&&blot!==this&&mutationsMap.has(blot.domNode)&&blot.update(mutationsMap.get(blot.domNode)||[],context)}),context.mutationsMap=mutationsMap,mutationsMap.has(this.domNode)&&super.update(mutationsMap.get(this.domNode),context),this.optimize(mutations,context)}};_ScrollBlot.blotName="scroll",_ScrollBlot.defaultChild=BlockBlot$1,_ScrollBlot.allowedChildren=[BlockBlot$1,ContainerBlot$1],_ScrollBlot.scope=Scope.BLOCK_BLOT,_ScrollBlot.tagName="DIV";const ScrollBlot$1=_ScrollBlot,_TextBlot=class _TextBlot2 extends LeafBlot$1{static create(value){return document.createTextNode(value)}static value(domNode){return domNode.data}constructor(scroll,node2){super(scroll,node2),this.text=this.statics.value(this.domNode)}deleteAt(index2,length){this.domNode.data=this.text=this.text.slice(0,index2)+this.text.slice(index2+length)}index(node2,offset2){return this.domNode===node2?offset2:-1}insertAt(index2,value,def){def==null?(this.text=this.text.slice(0,index2)+value+this.text.slice(index2),this.domNode.data=this.text):super.insertAt(index2,value,def)}length(){return this.text.length}optimize(context){super.optimize(context),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof _TextBlot2&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(index2,_inclusive=!1){return[this.domNode,index2]}split(index2,force=!1){if(!force){if(index2===0)return this;if(index2===this.length())return this.next}const after=this.scroll.create(this.domNode.splitText(index2));return this.parent.insertBefore(after,this.next||void 0),this.text=this.statics.value(this.domNode),after}update(mutations,_context){mutations.some(mutation=>mutation.type==="characterData"&&mutation.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};_TextBlot.blotName="text",_TextBlot.scope=Scope.INLINE_BLOT;const TextBlot$1=_TextBlot,Parchment=Object.freeze(Object.defineProperty({__proto__:null,Attributor,AttributorStore:AttributorStore$1,BlockBlot:BlockBlot$1,ClassAttributor:ClassAttributor$1,ContainerBlot:ContainerBlot$1,EmbedBlot:EmbedBlot$1,InlineBlot:InlineBlot$1,LeafBlot:LeafBlot$1,ParentBlot:ParentBlot$1,Registry,Scope,ScrollBlot:ScrollBlot$1,StyleAttributor:StyleAttributor$1,TextBlot:TextBlot$1},Symbol.toStringTag,{value:"Module"}));var Delta$1={exports:{}},DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;function diff_main(text1,text2,cursor_pos,cleanup,_fix_unicode){if(text1===text2)return text1?[[DIFF_EQUAL,text1]]:[];if(cursor_pos!=null){var editdiff=find_cursor_edit_diff(text1,text2,cursor_pos);if(editdiff)return editdiff}var commonlength=diff_commonPrefix(text1,text2),commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength),text2=text2.substring(commonlength),commonlength=diff_commonSuffix(text1,text2);var commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength),text2=text2.substring(0,text2.length-commonlength);var diffs=diff_compute_(text1,text2);return commonprefix&&diffs.unshift([DIFF_EQUAL,commonprefix]),commonsuffix&&diffs.push([DIFF_EQUAL,commonsuffix]),diff_cleanupMerge(diffs,_fix_unicode),cleanup&&diff_cleanupSemantic(diffs),diffs}function diff_compute_(text1,text2){var diffs;if(!text1)return[[DIFF_INSERT,text2]];if(!text2)return[[DIFF_DELETE,text1]];var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1,i2=longtext.indexOf(shorttext);if(i2!==-1)return diffs=[[DIFF_INSERT,longtext.substring(0,i2)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i2+shorttext.length)]],text1.length>text2.length&&(diffs[0][0]=diffs[2][0]=DIFF_DELETE),diffs;if(shorttext.length===1)return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]];var hm=diff_halfMatch_(text1,text2);if(hm){var text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3],mid_common=hm[4],diffs_a=diff_main(text1_a,text2_a),diffs_b=diff_main(text1_b,text2_b);return diffs_a.concat([[DIFF_EQUAL,mid_common]],diffs_b)}return diff_bisect_(text1,text2)}function diff_bisect_(text1,text2){for(var text1_length=text1.length,text2_length=text2.length,max_d=Math.ceil((text1_length+text2_length)/2),v_offset=max_d,v_length=2*max_d,v1=new Array(v_length),v2=new Array(v_length),x2=0;x2<v_length;x2++)v1[x2]=-1,v2[x2]=-1;v1[v_offset+1]=0,v2[v_offset+1]=0;for(var delta=text1_length-text2_length,front=delta%2!==0,k1start=0,k1end=0,k2start=0,k2end=0,d2=0;d2<max_d;d2++){for(var k1=-d2+k1start;k1<=d2-k1end;k1+=2){var k1_offset=v_offset+k1,x1;k1===-d2||k1!==d2&&v1[k1_offset-1]<v1[k1_offset+1]?x1=v1[k1_offset+1]:x1=v1[k1_offset-1]+1;for(var y1=x1-k1;x1<text1_length&&y1<text2_length&&text1.charAt(x1)===text2.charAt(y1);)x1++,y1++;if(v1[k1_offset]=x1,x1>text1_length)k1end+=2;else if(y1>text2_length)k1start+=2;else if(front){var k2_offset=v_offset+delta-k1;if(k2_offset>=0&&k2_offset<v_length&&v2[k2_offset]!==-1){var x22=text1_length-v2[k2_offset];if(x1>=x22)return diff_bisectSplit_(text1,text2,x1,y1)}}}for(var k2=-d2+k2start;k2<=d2-k2end;k2+=2){var k2_offset=v_offset+k2,x22;k2===-d2||k2!==d2&&v2[k2_offset-1]<v2[k2_offset+1]?x22=v2[k2_offset+1]:x22=v2[k2_offset-1]+1;for(var y2=x22-k2;x22<text1_length&&y2<text2_length&&text1.charAt(text1_length-x22-1)===text2.charAt(text2_length-y2-1);)x22++,y2++;if(v2[k2_offset]=x22,x22>text1_length)k2end+=2;else if(y2>text2_length)k2start+=2;else if(!front){var k1_offset=v_offset+delta-k2;if(k1_offset>=0&&k1_offset<v_length&&v1[k1_offset]!==-1){var x1=v1[k1_offset],y1=v_offset+x1-k1_offset;if(x22=text1_length-x22,x1>=x22)return diff_bisectSplit_(text1,text2,x1,y1)}}}}return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]}function diff_bisectSplit_(text1,text2,x2,y2){var text1a=text1.substring(0,x2),text2a=text2.substring(0,y2),text1b=text1.substring(x2),text2b=text2.substring(y2),diffs=diff_main(text1a,text2a),diffsb=diff_main(text1b,text2b);return diffs.concat(diffsb)}function diff_commonPrefix(text1,text2){if(!text1||!text2||text1.charAt(0)!==text2.charAt(0))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerstart=0;pointermin<pointermid;)text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)?(pointermin=pointermid,pointerstart=pointermin):pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return is_surrogate_pair_start(text1.charCodeAt(pointermid-1))&&pointermid--,pointermid}function diff_commonOverlap_(text1,text2){var text1_length=text1.length,text2_length=text2.length;if(text1_length==0||text2_length==0)return 0;text1_length>text2_length?text1=text1.substring(text1_length-text2_length):text1_length<text2_length&&(text2=text2.substring(0,text1_length));var text_length=Math.min(text1_length,text2_length);if(text1==text2)return text_length;for(var best=0,length=1;;){var pattern=text1.substring(text_length-length),found=text2.indexOf(pattern);if(found==-1)return best;length+=found,(found==0||text1.substring(text_length-length)==text2.substring(0,length))&&(best=length,length++)}}function diff_commonSuffix(text1,text2){if(!text1||!text2||text1.slice(-1)!==text2.slice(-1))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerend=0;pointermin<pointermid;)text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)?(pointermin=pointermid,pointerend=pointermin):pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return is_surrogate_pair_end(text1.charCodeAt(text1.length-pointermid))&&pointermid--,pointermid}function diff_halfMatch_(text1,text2){var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||shorttext.length*2<longtext.length)return null;function diff_halfMatchI_(longtext2,shorttext2,i2){for(var seed=longtext2.substring(i2,i2+Math.floor(longtext2.length/4)),j2=-1,best_common="",best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b;(j2=shorttext2.indexOf(seed,j2+1))!==-1;){var prefixLength=diff_commonPrefix(longtext2.substring(i2),shorttext2.substring(j2)),suffixLength=diff_commonSuffix(longtext2.substring(0,i2),shorttext2.substring(0,j2));best_common.length<suffixLength+prefixLength&&(best_common=shorttext2.substring(j2-suffixLength,j2)+shorttext2.substring(j2,j2+prefixLength),best_longtext_a=longtext2.substring(0,i2-suffixLength),best_longtext_b=longtext2.substring(i2+prefixLength),best_shorttext_a=shorttext2.substring(0,j2-suffixLength),best_shorttext_b=shorttext2.substring(j2+prefixLength))}return best_common.length*2>=longtext2.length?[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common]:null}var hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4)),hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2)),hm;if(!hm1&&!hm2)return null;hm2?hm1?hm=hm1[4].length>hm2[4].length?hm1:hm2:hm=hm2:hm=hm1;var text1_a,text1_b,text2_a,text2_b;text1.length>text2.length?(text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3]):(text2_a=hm[0],text2_b=hm[1],text1_a=hm[2],text1_b=hm[3]);var mid_common=hm[4];return[text1_a,text1_b,text2_a,text2_b,mid_common]}function diff_cleanupSemantic(diffs){for(var changes=!1,equalities=[],equalitiesLength=0,lastequality=null,pointer=0,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0;pointer<diffs.length;)diffs[pointer][0]==DIFF_EQUAL?(equalities[equalitiesLength++]=pointer,length_insertions1=length_insertions2,length_deletions1=length_deletions2,length_insertions2=0,length_deletions2=0,lastequality=diffs[pointer][1]):(diffs[pointer][0]==DIFF_INSERT?length_insertions2+=diffs[pointer][1].length:length_deletions2+=diffs[pointer][1].length,lastequality&&lastequality.length<=Math.max(length_insertions1,length_deletions1)&&lastequality.length<=Math.max(length_insertions2,length_deletions2)&&(diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]),diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT,equalitiesLength--,equalitiesLength--,pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0,lastequality=null,changes=!0)),pointer++;for(changes&&diff_cleanupMerge(diffs),diff_cleanupSemanticLossless(diffs),pointer=1;pointer<diffs.length;){if(diffs[pointer-1][0]==DIFF_DELETE&&diffs[pointer][0]==DIFF_INSERT){var deletion=diffs[pointer-1][1],insertion=diffs[pointer][1],overlap_length1=diff_commonOverlap_(deletion,insertion),overlap_length2=diff_commonOverlap_(insertion,deletion);overlap_length1>=overlap_length2?(overlap_length1>=deletion.length/2||overlap_length1>=insertion.length/2)&&(diffs.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlap_length1)]),diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlap_length1),diffs[pointer+1][1]=insertion.substring(overlap_length1),pointer++):(overlap_length2>=deletion.length/2||overlap_length2>=insertion.length/2)&&(diffs.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlap_length2)]),diffs[pointer-1][0]=DIFF_INSERT,diffs[pointer-1][1]=insertion.substring(0,insertion.length-overlap_length2),diffs[pointer+1][0]=DIFF_DELETE,diffs[pointer+1][1]=deletion.substring(overlap_length2),pointer++),pointer++}pointer++}}var nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,whitespaceRegex_=/\s/,linebreakRegex_=/[\r\n]/,blanklineEndRegex_=/\n\r?\n$/,blanklineStartRegex_=/^\r?\n\r?\n/;function diff_cleanupSemanticLossless(diffs){function diff_cleanupSemanticScore_(one,two){if(!one||!two)return 6;var char1=one.charAt(one.length-1),char2=two.charAt(0),nonAlphaNumeric1=char1.match(nonAlphaNumericRegex_),nonAlphaNumeric2=char2.match(nonAlphaNumericRegex_),whitespace1=nonAlphaNumeric1&&char1.match(whitespaceRegex_),whitespace2=nonAlphaNumeric2&&char2.match(whitespaceRegex_),lineBreak1=whitespace1&&char1.match(linebreakRegex_),lineBreak2=whitespace2&&char2.match(linebreakRegex_),blankLine1=lineBreak1&&one.match(blanklineEndRegex_),blankLine2=lineBreak2&&two.match(blanklineStartRegex_);return blankLine1||blankLine2?5:lineBreak1||lineBreak2?4:nonAlphaNumeric1&&!whitespace1&&whitespace2?3:whitespace1||whitespace2?2:nonAlphaNumeric1||nonAlphaNumeric2?1:0}for(var pointer=1;pointer<diffs.length-1;){if(diffs[pointer-1][0]==DIFF_EQUAL&&diffs[pointer+1][0]==DIFF_EQUAL){var equality1=diffs[pointer-1][1],edit=diffs[pointer][1],equality2=diffs[pointer+1][1],commonOffset=diff_commonSuffix(equality1,edit);if(commonOffset){var commonString=edit.substring(edit.length-commonOffset);equality1=equality1.substring(0,equality1.length-commonOffset),edit=commonString+edit.substring(0,edit.length-commonOffset),equality2=commonString+equality2}for(var bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2,bestScore=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);edit.charAt(0)===equality2.charAt(0);){equality1+=edit.charAt(0),edit=edit.substring(1)+equality2.charAt(0),equality2=equality2.substring(1);var score=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);score>=bestScore&&(bestScore=score,bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2)}diffs[pointer-1][1]!=bestEquality1&&(bestEquality1?diffs[pointer-1][1]=bestEquality1:(diffs.splice(pointer-1,1),pointer--),diffs[pointer][1]=bestEdit,bestEquality2?diffs[pointer+1][1]=bestEquality2:(diffs.splice(pointer+1,1),pointer--))}pointer++}}function diff_cleanupMerge(diffs,fix_unicode){diffs.push([DIFF_EQUAL,""]);for(var pointer=0,count_delete=0,count_insert=0,text_delete="",text_insert="",commonlength;pointer<diffs.length;){if(pointer<diffs.length-1&&!diffs[pointer][1]){diffs.splice(pointer,1);continue}switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++,text_insert+=diffs[pointer][1],pointer++;break;case DIFF_DELETE:count_delete++,text_delete+=diffs[pointer][1],pointer++;break;case DIFF_EQUAL:var previous_equality=pointer-count_insert-count_delete-1;if(fix_unicode){if(previous_equality>=0&&ends_with_pair_start(diffs[previous_equality][1])){var stray=diffs[previous_equality][1].slice(-1);if(diffs[previous_equality][1]=diffs[previous_equality][1].slice(0,-1),text_delete=stray+text_delete,text_insert=stray+text_insert,!diffs[previous_equality][1]){diffs.splice(previous_equality,1),pointer--;var k2=previous_equality-1;diffs[k2]&&diffs[k2][0]===DIFF_INSERT&&(count_insert++,text_insert=diffs[k2][1]+text_insert,k2--),diffs[k2]&&diffs[k2][0]===DIFF_DELETE&&(count_delete++,text_delete=diffs[k2][1]+text_delete,k2--),previous_equality=k2}}if(starts_with_pair_end(diffs[pointer][1])){var stray=diffs[pointer][1].charAt(0);diffs[pointer][1]=diffs[pointer][1].slice(1),text_delete+=stray,text_insert+=stray}}if(pointer<diffs.length-1&&!diffs[pointer][1]){diffs.splice(pointer,1);break}if(text_delete.length>0||text_insert.length>0){text_delete.length>0&&text_insert.length>0&&(commonlength=diff_commonPrefix(text_insert,text_delete),commonlength!==0&&(previous_equality>=0?diffs[previous_equality][1]+=text_insert.substring(0,commonlength):(diffs.splice(0,0,[DIFF_EQUAL,text_insert.substring(0,commonlength)]),pointer++),text_insert=text_insert.substring(commonlength),text_delete=text_delete.substring(commonlength)),commonlength=diff_commonSuffix(text_insert,text_delete),commonlength!==0&&(diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1],text_insert=text_insert.substring(0,text_insert.length-commonlength),text_delete=text_delete.substring(0,text_delete.length-commonlength)));var n2=count_insert+count_delete;text_delete.length===0&&text_insert.length===0?(diffs.splice(pointer-n2,n2),pointer=pointer-n2):text_delete.length===0?(diffs.splice(pointer-n2,n2,[DIFF_INSERT,text_insert]),pointer=pointer-n2+1):text_insert.length===0?(diffs.splice(pointer-n2,n2,[DIFF_DELETE,text_delete]),pointer=pointer-n2+1):(diffs.splice(pointer-n2,n2,[DIFF_DELETE,text_delete],[DIFF_INSERT,text_insert]),pointer=pointer-n2+2)}pointer!==0&&diffs[pointer-1][0]===DIFF_EQUAL?(diffs[pointer-1][1]+=diffs[pointer][1],diffs.splice(pointer,1)):pointer++,count_insert=0,count_delete=0,text_delete="",text_insert="";break}}diffs[diffs.length-1][1]===""&&diffs.pop();var changes=!1;for(pointer=1;pointer<diffs.length-1;)diffs[pointer-1][0]===DIFF_EQUAL&&diffs[pointer+1][0]===DIFF_EQUAL&&(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)===diffs[pointer-1][1]?(diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length),diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1],diffs.splice(pointer-1,1),changes=!0):diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]&&(diffs[pointer-1][1]+=diffs[pointer+1][1],diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1],diffs.splice(pointer+1,1),changes=!0)),pointer++;changes&&diff_cleanupMerge(diffs,fix_unicode)}function is_surrogate_pair_start(charCode){return charCode>=55296&&charCode<=56319}function is_surrogate_pair_end(charCode){return charCode>=56320&&charCode<=57343}function starts_with_pair_end(str){return is_surrogate_pair_end(str.charCodeAt(0))}function ends_with_pair_start(str){return is_surrogate_pair_start(str.charCodeAt(str.length-1))}function remove_empty_tuples(tuples){for(var ret=[],i2=0;i2<tuples.length;i2++)tuples[i2][1].length>0&&ret.push(tuples[i2]);return ret}function make_edit_splice(before,oldMiddle,newMiddle,after){return ends_with_pair_start(before)||starts_with_pair_end(after)?null:remove_empty_tuples([[DIFF_EQUAL,before],[DIFF_DELETE,oldMiddle],[DIFF_INSERT,newMiddle],[DIFF_EQUAL,after]])}function find_cursor_edit_diff(oldText,newText,cursor_pos){var oldRange=typeof cursor_pos=="number"?{index:cursor_pos,length:0}:cursor_pos.oldRange,newRange=typeof cursor_pos=="number"?null:cursor_pos.newRange,oldLength=oldText.length,newLength=newText.length;if(oldRange.length===0&&(newRange===null||newRange.length===0)){var oldCursor=oldRange.index,oldBefore=oldText.slice(0,oldCursor),oldAfter=oldText.slice(oldCursor),maybeNewCursor=newRange?newRange.index:null;editBefore:{var newCursor=oldCursor+newLength-oldLength;if(maybeNewCursor!==null&&maybeNewCursor!==newCursor||newCursor<0||newCursor>newLength)break editBefore;var newBefore=newText.slice(0,newCursor),newAfter=newText.slice(newCursor);if(newAfter!==oldAfter)break editBefore;var prefixLength=Math.min(oldCursor,newCursor),oldPrefix=oldBefore.slice(0,prefixLength),newPrefix=newBefore.slice(0,prefixLength);if(oldPrefix!==newPrefix)break editBefore;var oldMiddle=oldBefore.slice(prefixLength),newMiddle=newBefore.slice(prefixLength);return make_edit_splice(oldPrefix,oldMiddle,newMiddle,oldAfter)}editAfter:{if(maybeNewCursor!==null&&maybeNewCursor!==oldCursor)break editAfter;var cursor=oldCursor,newBefore=newText.slice(0,cursor),newAfter=newText.slice(cursor);if(newBefore!==oldBefore)break editAfter;var suffixLength=Math.min(oldLength-cursor,newLength-cursor),oldSuffix=oldAfter.slice(oldAfter.length-suffixLength),newSuffix=newAfter.slice(newAfter.length-suffixLength);if(oldSuffix!==newSuffix)break editAfter;var oldMiddle=oldAfter.slice(0,oldAfter.length-suffixLength),newMiddle=newAfter.slice(0,newAfter.length-suffixLength);return make_edit_splice(oldBefore,oldMiddle,newMiddle,oldSuffix)}}if(oldRange.length>0&&newRange&&newRange.length===0)replaceRange:{var oldPrefix=oldText.slice(0,oldRange.index),oldSuffix=oldText.slice(oldRange.index+oldRange.length),prefixLength=oldPrefix.length,suffixLength=oldSuffix.length;if(newLength<prefixLength+suffixLength)break replaceRange;var newPrefix=newText.slice(0,prefixLength),newSuffix=newText.slice(newLength-suffixLength);if(oldPrefix!==newPrefix||oldSuffix!==newSuffix)break replaceRange;var oldMiddle=oldText.slice(prefixLength,oldLength-suffixLength),newMiddle=newText.slice(prefixLength,newLength-suffixLength);return make_edit_splice(oldPrefix,oldMiddle,newMiddle,oldSuffix)}return null}function diff(text1,text2,cursor_pos,cleanup){return diff_main(text1,text2,cursor_pos,cleanup,!0)}diff.INSERT=DIFF_INSERT,diff.DELETE=DIFF_DELETE,diff.EQUAL=DIFF_EQUAL;var diff_1=diff,lodash_clonedeep={exports:{}};lodash_clonedeep.exports,function(module2,exports2){var LARGE_ARRAY_SIZE2=200,HASH_UNDEFINED2="__lodash_hash_undefined__",MAX_SAFE_INTEGER2=9007199254740991,argsTag2="[object Arguments]",arrayTag2="[object Array]",boolTag2="[object Boolean]",dateTag2="[object Date]",errorTag2="[object Error]",funcTag2="[object Function]",genTag2="[object GeneratorFunction]",mapTag2="[object Map]",numberTag2="[object Number]",objectTag2="[object Object]",promiseTag2="[object Promise]",regexpTag2="[object RegExp]",setTag2="[object Set]",stringTag2="[object String]",symbolTag2="[object Symbol]",weakMapTag2="[object WeakMap]",arrayBufferTag2="[object ArrayBuffer]",dataViewTag2="[object DataView]",float32Tag2="[object Float32Array]",float64Tag2="[object Float64Array]",int8Tag2="[object Int8Array]",int16Tag2="[object Int16Array]",int32Tag2="[object Int32Array]",uint8Tag2="[object Uint8Array]",uint8ClampedTag2="[object Uint8ClampedArray]",uint16Tag2="[object Uint16Array]",uint32Tag2="[object Uint32Array]",reRegExpChar2=/[\\^$.*+?()[\]{}|]/g,reFlags2=/\w*$/,reIsHostCtor2=/^\[object .+?Constructor\]$/,reIsUint2=/^(?:0|[1-9]\d*)$/,cloneableTags2={};cloneableTags2[argsTag2]=cloneableTags2[arrayTag2]=cloneableTags2[arrayBufferTag2]=cloneableTags2[dataViewTag2]=cloneableTags2[boolTag2]=cloneableTags2[dateTag2]=cloneableTags2[float32Tag2]=cloneableTags2[float64Tag2]=cloneableTags2[int8Tag2]=cloneableTags2[int16Tag2]=cloneableTags2[int32Tag2]=cloneableTags2[mapTag2]=cloneableTags2[numberTag2]=cloneableTags2[objectTag2]=cloneableTags2[regexpTag2]=cloneableTags2[setTag2]=cloneableTags2[stringTag2]=cloneableTags2[symbolTag2]=cloneableTags2[uint8Tag2]=cloneableTags2[uint8ClampedTag2]=cloneableTags2[uint16Tag2]=cloneableTags2[uint32Tag2]=!0,cloneableTags2[errorTag2]=cloneableTags2[funcTag2]=cloneableTags2[weakMapTag2]=!1;var freeGlobal2=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf2=typeof self=="object"&&self&&self.Object===Object&&self,root2=freeGlobal2||freeSelf2||Function("return this")(),freeExports2=exports2&&!exports2.nodeType&&exports2,freeModule2=freeExports2&&!0&&module2&&!module2.nodeType&&module2,moduleExports2=freeModule2&&freeModule2.exports===freeExports2;function addMapEntry(map2,pair){return map2.set(pair[0],pair[1]),map2}function addSetEntry(set2,value){return set2.add(value),set2}function arrayEach2(array2,iteratee){for(var index2=-1,length=array2?array2.length:0;++index2<length&&iteratee(array2[index2],index2,array2)!==!1;);return array2}function arrayPush2(array2,values){for(var index2=-1,length=values.length,offset2=array2.length;++index2<length;)array2[offset2+index2]=values[index2];return array2}function arrayReduce(array2,iteratee,accumulator,initAccum){for(var index2=-1,length=array2?array2.length:0;++index2<length;)accumulator=iteratee(accumulator,array2[index2],index2,array2);return accumulator}function baseTimes2(n2,iteratee){for(var index2=-1,result=Array(n2);++index2<n2;)result[index2]=iteratee(index2);return result}function getValue2(object2,key){return object2==null?void 0:object2[key]}function isHostObject(value){var result=!1;if(value!=null&&typeof value.toString!="function")try{result=!!(value+"")}catch{}return result}function mapToArray2(map2){var index2=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index2]=[key,value]}),result}function overArg2(func2,transform2){return function(arg){return func2(transform2(arg))}}function setToArray2(set2){var index2=-1,result=Array(set2.size);return set2.forEach(function(value){result[++index2]=value}),result}var arrayProto2=Array.prototype,funcProto2=Function.prototype,objectProto2=Object.prototype,coreJsData2=root2["__core-js_shared__"],maskSrcKey2=function(){var uid=/[^.]+$/.exec(coreJsData2&&coreJsData2.keys&&coreJsData2.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString2=funcProto2.toString,hasOwnProperty2=objectProto2.hasOwnProperty,objectToString2=objectProto2.toString,reIsNative2=RegExp("^"+funcToString2.call(hasOwnProperty2).replace(reRegExpChar2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer3=moduleExports2?root2.Buffer:void 0,Symbol2=root2.Symbol,Uint8Array3=root2.Uint8Array,getPrototype2=overArg2(Object.getPrototypeOf,Object),objectCreate2=Object.create,propertyIsEnumerable2=objectProto2.propertyIsEnumerable,splice2=arrayProto2.splice,nativeGetSymbols2=Object.getOwnPropertySymbols,nativeIsBuffer2=Buffer3?Buffer3.isBuffer:void 0,nativeKeys2=overArg2(Object.keys,Object),DataView2=getNative2(root2,"DataView"),Map2=getNative2(root2,"Map"),Promise2=getNative2(root2,"Promise"),Set2=getNative2(root2,"Set"),WeakMap2=getNative2(root2,"WeakMap"),nativeCreate2=getNative2(Object,"create"),dataViewCtorString2=toSource2(DataView2),mapCtorString2=toSource2(Map2),promiseCtorString2=toSource2(Promise2),setCtorString2=toSource2(Set2),weakMapCtorString2=toSource2(WeakMap2),symbolProto2=Symbol2?Symbol2.prototype:void 0,symbolValueOf2=symbolProto2?symbolProto2.valueOf:void 0;function Hash2(entries){var index2=-1,length=entries?entries.length:0;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function hashClear2(){this.__data__=nativeCreate2?nativeCreate2(null):{}}function hashDelete2(key){return this.has(key)&&delete this.__data__[key]}function hashGet2(key){var data2=this.__data__;if(nativeCreate2){var result=data2[key];return result===HASH_UNDEFINED2?void 0:result}return hasOwnProperty2.call(data2,key)?data2[key]:void 0}function hashHas2(key){var data2=this.__data__;return nativeCreate2?data2[key]!==void 0:hasOwnProperty2.call(data2,key)}function hashSet2(key,value){var data2=this.__data__;return data2[key]=nativeCreate2&&value===void 0?HASH_UNDEFINED2:value,this}Hash2.prototype.clear=hashClear2,Hash2.prototype.delete=hashDelete2,Hash2.prototype.get=hashGet2,Hash2.prototype.has=hashHas2,Hash2.prototype.set=hashSet2;function ListCache2(entries){var index2=-1,length=entries?entries.length:0;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function listCacheClear2(){this.__data__=[]}function listCacheDelete2(key){var data2=this.__data__,index2=assocIndexOf2(data2,key);if(index2<0)return!1;var lastIndex=data2.length-1;return index2==lastIndex?data2.pop():splice2.call(data2,index2,1),!0}function listCacheGet2(key){var data2=this.__data__,index2=assocIndexOf2(data2,key);return index2<0?void 0:data2[index2][1]}function listCacheHas2(key){return assocIndexOf2(this.__data__,key)>-1}function listCacheSet2(key,value){var data2=this.__data__,index2=assocIndexOf2(data2,key);return index2<0?data2.push([key,value]):data2[index2][1]=value,this}ListCache2.prototype.clear=listCacheClear2,ListCache2.prototype.delete=listCacheDelete2,ListCache2.prototype.get=listCacheGet2,ListCache2.prototype.has=listCacheHas2,ListCache2.prototype.set=listCacheSet2;function MapCache2(entries){var index2=-1,length=entries?entries.length:0;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function mapCacheClear2(){this.__data__={hash:new Hash2,map:new(Map2||ListCache2),string:new Hash2}}function mapCacheDelete2(key){return getMapData2(this,key).delete(key)}function mapCacheGet2(key){return getMapData2(this,key).get(key)}function mapCacheHas2(key){return getMapData2(this,key).has(key)}function mapCacheSet2(key,value){return getMapData2(this,key).set(key,value),this}MapCache2.prototype.clear=mapCacheClear2,MapCache2.prototype.delete=mapCacheDelete2,MapCache2.prototype.get=mapCacheGet2,MapCache2.prototype.has=mapCacheHas2,MapCache2.prototype.set=mapCacheSet2;function Stack2(entries){this.__data__=new ListCache2(entries)}function stackClear2(){this.__data__=new ListCache2}function stackDelete2(key){return this.__data__.delete(key)}function stackGet2(key){return this.__data__.get(key)}function stackHas2(key){return this.__data__.has(key)}function stackSet2(key,value){var cache=this.__data__;if(cache instanceof ListCache2){var pairs=cache.__data__;if(!Map2||pairs.length<LARGE_ARRAY_SIZE2-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache2(pairs)}return cache.set(key,value),this}Stack2.prototype.clear=stackClear2,Stack2.prototype.delete=stackDelete2,Stack2.prototype.get=stackGet2,Stack2.prototype.has=stackHas2,Stack2.prototype.set=stackSet2;function arrayLikeKeys2(value,inherited){var result=isArray2(value)||isArguments2(value)?baseTimes2(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)hasOwnProperty2.call(value,key)&&!(skipIndexes&&(key=="length"||isIndex2(key,length)))&&result.push(key);return result}function assignValue2(object2,key,value){var objValue=object2[key];(!(hasOwnProperty2.call(object2,key)&&eq2(objValue,value))||value===void 0&&!(key in object2))&&(object2[key]=value)}function assocIndexOf2(array2,key){for(var length=array2.length;length--;)if(eq2(array2[length][0],key))return length;return-1}function baseAssign2(object2,source){return object2&&copyObject2(source,keys2(source),object2)}function baseClone2(value,isDeep,isFull,customizer,key,object2,stack){var result;if(customizer&&(result=object2?customizer(value,key,object2,stack):customizer(value)),result!==void 0)return result;if(!isObject2(value))return value;var isArr=isArray2(value);if(isArr){if(result=initCloneArray2(value),!isDeep)return copyArray2(value,result)}else{var tag=getTag2(value),isFunc=tag==funcTag2||tag==genTag2;if(isBuffer2(value))return cloneBuffer2(value,isDeep);if(tag==objectTag2||tag==argsTag2||isFunc&&!object2){if(isHostObject(value))return object2?value:{};if(result=initCloneObject2(isFunc?{}:value),!isDeep)return copySymbols2(value,baseAssign2(result,value))}else{if(!cloneableTags2[tag])return object2?value:{};result=initCloneByTag2(value,tag,baseClone2,isDeep)}}stack||(stack=new Stack2);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys2(value):keys2(value);return arrayEach2(props||value,function(subValue,key2){props&&(key2=subValue,subValue=value[key2]),assignValue2(result,key2,baseClone2(subValue,isDeep,isFull,customizer,key2,value,stack))}),result}function baseCreate2(proto){return isObject2(proto)?objectCreate2(proto):{}}function baseGetAllKeys2(object2,keysFunc,symbolsFunc){var result=keysFunc(object2);return isArray2(object2)?result:arrayPush2(result,symbolsFunc(object2))}function baseGetTag2(value){return objectToString2.call(value)}function baseIsNative2(value){if(!isObject2(value)||isMasked2(value))return!1;var pattern=isFunction2(value)||isHostObject(value)?reIsNative2:reIsHostCtor2;return pattern.test(toSource2(value))}function baseKeys2(object2){if(!isPrototype2(object2))return nativeKeys2(object2);var result=[];for(var key in Object(object2))hasOwnProperty2.call(object2,key)&&key!="constructor"&&result.push(key);return result}function cloneBuffer2(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer2(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array3(result).set(new Uint8Array3(arrayBuffer)),result}function cloneDataView2(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer2(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map2,isDeep,cloneFunc){var array2=isDeep?cloneFunc(mapToArray2(map2),!0):mapToArray2(map2);return arrayReduce(array2,addMapEntry,new map2.constructor)}function cloneRegExp2(regexp){var result=new regexp.constructor(regexp.source,reFlags2.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set2,isDeep,cloneFunc){var array2=isDeep?cloneFunc(setToArray2(set2),!0):setToArray2(set2);return arrayReduce(array2,addSetEntry,new set2.constructor)}function cloneSymbol2(symbol){return symbolValueOf2?Object(symbolValueOf2.call(symbol)):{}}function cloneTypedArray2(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer2(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray2(source,array2){var index2=-1,length=source.length;for(array2||(array2=Array(length));++index2<length;)array2[index2]=source[index2];return array2}function copyObject2(source,props,object2,customizer){object2||(object2={});for(var index2=-1,length=props.length;++index2<length;){var key=props[index2],newValue=void 0;assignValue2(object2,key,newValue===void 0?source[key]:newValue)}return object2}function copySymbols2(source,object2){return copyObject2(source,getSymbols2(source),object2)}function getAllKeys2(object2){return baseGetAllKeys2(object2,keys2,getSymbols2)}function getMapData2(map2,key){var data2=map2.__data__;return isKeyable2(key)?data2[typeof key=="string"?"string":"hash"]:data2.map}function getNative2(object2,key){var value=getValue2(object2,key);return baseIsNative2(value)?value:void 0}var getSymbols2=nativeGetSymbols2?overArg2(nativeGetSymbols2,Object):stubArray2,getTag2=baseGetTag2;(DataView2&&getTag2(new DataView2(new ArrayBuffer(1)))!=dataViewTag2||Map2&&getTag2(new Map2)!=mapTag2||Promise2&&getTag2(Promise2.resolve())!=promiseTag2||Set2&&getTag2(new Set2)!=setTag2||WeakMap2&&getTag2(new WeakMap2)!=weakMapTag2)&&(getTag2=function(value){var result=objectToString2.call(value),Ctor=result==objectTag2?value.constructor:void 0,ctorString=Ctor?toSource2(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString2:return dataViewTag2;case mapCtorString2:return mapTag2;case promiseCtorString2:return promiseTag2;case setCtorString2:return setTag2;case weakMapCtorString2:return weakMapTag2}return result});function initCloneArray2(array2){var length=array2.length,result=array2.constructor(length);return length&&typeof array2[0]=="string"&&hasOwnProperty2.call(array2,"index")&&(result.index=array2.index,result.input=array2.input),result}function initCloneObject2(object2){return typeof object2.constructor=="function"&&!isPrototype2(object2)?baseCreate2(getPrototype2(object2)):{}}function initCloneByTag2(object2,tag,cloneFunc,isDeep){var Ctor=object2.constructor;switch(tag){case arrayBufferTag2:return cloneArrayBuffer2(object2);case boolTag2:case dateTag2:return new Ctor(+object2);case dataViewTag2:return cloneDataView2(object2,isDeep);case float32Tag2:case float64Tag2:case int8Tag2:case int16Tag2:case int32Tag2:case uint8Tag2:case uint8ClampedTag2:case uint16Tag2:case uint32Tag2:return cloneTypedArray2(object2,isDeep);case mapTag2:return cloneMap(object2,isDeep,cloneFunc);case numberTag2:case stringTag2:return new Ctor(object2);case regexpTag2:return cloneRegExp2(object2);case setTag2:return cloneSet(object2,isDeep,cloneFunc);case symbolTag2:return cloneSymbol2(object2)}}function isIndex2(value,length){return length=length??MAX_SAFE_INTEGER2,!!length&&(typeof value=="number"||reIsUint2.test(value))&&value>-1&&value%1==0&&value<length}function isKeyable2(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked2(func2){return!!maskSrcKey2&&maskSrcKey2 in func2}function isPrototype2(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto2;return value===proto}function toSource2(func2){if(func2!=null){try{return funcToString2.call(func2)}catch{}try{return func2+""}catch{}}return""}function cloneDeep2(value){return baseClone2(value,!0,!0)}function eq2(value,other){return value===other||value!==value&&other!==other}function isArguments2(value){return isArrayLikeObject2(value)&&hasOwnProperty2.call(value,"callee")&&(!propertyIsEnumerable2.call(value,"callee")||objectToString2.call(value)==argsTag2)}var isArray2=Array.isArray;function isArrayLike2(value){return value!=null&&isLength2(value.length)&&!isFunction2(value)}function isArrayLikeObject2(value){return isObjectLike2(value)&&isArrayLike2(value)}var isBuffer2=nativeIsBuffer2||stubFalse2;function isFunction2(value){var tag=isObject2(value)?objectToString2.call(value):"";return tag==funcTag2||tag==genTag2}function isLength2(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER2}function isObject2(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike2(value){return!!value&&typeof value=="object"}function keys2(object2){return isArrayLike2(object2)?arrayLikeKeys2(object2):baseKeys2(object2)}function stubArray2(){return[]}function stubFalse2(){return!1}module2.exports=cloneDeep2}(lodash_clonedeep,lodash_clonedeep.exports);var lodash_clonedeepExports=lodash_clonedeep.exports,lodash_isequal={exports:{}};lodash_isequal.exports,function(module2,exports2){var LARGE_ARRAY_SIZE2=200,HASH_UNDEFINED2="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG2=1,COMPARE_UNORDERED_FLAG2=2,MAX_SAFE_INTEGER2=9007199254740991,argsTag2="[object Arguments]",arrayTag2="[object Array]",asyncTag2="[object AsyncFunction]",boolTag2="[object Boolean]",dateTag2="[object Date]",errorTag2="[object Error]",funcTag2="[object Function]",genTag2="[object GeneratorFunction]",mapTag2="[object Map]",numberTag2="[object Number]",nullTag2="[object Null]",objectTag2="[object Object]",promiseTag2="[object Promise]",proxyTag2="[object Proxy]",regexpTag2="[object RegExp]",setTag2="[object Set]",stringTag2="[object String]",symbolTag2="[object Symbol]",undefinedTag2="[object Undefined]",weakMapTag2="[object WeakMap]",arrayBufferTag2="[object ArrayBuffer]",dataViewTag2="[object DataView]",float32Tag2="[object Float32Array]",float64Tag2="[object Float64Array]",int8Tag2="[object Int8Array]",int16Tag2="[object Int16Array]",int32Tag2="[object Int32Array]",uint8Tag2="[object Uint8Array]",uint8ClampedTag2="[object Uint8ClampedArray]",uint16Tag2="[object Uint16Array]",uint32Tag2="[object Uint32Array]",reRegExpChar2=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor2=/^\[object .+?Constructor\]$/,reIsUint2=/^(?:0|[1-9]\d*)$/,typedArrayTags2={};typedArrayTags2[float32Tag2]=typedArrayTags2[float64Tag2]=typedArrayTags2[int8Tag2]=typedArrayTags2[int16Tag2]=typedArrayTags2[int32Tag2]=typedArrayTags2[uint8Tag2]=typedArrayTags2[uint8ClampedTag2]=typedArrayTags2[uint16Tag2]=typedArrayTags2[uint32Tag2]=!0,typedArrayTags2[argsTag2]=typedArrayTags2[arrayTag2]=typedArrayTags2[arrayBufferTag2]=typedArrayTags2[boolTag2]=typedArrayTags2[dataViewTag2]=typedArrayTags2[dateTag2]=typedArrayTags2[errorTag2]=typedArrayTags2[funcTag2]=typedArrayTags2[mapTag2]=typedArrayTags2[numberTag2]=typedArrayTags2[objectTag2]=typedArrayTags2[regexpTag2]=typedArrayTags2[setTag2]=typedArrayTags2[stringTag2]=typedArrayTags2[weakMapTag2]=!1;var freeGlobal2=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf2=typeof self=="object"&&self&&self.Object===Object&&self,root2=freeGlobal2||freeSelf2||Function("return this")(),freeExports2=exports2&&!exports2.nodeType&&exports2,freeModule2=freeExports2&&!0&&module2&&!module2.nodeType&&module2,moduleExports2=freeModule2&&freeModule2.exports===freeExports2,freeProcess2=moduleExports2&&freeGlobal2.process,nodeUtil2=function(){try{return freeProcess2&&freeProcess2.binding&&freeProcess2.binding("util")}catch{}}(),nodeIsTypedArray2=nodeUtil2&&nodeUtil2.isTypedArray;function arrayFilter2(array2,predicate){for(var index2=-1,length=array2==null?0:array2.length,resIndex=0,result=[];++index2<length;){var value=array2[index2];predicate(value,index2,array2)&&(result[resIndex++]=value)}return result}function arrayPush2(array2,values){for(var index2=-1,length=values.length,offset2=array2.length;++index2<length;)array2[offset2+index2]=values[index2];return array2}function arraySome2(array2,predicate){for(var index2=-1,length=array2==null?0:array2.length;++index2<length;)if(predicate(array2[index2],index2,array2))return!0;return!1}function baseTimes2(n2,iteratee){for(var index2=-1,result=Array(n2);++index2<n2;)result[index2]=iteratee(index2);return result}function baseUnary2(func2){return function(value){return func2(value)}}function cacheHas2(cache,key){return cache.has(key)}function getValue2(object2,key){return object2==null?void 0:object2[key]}function mapToArray2(map2){var index2=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index2]=[key,value]}),result}function overArg2(func2,transform2){return function(arg){return func2(transform2(arg))}}function setToArray2(set2){var index2=-1,result=Array(set2.size);return set2.forEach(function(value){result[++index2]=value}),result}var arrayProto2=Array.prototype,funcProto2=Function.prototype,objectProto2=Object.prototype,coreJsData2=root2["__core-js_shared__"],funcToString2=funcProto2.toString,hasOwnProperty2=objectProto2.hasOwnProperty,maskSrcKey2=function(){var uid=/[^.]+$/.exec(coreJsData2&&coreJsData2.keys&&coreJsData2.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),nativeObjectToString2=objectProto2.toString,reIsNative2=RegExp("^"+funcToString2.call(hasOwnProperty2).replace(reRegExpChar2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer3=moduleExports2?root2.Buffer:void 0,Symbol2=root2.Symbol,Uint8Array3=root2.Uint8Array,propertyIsEnumerable2=objectProto2.propertyIsEnumerable,splice2=arrayProto2.splice,symToStringTag2=Symbol2?Symbol2.toStringTag:void 0,nativeGetSymbols2=Object.getOwnPropertySymbols,nativeIsBuffer2=Buffer3?Buffer3.isBuffer:void 0,nativeKeys2=overArg2(Object.keys,Object),DataView2=getNative2(root2,"DataView"),Map2=getNative2(root2,"Map"),Promise2=getNative2(root2,"Promise"),Set2=getNative2(root2,"Set"),WeakMap2=getNative2(root2,"WeakMap"),nativeCreate2=getNative2(Object,"create"),dataViewCtorString2=toSource2(DataView2),mapCtorString2=toSource2(Map2),promiseCtorString2=toSource2(Promise2),setCtorString2=toSource2(Set2),weakMapCtorString2=toSource2(WeakMap2),symbolProto2=Symbol2?Symbol2.prototype:void 0,symbolValueOf2=symbolProto2?symbolProto2.valueOf:void 0;function Hash2(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function hashClear2(){this.__data__=nativeCreate2?nativeCreate2(null):{},this.size=0}function hashDelete2(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet2(key){var data2=this.__data__;if(nativeCreate2){var result=data2[key];return result===HASH_UNDEFINED2?void 0:result}return hasOwnProperty2.call(data2,key)?data2[key]:void 0}function hashHas2(key){var data2=this.__data__;return nativeCreate2?data2[key]!==void 0:hasOwnProperty2.call(data2,key)}function hashSet2(key,value){var data2=this.__data__;return this.size+=this.has(key)?0:1,data2[key]=nativeCreate2&&value===void 0?HASH_UNDEFINED2:value,this}Hash2.prototype.clear=hashClear2,Hash2.prototype.delete=hashDelete2,Hash2.prototype.get=hashGet2,Hash2.prototype.has=hashHas2,Hash2.prototype.set=hashSet2;function ListCache2(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function listCacheClear2(){this.__data__=[],this.size=0}function listCacheDelete2(key){var data2=this.__data__,index2=assocIndexOf2(data2,key);if(index2<0)return!1;var lastIndex=data2.length-1;return index2==lastIndex?data2.pop():splice2.call(data2,index2,1),--this.size,!0}function listCacheGet2(key){var data2=this.__data__,index2=assocIndexOf2(data2,key);return index2<0?void 0:data2[index2][1]}function listCacheHas2(key){return assocIndexOf2(this.__data__,key)>-1}function listCacheSet2(key,value){var data2=this.__data__,index2=assocIndexOf2(data2,key);return index2<0?(++this.size,data2.push([key,value])):data2[index2][1]=value,this}ListCache2.prototype.clear=listCacheClear2,ListCache2.prototype.delete=listCacheDelete2,ListCache2.prototype.get=listCacheGet2,ListCache2.prototype.has=listCacheHas2,ListCache2.prototype.set=listCacheSet2;function MapCache2(entries){var index2=-1,length=entries==null?0:entries.length;for(this.clear();++index2<length;){var entry=entries[index2];this.set(entry[0],entry[1])}}function mapCacheClear2(){this.size=0,this.__data__={hash:new Hash2,map:new(Map2||ListCache2),string:new Hash2}}function mapCacheDelete2(key){var result=getMapData2(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet2(key){return getMapData2(this,key).get(key)}function mapCacheHas2(key){return getMapData2(this,key).has(key)}function mapCacheSet2(key,value){var data2=getMapData2(this,key),size=data2.size;return data2.set(key,value),this.size+=data2.size==size?0:1,this}MapCache2.prototype.clear=mapCacheClear2,MapCache2.prototype.delete=mapCacheDelete2,MapCache2.prototype.get=mapCacheGet2,MapCache2.prototype.has=mapCacheHas2,MapCache2.prototype.set=mapCacheSet2;function SetCache2(values){var index2=-1,length=values==null?0:values.length;for(this.__data__=new MapCache2;++index2<length;)this.add(values[index2])}function setCacheAdd2(value){return this.__data__.set(value,HASH_UNDEFINED2),this}function setCacheHas2(value){return this.__data__.has(value)}SetCache2.prototype.add=SetCache2.prototype.push=setCacheAdd2,SetCache2.prototype.has=setCacheHas2;function Stack2(entries){var data2=this.__data__=new ListCache2(entries);this.size=data2.size}function stackClear2(){this.__data__=new ListCache2,this.size=0}function stackDelete2(key){var data2=this.__data__,result=data2.delete(key);return this.size=data2.size,result}function stackGet2(key){return this.__data__.get(key)}function stackHas2(key){return this.__data__.has(key)}function stackSet2(key,value){var data2=this.__data__;if(data2 instanceof ListCache2){var pairs=data2.__data__;if(!Map2||pairs.length<LARGE_ARRAY_SIZE2-1)return pairs.push([key,value]),this.size=++data2.size,this;data2=this.__data__=new MapCache2(pairs)}return data2.set(key,value),this.size=data2.size,this}Stack2.prototype.clear=stackClear2,Stack2.prototype.delete=stackDelete2,Stack2.prototype.get=stackGet2,Stack2.prototype.has=stackHas2,Stack2.prototype.set=stackSet2;function arrayLikeKeys2(value,inherited){var isArr=isArray2(value),isArg=!isArr&&isArguments2(value),isBuff=!isArr&&!isArg&&isBuffer2(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray2(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes2(value.length,String):[],length=result.length;for(var key in value)hasOwnProperty2.call(value,key)&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex2(key,length)))&&result.push(key);return result}function assocIndexOf2(array2,key){for(var length=array2.length;length--;)if(eq2(array2[length][0],key))return length;return-1}function baseGetAllKeys2(object2,keysFunc,symbolsFunc){var result=keysFunc(object2);return isArray2(object2)?result:arrayPush2(result,symbolsFunc(object2))}function baseGetTag2(value){return value==null?value===void 0?undefinedTag2:nullTag2:symToStringTag2&&symToStringTag2 in Object(value)?getRawTag2(value):objectToString2(value)}function baseIsArguments2(value){return isObjectLike2(value)&&baseGetTag2(value)==argsTag2}function baseIsEqual2(value,other,bitmask,customizer,stack){return value===other?!0:value==null||other==null||!isObjectLike2(value)&&!isObjectLike2(other)?value!==value&&other!==other:baseIsEqualDeep2(value,other,bitmask,customizer,baseIsEqual2,stack)}function baseIsEqualDeep2(object2,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray2(object2),othIsArr=isArray2(other),objTag=objIsArr?arrayTag2:getTag2(object2),othTag=othIsArr?arrayTag2:getTag2(other);objTag=objTag==argsTag2?objectTag2:objTag,othTag=othTag==argsTag2?objectTag2:othTag;var objIsObj=objTag==objectTag2,othIsObj=othTag==objectTag2,isSameTag=objTag==othTag;if(isSameTag&&isBuffer2(object2)){if(!isBuffer2(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack2),objIsArr||isTypedArray2(object2)?equalArrays2(object2,other,bitmask,customizer,equalFunc,stack):equalByTag2(object2,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG2)){var objIsWrapped=objIsObj&&hasOwnProperty2.call(object2,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty2.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object2.value():object2,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack2),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag?(stack||(stack=new Stack2),equalObjects2(object2,other,bitmask,customizer,equalFunc,stack)):!1}function baseIsNative2(value){if(!isObject2(value)||isMasked2(value))return!1;var pattern=isFunction2(value)?reIsNative2:reIsHostCtor2;return pattern.test(toSource2(value))}function baseIsTypedArray2(value){return isObjectLike2(value)&&isLength2(value.length)&&!!typedArrayTags2[baseGetTag2(value)]}function baseKeys2(object2){if(!isPrototype2(object2))return nativeKeys2(object2);var result=[];for(var key in Object(object2))hasOwnProperty2.call(object2,key)&&key!="constructor"&&result.push(key);return result}function equalArrays2(array2,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG2,arrLength=array2.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array2);if(stacked&&stack.get(other))return stacked==other;var index2=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG2?new SetCache2:void 0;for(stack.set(array2,other),stack.set(other,array2);++index2<arrLength;){var arrValue=array2[index2],othValue=other[index2];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index2,other,array2,stack):customizer(arrValue,othValue,index2,array2,other,stack);if(compared!==void 0){if(compared)continue;result=!1;break}if(seen){if(!arraySome2(other,function(othValue2,othIndex){if(!cacheHas2(seen,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}return stack.delete(array2),stack.delete(other),result}function equalByTag2(object2,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag2:if(object2.byteLength!=other.byteLength||object2.byteOffset!=other.byteOffset)return!1;object2=object2.buffer,other=other.buffer;case arrayBufferTag2:return!(object2.byteLength!=other.byteLength||!equalFunc(new Uint8Array3(object2),new Uint8Array3(other)));case boolTag2:case dateTag2:case numberTag2:return eq2(+object2,+other);case errorTag2:return object2.name==other.name&&object2.message==other.message;case regexpTag2:case stringTag2:return object2==other+"";case mapTag2:var convert=mapToArray2;case setTag2:var isPartial=bitmask&COMPARE_PARTIAL_FLAG2;if(convert||(convert=setToArray2),object2.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object2);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG2,stack.set(object2,other);var result=equalArrays2(convert(object2),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object2),result;case symbolTag2:if(symbolValueOf2)return symbolValueOf2.call(object2)==symbolValueOf2.call(other)}return!1}function equalObjects2(object2,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG2,objProps=getAllKeys2(object2),objLength=objProps.length,othProps=getAllKeys2(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index2=objLength;index2--;){var key=objProps[index2];if(!(isPartial?key in other:hasOwnProperty2.call(other,key)))return!1}var stacked=stack.get(object2);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object2,other),stack.set(other,object2);for(var skipCtor=isPartial;++index2<objLength;){key=objProps[index2];var objValue=object2[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object2,stack):customizer(objValue,othValue,key,object2,other,stack);if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object2.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object2&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object2),stack.delete(other),result}function getAllKeys2(object2){return baseGetAllKeys2(object2,keys2,getSymbols2)}function getMapData2(map2,key){var data2=map2.__data__;return isKeyable2(key)?data2[typeof key=="string"?"string":"hash"]:data2.map}function getNative2(object2,key){var value=getValue2(object2,key);return baseIsNative2(value)?value:void 0}function getRawTag2(value){var isOwn=hasOwnProperty2.call(value,symToStringTag2),tag=value[symToStringTag2];try{value[symToStringTag2]=void 0;var unmasked=!0}catch{}var result=nativeObjectToString2.call(value);return unmasked&&(isOwn?value[symToStringTag2]=tag:delete value[symToStringTag2]),result}var getSymbols2=nativeGetSymbols2?function(object2){return object2==null?[]:(object2=Object(object2),arrayFilter2(nativeGetSymbols2(object2),function(symbol){return propertyIsEnumerable2.call(object2,symbol)}))}:stubArray2,getTag2=baseGetTag2;(DataView2&&getTag2(new DataView2(new ArrayBuffer(1)))!=dataViewTag2||Map2&&getTag2(new Map2)!=mapTag2||Promise2&&getTag2(Promise2.resolve())!=promiseTag2||Set2&&getTag2(new Set2)!=setTag2||WeakMap2&&getTag2(new WeakMap2)!=weakMapTag2)&&(getTag2=function(value){var result=baseGetTag2(value),Ctor=result==objectTag2?value.constructor:void 0,ctorString=Ctor?toSource2(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString2:return dataViewTag2;case mapCtorString2:return mapTag2;case promiseCtorString2:return promiseTag2;case setCtorString2:return setTag2;case weakMapCtorString2:return weakMapTag2}return result});function isIndex2(value,length){return length=length??MAX_SAFE_INTEGER2,!!length&&(typeof value=="number"||reIsUint2.test(value))&&value>-1&&value%1==0&&value<length}function isKeyable2(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked2(func2){return!!maskSrcKey2&&maskSrcKey2 in func2}function isPrototype2(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto2;return value===proto}function objectToString2(value){return nativeObjectToString2.call(value)}function toSource2(func2){if(func2!=null){try{return funcToString2.call(func2)}catch{}try{return func2+""}catch{}}return""}function eq2(value,other){return value===other||value!==value&&other!==other}var isArguments2=baseIsArguments2(function(){return arguments}())?baseIsArguments2:function(value){return isObjectLike2(value)&&hasOwnProperty2.call(value,"callee")&&!propertyIsEnumerable2.call(value,"callee")},isArray2=Array.isArray;function isArrayLike2(value){return value!=null&&isLength2(value.length)&&!isFunction2(value)}var isBuffer2=nativeIsBuffer2||stubFalse2;function isEqual2(value,other){return baseIsEqual2(value,other)}function isFunction2(value){if(!isObject2(value))return!1;var tag=baseGetTag2(value);return tag==funcTag2||tag==genTag2||tag==asyncTag2||tag==proxyTag2}function isLength2(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER2}function isObject2(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike2(value){return value!=null&&typeof value=="object"}var isTypedArray2=nodeIsTypedArray2?baseUnary2(nodeIsTypedArray2):baseIsTypedArray2;function keys2(object2){return isArrayLike2(object2)?arrayLikeKeys2(object2):baseKeys2(object2)}function stubArray2(){return[]}function stubFalse2(){return!1}module2.exports=isEqual2}(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,AttributeMap$1={};Object.defineProperty(AttributeMap$1,"__esModule",{value:!0});const cloneDeep=lodash_clonedeepExports,isEqual=lodash_isequalExports;var AttributeMap;(function(AttributeMap2){function compose2(a2={},b2={},keepNull=!1){typeof a2!="object"&&(a2={}),typeof b2!="object"&&(b2={});let attributes=cloneDeep(b2);keepNull||(attributes=Object.keys(attributes).reduce((copy,key)=>(attributes[key]!=null&&(copy[key]=attributes[key]),copy),{}));for(const key in a2)a2[key]!==void 0&&b2[key]===void 0&&(attributes[key]=a2[key]);return Object.keys(attributes).length>0?attributes:void 0}AttributeMap2.compose=compose2;function diff2(a2={},b2={}){typeof a2!="object"&&(a2={}),typeof b2!="object"&&(b2={});const attributes=Object.keys(a2).concat(Object.keys(b2)).reduce((attrs,key)=>(isEqual(a2[key],b2[key])||(attrs[key]=b2[key]===void 0?null:b2[key]),attrs),{});return Object.keys(attributes).length>0?attributes:void 0}AttributeMap2.diff=diff2;function invert(attr={},base={}){attr=attr||{};const baseInverted=Object.keys(base).reduce((memo,key)=>(base[key]!==attr[key]&&attr[key]!==void 0&&(memo[key]=base[key]),memo),{});return Object.keys(attr).reduce((memo,key)=>(attr[key]!==base[key]&&base[key]===void 0&&(memo[key]=null),memo),baseInverted)}AttributeMap2.invert=invert;function transform2(a2,b2,priority=!1){if(typeof a2!="object")return b2;if(typeof b2!="object")return;if(!priority)return b2;const attributes=Object.keys(b2).reduce((attrs,key)=>(a2[key]===void 0&&(attrs[key]=b2[key]),attrs),{});return Object.keys(attributes).length>0?attributes:void 0}AttributeMap2.transform=transform2})(AttributeMap||(AttributeMap={})),AttributeMap$1.default=AttributeMap;var Op$1={};Object.defineProperty(Op$1,"__esModule",{value:!0});var Op;(function(Op2){function length(op){return typeof op.delete=="number"?op.delete:typeof op.retain=="number"?op.retain:typeof op.retain=="object"&&op.retain!==null?1:typeof op.insert=="string"?op.insert.length:1}Op2.length=length})(Op||(Op={})),Op$1.default=Op;var OpIterator={};Object.defineProperty(OpIterator,"__esModule",{value:!0});const Op_1=Op$1;class Iterator{constructor(ops){this.ops=ops,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(length){length||(length=1/0);const nextOp=this.ops[this.index];if(nextOp){const offset2=this.offset,opLength=Op_1.default.length(nextOp);if(length>=opLength-offset2?(length=opLength-offset2,this.index+=1,this.offset=0):this.offset+=length,typeof nextOp.delete=="number")return{delete:length};{const retOp={};return nextOp.attributes&&(retOp.attributes=nextOp.attributes),typeof nextOp.retain=="number"?retOp.retain=length:typeof nextOp.retain=="object"&&nextOp.retain!==null?retOp.retain=nextOp.retain:typeof nextOp.insert=="string"?retOp.insert=nextOp.insert.substr(offset2,length):retOp.insert=nextOp.insert,retOp}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Op_1.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const op=this.ops[this.index];return op?typeof op.delete=="number"?"delete":typeof op.retain=="number"||typeof op.retain=="object"&&op.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const offset2=this.offset,index2=this.index,next=this.next(),rest=this.ops.slice(this.index);return this.offset=offset2,this.index=index2,[next].concat(rest)}}else return[]}}OpIterator.default=Iterator,function(module2,exports2){Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.AttributeMap=exports2.OpIterator=exports2.Op=void 0;const diff2=diff_1,cloneDeep2=lodash_clonedeepExports,isEqual2=lodash_isequalExports,AttributeMap_1=AttributeMap$1;exports2.AttributeMap=AttributeMap_1.default;const Op_12=Op$1;exports2.Op=Op_12.default;const OpIterator_1=OpIterator;exports2.OpIterator=OpIterator_1.default;const NULL_CHARACTER="\0",getEmbedTypeAndData=(a2,b2)=>{if(typeof a2!="object"||a2===null)throw new Error(`cannot retain a ${typeof a2}`);if(typeof b2!="object"||b2===null)throw new Error(`cannot retain a ${typeof b2}`);const embedType=Object.keys(a2)[0];if(!embedType||embedType!==Object.keys(b2)[0])throw new Error(`embed types not matched: ${embedType} != ${Object.keys(b2)[0]}`);return[embedType,a2[embedType],b2[embedType]]};class Delta2{constructor(ops){Array.isArray(ops)?this.ops=ops:ops!=null&&Array.isArray(ops.ops)?this.ops=ops.ops:this.ops=[]}static registerEmbed(embedType,handler){this.handlers[embedType]=handler}static unregisterEmbed(embedType){delete this.handlers[embedType]}static getHandler(embedType){const handler=this.handlers[embedType];if(!handler)throw new Error(`no handlers for embed type "${embedType}"`);return handler}insert(arg,attributes){const newOp={};return typeof arg=="string"&&arg.length===0?this:(newOp.insert=arg,attributes!=null&&typeof attributes=="object"&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp))}delete(length){return length<=0?this:this.push({delete:length})}retain(length,attributes){if(typeof length=="number"&&length<=0)return this;const newOp={retain:length};return attributes!=null&&typeof attributes=="object"&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp)}push(newOp){let index2=this.ops.length,lastOp=this.ops[index2-1];if(newOp=cloneDeep2(newOp),typeof lastOp=="object"){if(typeof newOp.delete=="number"&&typeof lastOp.delete=="number")return this.ops[index2-1]={delete:lastOp.delete+newOp.delete},this;if(typeof lastOp.delete=="number"&&newOp.insert!=null&&(index2-=1,lastOp=this.ops[index2-1],typeof lastOp!="object"))return this.ops.unshift(newOp),this;if(isEqual2(newOp.attributes,lastOp.attributes)){if(typeof newOp.insert=="string"&&typeof lastOp.insert=="string")return this.ops[index2-1]={insert:lastOp.insert+newOp.insert},typeof newOp.attributes=="object"&&(this.ops[index2-1].attributes=newOp.attributes),this;if(typeof newOp.retain=="number"&&typeof lastOp.retain=="number")return this.ops[index2-1]={retain:lastOp.retain+newOp.retain},typeof newOp.attributes=="object"&&(this.ops[index2-1].attributes=newOp.attributes),this}}return index2===this.ops.length?this.ops.push(newOp):this.ops.splice(index2,0,newOp),this}chop(){const lastOp=this.ops[this.ops.length-1];return lastOp&&typeof lastOp.retain=="number"&&!lastOp.attributes&&this.ops.pop(),this}filter(predicate){return this.ops.filter(predicate)}forEach(predicate){this.ops.forEach(predicate)}map(predicate){return this.ops.map(predicate)}partition(predicate){const passed=[],failed=[];return this.forEach(op=>{(predicate(op)?passed:failed).push(op)}),[passed,failed]}reduce(predicate,initialValue){return this.ops.reduce(predicate,initialValue)}changeLength(){return this.reduce((length,elem)=>elem.insert?length+Op_12.default.length(elem):elem.delete?length-elem.delete:length,0)}length(){return this.reduce((length,elem)=>length+Op_12.default.length(elem),0)}slice(start2=0,end2=1/0){const ops=[],iter=new OpIterator_1.default(this.ops);let index2=0;for(;index2<end2&&iter.hasNext();){let nextOp;index2<start2?nextOp=iter.next(start2-index2):(nextOp=iter.next(end2-index2),ops.push(nextOp)),index2+=Op_12.default.length(nextOp)}return new Delta2(ops)}compose(other){const thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops),ops=[],firstOther=otherIter.peek();if(firstOther!=null&&typeof firstOther.retain=="number"&&firstOther.attributes==null){let firstLeft=firstOther.retain;for(;thisIter.peekType()==="insert"&&thisIter.peekLength()<=firstLeft;)firstLeft-=thisIter.peekLength(),ops.push(thisIter.next());firstOther.retain-firstLeft>0&&otherIter.next(firstOther.retain-firstLeft)}const delta=new Delta2(ops);for(;thisIter.hasNext()||otherIter.hasNext();)if(otherIter.peekType()==="insert")delta.push(otherIter.next());else if(thisIter.peekType()==="delete")delta.push(thisIter.next());else{const length=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length),otherOp=otherIter.next(length);if(otherOp.retain){const newOp={};if(typeof thisOp.retain=="number")newOp.retain=typeof otherOp.retain=="number"?length:otherOp.retain;else if(typeof otherOp.retain=="number")thisOp.retain==null?newOp.insert=thisOp.insert:newOp.retain=thisOp.retain;else{const action=thisOp.retain==null?"insert":"retain",[embedType,thisData,otherData]=getEmbedTypeAndData(thisOp[action],otherOp.retain),handler=Delta2.getHandler(embedType);newOp[action]={[embedType]:handler.compose(thisData,otherData,action==="retain")}}const attributes=AttributeMap_1.default.compose(thisOp.attributes,otherOp.attributes,typeof thisOp.retain=="number");if(attributes&&(newOp.attributes=attributes),delta.push(newOp),!otherIter.hasNext()&&isEqual2(delta.ops[delta.ops.length-1],newOp)){const rest=new Delta2(thisIter.rest());return delta.concat(rest).chop()}}else typeof otherOp.delete=="number"&&(typeof thisOp.retain=="number"||typeof thisOp.retain=="object"&&thisOp.retain!==null)&&delta.push(otherOp)}return delta.chop()}concat(other){const delta=new Delta2(this.ops.slice());return other.ops.length>0&&(delta.push(other.ops[0]),delta.ops=delta.ops.concat(other.ops.slice(1))),delta}diff(other,cursor){if(this.ops===other.ops)return new Delta2;const strings=[this,other].map(delta=>delta.map(op=>{if(op.insert!=null)return typeof op.insert=="string"?op.insert:NULL_CHARACTER;const prep=delta===other?"on":"with";throw new Error("diff() called "+prep+" non-document")}).join("")),retDelta=new Delta2,diffResult=diff2(strings[0],strings[1],cursor,!0),thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops);return diffResult.forEach(component=>{let length=component[1].length;for(;length>0;){let opLength=0;switch(component[0]){case diff2.INSERT:opLength=Math.min(otherIter.peekLength(),length),retDelta.push(otherIter.next(opLength));break;case diff2.DELETE:opLength=Math.min(length,thisIter.peekLength()),thisIter.next(opLength),retDelta.delete(opLength);break;case diff2.EQUAL:opLength=Math.min(thisIter.peekLength(),otherIter.peekLength(),length);const thisOp=thisIter.next(opLength),otherOp=otherIter.next(opLength);isEqual2(thisOp.insert,otherOp.insert)?retDelta.retain(opLength,AttributeMap_1.default.diff(thisOp.attributes,otherOp.attributes)):retDelta.push(otherOp).delete(opLength);break}length-=opLength}}),retDelta.chop()}eachLine(predicate,newline=`
`){const iter=new OpIterator_1.default(this.ops);let line=new Delta2,i2=0;for(;iter.hasNext();){if(iter.peekType()!=="insert")return;const thisOp=iter.peek(),start2=Op_12.default.length(thisOp)-iter.peekLength(),index2=typeof thisOp.insert=="string"?thisOp.insert.indexOf(newline,start2)-start2:-1;if(index2<0)line.push(iter.next());else if(index2>0)line.push(iter.next(index2));else{if(predicate(line,iter.next(1).attributes||{},i2)===!1)return;i2+=1,line=new Delta2}}line.length()>0&&predicate(line,{},i2)}invert(base){const inverted=new Delta2;return this.reduce((baseIndex,op)=>{if(op.insert)inverted.delete(Op_12.default.length(op));else{if(typeof op.retain=="number"&&op.attributes==null)return inverted.retain(op.retain),baseIndex+op.retain;if(op.delete||typeof op.retain=="number"){const length=op.delete||op.retain;return base.slice(baseIndex,baseIndex+length).forEach(baseOp=>{op.delete?inverted.push(baseOp):op.retain&&op.attributes&&inverted.retain(Op_12.default.length(baseOp),AttributeMap_1.default.invert(op.attributes,baseOp.attributes))}),baseIndex+length}else if(typeof op.retain=="object"&&op.retain!==null){const slice=base.slice(baseIndex,baseIndex+1),baseOp=new OpIterator_1.default(slice.ops).next(),[embedType,opData,baseOpData]=getEmbedTypeAndData(op.retain,baseOp.insert),handler=Delta2.getHandler(embedType);return inverted.retain({[embedType]:handler.invert(opData,baseOpData)},AttributeMap_1.default.invert(op.attributes,baseOp.attributes)),baseIndex+1}}return baseIndex},0),inverted.chop()}transform(arg,priority=!1){if(priority=!!priority,typeof arg=="number")return this.transformPosition(arg,priority);const other=arg,thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops),delta=new Delta2;for(;thisIter.hasNext()||otherIter.hasNext();)if(thisIter.peekType()==="insert"&&(priority||otherIter.peekType()!=="insert"))delta.retain(Op_12.default.length(thisIter.next()));else if(otherIter.peekType()==="insert")delta.push(otherIter.next());else{const length=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length),otherOp=otherIter.next(length);if(thisOp.delete)continue;if(otherOp.delete)delta.push(otherOp);else{const thisData=thisOp.retain,otherData=otherOp.retain;let transformedData=typeof otherData=="object"&&otherData!==null?otherData:length;if(typeof thisData=="object"&&thisData!==null&&typeof otherData=="object"&&otherData!==null){const embedType=Object.keys(thisData)[0];if(embedType===Object.keys(otherData)[0]){const handler=Delta2.getHandler(embedType);handler&&(transformedData={[embedType]:handler.transform(thisData[embedType],otherData[embedType],priority)})}}delta.retain(transformedData,AttributeMap_1.default.transform(thisOp.attributes,otherOp.attributes,priority))}}return delta.chop()}transformPosition(index2,priority=!1){priority=!!priority;const thisIter=new OpIterator_1.default(this.ops);let offset2=0;for(;thisIter.hasNext()&&offset2<=index2;){const length=thisIter.peekLength(),nextType=thisIter.peekType();if(thisIter.next(),nextType==="delete"){index2-=Math.min(length,index2-offset2);continue}else nextType==="insert"&&(offset2<index2||!priority)&&(index2+=length);offset2+=length}return index2}}Delta2.Op=Op_12.default,Delta2.OpIterator=OpIterator_1.default,Delta2.AttributeMap=AttributeMap_1.default,Delta2.handlers={},exports2.default=Delta2,module2.exports=Delta2,module2.exports.default=Delta2}(Delta$1,Delta$1.exports);var DeltaExports=Delta$1.exports;const Delta=getDefaultExportFromCjs(DeltaExports);class Break extends EmbedBlot$1{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Break.blotName="break",Break.tagName="BR";let Text$1=class extends TextBlot$1{};function escapeText(text){return text.replace(/[&<>"']/g,s2=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s2])}const _Inline=class _Inline extends InlineBlot$1{static compare(self2,other){const selfIndex=_Inline.order.indexOf(self2),otherIndex=_Inline.order.indexOf(other);return selfIndex>=0||otherIndex>=0?selfIndex-otherIndex:self2===other?0:self2<other?-1:1}formatAt(index2,length,name,value){if(_Inline.compare(this.statics.blotName,name)<0&&this.scroll.query(name,Scope.BLOT)){const blot=this.isolate(index2,length);value&&blot.wrap(name,value)}else super.formatAt(index2,length,name,value)}optimize(context){if(super.optimize(context),this.parent instanceof _Inline&&_Inline.compare(this.statics.blotName,this.parent.statics.blotName)>0){const parent2=this.parent.isolate(this.offset(),this.length());this.moveChildren(parent2),parent2.wrap(this)}}};__publicField(_Inline,"allowedChildren",[_Inline,Break,EmbedBlot$1,Text$1]),__publicField(_Inline,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Inline=_Inline;const NEWLINE_LENGTH=1;class Block extends BlockBlot$1{constructor(){super(...arguments);__publicField(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=blockDelta(this)),this.cache.delta}deleteAt(index2,length){super.deleteAt(index2,length),this.cache={}}formatAt(index2,length,name,value){length<=0||(this.scroll.query(name,Scope.BLOCK)?index2+length===this.length()&&this.format(name,value):super.formatAt(index2,Math.min(length,this.length()-index2-1),name,value),this.cache={})}insertAt(index2,value,def){if(def!=null){super.insertAt(index2,value,def),this.cache={};return}if(value.length===0)return;const lines=value.split(`
`),text=lines.shift();text.length>0&&(index2<this.length()-1||this.children.tail==null?super.insertAt(Math.min(index2,this.length()-1),text):this.children.tail.insertAt(this.children.tail.length(),text),this.cache={});let block=this;lines.reduce((lineIndex,line)=>(block=block.split(lineIndex,!0),block.insertAt(0,line),line.length),index2+text.length)}insertBefore(blot,ref){const{head}=this.children;super.insertBefore(blot,ref),head instanceof Break&&head.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+NEWLINE_LENGTH),this.cache.length}moveChildren(target,ref){super.moveChildren(target,ref),this.cache={}}optimize(context){super.optimize(context),this.cache={}}path(index2){return super.path(index2,!0)}removeChild(child){super.removeChild(child),this.cache={}}split(index2){let force=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(force&&(index2===0||index2>=this.length()-NEWLINE_LENGTH)){const clone2=this.clone();return index2===0?(this.parent.insertBefore(clone2,this),this):(this.parent.insertBefore(clone2,this.next),clone2)}const next=super.split(index2,force);return this.cache={},next}}Block.blotName="block",Block.tagName="P",Block.defaultChild=Break,Block.allowedChildren=[Break,Inline,EmbedBlot$1,Text$1];class BlockEmbed extends EmbedBlot$1{attach(){super.attach(),this.attributes=new AttributorStore$1(this.domNode)}delta(){return new Delta().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(name,value){const attribute=this.scroll.query(name,Scope.BLOCK_ATTRIBUTE);attribute!=null&&this.attributes.attribute(attribute,value)}formatAt(index2,length,name,value){this.format(name,value)}insertAt(index2,value,def){if(def!=null){super.insertAt(index2,value,def);return}const lines=value.split(`
`),text=lines.pop(),blocks=lines.map(line=>{const block=this.scroll.create(Block.blotName);return block.insertAt(0,line),block}),ref=this.split(index2);blocks.forEach(block=>{this.parent.insertBefore(block,ref)}),text&&this.parent.insertBefore(this.scroll.create("text",text),ref)}}BlockEmbed.scope=Scope.BLOCK_BLOT;function blockDelta(blot){let filter2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return blot.descendants(LeafBlot$1).reduce((delta,leaf)=>leaf.length()===0?delta:delta.insert(leaf.value(),bubbleFormats(leaf,{},filter2)),new Delta).insert(`
`,bubbleFormats(blot))}function bubbleFormats(blot){let formats=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},filter2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return blot==null||("formats"in blot&&typeof blot.formats=="function"&&(formats={...formats,...blot.formats()},filter2&&delete formats["code-token"]),blot.parent==null||blot.parent.statics.blotName==="scroll"||blot.parent.statics.scope!==blot.statics.scope)?formats:bubbleFormats(blot.parent,formats,filter2)}const _Cursor=class _Cursor extends EmbedBlot$1{static value(){}constructor(scroll,domNode,selection){super(scroll,domNode),this.selection=selection,this.textNode=document.createTextNode(_Cursor.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(name,value){if(this.savedLength!==0){super.format(name,value);return}let target=this,index2=0;for(;target!=null&&target.statics.scope!==Scope.BLOCK_BLOT;)index2+=target.offset(target.parent),target=target.parent;target!=null&&(this.savedLength=_Cursor.CONTENTS.length,target.optimize(),target.formatAt(index2,_Cursor.CONTENTS.length,name,value),this.savedLength=0)}index(node2,offset2){return node2===this.textNode?0:super.index(node2,offset2)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const range2=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const prevTextBlot=this.prev instanceof Text$1?this.prev:null,prevTextLength=prevTextBlot?prevTextBlot.length():0,nextTextBlot=this.next instanceof Text$1?this.next:null,nextText=nextTextBlot?nextTextBlot.text:"",{textNode}=this,newText=textNode.data.split(_Cursor.CONTENTS).join("");textNode.data=_Cursor.CONTENTS;let mergedTextBlot;if(prevTextBlot)mergedTextBlot=prevTextBlot,(newText||nextTextBlot)&&(prevTextBlot.insertAt(prevTextBlot.length(),newText+nextText),nextTextBlot&&nextTextBlot.remove());else if(nextTextBlot)mergedTextBlot=nextTextBlot,nextTextBlot.insertAt(0,newText);else{const newTextNode=document.createTextNode(newText);mergedTextBlot=this.scroll.create(newTextNode),this.parent.insertBefore(mergedTextBlot,this)}if(this.remove(),range2){const remapOffset=(node2,offset2)=>prevTextBlot&&node2===prevTextBlot.domNode?offset2:node2===textNode?prevTextLength+offset2-1:nextTextBlot&&node2===nextTextBlot.domNode?prevTextLength+newText.length+offset2:null,start2=remapOffset(range2.start.node,range2.start.offset),end2=remapOffset(range2.end.node,range2.end.offset);if(start2!==null&&end2!==null)return{startNode:mergedTextBlot.domNode,startOffset:start2,endNode:mergedTextBlot.domNode,endOffset:end2}}return null}update(mutations,context){if(mutations.some(mutation=>mutation.type==="characterData"&&mutation.target===this.textNode)){const range2=this.restore();range2&&(context.range=range2)}}optimize(context){super.optimize(context);let{parent:parent2}=this;for(;parent2;){if(parent2.domNode.tagName==="A"){this.savedLength=_Cursor.CONTENTS.length,parent2.isolate(this.offset(parent2),this.length()).unwrap(),this.savedLength=0;break}parent2=parent2.parent}}value(){return""}};__publicField(_Cursor,"blotName","cursor"),__publicField(_Cursor,"className","ql-cursor"),__publicField(_Cursor,"tagName","span"),__publicField(_Cursor,"CONTENTS","\uFEFF");let Cursor=_Cursor;var eventemitter3={exports:{}};(function(module2){var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(prefix=!1));function EE(fn2,context,once2){this.fn=fn2,this.context=context,this.once=once2||!1}function addListener(emitter,event,fn2,context,once2){if(typeof fn2!="function")throw new TypeError("The listener must be a function");var listener=new EE(fn2,context||emitter,once2),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){--emitter._eventsCount===0?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}EventEmitter2.prototype.eventNames=function(){var names=[],events2,name;if(this._eventsCount===0)return names;for(name in events2=this._events)has.call(events2,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events2)):names},EventEmitter2.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i2=0,l2=handlers.length,ee=new Array(l2);i2<l2;i2++)ee[i2]=handlers[i2].fn;return ee},EventEmitter2.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter2.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var listeners=this._events[evt],len=arguments.length,args,i2;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i2=1,args=new Array(len-1);i2<len;i2++)args[i2-1]=arguments[i2];listeners.fn.apply(listeners.context,args)}else{var length=listeners.length,j2;for(i2=0;i2<length;i2++)switch(listeners[i2].once&&this.removeListener(event,listeners[i2].fn,void 0,!0),len){case 1:listeners[i2].fn.call(listeners[i2].context);break;case 2:listeners[i2].fn.call(listeners[i2].context,a1);break;case 3:listeners[i2].fn.call(listeners[i2].context,a1,a2);break;case 4:listeners[i2].fn.call(listeners[i2].context,a1,a2,a3);break;default:if(!args)for(j2=1,args=new Array(len-1);j2<len;j2++)args[j2-1]=arguments[j2];listeners[i2].fn.apply(listeners[i2].context,args)}}return!0},EventEmitter2.prototype.on=function(event,fn2,context){return addListener(this,event,fn2,context,!1)},EventEmitter2.prototype.once=function(event,fn2,context){return addListener(this,event,fn2,context,!0)},EventEmitter2.prototype.removeListener=function(event,fn2,context,once2){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn2)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn===fn2&&(!once2||listeners.once)&&(!context||listeners.context===context)&&clearEvent(this,evt);else{for(var i2=0,events2=[],length=listeners.length;i2<length;i2++)(listeners[i2].fn!==fn2||once2&&!listeners[i2].once||context&&listeners[i2].context!==context)&&events2.push(listeners[i2]);events2.length?this._events[evt]=events2.length===1?events2[0]:events2:clearEvent(this,evt)}return this},EventEmitter2.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=prefix,EventEmitter2.EventEmitter=EventEmitter2,module2.exports=EventEmitter2})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),instances=new WeakMap,levels=["error","warn","log","info"];let level="warn";function debug$b(method){if(level&&levels.indexOf(method)<=levels.indexOf(level)){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];console[method](...args)}}function namespace(ns){return levels.reduce((logger,method)=>(logger[method]=debug$b.bind(console,method,ns),logger),{})}namespace.level=newLevel=>{level=newLevel},debug$b.level=namespace.level;const debug$a=namespace("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(eventName=>{document.addEventListener(eventName,function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];Array.from(document.querySelectorAll(".ql-container")).forEach(node2=>{const quill=instances.get(node2);quill&&quill.emitter&&quill.emitter.handleDOM(...args)})})});class Emitter extends EventEmitter{constructor(){super(),this.domListeners={},this.on("error",debug$a.error)}emit(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return debug$a.log.call(debug$a,...args),super.emit(...args)}handleDOM(event){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];(this.domListeners[event.type]||[]).forEach(_ref=>{let{node:node2,handler}=_ref;(event.target===node2||node2.contains(event.target))&&handler(event,...args)})}listenDOM(eventName,node2,handler){this.domListeners[eventName]||(this.domListeners[eventName]=[]),this.domListeners[eventName].push({node:node2,handler})}}__publicField(Emitter,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),__publicField(Emitter,"sources",{API:"api",SILENT:"silent",USER:"user"});const debug$9=namespace("quill:selection");class Range{constructor(index2){let length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=index2,this.length=length}}let Selection$1=class{constructor(scroll,emitter){this.emitter=emitter,this.scroll=scroll,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Range(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Emitter.sources.USER),1)}),this.emitter.on(Emitter.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const native=this.getNativeRange();native!=null&&native.start.node!==this.cursor.textNode&&this.emitter.once(Emitter.events.SCROLL_UPDATE,(source,mutations)=>{try{this.root.contains(native.start.node)&&this.root.contains(native.end.node)&&this.setNativeRange(native.start.node,native.start.offset,native.end.node,native.end.offset);const triggeredByTyping=mutations.some(mutation=>mutation.type==="characterData"||mutation.type==="childList"||mutation.type==="attributes"&&mutation.target===this.root);this.update(triggeredByTyping?Emitter.sources.SILENT:source)}catch{}})}),this.emitter.on(Emitter.events.SCROLL_OPTIMIZE,(mutations,context)=>{if(context.range){const{startNode,startOffset,endNode,endOffset}=context.range;this.setNativeRange(startNode,startOffset,endNode,endOffset),this.update(Emitter.sources.SILENT)}}),this.update(Emitter.sources.SILENT)}handleComposition(){this.emitter.on(Emitter.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Emitter.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const range2=this.cursor.restore();if(!range2)return;setTimeout(()=>{this.setNativeRange(range2.startNode,range2.startOffset,range2.endNode,range2.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Emitter.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(format2,value){this.scroll.update();const nativeRange=this.getNativeRange();if(!(nativeRange==null||!nativeRange.native.collapsed||this.scroll.query(format2,Scope.BLOCK))){if(nativeRange.start.node!==this.cursor.textNode){const blot=this.scroll.find(nativeRange.start.node,!1);if(blot==null)return;if(blot instanceof LeafBlot$1){const after=blot.split(nativeRange.start.offset);blot.parent.insertBefore(this.cursor,after)}else blot.insertBefore(this.cursor,nativeRange.start.node);this.cursor.attach()}this.cursor.format(format2,value),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(index2){let length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const scrollLength=this.scroll.length();index2=Math.min(index2,scrollLength-1),length=Math.min(index2+length,scrollLength-1)-index2;let node2,[leaf,offset2]=this.scroll.leaf(index2);if(leaf==null)return null;if(length>0&&offset2===leaf.length()){const[next]=this.scroll.leaf(index2+1);if(next){const[line]=this.scroll.line(index2),[nextLine]=this.scroll.line(index2+1);line===nextLine&&(leaf=next,offset2=0)}}[node2,offset2]=leaf.position(offset2,!0);const range2=document.createRange();if(length>0)return range2.setStart(node2,offset2),[leaf,offset2]=this.scroll.leaf(index2+length),leaf==null?null:([node2,offset2]=leaf.position(offset2,!0),range2.setEnd(node2,offset2),range2.getBoundingClientRect());let side="left",rect;if(node2 instanceof Text){if(!node2.data.length)return null;offset2<node2.data.length?(range2.setStart(node2,offset2),range2.setEnd(node2,offset2+1)):(range2.setStart(node2,offset2-1),range2.setEnd(node2,offset2),side="right"),rect=range2.getBoundingClientRect()}else{if(!(leaf.domNode instanceof Element))return null;rect=leaf.domNode.getBoundingClientRect(),offset2>0&&(side="right")}return{bottom:rect.top+rect.height,height:rect.height,left:rect[side],right:rect[side],top:rect.top,width:0}}getNativeRange(){const selection=document.getSelection();if(selection==null||selection.rangeCount<=0)return null;const nativeRange=selection.getRangeAt(0);if(nativeRange==null)return null;const range2=this.normalizeNative(nativeRange);return debug$9.info("getNativeRange",range2),range2}getRange(){const root2=this.scroll.domNode;if("isConnected"in root2&&!root2.isConnected)return[null,null];const normalized=this.getNativeRange();return normalized==null?[null,null]:[this.normalizedToRange(normalized),normalized]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&contains(this.root,document.activeElement)}normalizedToRange(range2){const positions=[[range2.start.node,range2.start.offset]];range2.native.collapsed||positions.push([range2.end.node,range2.end.offset]);const indexes=positions.map(position=>{const[node2,offset2]=position,blot=this.scroll.find(node2,!0),index2=blot.offset(this.scroll);return offset2===0?index2:blot instanceof LeafBlot$1?index2+blot.index(node2,offset2):index2+blot.length()}),end2=Math.min(Math.max(...indexes),this.scroll.length()-1),start2=Math.min(end2,...indexes);return new Range(start2,end2-start2)}normalizeNative(nativeRange){if(!contains(this.root,nativeRange.startContainer)||!nativeRange.collapsed&&!contains(this.root,nativeRange.endContainer))return null;const range2={start:{node:nativeRange.startContainer,offset:nativeRange.startOffset},end:{node:nativeRange.endContainer,offset:nativeRange.endOffset},native:nativeRange};return[range2.start,range2.end].forEach(position=>{let{node:node2,offset:offset2}=position;for(;!(node2 instanceof Text)&&node2.childNodes.length>0;)if(node2.childNodes.length>offset2)node2=node2.childNodes[offset2],offset2=0;else if(node2.childNodes.length===offset2)node2=node2.lastChild,node2 instanceof Text?offset2=node2.data.length:node2.childNodes.length>0?offset2=node2.childNodes.length:offset2=node2.childNodes.length+1;else break;position.node=node2,position.offset=offset2}),range2}rangeToNative(range2){const scrollLength=this.scroll.length(),getPosition=(index2,inclusive)=>{index2=Math.min(scrollLength-1,index2);const[leaf,leafOffset]=this.scroll.leaf(index2);return leaf?leaf.position(leafOffset,inclusive):[null,-1]};return[...getPosition(range2.index,!1),...getPosition(range2.index+range2.length,!0)]}setNativeRange(startNode,startOffset){let endNode=arguments.length>2&&arguments[2]!==void 0?arguments[2]:startNode,endOffset=arguments.length>3&&arguments[3]!==void 0?arguments[3]:startOffset,force=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(debug$9.info("setNativeRange",startNode,startOffset,endNode,endOffset),startNode!=null&&(this.root.parentNode==null||startNode.parentNode==null||endNode.parentNode==null))return;const selection=document.getSelection();if(selection!=null)if(startNode!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native}=this.getNativeRange()||{};if(native==null||force||startNode!==native.startContainer||startOffset!==native.startOffset||endNode!==native.endContainer||endOffset!==native.endOffset){startNode instanceof Element&&startNode.tagName==="BR"&&(startOffset=Array.from(startNode.parentNode.childNodes).indexOf(startNode),startNode=startNode.parentNode),endNode instanceof Element&&endNode.tagName==="BR"&&(endOffset=Array.from(endNode.parentNode.childNodes).indexOf(endNode),endNode=endNode.parentNode);const range2=document.createRange();range2.setStart(startNode,startOffset),range2.setEnd(endNode,endOffset),selection.removeAllRanges(),selection.addRange(range2)}}else selection.removeAllRanges(),this.root.blur()}setRange(range2){let force=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Emitter.sources.API;if(typeof force=="string"&&(source=force,force=!1),debug$9.info("setRange",range2),range2!=null){const args=this.rangeToNative(range2);this.setNativeRange(...args,force)}else this.setNativeRange(null);this.update(source)}update(){let source=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Emitter.sources.USER;const oldRange=this.lastRange,[lastRange,nativeRange]=this.getRange();if(this.lastRange=lastRange,this.lastNative=nativeRange,this.lastRange!=null&&(this.savedRange=this.lastRange),!isEqual$2(oldRange,this.lastRange)){if(!this.composing&&nativeRange!=null&&nativeRange.native.collapsed&&nativeRange.start.node!==this.cursor.textNode){const range2=this.cursor.restore();range2&&this.setNativeRange(range2.startNode,range2.startOffset,range2.endNode,range2.endOffset)}const args=[Emitter.events.SELECTION_CHANGE,cloneDeep$1(this.lastRange),cloneDeep$1(oldRange),source];this.emitter.emit(Emitter.events.EDITOR_CHANGE,...args),source!==Emitter.sources.SILENT&&this.emitter.emit(...args)}}};function contains(parent2,descendant){try{descendant.parentNode}catch{return!1}return parent2.contains(descendant)}const ASCII=/^[ -~]*$/;class Editor{constructor(scroll){this.scroll=scroll,this.delta=this.getDelta()}applyDelta(delta){this.scroll.update();let scrollLength=this.scroll.length();this.scroll.batchStart();const normalizedDelta=normalizeDelta(delta),deleteDelta=new Delta;return splitOpLines(normalizedDelta.ops.slice()).reduce((index2,op)=>{const length=DeltaExports.Op.length(op);let attributes=op.attributes||{},isImplicitNewlinePrepended=!1,isImplicitNewlineAppended=!1;if(op.insert!=null){if(deleteDelta.retain(length),typeof op.insert=="string"){const text=op.insert;isImplicitNewlineAppended=!text.endsWith(`
`)&&(scrollLength<=index2||!!this.scroll.descendant(BlockEmbed,index2)[0]),this.scroll.insertAt(index2,text);const[line,offset2]=this.scroll.line(index2);let formats=merge({},bubbleFormats(line));if(line instanceof Block){const[leaf]=line.descendant(LeafBlot$1,offset2);leaf&&(formats=merge(formats,bubbleFormats(leaf)))}attributes=DeltaExports.AttributeMap.diff(formats,attributes)||{}}else if(typeof op.insert=="object"){const key=Object.keys(op.insert)[0];if(key==null)return index2;const isInlineEmbed=this.scroll.query(key,Scope.INLINE)!=null;if(isInlineEmbed)(scrollLength<=index2||this.scroll.descendant(BlockEmbed,index2)[0])&&(isImplicitNewlineAppended=!0);else if(index2>0){const[leaf,offset2]=this.scroll.descendant(LeafBlot$1,index2-1);leaf instanceof Text$1?leaf.value()[offset2]!==`
`&&(isImplicitNewlinePrepended=!0):leaf instanceof EmbedBlot$1&&leaf.statics.scope===Scope.INLINE_BLOT&&(isImplicitNewlinePrepended=!0)}if(this.scroll.insertAt(index2,key,op.insert[key]),isInlineEmbed){const[leaf]=this.scroll.descendant(LeafBlot$1,index2);if(leaf){const formats=merge({},bubbleFormats(leaf));attributes=DeltaExports.AttributeMap.diff(formats,attributes)||{}}}}scrollLength+=length}else if(deleteDelta.push(op),op.retain!==null&&typeof op.retain=="object"){const key=Object.keys(op.retain)[0];if(key==null)return index2;this.scroll.updateEmbedAt(index2,key,op.retain[key])}Object.keys(attributes).forEach(name=>{this.scroll.formatAt(index2,length,name,attributes[name])});const prependedLength=isImplicitNewlinePrepended?1:0,addedLength=isImplicitNewlineAppended?1:0;return scrollLength+=prependedLength+addedLength,deleteDelta.retain(prependedLength),deleteDelta.delete(addedLength),index2+length+prependedLength+addedLength},0),deleteDelta.reduce((index2,op)=>typeof op.delete=="number"?(this.scroll.deleteAt(index2,op.delete),index2):index2+DeltaExports.Op.length(op),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(normalizedDelta)}deleteText(index2,length){return this.scroll.deleteAt(index2,length),this.update(new Delta().retain(index2).delete(length))}formatLine(index2,length){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(formats).forEach(format2=>{this.scroll.lines(index2,Math.max(length,1)).forEach(line=>{line.format(format2,formats[format2])})}),this.scroll.optimize();const delta=new Delta().retain(index2).retain(length,cloneDeep$1(formats));return this.update(delta)}formatText(index2,length){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(formats).forEach(format2=>{this.scroll.formatAt(index2,length,format2,formats[format2])});const delta=new Delta().retain(index2).retain(length,cloneDeep$1(formats));return this.update(delta)}getContents(index2,length){return this.delta.slice(index2,index2+length)}getDelta(){return this.scroll.lines().reduce((delta,line)=>delta.concat(line.delta()),new Delta)}getFormat(index2){let length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,lines=[],leaves=[];length===0?this.scroll.path(index2).forEach(path=>{const[blot]=path;blot instanceof Block?lines.push(blot):blot instanceof LeafBlot$1&&leaves.push(blot)}):(lines=this.scroll.lines(index2,length),leaves=this.scroll.descendants(LeafBlot$1,index2,length));const[lineFormats,leafFormats]=[lines,leaves].map(blots=>{const blot=blots.shift();if(blot==null)return{};let formats=bubbleFormats(blot);for(;Object.keys(formats).length>0;){const blot2=blots.shift();if(blot2==null)return formats;formats=combineFormats(bubbleFormats(blot2),formats)}return formats});return{...lineFormats,...leafFormats}}getHTML(index2,length){const[line,lineOffset]=this.scroll.line(index2);if(line){const lineLength=line.length();return line.length()>=lineOffset+length&&!(lineOffset===0&&length===lineLength)?convertHTML(line,lineOffset,length,!0):convertHTML(this.scroll,index2,length,!0)}return""}getText(index2,length){return this.getContents(index2,length).filter(op=>typeof op.insert=="string").map(op=>op.insert).join("")}insertContents(index2,contents){const normalizedDelta=normalizeDelta(contents),change=new Delta().retain(index2).concat(normalizedDelta);return this.scroll.insertContents(index2,normalizedDelta),this.update(change)}insertEmbed(index2,embed,value){return this.scroll.insertAt(index2,embed,value),this.update(new Delta().retain(index2).insert({[embed]:value}))}insertText(index2,text){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return text=text.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(index2,text),Object.keys(formats).forEach(format2=>{this.scroll.formatAt(index2,text.length,format2,formats[format2])}),this.update(new Delta().retain(index2).insert(text,cloneDeep$1(formats)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const blot=this.scroll.children.head;if((blot==null?void 0:blot.statics.blotName)!==Block.blotName)return!1;const block=blot;return block.children.length>1?!1:block.children.head instanceof Break}removeFormat(index2,length){const text=this.getText(index2,length),[line,offset2]=this.scroll.line(index2+length);let suffixLength=0,suffix=new Delta;line!=null&&(suffixLength=line.length()-offset2,suffix=line.delta().slice(offset2,offset2+suffixLength-1).insert(`
`));const diff2=this.getContents(index2,length+suffixLength).diff(new Delta().insert(text).concat(suffix)),delta=new Delta().retain(index2).concat(diff2);return this.applyDelta(delta)}update(change){let mutations=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],selectionInfo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const oldDelta=this.delta;if(mutations.length===1&&mutations[0].type==="characterData"&&mutations[0].target.data.match(ASCII)&&this.scroll.find(mutations[0].target)){const textBlot=this.scroll.find(mutations[0].target),formats=bubbleFormats(textBlot),index2=textBlot.offset(this.scroll),oldValue=mutations[0].oldValue.replace(Cursor.CONTENTS,""),oldText=new Delta().insert(oldValue),newText=new Delta().insert(textBlot.value()),relativeSelectionInfo=selectionInfo&&{oldRange:shiftRange$1(selectionInfo.oldRange,-index2),newRange:shiftRange$1(selectionInfo.newRange,-index2)};change=new Delta().retain(index2).concat(oldText.diff(newText,relativeSelectionInfo)).reduce((delta,op)=>op.insert?delta.insert(op.insert,formats):delta.push(op),new Delta),this.delta=oldDelta.compose(change)}else this.delta=this.getDelta(),(!change||!isEqual$2(oldDelta.compose(change),this.delta))&&(change=oldDelta.diff(this.delta,selectionInfo));return change}}function convertListHTML(items,lastIndent,types){if(items.length===0){const[endTag2]=getListType(types.pop());return lastIndent<=0?`</li></${endTag2}>`:`</li></${endTag2}>${convertListHTML([],lastIndent-1,types)}`}const[{child,offset:offset2,length,indent,type},...rest]=items,[tag,attribute]=getListType(type);if(indent>lastIndent)return types.push(type),indent===lastIndent+1?`<${tag}><li${attribute}>${convertHTML(child,offset2,length)}${convertListHTML(rest,indent,types)}`:`<${tag}><li>${convertListHTML(items,lastIndent+1,types)}`;const previousType=types[types.length-1];if(indent===lastIndent&&type===previousType)return`</li><li${attribute}>${convertHTML(child,offset2,length)}${convertListHTML(rest,indent,types)}`;const[endTag]=getListType(types.pop());return`</li></${endTag}>${convertListHTML(items,lastIndent-1,types)}`}function convertHTML(blot,index2,length){let isRoot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in blot&&typeof blot.html=="function")return blot.html(index2,length);if(blot instanceof Text$1)return escapeText(blot.value().slice(index2,index2+length));if(blot instanceof ParentBlot$1){if(blot.statics.blotName==="list-container"){const items=[];return blot.children.forEachAt(index2,length,(child,offset2,childLength)=>{const formats="formats"in child&&typeof child.formats=="function"?child.formats():{};items.push({child,offset:offset2,length:childLength,indent:formats.indent||0,type:formats.list})}),convertListHTML(items,-1,[])}const parts=[];if(blot.children.forEachAt(index2,length,(child,offset2,childLength)=>{parts.push(convertHTML(child,offset2,childLength))}),isRoot||blot.statics.blotName==="list")return parts.join("");const{outerHTML,innerHTML}=blot.domNode,[start2,end2]=outerHTML.split(`>${innerHTML}<`);return start2==="<table"?`<table style="border: 1px solid #000;">${parts.join("")}<${end2}`:`${start2}>${parts.join("")}<${end2}`}return blot.domNode instanceof Element?blot.domNode.outerHTML:""}function combineFormats(formats,combined){return Object.keys(combined).reduce((merged,name)=>{if(formats[name]==null)return merged;const combinedValue=combined[name];return combinedValue===formats[name]?merged[name]=combinedValue:Array.isArray(combinedValue)?combinedValue.indexOf(formats[name])<0?merged[name]=combinedValue.concat([formats[name]]):merged[name]=combinedValue:merged[name]=[combinedValue,formats[name]],merged},{})}function getListType(type){const tag=type==="ordered"?"ol":"ul";switch(type){case"checked":return[tag,' data-list="checked"'];case"unchecked":return[tag,' data-list="unchecked"'];default:return[tag,""]}}function normalizeDelta(delta){return delta.reduce((normalizedDelta,op)=>{if(typeof op.insert=="string"){const text=op.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return normalizedDelta.insert(text,op.attributes)}return normalizedDelta.push(op)},new Delta)}function shiftRange$1(_ref,amount){let{index:index2,length}=_ref;return new Range(index2+amount,length)}function splitOpLines(ops){const split2=[];return ops.forEach(op=>{typeof op.insert=="string"?op.insert.split(`
`).forEach((line,index2)=>{index2&&split2.push({insert:`
`,attributes:op.attributes}),line&&split2.push({insert:line,attributes:op.attributes})}):split2.push(op)}),split2}let Module$2=(_c=class{constructor(quill){let options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=quill,this.options=options}},__publicField(_c,"DEFAULTS",{}),_c);const GUARD_TEXT="\uFEFF";class Embed extends EmbedBlot$1{constructor(scroll,node2){super(scroll,node2),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(childNode=>{this.contentNode.appendChild(childNode)}),this.leftGuard=document.createTextNode(GUARD_TEXT),this.rightGuard=document.createTextNode(GUARD_TEXT),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(node2,offset2){return node2===this.leftGuard?0:node2===this.rightGuard?1:super.index(node2,offset2)}restore(node2){let range2=null,textNode;const text=node2.data.split(GUARD_TEXT).join("");if(node2===this.leftGuard)if(this.prev instanceof Text$1){const prevLength=this.prev.length();this.prev.insertAt(prevLength,text),range2={startNode:this.prev.domNode,startOffset:prevLength+text.length}}else textNode=document.createTextNode(text),this.parent.insertBefore(this.scroll.create(textNode),this),range2={startNode:textNode,startOffset:text.length};else node2===this.rightGuard&&(this.next instanceof Text$1?(this.next.insertAt(0,text),range2={startNode:this.next.domNode,startOffset:text.length}):(textNode=document.createTextNode(text),this.parent.insertBefore(this.scroll.create(textNode),this.next),range2={startNode:textNode,startOffset:text.length}));return node2.data=GUARD_TEXT,range2}update(mutations,context){mutations.forEach(mutation=>{if(mutation.type==="characterData"&&(mutation.target===this.leftGuard||mutation.target===this.rightGuard)){const range2=this.restore(mutation.target);range2&&(context.range=range2)}})}}class Composition{constructor(scroll,emitter){__publicField(this,"isComposing",!1);this.scroll=scroll,this.emitter=emitter,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",event=>{this.isComposing||this.handleCompositionStart(event)}),this.scroll.domNode.addEventListener("compositionend",event=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(event)})})}handleCompositionStart(event){const blot=event.target instanceof Node?this.scroll.find(event.target,!0):null;blot&&!(blot instanceof Embed)&&(this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_START,event),this.scroll.batchStart(),this.emitter.emit(Emitter.events.COMPOSITION_START,event),this.isComposing=!0)}handleCompositionEnd(event){this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_END,event),this.scroll.batchEnd(),this.emitter.emit(Emitter.events.COMPOSITION_END,event),this.isComposing=!1}}const _Theme=class _Theme{constructor(quill,options){__publicField(this,"modules",{});this.quill=quill,this.options=options}init(){Object.keys(this.options.modules).forEach(name=>{this.modules[name]==null&&this.addModule(name)})}addModule(name){const ModuleClass=this.quill.constructor.import(`modules/${name}`);return this.modules[name]=new ModuleClass(this.quill,this.options.modules[name]||{}),this.modules[name]}};__publicField(_Theme,"DEFAULTS",{modules:{}}),__publicField(_Theme,"themes",{default:_Theme});let Theme=_Theme;const getParentElement=element2=>element2.parentElement||element2.getRootNode().host||null,getElementRect=element2=>{const rect=element2.getBoundingClientRect(),scaleX="offsetWidth"in element2&&Math.abs(rect.width)/element2.offsetWidth||1,scaleY="offsetHeight"in element2&&Math.abs(rect.height)/element2.offsetHeight||1;return{top:rect.top,right:rect.left+element2.clientWidth*scaleX,bottom:rect.top+element2.clientHeight*scaleY,left:rect.left}},paddingValueToInt=value=>{const number2=parseInt(value,10);return Number.isNaN(number2)?0:number2},getScrollDistance=(targetStart,targetEnd,scrollStart,scrollEnd,scrollPaddingStart,scrollPaddingEnd)=>targetStart<scrollStart&&targetEnd>scrollEnd?0:targetStart<scrollStart?-(scrollStart-targetStart+scrollPaddingStart):targetEnd>scrollEnd?targetEnd-targetStart>scrollEnd-scrollStart?targetStart+scrollPaddingStart-scrollStart:targetEnd-scrollEnd+scrollPaddingEnd:0,scrollRectIntoView=(root2,targetRect)=>{var _a2,_b2,_c2;const document2=root2.ownerDocument;let rect=targetRect,current=root2;for(;current;){const isDocumentBody=current===document2.body,bounding=isDocumentBody?{top:0,right:((_a2=window.visualViewport)==null?void 0:_a2.width)??document2.documentElement.clientWidth,bottom:((_b2=window.visualViewport)==null?void 0:_b2.height)??document2.documentElement.clientHeight,left:0}:getElementRect(current),style=getComputedStyle(current),scrollDistanceX=getScrollDistance(rect.left,rect.right,bounding.left,bounding.right,paddingValueToInt(style.scrollPaddingLeft),paddingValueToInt(style.scrollPaddingRight)),scrollDistanceY=getScrollDistance(rect.top,rect.bottom,bounding.top,bounding.bottom,paddingValueToInt(style.scrollPaddingTop),paddingValueToInt(style.scrollPaddingBottom));if(scrollDistanceX||scrollDistanceY)if(isDocumentBody)(_c2=document2.defaultView)==null||_c2.scrollBy(scrollDistanceX,scrollDistanceY);else{const{scrollLeft,scrollTop}=current;scrollDistanceY&&(current.scrollTop+=scrollDistanceY),scrollDistanceX&&(current.scrollLeft+=scrollDistanceX);const scrolledLeft=current.scrollLeft-scrollLeft,scrolledTop=current.scrollTop-scrollTop;rect={left:rect.left-scrolledLeft,top:rect.top-scrolledTop,right:rect.right-scrolledLeft,bottom:rect.bottom-scrolledTop}}current=isDocumentBody||style.position==="fixed"?null:getParentElement(current)}},MAX_REGISTER_ITERATIONS=100,CORE_FORMATS=["block","break","cursor","inline","scroll","text"],createRegistryWithFormats=(formats,sourceRegistry,debug2)=>{const registry=new Registry;return CORE_FORMATS.forEach(name=>{const coreBlot=sourceRegistry.query(name);coreBlot&&registry.register(coreBlot)}),formats.forEach(name=>{let format2=sourceRegistry.query(name);format2||debug2.error(`Cannot register "${name}" specified in "formats" config. Are you sure it was registered?`);let iterations=0;for(;format2;)if(registry.register(format2),format2="blotName"in format2?format2.requiredContainer??null:null,iterations+=1,iterations>MAX_REGISTER_ITERATIONS){debug2.error(`Cycle detected in registering blot requiredContainer: "${name}"`);break}}),registry},debug$8=namespace("quill"),globalRegistry=new Registry;ParentBlot$1.uiClass="ql-ui";const _Quill=class _Quill{static debug(limit){limit===!0&&(limit="log"),namespace.level(limit)}static find(node2){let bubble=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return instances.get(node2)||globalRegistry.find(node2,bubble)}static import(name){return this.imports[name]==null&&debug$8.error(`Cannot import ${name}. Are you sure it was registered?`),this.imports[name]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const target=arguments.length<=0?void 0:arguments[0],overwrite=!!(!(arguments.length<=1)&&arguments[1]),name="attrName"in target?target.attrName:target.blotName;typeof name=="string"?this.register(`formats/${name}`,target,overwrite):Object.keys(target).forEach(key=>{this.register(key,target[key],overwrite)})}else{const path=arguments.length<=0?void 0:arguments[0],target=arguments.length<=1?void 0:arguments[1],overwrite=!!(!(arguments.length<=2)&&arguments[2]);this.imports[path]!=null&&!overwrite&&debug$8.warn(`Overwriting ${path} with`,target),this.imports[path]=target,(path.startsWith("blots/")||path.startsWith("formats/"))&&target&&typeof target!="boolean"&&target.blotName!=="abstract"&&globalRegistry.register(target),typeof target.register=="function"&&target.register(globalRegistry)}}constructor(container){let options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=expandConfig(container,options),this.container=this.options.container,this.container==null){debug$8.error("Invalid Quill container",container);return}this.options.debug&&_Quill.debug(this.options.debug);const html=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",instances.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Emitter;const scrollBlotName=ScrollBlot$1.blotName,ScrollBlot2=this.options.registry.query(scrollBlotName);if(!ScrollBlot2||!("blotName"in ScrollBlot2))throw new Error(`Cannot initialize Quill without "${scrollBlotName}" blot`);if(this.scroll=new ScrollBlot2(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Editor(this.scroll),this.selection=new Selection$1(this.scroll,this.emitter),this.composition=new Composition(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Emitter.events.EDITOR_CHANGE,type=>{type===Emitter.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Emitter.events.SCROLL_UPDATE,(source,mutations)=>{const oldRange=this.selection.lastRange,[newRange]=this.selection.getRange(),selectionInfo=oldRange&&newRange?{oldRange,newRange}:void 0;modify.call(this,()=>this.editor.update(null,mutations,selectionInfo),source)}),this.emitter.on(Emitter.events.SCROLL_EMBED_UPDATE,(blot,delta)=>{const oldRange=this.selection.lastRange,[newRange]=this.selection.getRange(),selectionInfo=oldRange&&newRange?{oldRange,newRange}:void 0;modify.call(this,()=>{const change=new Delta().retain(blot.offset(this)).retain({[blot.statics.blotName]:delta});return this.editor.update(change,[],selectionInfo)},_Quill.sources.USER)}),html){const contents=this.clipboard.convert({html:`${html}<p><br></p>`,text:`
`});this.setContents(contents)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(container){let refNode=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof container=="string"){const className=container;container=document.createElement("div"),container.classList.add(className)}return this.container.insertBefore(container,refNode),container}blur(){this.selection.setRange(null)}deleteText(index2,length,source){return[index2,length,,source]=overload(index2,length,source),modify.call(this,()=>this.editor.deleteText(index2,length),source,index2,-1*length)}disable(){this.enable(!1)}editReadOnly(modifier){this.allowReadOnlyEdits=!0;const value=modifier();return this.allowReadOnlyEdits=!1,value}enable(){let enabled=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(enabled),this.container.classList.toggle("ql-disabled",!enabled)}focus(){let options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),options.preventScroll||this.scrollSelectionIntoView()}format(name,value){let source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Emitter.sources.API;return modify.call(this,()=>{const range2=this.getSelection(!0);let change=new Delta;if(range2==null)return change;if(this.scroll.query(name,Scope.BLOCK))change=this.editor.formatLine(range2.index,range2.length,{[name]:value});else{if(range2.length===0)return this.selection.format(name,value),change;change=this.editor.formatText(range2.index,range2.length,{[name]:value})}return this.setSelection(range2,Emitter.sources.SILENT),change},source)}formatLine(index2,length,name,value,source){let formats;return[index2,length,formats,source]=overload(index2,length,name,value,source),modify.call(this,()=>this.editor.formatLine(index2,length,formats),source,index2,0)}formatText(index2,length,name,value,source){let formats;return[index2,length,formats,source]=overload(index2,length,name,value,source),modify.call(this,()=>this.editor.formatText(index2,length,formats),source,index2,0)}getBounds(index2){let length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,bounds=null;if(typeof index2=="number"?bounds=this.selection.getBounds(index2,length):bounds=this.selection.getBounds(index2.index,index2.length),!bounds)return null;const containerBounds=this.container.getBoundingClientRect();return{bottom:bounds.bottom-containerBounds.top,height:bounds.height,left:bounds.left-containerBounds.left,right:bounds.right-containerBounds.left,top:bounds.top-containerBounds.top,width:bounds.width}}getContents(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-index2;return[index2,length]=overload(index2,length),this.editor.getContents(index2,length)}getFormat(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof index2=="number"?this.editor.getFormat(index2,length):this.editor.getFormat(index2.index,index2.length)}getIndex(blot){return blot.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(index2){return this.scroll.leaf(index2)}getLine(index2){return this.scroll.line(index2)}getLines(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof index2!="number"?this.scroll.lines(index2.index,index2.length):this.scroll.lines(index2,length)}getModule(name){return this.theme.modules[name]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length=arguments.length>1?arguments[1]:void 0;return typeof index2=="number"&&(length=length??this.getLength()-index2),[index2,length]=overload(index2,length),this.editor.getHTML(index2,length)}getText(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length=arguments.length>1?arguments[1]:void 0;return typeof index2=="number"&&(length=length??this.getLength()-index2),[index2,length]=overload(index2,length),this.editor.getText(index2,length)}hasFocus(){return this.selection.hasFocus()}insertEmbed(index2,embed,value){let source=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_Quill.sources.API;return modify.call(this,()=>this.editor.insertEmbed(index2,embed,value),source,index2)}insertText(index2,text,name,value,source){let formats;return[index2,,formats,source]=overload(index2,0,name,value,source),modify.call(this,()=>this.editor.insertText(index2,text,formats),source,index2,text.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(index2,length,source){return[index2,length,,source]=overload(index2,length,source),modify.call(this,()=>this.editor.removeFormat(index2,length),source,index2)}scrollRectIntoView(rect){scrollRectIntoView(this.root,rect)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const range2=this.selection.lastRange,bounds=range2&&this.selection.getBounds(range2.index,range2.length);bounds&&this.scrollRectIntoView(bounds)}setContents(delta){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Emitter.sources.API;return modify.call(this,()=>{delta=new Delta(delta);const length=this.getLength(),delete1=this.editor.deleteText(0,length),applied=this.editor.insertContents(0,delta),delete2=this.editor.deleteText(this.getLength()-1,1);return delete1.compose(applied).compose(delete2)},source)}setSelection(index2,length,source){index2==null?this.selection.setRange(null,length||_Quill.sources.API):([index2,length,,source]=overload(index2,length,source),this.selection.setRange(new Range(Math.max(0,index2),length),source),source!==Emitter.sources.SILENT&&this.scrollSelectionIntoView())}setText(text){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Emitter.sources.API;const delta=new Delta().insert(text);return this.setContents(delta,source)}update(){let source=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Emitter.sources.USER;const change=this.scroll.update(source);return this.selection.update(source),change}updateContents(delta){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Emitter.sources.API;return modify.call(this,()=>(delta=new Delta(delta),this.editor.applyDelta(delta)),source,!0)}};__publicField(_Quill,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:globalRegistry,theme:"default"}),__publicField(_Quill,"events",Emitter.events),__publicField(_Quill,"sources",Emitter.sources),__publicField(_Quill,"version","2.0.2"),__publicField(_Quill,"imports",{delta:Delta,parchment:Parchment,"core/module":Module$2,"core/theme":Theme});let Quill=_Quill;function resolveSelector(selector){return typeof selector=="string"?document.querySelector(selector):selector}function expandModuleConfig(config2){return Object.entries(config2??{}).reduce((expanded,_ref)=>{let[key,value]=_ref;return{...expanded,[key]:value===!0?{}:value}},{})}function omitUndefinedValuesFromOptions(obj){return Object.fromEntries(Object.entries(obj).filter(entry=>entry[1]!==void 0))}function expandConfig(containerOrSelector,options){const container=resolveSelector(containerOrSelector);if(!container)throw new Error("Invalid Quill container");const theme=!options.theme||options.theme===Quill.DEFAULTS.theme?Theme:Quill.import(`themes/${options.theme}`);if(!theme)throw new Error(`Invalid theme ${options.theme}. Did you register it?`);const{modules:quillModuleDefaults,...quillDefaults}=Quill.DEFAULTS,{modules:themeModuleDefaults,...themeDefaults}=theme.DEFAULTS;let userModuleOptions=expandModuleConfig(options.modules);userModuleOptions!=null&&userModuleOptions.toolbar&&userModuleOptions.toolbar.constructor!==Object&&(userModuleOptions={...userModuleOptions,toolbar:{container:userModuleOptions.toolbar}});const modules=merge({},expandModuleConfig(quillModuleDefaults),expandModuleConfig(themeModuleDefaults),userModuleOptions),config2={...quillDefaults,...omitUndefinedValuesFromOptions(themeDefaults),...omitUndefinedValuesFromOptions(options)};let registry=options.registry;return registry?options.formats&&debug$8.warn('Ignoring "formats" option because "registry" is specified'):registry=options.formats?createRegistryWithFormats(options.formats,config2.registry,debug$8):config2.registry,{...config2,registry,container,theme,modules:Object.entries(modules).reduce((modulesWithDefaults,_ref2)=>{let[name,value]=_ref2;if(!value)return modulesWithDefaults;const moduleClass=Quill.import(`modules/${name}`);return moduleClass==null?(debug$8.error(`Cannot load ${name} module. Are you sure you registered it?`),modulesWithDefaults):{...modulesWithDefaults,[name]:merge({},moduleClass.DEFAULTS||{},value)}},{}),bounds:resolveSelector(config2.bounds)}}function modify(modifier,source,index2,shift){if(!this.isEnabled()&&source===Emitter.sources.USER&&!this.allowReadOnlyEdits)return new Delta;let range2=index2==null?null:this.getSelection();const oldDelta=this.editor.delta,change=modifier();if(range2!=null&&(index2===!0&&(index2=range2.index),shift==null?range2=shiftRange(range2,change,source):shift!==0&&(range2=shiftRange(range2,index2,shift,source)),this.setSelection(range2,Emitter.sources.SILENT)),change.length()>0){const args=[Emitter.events.TEXT_CHANGE,change,oldDelta,source];this.emitter.emit(Emitter.events.EDITOR_CHANGE,...args),source!==Emitter.sources.SILENT&&this.emitter.emit(...args)}return change}function overload(index2,length,name,value,source){let formats={};return typeof index2.index=="number"&&typeof index2.length=="number"?typeof length!="number"?(source=value,value=name,name=length,length=index2.length,index2=index2.index):(length=index2.length,index2=index2.index):typeof length!="number"&&(source=value,value=name,name=length,length=0),typeof name=="object"?(formats=name,source=value):typeof name=="string"&&(value!=null?formats[name]=value:source=name),source=source||Emitter.sources.API,[index2,length,formats,source]}function shiftRange(range2,index2,lengthOrSource,source){const length=typeof lengthOrSource=="number"?lengthOrSource:0;if(range2==null)return null;let start2,end2;return index2&&typeof index2.transformPosition=="function"?[start2,end2]=[range2.index,range2.index+range2.length].map(pos=>index2.transformPosition(pos,source!==Emitter.sources.USER)):[start2,end2]=[range2.index,range2.index+range2.length].map(pos=>pos<index2||pos===index2&&source===Emitter.sources.USER?pos:length>=0?pos+length:Math.max(index2,pos+length)),new Range(start2,end2-start2)}class Container extends ContainerBlot$1{}function isLine$1(blot){return blot instanceof Block||blot instanceof BlockEmbed}function isUpdatable(blot){return typeof blot.updateContent=="function"}class Scroll extends ScrollBlot$1{constructor(registry,domNode,_ref){let{emitter}=_ref;super(registry,domNode),this.emitter=emitter,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",e2=>this.handleDragStart(e2))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const mutations=this.batch;this.batch=!1,this.update(mutations)}emitMount(blot){this.emitter.emit(Emitter.events.SCROLL_BLOT_MOUNT,blot)}emitUnmount(blot){this.emitter.emit(Emitter.events.SCROLL_BLOT_UNMOUNT,blot)}emitEmbedUpdate(blot,change){this.emitter.emit(Emitter.events.SCROLL_EMBED_UPDATE,blot,change)}deleteAt(index2,length){const[first,offset2]=this.line(index2),[last]=this.line(index2+length);if(super.deleteAt(index2,length),last!=null&&first!==last&&offset2>0){if(first instanceof BlockEmbed||last instanceof BlockEmbed){this.optimize();return}const ref=last.children.head instanceof Break?null:last.children.head;first.moveChildren(last,ref),first.remove()}this.optimize()}enable(){let enabled=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",enabled?"true":"false")}formatAt(index2,length,format2,value){super.formatAt(index2,length,format2,value),this.optimize()}insertAt(index2,value,def){if(index2>=this.length())if(def==null||this.scroll.query(value,Scope.BLOCK)==null){const blot=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(blot),def==null&&value.endsWith(`
`)?blot.insertAt(0,value.slice(0,-1),def):blot.insertAt(0,value,def)}else{const embed=this.scroll.create(value,def);this.appendChild(embed)}else super.insertAt(index2,value,def);this.optimize()}insertBefore(blot,ref){if(blot.statics.scope===Scope.INLINE_BLOT){const wrapper2=this.scroll.create(this.statics.defaultChild.blotName);wrapper2.appendChild(blot),super.insertBefore(wrapper2,ref)}else super.insertBefore(blot,ref)}insertContents(index2,delta){const renderBlocks=this.deltaToRenderBlocks(delta.concat(new Delta().insert(`
`))),last=renderBlocks.pop();if(last==null)return;this.batchStart();const first=renderBlocks.shift();if(first){const shouldInsertNewlineChar=first.type==="block"&&(first.delta.length()===0||!this.descendant(BlockEmbed,index2)[0]&&index2<this.length()),delta2=first.type==="block"?first.delta:new Delta().insert({[first.key]:first.value});insertInlineContents(this,index2,delta2);const newlineCharLength=first.type==="block"?1:0,lineEndIndex=index2+delta2.length()+newlineCharLength;shouldInsertNewlineChar&&this.insertAt(lineEndIndex-1,`
`);const formats=bubbleFormats(this.line(index2)[0]),attributes=DeltaExports.AttributeMap.diff(formats,first.attributes)||{};Object.keys(attributes).forEach(name=>{this.formatAt(lineEndIndex-1,1,name,attributes[name])}),index2=lineEndIndex}let[refBlot,refBlotOffset]=this.children.find(index2);if(renderBlocks.length&&(refBlot&&(refBlot=refBlot.split(refBlotOffset),refBlotOffset=0),renderBlocks.forEach(renderBlock=>{if(renderBlock.type==="block"){const block=this.createBlock(renderBlock.attributes,refBlot||void 0);insertInlineContents(block,0,renderBlock.delta)}else{const blockEmbed=this.create(renderBlock.key,renderBlock.value);this.insertBefore(blockEmbed,refBlot||void 0),Object.keys(renderBlock.attributes).forEach(name=>{blockEmbed.format(name,renderBlock.attributes[name])})}})),last.type==="block"&&last.delta.length()){const offset2=refBlot?refBlot.offset(refBlot.scroll)+refBlotOffset:this.length();insertInlineContents(this,offset2,last.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(index2){const last=this.path(index2).pop();if(!last)return[null,-1];const[blot,offset2]=last;return blot instanceof LeafBlot$1?[blot,offset2]:[null,-1]}line(index2){return index2===this.length()?this.line(index2-1):this.descendant(isLine$1,index2)}lines(){let index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const getLines=(blot,blotIndex,blotLength)=>{let lines=[],lengthLeft=blotLength;return blot.children.forEachAt(blotIndex,blotLength,(child,childIndex,childLength)=>{isLine$1(child)?lines.push(child):child instanceof ContainerBlot$1&&(lines=lines.concat(getLines(child,childIndex,lengthLeft))),lengthLeft-=childLength}),lines};return getLines(this,index2,length)}optimize(){let mutations=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],context=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(mutations,context),mutations.length>0&&this.emitter.emit(Emitter.events.SCROLL_OPTIMIZE,mutations,context))}path(index2){return super.path(index2).slice(1)}remove(){}update(mutations){if(this.batch){Array.isArray(mutations)&&(this.batch=this.batch.concat(mutations));return}let source=Emitter.sources.USER;typeof mutations=="string"&&(source=mutations),Array.isArray(mutations)||(mutations=this.observer.takeRecords()),mutations=mutations.filter(_ref2=>{let{target}=_ref2;const blot=this.find(target,!0);return blot&&!isUpdatable(blot)}),mutations.length>0&&this.emitter.emit(Emitter.events.SCROLL_BEFORE_UPDATE,source,mutations),super.update(mutations.concat([])),mutations.length>0&&this.emitter.emit(Emitter.events.SCROLL_UPDATE,source,mutations)}updateEmbedAt(index2,key,change){const[blot]=this.descendant(b2=>b2 instanceof BlockEmbed,index2);blot&&blot.statics.blotName===key&&isUpdatable(blot)&&blot.updateContent(change)}handleDragStart(event){event.preventDefault()}deltaToRenderBlocks(delta){const renderBlocks=[];let currentBlockDelta=new Delta;return delta.forEach(op=>{const insert=op==null?void 0:op.insert;if(insert)if(typeof insert=="string"){const splitted=insert.split(`
`);splitted.slice(0,-1).forEach(text=>{currentBlockDelta.insert(text,op.attributes),renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:op.attributes??{}}),currentBlockDelta=new Delta});const last=splitted[splitted.length-1];last&&currentBlockDelta.insert(last,op.attributes)}else{const key=Object.keys(insert)[0];if(!key)return;this.query(key,Scope.INLINE)?currentBlockDelta.push(op):(currentBlockDelta.length()&&renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:{}}),currentBlockDelta=new Delta,renderBlocks.push({type:"blockEmbed",key,value:insert[key],attributes:op.attributes??{}}))}}),currentBlockDelta.length()&&renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:{}}),renderBlocks}createBlock(attributes,refBlot){let blotName;const formats={};Object.entries(attributes).forEach(_ref3=>{let[key,value]=_ref3;this.query(key,Scope.BLOCK&Scope.BLOT)!=null?blotName=key:formats[key]=value});const block=this.create(blotName||this.statics.defaultChild.blotName,blotName?attributes[blotName]:void 0);this.insertBefore(block,refBlot||void 0);const length=block.length();return Object.entries(formats).forEach(_ref4=>{let[key,value]=_ref4;block.formatAt(0,length,key,value)}),block}}__publicField(Scroll,"blotName","scroll"),__publicField(Scroll,"className","ql-editor"),__publicField(Scroll,"tagName","DIV"),__publicField(Scroll,"defaultChild",Block),__publicField(Scroll,"allowedChildren",[Block,BlockEmbed,Container]);function insertInlineContents(parent2,index2,inlineContents){inlineContents.reduce((index3,op)=>{const length=DeltaExports.Op.length(op);let attributes=op.attributes||{};if(op.insert!=null){if(typeof op.insert=="string"){const text=op.insert;parent2.insertAt(index3,text);const[leaf]=parent2.descendant(LeafBlot$1,index3),formats=bubbleFormats(leaf);attributes=DeltaExports.AttributeMap.diff(formats,attributes)||{}}else if(typeof op.insert=="object"){const key=Object.keys(op.insert)[0];if(key==null)return index3;if(parent2.insertAt(index3,key,op.insert[key]),parent2.scroll.query(key,Scope.INLINE)!=null){const[leaf]=parent2.descendant(LeafBlot$1,index3),formats=bubbleFormats(leaf);attributes=DeltaExports.AttributeMap.diff(formats,attributes)||{}}}}return Object.keys(attributes).forEach(key=>{parent2.formatAt(index3,length,key,attributes[key])}),index3+length},index2)}const config$2={scope:Scope.BLOCK,whitelist:["right","center","justify"]},AlignAttribute=new Attributor("align","align",config$2),AlignClass=new ClassAttributor$1("align","ql-align",config$2),AlignStyle=new StyleAttributor$1("align","text-align",config$2);class ColorAttributor extends StyleAttributor$1{value(domNode){let value=super.value(domNode);return value.startsWith("rgb(")?(value=value.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${value.split(",").map(component=>`00${parseInt(component,10).toString(16)}`.slice(-2)).join("")}`):value}}new ClassAttributor$1("color","ql-color",{scope:Scope.INLINE});const ColorStyle=new ColorAttributor("color","color",{scope:Scope.INLINE});new ClassAttributor$1("background","ql-bg",{scope:Scope.INLINE});const BackgroundStyle=new ColorAttributor("background","background-color",{scope:Scope.INLINE});class CodeBlockContainer extends Container{static create(value){const domNode=super.create(value);return domNode.setAttribute("spellcheck","false"),domNode}code(index2,length){return this.children.map(child=>child.length()<=1?"":child.domNode.innerText).join(`
`).slice(index2,index2+length)}html(index2,length){return`<pre>
${escapeText(this.code(index2,length))}
</pre>`}}class CodeBlock extends Block{static register(){Quill.register(CodeBlockContainer)}}__publicField(CodeBlock,"TAB","  ");class Code extends Inline{}Code.blotName="code",Code.tagName="CODE",CodeBlock.blotName="code-block",CodeBlock.className="ql-code-block",CodeBlock.tagName="DIV",CodeBlockContainer.blotName="code-block-container",CodeBlockContainer.className="ql-code-block-container",CodeBlockContainer.tagName="DIV",CodeBlockContainer.allowedChildren=[CodeBlock],CodeBlock.allowedChildren=[Text$1,Break,Cursor],CodeBlock.requiredContainer=CodeBlockContainer;const config$1={scope:Scope.BLOCK,whitelist:["rtl"]},DirectionAttribute=new Attributor("direction","dir",config$1),DirectionClass=new ClassAttributor$1("direction","ql-direction",config$1),DirectionStyle=new StyleAttributor$1("direction","direction",config$1),config={scope:Scope.INLINE,whitelist:["serif","monospace"]},FontClass=new ClassAttributor$1("font","ql-font",config);class FontStyleAttributor extends StyleAttributor$1{value(node2){return super.value(node2).replace(/["']/g,"")}}const FontStyle=new FontStyleAttributor("font","font-family",config),SizeClass=new ClassAttributor$1("size","ql-size",{scope:Scope.INLINE,whitelist:["small","large","huge"]}),SizeStyle=new StyleAttributor$1("size","font-size",{scope:Scope.INLINE,whitelist:["10px","18px","32px"]}),debug$7=namespace("quill:keyboard"),SHORTKEY=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Keyboard extends Module$2{static match(evt,binding){return["altKey","ctrlKey","metaKey","shiftKey"].some(key=>!!binding[key]!==evt[key]&&binding[key]!==null)?!1:binding.key===evt.key||binding.key===evt.which}constructor(quill,options){super(quill,options),this.bindings={},Object.keys(this.options.bindings).forEach(name=>{this.options.bindings[name]&&this.addBinding(this.options.bindings[name])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(keyBinding){let context=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},handler=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const binding=normalize$2(keyBinding);if(binding==null){debug$7.warn("Attempted to add invalid keyboard binding",binding);return}typeof context=="function"&&(context={handler:context}),typeof handler=="function"&&(handler={handler}),(Array.isArray(binding.key)?binding.key:[binding.key]).forEach(key=>{const singleBinding={...binding,key,...context,...handler};this.bindings[singleBinding.key]=this.bindings[singleBinding.key]||[],this.bindings[singleBinding.key].push(singleBinding)})}listen(){this.quill.root.addEventListener("keydown",evt=>{if(evt.defaultPrevented||evt.isComposing||evt.keyCode===229&&(evt.key==="Enter"||evt.key==="Backspace"))return;const matches=(this.bindings[evt.key]||[]).concat(this.bindings[evt.which]||[]).filter(binding=>Keyboard.match(evt,binding));if(matches.length===0)return;const blot=Quill.find(evt.target,!0);if(blot&&blot.scroll!==this.quill.scroll)return;const range2=this.quill.getSelection();if(range2==null||!this.quill.hasFocus())return;const[line,offset2]=this.quill.getLine(range2.index),[leafStart,offsetStart]=this.quill.getLeaf(range2.index),[leafEnd,offsetEnd]=range2.length===0?[leafStart,offsetStart]:this.quill.getLeaf(range2.index+range2.length),prefixText=leafStart instanceof TextBlot$1?leafStart.value().slice(0,offsetStart):"",suffixText=leafEnd instanceof TextBlot$1?leafEnd.value().slice(offsetEnd):"",curContext={collapsed:range2.length===0,empty:range2.length===0&&line.length()<=1,format:this.quill.getFormat(range2),line,offset:offset2,prefix:prefixText,suffix:suffixText,event:evt};matches.some(binding=>{if(binding.collapsed!=null&&binding.collapsed!==curContext.collapsed||binding.empty!=null&&binding.empty!==curContext.empty||binding.offset!=null&&binding.offset!==curContext.offset)return!1;if(Array.isArray(binding.format)){if(binding.format.every(name=>curContext.format[name]==null))return!1}else if(typeof binding.format=="object"&&!Object.keys(binding.format).every(name=>binding.format[name]===!0?curContext.format[name]!=null:binding.format[name]===!1?curContext.format[name]==null:isEqual$2(binding.format[name],curContext.format[name])))return!1;return binding.prefix!=null&&!binding.prefix.test(curContext.prefix)||binding.suffix!=null&&!binding.suffix.test(curContext.suffix)?!1:binding.handler.call(this,range2,curContext,binding)!==!0})&&evt.preventDefault()})}handleBackspace(range2,context){const length=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix)?2:1;if(range2.index===0||this.quill.getLength()<=1)return;let formats={};const[line]=this.quill.getLine(range2.index);let delta=new Delta().retain(range2.index-length).delete(length);if(context.offset===0){const[prev]=this.quill.getLine(range2.index-1);if(prev&&!(prev.statics.blotName==="block"&&prev.length()<=1)){const curFormats=line.formats(),prevFormats=this.quill.getFormat(range2.index-1,1);if(formats=DeltaExports.AttributeMap.diff(curFormats,prevFormats)||{},Object.keys(formats).length>0){const formatDelta=new Delta().retain(range2.index+line.length()-2).retain(1,formats);delta=delta.compose(formatDelta)}}}this.quill.updateContents(delta,Quill.sources.USER),this.quill.focus()}handleDelete(range2,context){const length=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix)?2:1;if(range2.index>=this.quill.getLength()-length)return;let formats={};const[line]=this.quill.getLine(range2.index);let delta=new Delta().retain(range2.index).delete(length);if(context.offset>=line.length()-1){const[next]=this.quill.getLine(range2.index+1);if(next){const curFormats=line.formats(),nextFormats=this.quill.getFormat(range2.index,1);formats=DeltaExports.AttributeMap.diff(curFormats,nextFormats)||{},Object.keys(formats).length>0&&(delta=delta.retain(next.length()-1).retain(1,formats))}}this.quill.updateContents(delta,Quill.sources.USER),this.quill.focus()}handleDeleteRange(range2){deleteRange({range:range2,quill:this.quill}),this.quill.focus()}handleEnter(range2,context){const lineFormats=Object.keys(context.format).reduce((formats,format2)=>(this.quill.scroll.query(format2,Scope.BLOCK)&&!Array.isArray(context.format[format2])&&(formats[format2]=context.format[format2]),formats),{}),delta=new Delta().retain(range2.index).delete(range2.length).insert(`
`,lineFormats);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range2.index+1,Quill.sources.SILENT),this.quill.focus()}}const defaultOptions={bindings:{bold:makeFormatHandler("bold"),italic:makeFormatHandler("italic"),underline:makeFormatHandler("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(range2,context){return context.collapsed&&context.offset!==0?!0:(this.quill.format("indent","+1",Quill.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(range2,context){return context.collapsed&&context.offset!==0?!0:(this.quill.format("indent","-1",Quill.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(range2,context){context.format.indent!=null?this.quill.format("indent","-1",Quill.sources.USER):context.format.list!=null&&this.quill.format("list",!1,Quill.sources.USER)}},"indent code-block":makeCodeBlockHandler(!0),"outdent code-block":makeCodeBlockHandler(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(range2){this.quill.deleteText(range2.index-1,1,Quill.sources.USER)}},tab:{key:"Tab",handler(range2,context){if(context.format.table)return!0;this.quill.history.cutoff();const delta=new Delta().retain(range2.index).delete(range2.length).insert("	");return this.quill.updateContents(delta,Quill.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range2.index+1,Quill.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Quill.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(range2,context){const formats={list:!1};context.format.indent&&(formats.indent=!1),this.quill.formatLine(range2.index,range2.length,formats,Quill.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(range2){const[line,offset2]=this.quill.getLine(range2.index),formats={...line.formats(),list:"checked"},delta=new Delta().retain(range2.index).insert(`
`,formats).retain(line.length()-offset2-1).retain(1,{list:"unchecked"});this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range2.index+1,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(range2,context){const[line,offset2]=this.quill.getLine(range2.index),delta=new Delta().retain(range2.index).insert(`
`,context.format).retain(line.length()-offset2-1).retain(1,{header:null});this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range2.index+1,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(range2){const module2=this.quill.getModule("table");if(module2){const[table2,row,cell,offset2]=module2.getTable(range2),shift=tableSide(table2,row,cell,offset2);if(shift==null)return;let index2=table2.offset();if(shift<0){const delta=new Delta().retain(index2).insert(`
`);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range2.index+1,range2.length,Quill.sources.SILENT)}else if(shift>0){index2+=table2.length();const delta=new Delta().retain(index2).insert(`
`);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(index2,Quill.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(range2,context){const{event,line:cell}=context,offset2=cell.offset(this.quill.scroll);event.shiftKey?this.quill.setSelection(offset2-1,Quill.sources.USER):this.quill.setSelection(offset2+cell.length(),Quill.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(range2,context){if(this.quill.scroll.query("list")==null)return!0;const{length}=context.prefix,[line,offset2]=this.quill.getLine(range2.index);if(offset2>length)return!0;let value;switch(context.prefix.trim()){case"[]":case"[ ]":value="unchecked";break;case"[x]":value="checked";break;case"-":case"*":value="bullet";break;default:value="ordered"}this.quill.insertText(range2.index," ",Quill.sources.USER),this.quill.history.cutoff();const delta=new Delta().retain(range2.index-offset2).delete(length+1).retain(line.length()-2-offset2).retain(1,{list:value});return this.quill.updateContents(delta,Quill.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range2.index-length,Quill.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(range2){const[line,offset2]=this.quill.getLine(range2.index);let numLines=2,cur=line;for(;cur!=null&&cur.length()<=1&&cur.formats()["code-block"];)if(cur=cur.prev,numLines-=1,numLines<=0){const delta=new Delta().retain(range2.index+line.length()-offset2-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range2.index-1,Quill.sources.SILENT),!1}return!0}},"embed left":makeEmbedArrowHandler("ArrowLeft",!1),"embed left shift":makeEmbedArrowHandler("ArrowLeft",!0),"embed right":makeEmbedArrowHandler("ArrowRight",!1),"embed right shift":makeEmbedArrowHandler("ArrowRight",!0),"table down":makeTableArrowHandler(!1),"table up":makeTableArrowHandler(!0)}};Keyboard.DEFAULTS=defaultOptions;function makeCodeBlockHandler(indent){return{key:"Tab",shiftKey:!indent,format:{"code-block":!0},handler(range2,_ref){let{event}=_ref;const CodeBlock2=this.quill.scroll.query("code-block"),{TAB}=CodeBlock2;if(range2.length===0&&!event.shiftKey){this.quill.insertText(range2.index,TAB,Quill.sources.USER),this.quill.setSelection(range2.index+TAB.length,Quill.sources.SILENT);return}const lines=range2.length===0?this.quill.getLines(range2.index,1):this.quill.getLines(range2);let{index:index2,length}=range2;lines.forEach((line,i2)=>{indent?(line.insertAt(0,TAB),i2===0?index2+=TAB.length:length+=TAB.length):line.domNode.textContent.startsWith(TAB)&&(line.deleteAt(0,TAB.length),i2===0?index2-=TAB.length:length-=TAB.length)}),this.quill.update(Quill.sources.USER),this.quill.setSelection(index2,length,Quill.sources.SILENT)}}}function makeEmbedArrowHandler(key,shiftKey){return{key,shiftKey,altKey:null,[key==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(range2){let{index:index2}=range2;key==="ArrowRight"&&(index2+=range2.length+1);const[leaf]=this.quill.getLeaf(index2);return leaf instanceof EmbedBlot$1?(key==="ArrowLeft"?shiftKey?this.quill.setSelection(range2.index-1,range2.length+1,Quill.sources.USER):this.quill.setSelection(range2.index-1,Quill.sources.USER):shiftKey?this.quill.setSelection(range2.index,range2.length+1,Quill.sources.USER):this.quill.setSelection(range2.index+range2.length+1,Quill.sources.USER),!1):!0}}}function makeFormatHandler(format2){return{key:format2[0],shortKey:!0,handler(range2,context){this.quill.format(format2,!context.format[format2],Quill.sources.USER)}}}function makeTableArrowHandler(up){return{key:up?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(range2,context){const key=up?"prev":"next",cell=context.line,targetRow=cell.parent[key];if(targetRow!=null){if(targetRow.statics.blotName==="table-row"){let targetCell=targetRow.children.head,cur=cell;for(;cur.prev!=null;)cur=cur.prev,targetCell=targetCell.next;const index2=targetCell.offset(this.quill.scroll)+Math.min(context.offset,targetCell.length()-1);this.quill.setSelection(index2,0,Quill.sources.USER)}}else{const targetLine=cell.table()[key];targetLine!=null&&(up?this.quill.setSelection(targetLine.offset(this.quill.scroll)+targetLine.length()-1,0,Quill.sources.USER):this.quill.setSelection(targetLine.offset(this.quill.scroll),0,Quill.sources.USER))}return!1}}}function normalize$2(binding){if(typeof binding=="string"||typeof binding=="number")binding={key:binding};else if(typeof binding=="object")binding=cloneDeep$1(binding);else return null;return binding.shortKey&&(binding[SHORTKEY]=binding.shortKey,delete binding.shortKey),binding}function deleteRange(_ref2){let{quill,range:range2}=_ref2;const lines=quill.getLines(range2);let formats={};if(lines.length>1){const firstFormats=lines[0].formats(),lastFormats=lines[lines.length-1].formats();formats=DeltaExports.AttributeMap.diff(lastFormats,firstFormats)||{}}quill.deleteText(range2,Quill.sources.USER),Object.keys(formats).length>0&&quill.formatLine(range2.index,1,formats,Quill.sources.USER),quill.setSelection(range2.index,Quill.sources.SILENT)}function tableSide(_table,row,cell,offset2){return row.prev==null&&row.next==null?cell.prev==null&&cell.next==null?offset2===0?-1:1:cell.prev==null?-1:1:row.prev==null?-1:row.next==null?1:null}const normalWeightRegexp=/font-weight:\s*normal/,blockTagNames=["P","OL","UL"],isBlockElement=element2=>element2&&blockTagNames.includes(element2.tagName),normalizeEmptyLines=doc=>{Array.from(doc.querySelectorAll("br")).filter(br=>isBlockElement(br.previousElementSibling)&&isBlockElement(br.nextElementSibling)).forEach(br=>{var _a2;(_a2=br.parentNode)==null||_a2.removeChild(br)})},normalizeFontWeight=doc=>{Array.from(doc.querySelectorAll('b[style*="font-weight"]')).filter(node2=>{var _a2;return(_a2=node2.getAttribute("style"))==null?void 0:_a2.match(normalWeightRegexp)}).forEach(node2=>{var _a2;const fragment=doc.createDocumentFragment();fragment.append(...node2.childNodes),(_a2=node2.parentNode)==null||_a2.replaceChild(fragment,node2)})};function normalize$1(doc){doc.querySelector('[id^="docs-internal-guid-"]')&&(normalizeFontWeight(doc),normalizeEmptyLines(doc))}const ignoreRegexp=/\bmso-list:[^;]*ignore/i,idRegexp=/\bmso-list:[^;]*\bl(\d+)/i,indentRegexp=/\bmso-list:[^;]*\blevel(\d+)/i,parseListItem=(element2,html)=>{const style=element2.getAttribute("style"),idMatch=style==null?void 0:style.match(idRegexp);if(!idMatch)return null;const id=Number(idMatch[1]),indentMatch=style==null?void 0:style.match(indentRegexp),indent=indentMatch?Number(indentMatch[1]):1,typeRegexp=new RegExp(`@list l${id}:level${indent}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),typeMatch=html.match(typeRegexp),type=typeMatch&&typeMatch[1]==="bullet"?"bullet":"ordered";return{id,indent,type,element:element2}},normalizeListItem=doc=>{var _a2,_b2;const msoList=Array.from(doc.querySelectorAll("[style*=mso-list]")),ignored=[],others=[];msoList.forEach(node2=>{(node2.getAttribute("style")||"").match(ignoreRegexp)?ignored.push(node2):others.push(node2)}),ignored.forEach(node2=>{var _a3;return(_a3=node2.parentNode)==null?void 0:_a3.removeChild(node2)});const html=doc.documentElement.innerHTML,listItems=others.map(element2=>parseListItem(element2,html)).filter(parsed=>parsed);for(;listItems.length;){const childListItems=[];let current=listItems.shift();for(;current;)childListItems.push(current),current=listItems.length&&((_a2=listItems[0])==null?void 0:_a2.element)===current.element.nextElementSibling&&listItems[0].id===current.id?listItems.shift():null;const ul=document.createElement("ul");childListItems.forEach(listItem=>{const li=document.createElement("li");li.setAttribute("data-list",listItem.type),listItem.indent>1&&li.setAttribute("class",`ql-indent-${listItem.indent-1}`),li.innerHTML=listItem.element.innerHTML,ul.appendChild(li)});const element2=(_b2=childListItems[0])==null?void 0:_b2.element,{parentNode:parentNode2}=element2??{};element2&&(parentNode2==null||parentNode2.replaceChild(ul,element2)),childListItems.slice(1).forEach(_ref=>{let{element:e2}=_ref;parentNode2==null||parentNode2.removeChild(e2)})}};function normalize(doc){doc.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&normalizeListItem(doc)}const NORMALIZERS=[normalize,normalize$1],normalizeExternalHTML=doc=>{doc.documentElement&&NORMALIZERS.forEach(normalize2=>{normalize2(doc)})},debug$6=namespace("quill:clipboard"),CLIPBOARD_CONFIG=[[Node.TEXT_NODE,matchText],[Node.TEXT_NODE,matchNewline],["br",matchBreak],[Node.ELEMENT_NODE,matchNewline],[Node.ELEMENT_NODE,matchBlot],[Node.ELEMENT_NODE,matchAttributor],[Node.ELEMENT_NODE,matchStyles],["li",matchIndent],["ol, ul",matchList],["pre",matchCodeBlock],["tr",matchTable],["b",createMatchAlias("bold")],["i",createMatchAlias("italic")],["strike",createMatchAlias("strike")],["style",matchIgnore]],ATTRIBUTE_ATTRIBUTORS=[AlignAttribute,DirectionAttribute].reduce((memo,attr)=>(memo[attr.keyName]=attr,memo),{}),STYLE_ATTRIBUTORS=[AlignStyle,BackgroundStyle,ColorStyle,DirectionStyle,FontStyle,SizeStyle].reduce((memo,attr)=>(memo[attr.keyName]=attr,memo),{});class Clipboard extends Module$2{constructor(quill,options){super(quill,options),this.quill.root.addEventListener("copy",e2=>this.onCaptureCopy(e2,!1)),this.quill.root.addEventListener("cut",e2=>this.onCaptureCopy(e2,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],CLIPBOARD_CONFIG.concat(this.options.matchers??[]).forEach(_ref=>{let[selector,matcher]=_ref;this.addMatcher(selector,matcher)})}addMatcher(selector,matcher){this.matchers.push([selector,matcher])}convert(_ref2){let{html,text}=_ref2,formats=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(formats[CodeBlock.blotName])return new Delta().insert(text||"",{[CodeBlock.blotName]:formats[CodeBlock.blotName]});if(!html)return new Delta().insert(text||"",formats);const delta=this.convertHTML(html);return deltaEndsWith(delta,`
`)&&(delta.ops[delta.ops.length-1].attributes==null||formats.table)?delta.compose(new Delta().retain(delta.length()-1).delete(1)):delta}normalizeHTML(doc){normalizeExternalHTML(doc)}convertHTML(html){const doc=new DOMParser().parseFromString(html,"text/html");this.normalizeHTML(doc);const container=doc.body,nodeMatches=new WeakMap,[elementMatchers,textMatchers]=this.prepareMatching(container,nodeMatches);return traverse(this.quill.scroll,container,elementMatchers,textMatchers,nodeMatches)}dangerouslyPasteHTML(index2,html){let source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Quill.sources.API;if(typeof index2=="string"){const delta=this.convert({html:index2,text:""});this.quill.setContents(delta,html),this.quill.setSelection(0,Quill.sources.SILENT)}else{const paste=this.convert({html,text:""});this.quill.updateContents(new Delta().retain(index2).concat(paste),source),this.quill.setSelection(index2+paste.length(),Quill.sources.SILENT)}}onCaptureCopy(e2){var _a2,_b2;let isCut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e2.defaultPrevented)return;e2.preventDefault();const[range2]=this.quill.selection.getRange();if(range2==null)return;const{html,text}=this.onCopy(range2,isCut);(_a2=e2.clipboardData)==null||_a2.setData("text/plain",text),(_b2=e2.clipboardData)==null||_b2.setData("text/html",html),isCut&&deleteRange({range:range2,quill:this.quill})}normalizeURIList(urlList){return urlList.split(/\r?\n/).filter(url=>url[0]!=="#").join(`
`)}onCapturePaste(e2){var _a2,_b2,_c2,_d2,_e2;if(e2.defaultPrevented||!this.quill.isEnabled())return;e2.preventDefault();const range2=this.quill.getSelection(!0);if(range2==null)return;const html=(_a2=e2.clipboardData)==null?void 0:_a2.getData("text/html");let text=(_b2=e2.clipboardData)==null?void 0:_b2.getData("text/plain");if(!html&&!text){const urlList=(_c2=e2.clipboardData)==null?void 0:_c2.getData("text/uri-list");urlList&&(text=this.normalizeURIList(urlList))}const files=Array.from(((_d2=e2.clipboardData)==null?void 0:_d2.files)||[]);if(!html&&files.length>0){this.quill.uploader.upload(range2,files);return}if(html&&files.length>0){const doc=new DOMParser().parseFromString(html,"text/html");if(doc.body.childElementCount===1&&((_e2=doc.body.firstElementChild)==null?void 0:_e2.tagName)==="IMG"){this.quill.uploader.upload(range2,files);return}}this.onPaste(range2,{html,text})}onCopy(range2){const text=this.quill.getText(range2);return{html:this.quill.getSemanticHTML(range2),text}}onPaste(range2,_ref3){let{text,html}=_ref3;const formats=this.quill.getFormat(range2.index),pastedDelta=this.convert({text,html},formats);debug$6.log("onPaste",pastedDelta,{text,html});const delta=new Delta().retain(range2.index).delete(range2.length).concat(pastedDelta);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(delta.length()-range2.length,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(container,nodeMatches){const elementMatchers=[],textMatchers=[];return this.matchers.forEach(pair=>{const[selector,matcher]=pair;switch(selector){case Node.TEXT_NODE:textMatchers.push(matcher);break;case Node.ELEMENT_NODE:elementMatchers.push(matcher);break;default:Array.from(container.querySelectorAll(selector)).forEach(node2=>{if(nodeMatches.has(node2)){const matches=nodeMatches.get(node2);matches==null||matches.push(matcher)}else nodeMatches.set(node2,[matcher])});break}}),[elementMatchers,textMatchers]}}__publicField(Clipboard,"DEFAULTS",{matchers:[]});function applyFormat(delta,format2,value,scroll){return scroll.query(format2)?delta.reduce((newDelta,op)=>{if(!op.insert)return newDelta;if(op.attributes&&op.attributes[format2])return newDelta.push(op);const formats=value?{[format2]:value}:{};return newDelta.insert(op.insert,{...formats,...op.attributes})},new Delta):delta}function deltaEndsWith(delta,text){let endText="";for(let i2=delta.ops.length-1;i2>=0&&endText.length<text.length;--i2){const op=delta.ops[i2];if(typeof op.insert!="string")break;endText=op.insert+endText}return endText.slice(-1*text.length)===text}function isLine(node2,scroll){if(!(node2 instanceof Element))return!1;const match2=scroll.query(node2);return match2&&match2.prototype instanceof EmbedBlot$1?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(node2.tagName.toLowerCase())}function isBetweenInlineElements(node2,scroll){return node2.previousElementSibling&&node2.nextElementSibling&&!isLine(node2.previousElementSibling,scroll)&&!isLine(node2.nextElementSibling,scroll)}const preNodes=new WeakMap;function isPre(node2){return node2==null?!1:(preNodes.has(node2)||(node2.tagName==="PRE"?preNodes.set(node2,!0):preNodes.set(node2,isPre(node2.parentNode))),preNodes.get(node2))}function traverse(scroll,node2,elementMatchers,textMatchers,nodeMatches){return node2.nodeType===node2.TEXT_NODE?textMatchers.reduce((delta,matcher)=>matcher(node2,delta,scroll),new Delta):node2.nodeType===node2.ELEMENT_NODE?Array.from(node2.childNodes||[]).reduce((delta,childNode)=>{let childrenDelta=traverse(scroll,childNode,elementMatchers,textMatchers,nodeMatches);return childNode.nodeType===node2.ELEMENT_NODE&&(childrenDelta=elementMatchers.reduce((reducedDelta,matcher)=>matcher(childNode,reducedDelta,scroll),childrenDelta),childrenDelta=(nodeMatches.get(childNode)||[]).reduce((reducedDelta,matcher)=>matcher(childNode,reducedDelta,scroll),childrenDelta)),delta.concat(childrenDelta)},new Delta):new Delta}function createMatchAlias(format2){return(_node,delta,scroll)=>applyFormat(delta,format2,!0,scroll)}function matchAttributor(node2,delta,scroll){const attributes=Attributor.keys(node2),classes2=ClassAttributor$1.keys(node2),styles=StyleAttributor$1.keys(node2),formats={};return attributes.concat(classes2).concat(styles).forEach(name=>{let attr=scroll.query(name,Scope.ATTRIBUTE);attr!=null&&(formats[attr.attrName]=attr.value(node2),formats[attr.attrName])||(attr=ATTRIBUTE_ATTRIBUTORS[name],attr!=null&&(attr.attrName===name||attr.keyName===name)&&(formats[attr.attrName]=attr.value(node2)||void 0),attr=STYLE_ATTRIBUTORS[name],attr!=null&&(attr.attrName===name||attr.keyName===name)&&(attr=STYLE_ATTRIBUTORS[name],formats[attr.attrName]=attr.value(node2)||void 0))}),Object.entries(formats).reduce((newDelta,_ref4)=>{let[name,value]=_ref4;return applyFormat(newDelta,name,value,scroll)},delta)}function matchBlot(node2,delta,scroll){const match2=scroll.query(node2);if(match2==null)return delta;if(match2.prototype instanceof EmbedBlot$1){const embed={},value=match2.value(node2);if(value!=null)return embed[match2.blotName]=value,new Delta().insert(embed,match2.formats(node2,scroll))}else if(match2.prototype instanceof BlockBlot$1&&!deltaEndsWith(delta,`
`)&&delta.insert(`
`),"blotName"in match2&&"formats"in match2&&typeof match2.formats=="function")return applyFormat(delta,match2.blotName,match2.formats(node2,scroll),scroll);return delta}function matchBreak(node2,delta){return deltaEndsWith(delta,`
`)||delta.insert(`
`),delta}function matchCodeBlock(node2,delta,scroll){const match2=scroll.query("code-block"),language=match2&&"formats"in match2&&typeof match2.formats=="function"?match2.formats(node2,scroll):!0;return applyFormat(delta,"code-block",language,scroll)}function matchIgnore(){return new Delta}function matchIndent(node2,delta,scroll){const match2=scroll.query(node2);if(match2==null||match2.blotName!=="list"||!deltaEndsWith(delta,`
`))return delta;let indent=-1,parent2=node2.parentNode;for(;parent2!=null;)["OL","UL"].includes(parent2.tagName)&&(indent+=1),parent2=parent2.parentNode;return indent<=0?delta:delta.reduce((composed,op)=>op.insert?op.attributes&&typeof op.attributes.indent=="number"?composed.push(op):composed.insert(op.insert,{indent,...op.attributes||{}}):composed,new Delta)}function matchList(node2,delta,scroll){const element2=node2;let list=element2.tagName==="OL"?"ordered":"bullet";const checkedAttr=element2.getAttribute("data-checked");return checkedAttr&&(list=checkedAttr==="true"?"checked":"unchecked"),applyFormat(delta,"list",list,scroll)}function matchNewline(node2,delta,scroll){if(!deltaEndsWith(delta,`
`)){if(isLine(node2,scroll)&&(node2.childNodes.length>0||node2 instanceof HTMLParagraphElement))return delta.insert(`
`);if(delta.length()>0&&node2.nextSibling){let nextSibling=node2.nextSibling;for(;nextSibling!=null;){if(isLine(nextSibling,scroll))return delta.insert(`
`);const match2=scroll.query(nextSibling);if(match2&&match2.prototype instanceof BlockEmbed)return delta.insert(`
`);nextSibling=nextSibling.firstChild}}}return delta}function matchStyles(node2,delta,scroll){var _a2;const formats={},style=node2.style||{};return style.fontStyle==="italic"&&(formats.italic=!0),style.textDecoration==="underline"&&(formats.underline=!0),style.textDecoration==="line-through"&&(formats.strike=!0),((_a2=style.fontWeight)!=null&&_a2.startsWith("bold")||parseInt(style.fontWeight,10)>=700)&&(formats.bold=!0),delta=Object.entries(formats).reduce((newDelta,_ref5)=>{let[name,value]=_ref5;return applyFormat(newDelta,name,value,scroll)},delta),parseFloat(style.textIndent||0)>0?new Delta().insert("	").concat(delta):delta}function matchTable(node2,delta,scroll){var _a2,_b2;const table2=((_a2=node2.parentElement)==null?void 0:_a2.tagName)==="TABLE"?node2.parentElement:(_b2=node2.parentElement)==null?void 0:_b2.parentElement;if(table2!=null){const row=Array.from(table2.querySelectorAll("tr")).indexOf(node2)+1;return applyFormat(delta,"table",row,scroll)}return delta}function matchText(node2,delta,scroll){var _a2;let text=node2.data;if(((_a2=node2.parentElement)==null?void 0:_a2.tagName)==="O:P")return delta.insert(text.trim());if(!isPre(node2)){if(text.trim().length===0&&text.includes(`
`)&&!isBetweenInlineElements(node2,scroll))return delta;const replacer=(collapse,match2)=>{const replaced=match2.replace(/[^\u00a0]/g,"");return replaced.length<1&&collapse?" ":replaced};text=text.replace(/\r\n/g," ").replace(/\n/g," "),text=text.replace(/\s\s+/g,replacer.bind(replacer,!0)),(node2.previousSibling==null&&node2.parentElement!=null&&isLine(node2.parentElement,scroll)||node2.previousSibling instanceof Element&&isLine(node2.previousSibling,scroll))&&(text=text.replace(/^\s+/,replacer.bind(replacer,!1))),(node2.nextSibling==null&&node2.parentElement!=null&&isLine(node2.parentElement,scroll)||node2.nextSibling instanceof Element&&isLine(node2.nextSibling,scroll))&&(text=text.replace(/\s+$/,replacer.bind(replacer,!1)))}return delta.insert(text)}class History extends Module$2{constructor(quill,options){super(quill,options);__publicField(this,"lastRecorded",0);__publicField(this,"ignoreChange",!1);__publicField(this,"stack",{undo:[],redo:[]});__publicField(this,"currentRange",null);this.quill.on(Quill.events.EDITOR_CHANGE,(eventName,value,oldValue,source)=>{eventName===Quill.events.SELECTION_CHANGE?value&&source!==Quill.sources.SILENT&&(this.currentRange=value):eventName===Quill.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||source===Quill.sources.USER?this.record(value,oldValue):this.transform(value)),this.currentRange=transformRange(this.currentRange,value))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",event=>{event.inputType==="historyUndo"?(this.undo(),event.preventDefault()):event.inputType==="historyRedo"&&(this.redo(),event.preventDefault())})}change(source,dest){if(this.stack[source].length===0)return;const item=this.stack[source].pop();if(!item)return;const base=this.quill.getContents(),inverseDelta=item.delta.invert(base);this.stack[dest].push({delta:inverseDelta,range:transformRange(item.range,inverseDelta)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(item.delta,Quill.sources.USER),this.ignoreChange=!1,this.restoreSelection(item)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(changeDelta,oldDelta){if(changeDelta.ops.length===0)return;this.stack.redo=[];let undoDelta=changeDelta.invert(oldDelta),undoRange=this.currentRange;const timestamp=Date.now();if(this.lastRecorded+this.options.delay>timestamp&&this.stack.undo.length>0){const item=this.stack.undo.pop();item&&(undoDelta=undoDelta.compose(item.delta),undoRange=item.range)}else this.lastRecorded=timestamp;undoDelta.length()!==0&&(this.stack.undo.push({delta:undoDelta,range:undoRange}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(delta){transformStack(this.stack.undo,delta),transformStack(this.stack.redo,delta)}undo(){this.change("undo","redo")}restoreSelection(stackItem){if(stackItem.range)this.quill.setSelection(stackItem.range,Quill.sources.USER);else{const index2=getLastChangeIndex(this.quill.scroll,stackItem.delta);this.quill.setSelection(index2,Quill.sources.USER)}}}__publicField(History,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function transformStack(stack,delta){let remoteDelta=delta;for(let i2=stack.length-1;i2>=0;i2-=1){const oldItem=stack[i2];stack[i2]={delta:remoteDelta.transform(oldItem.delta,!0),range:oldItem.range&&transformRange(oldItem.range,remoteDelta)},remoteDelta=oldItem.delta.transform(remoteDelta),stack[i2].delta.length()===0&&stack.splice(i2,1)}}function endsWithNewlineChange(scroll,delta){const lastOp=delta.ops[delta.ops.length-1];return lastOp==null?!1:lastOp.insert!=null?typeof lastOp.insert=="string"&&lastOp.insert.endsWith(`
`):lastOp.attributes!=null?Object.keys(lastOp.attributes).some(attr=>scroll.query(attr,Scope.BLOCK)!=null):!1}function getLastChangeIndex(scroll,delta){const deleteLength=delta.reduce((length,op)=>length+(op.delete||0),0);let changeIndex=delta.length()-deleteLength;return endsWithNewlineChange(scroll,delta)&&(changeIndex-=1),changeIndex}function transformRange(range2,delta){if(!range2)return range2;const start2=delta.transformPosition(range2.index),end2=delta.transformPosition(range2.index+range2.length);return{index:start2,length:end2-start2}}class Uploader extends Module$2{constructor(quill,options){super(quill,options),quill.root.addEventListener("drop",e2=>{var _a2;e2.preventDefault();let native=null;if(document.caretRangeFromPoint)native=document.caretRangeFromPoint(e2.clientX,e2.clientY);else if(document.caretPositionFromPoint){const position=document.caretPositionFromPoint(e2.clientX,e2.clientY);native=document.createRange(),native.setStart(position.offsetNode,position.offset),native.setEnd(position.offsetNode,position.offset)}const normalized=native&&quill.selection.normalizeNative(native);if(normalized){const range2=quill.selection.normalizedToRange(normalized);(_a2=e2.dataTransfer)!=null&&_a2.files&&this.upload(range2,e2.dataTransfer.files)}})}upload(range2,files){const uploads=[];Array.from(files).forEach(file=>{var _a2;file&&((_a2=this.options.mimetypes)!=null&&_a2.includes(file.type))&&uploads.push(file)}),uploads.length>0&&this.options.handler.call(this,range2,uploads)}}Uploader.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(range2,files){if(!this.quill.scroll.query("image"))return;const promises=files.map(file=>new Promise(resolve=>{const reader=new FileReader;reader.onload=()=>{resolve(reader.result)},reader.readAsDataURL(file)}));Promise.all(promises).then(images=>{const update=images.reduce((delta,image)=>delta.insert({image}),new Delta().retain(range2.index).delete(range2.length));this.quill.updateContents(update,Emitter.sources.USER),this.quill.setSelection(range2.index+images.length,Emitter.sources.SILENT)})}};const INSERT_TYPES=["insertText","insertReplacementText"];class Input extends Module$2{constructor(quill,options){super(quill,options),quill.root.addEventListener("beforeinput",event=>{this.handleBeforeInput(event)}),/Android/i.test(navigator.userAgent)||quill.on(Quill.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(range2){deleteRange({range:range2,quill:this.quill})}replaceText(range2){let text=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(range2.length===0)return!1;if(text){const formats=this.quill.getFormat(range2.index,1);this.deleteRange(range2),this.quill.updateContents(new Delta().retain(range2.index).insert(text,formats),Quill.sources.USER)}else this.deleteRange(range2);return this.quill.setSelection(range2.index+text.length,0,Quill.sources.SILENT),!0}handleBeforeInput(event){if(this.quill.composition.isComposing||event.defaultPrevented||!INSERT_TYPES.includes(event.inputType))return;const staticRange=event.getTargetRanges?event.getTargetRanges()[0]:null;if(!staticRange||staticRange.collapsed===!0)return;const text=getPlainTextFromInputEvent(event);if(text==null)return;const normalized=this.quill.selection.normalizeNative(staticRange),range2=normalized?this.quill.selection.normalizedToRange(normalized):null;range2&&this.replaceText(range2,text)&&event.preventDefault()}handleCompositionStart(){const range2=this.quill.getSelection();range2&&this.replaceText(range2)}}function getPlainTextFromInputEvent(event){var _a2;return typeof event.data=="string"?event.data:(_a2=event.dataTransfer)!=null&&_a2.types.includes("text/plain")?event.dataTransfer.getData("text/plain"):null}const isMac=/Mac/i.test(navigator.platform),TTL_FOR_VALID_SELECTION_CHANGE=100,canMoveCaretBeforeUINode=event=>!!(event.key==="ArrowLeft"||event.key==="ArrowRight"||event.key==="ArrowUp"||event.key==="ArrowDown"||event.key==="Home"||isMac&&event.key==="a"&&event.ctrlKey===!0);class UINode extends Module$2{constructor(quill,options){super(quill,options);__publicField(this,"isListening",!1);__publicField(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(range2,_ref){let{line,event}=_ref;if(!(line instanceof ParentBlot$1)||!line.uiNode)return!0;const isRTL=getComputedStyle(line.domNode).direction==="rtl";return isRTL&&event.key!=="ArrowRight"||!isRTL&&event.key!=="ArrowLeft"?!0:(this.quill.setSelection(range2.index-1,range2.length+(event.shiftKey?1:0),Quill.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",event=>{!event.defaultPrevented&&canMoveCaretBeforeUINode(event)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+TTL_FOR_VALID_SELECTION_CHANGE,this.isListening)return;this.isListening=!0;const listener=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",listener,{once:!0})}handleSelectionChange(){const selection=document.getSelection();if(!selection)return;const range2=selection.getRangeAt(0);if(range2.collapsed!==!0||range2.startOffset!==0)return;const line=this.quill.scroll.find(range2.startContainer);if(!(line instanceof ParentBlot$1)||!line.uiNode)return;const newRange=document.createRange();newRange.setStartAfter(line.uiNode),newRange.setEndAfter(line.uiNode),selection.removeAllRanges(),selection.addRange(newRange)}}Quill.register({"blots/block":Block,"blots/block/embed":BlockEmbed,"blots/break":Break,"blots/container":Container,"blots/cursor":Cursor,"blots/embed":Embed,"blots/inline":Inline,"blots/scroll":Scroll,"blots/text":Text$1,"modules/clipboard":Clipboard,"modules/history":History,"modules/keyboard":Keyboard,"modules/uploader":Uploader,"modules/input":Input,"modules/uiNode":UINode});const DropdownIcon='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let optionsCounter=0;function toggleAriaAttribute(element2,attribute){element2.setAttribute(attribute,`${element2.getAttribute(attribute)!=="true"}`)}class Picker{constructor(select){this.select=select,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",event=>{switch(event.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),event.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),toggleAriaAttribute(this.label,"aria-expanded"),toggleAriaAttribute(this.options,"aria-hidden")}buildItem(option){const item=document.createElement("span");item.tabIndex="0",item.setAttribute("role","button"),item.classList.add("ql-picker-item");const value=option.getAttribute("value");return value&&item.setAttribute("data-value",value),option.textContent&&item.setAttribute("data-label",option.textContent),item.addEventListener("click",()=>{this.selectItem(item,!0)}),item.addEventListener("keydown",event=>{switch(event.key){case"Enter":this.selectItem(item,!0),event.preventDefault();break;case"Escape":this.escape(),event.preventDefault();break}}),item}buildLabel(){const label=document.createElement("span");return label.classList.add("ql-picker-label"),label.innerHTML=DropdownIcon,label.tabIndex="0",label.setAttribute("role","button"),label.setAttribute("aria-expanded","false"),this.container.appendChild(label),label}buildOptions(){const options=document.createElement("span");options.classList.add("ql-picker-options"),options.setAttribute("aria-hidden","true"),options.tabIndex="-1",options.id=`ql-picker-options-${optionsCounter}`,optionsCounter+=1,this.label.setAttribute("aria-controls",options.id),this.options=options,Array.from(this.select.options).forEach(option=>{const item=this.buildItem(option);options.appendChild(item),option.selected===!0&&this.selectItem(item)}),this.container.appendChild(options)}buildPicker(){Array.from(this.select.attributes).forEach(item=>{this.container.setAttribute(item.name,item.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(item){let trigger=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const selected=this.container.querySelector(".ql-selected");item!==selected&&(selected!=null&&selected.classList.remove("ql-selected"),item!=null&&(item.classList.add("ql-selected"),this.select.selectedIndex=Array.from(item.parentNode.children).indexOf(item),item.hasAttribute("data-value")?this.label.setAttribute("data-value",item.getAttribute("data-value")):this.label.removeAttribute("data-value"),item.hasAttribute("data-label")?this.label.setAttribute("data-label",item.getAttribute("data-label")):this.label.removeAttribute("data-label"),trigger&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let option;if(this.select.selectedIndex>-1){const item=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];option=this.select.options[this.select.selectedIndex],this.selectItem(item)}else this.selectItem(null);const isActive=option!=null&&option!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",isActive)}}class ColorPicker extends Picker{constructor(select,label){super(select),this.label.innerHTML=label,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(item=>{item.classList.add("ql-primary")})}buildItem(option){const item=super.buildItem(option);return item.style.backgroundColor=option.getAttribute("value")||"",item}selectItem(item,trigger){super.selectItem(item,trigger);const colorLabel=this.label.querySelector(".ql-color-label"),value=item&&item.getAttribute("data-value")||"";colorLabel&&(colorLabel.tagName==="line"?colorLabel.style.stroke=value:colorLabel.style.fill=value)}}class IconPicker extends Picker{constructor(select,icons2){super(select),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(item=>{item.innerHTML=icons2[item.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(target,trigger){super.selectItem(target,trigger);const item=target||this.defaultItem;if(item!=null){if(this.label.innerHTML===item.innerHTML)return;this.label.innerHTML=item.innerHTML}}}const isScrollable=el=>{const{overflowY}=getComputedStyle(el,null);return overflowY!=="visible"&&overflowY!=="clip"};class Tooltip{constructor(quill,boundsContainer){this.quill=quill,this.boundsContainer=boundsContainer||document.body,this.root=quill.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,isScrollable(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(reference){const left=reference.left+reference.width/2-this.root.offsetWidth/2,top=reference.bottom+this.quill.root.scrollTop;this.root.style.left=`${left}px`,this.root.style.top=`${top}px`,this.root.classList.remove("ql-flip");const containerBounds=this.boundsContainer.getBoundingClientRect(),rootBounds=this.root.getBoundingClientRect();let shift=0;if(rootBounds.right>containerBounds.right&&(shift=containerBounds.right-rootBounds.right,this.root.style.left=`${left+shift}px`),rootBounds.left<containerBounds.left&&(shift=containerBounds.left-rootBounds.left,this.root.style.left=`${left+shift}px`),rootBounds.bottom>containerBounds.bottom){const height=rootBounds.bottom-rootBounds.top,verticalShift=reference.bottom-reference.top+height;this.root.style.top=`${top-verticalShift}px`,this.root.classList.add("ql-flip")}return shift}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const ALIGNS=[!1,"center","right","justify"],COLORS=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],FONTS=[!1,"serif","monospace"],HEADERS=["1","2","3",!1],SIZES=["small",!1,"large","huge"];class BaseTheme extends Theme{constructor(quill,options){super(quill,options);const listener=e2=>{if(!document.body.contains(quill.root)){document.body.removeEventListener("click",listener);return}this.tooltip!=null&&!this.tooltip.root.contains(e2.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(picker=>{picker.container.contains(e2.target)||picker.close()})};quill.emitter.listenDOM("click",document.body,listener)}addModule(name){const module2=super.addModule(name);return name==="toolbar"&&this.extendToolbar(module2),module2}buildButtons(buttons,icons2){Array.from(buttons).forEach(button=>{(button.getAttribute("class")||"").split(/\s+/).forEach(name=>{if(name.startsWith("ql-")&&(name=name.slice(3),icons2[name]!=null))if(name==="direction")button.innerHTML=icons2[name][""]+icons2[name].rtl;else if(typeof icons2[name]=="string")button.innerHTML=icons2[name];else{const value=button.value||"";value!=null&&icons2[name][value]&&(button.innerHTML=icons2[name][value])}})})}buildPickers(selects,icons2){this.pickers=Array.from(selects).map(select=>{if(select.classList.contains("ql-align")&&(select.querySelector("option")==null&&fillSelect(select,ALIGNS),typeof icons2.align=="object"))return new IconPicker(select,icons2.align);if(select.classList.contains("ql-background")||select.classList.contains("ql-color")){const format2=select.classList.contains("ql-background")?"background":"color";return select.querySelector("option")==null&&fillSelect(select,COLORS,format2==="background"?"#ffffff":"#000000"),new ColorPicker(select,icons2[format2])}return select.querySelector("option")==null&&(select.classList.contains("ql-font")?fillSelect(select,FONTS):select.classList.contains("ql-header")?fillSelect(select,HEADERS):select.classList.contains("ql-size")&&fillSelect(select,SIZES)),new Picker(select)});const update=()=>{this.pickers.forEach(picker=>{picker.update()})};this.quill.on(Emitter.events.EDITOR_CHANGE,update)}}BaseTheme.DEFAULTS=merge({},Theme.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let fileInput=this.container.querySelector("input.ql-image[type=file]");fileInput==null&&(fileInput=document.createElement("input"),fileInput.setAttribute("type","file"),fileInput.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),fileInput.classList.add("ql-image"),fileInput.addEventListener("change",()=>{const range2=this.quill.getSelection(!0);this.quill.uploader.upload(range2,fileInput.files),fileInput.value=""}),this.container.appendChild(fileInput)),fileInput.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class BaseTooltip extends Tooltip{constructor(quill,boundsContainer){super(quill,boundsContainer),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",event=>{event.key==="Enter"?(this.save(),event.preventDefault()):event.key==="Escape"&&(this.cancel(),event.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let mode=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",preview=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;preview!=null?this.textbox.value=preview:mode!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const bounds=this.quill.getBounds(this.quill.selection.savedRange);bounds!=null&&this.position(bounds),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${mode}`)||""),this.root.setAttribute("data-mode",mode)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",value,Emitter.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",value,Emitter.sources.USER)),this.quill.root.scrollTop=scrollTop;break}case"video":value=extractVideoUrl(value);case"formula":{if(!value)break;const range2=this.quill.getSelection(!0);if(range2!=null){const index2=range2.index+range2.length;this.quill.insertEmbed(index2,this.root.getAttribute("data-mode"),value,Emitter.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(index2+1," ",Emitter.sources.USER),this.quill.setSelection(index2+2,Emitter.sources.USER)}break}}this.textbox.value="",this.hide()}}function extractVideoUrl(url){let match2=url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return match2?`${match2[1]||"https"}://www.youtube.com/embed/${match2[2]}?showinfo=0`:(match2=url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${match2[1]||"https"}://player.vimeo.com/video/${match2[2]}/`:url}function fillSelect(select,values){let defaultValue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;values.forEach(value=>{const option=document.createElement("option");value===defaultValue?option.setAttribute("selected","selected"):option.setAttribute("value",String(value)),select.appendChild(option)})}let Link$2=(_d=class extends Inline{static create(value){const node2=super.create(value);return node2.setAttribute("href",this.sanitize(value)),node2.setAttribute("rel","noopener noreferrer"),node2.setAttribute("target","_blank"),node2}static formats(domNode){return domNode.getAttribute("href")}static sanitize(url){return sanitize(url,this.PROTOCOL_WHITELIST)?url:this.SANITIZED_URL}format(name,value){name!==this.statics.blotName||!value?super.format(name,value):this.domNode.setAttribute("href",this.constructor.sanitize(value))}},__publicField(_d,"blotName","link"),__publicField(_d,"tagName","A"),__publicField(_d,"SANITIZED_URL","about:blank"),__publicField(_d,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]),_d);function sanitize(url,protocols){const anchor=document.createElement("a");anchor.href=url;const protocol=anchor.href.slice(0,anchor.href.indexOf(":"));return protocols.indexOf(protocol)>-1}const alignLeftIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',alignCenterIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',alignRightIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',alignJustifyIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',backgroundIcon='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquoteIcon='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',boldIcon='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',cleanIcon='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',codeIcon='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',icons={align:{"":alignLeftIcon,center:alignCenterIcon,right:alignRightIcon,justify:alignJustifyIcon},background:backgroundIcon,blockquote:blockquoteIcon,bold:boldIcon,clean:cleanIcon,code:codeIcon,"code-block":codeIcon,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},TOOLBAR_CONFIG=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class SnowTooltip extends BaseTooltip{constructor(){super(...arguments);__publicField(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",event=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),event.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",event=>{if(this.linkRange!=null){const range2=this.linkRange;this.restoreFocus(),this.quill.formatText(range2,"link",!1,Emitter.sources.USER),delete this.linkRange}event.preventDefault(),this.hide()}),this.quill.on(Emitter.events.SELECTION_CHANGE,(range2,oldRange,source)=>{if(range2!=null){if(range2.length===0&&source===Emitter.sources.USER){const[link,offset2]=this.quill.scroll.descendant(Link$2,range2.index);if(link!=null){this.linkRange=new Range(range2.index-offset2,link.length());const preview=Link$2.formats(link.domNode);this.preview.textContent=preview,this.preview.setAttribute("href",preview),this.show();const bounds=this.quill.getBounds(this.linkRange);bounds!=null&&this.position(bounds);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}__publicField(SnowTooltip,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class SnowTheme extends BaseTheme{constructor(quill,options){options.modules.toolbar!=null&&options.modules.toolbar.container==null&&(options.modules.toolbar.container=TOOLBAR_CONFIG),super(quill,options),this.quill.container.classList.add("ql-snow")}extendToolbar(toolbar){toolbar.container!=null&&(toolbar.container.classList.add("ql-snow"),this.buildButtons(toolbar.container.querySelectorAll("button"),icons),this.buildPickers(toolbar.container.querySelectorAll("select"),icons),this.tooltip=new SnowTooltip(this.quill,this.options.bounds),toolbar.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(_range,context)=>{toolbar.handlers.link.call(toolbar,!context.format.link)}))}}SnowTheme.DEFAULTS=merge({},BaseTheme.DEFAULTS,{modules:{toolbar:{handlers:{link(value){if(value){const range2=this.quill.getSelection();if(range2==null||range2.length===0)return;let preview=this.quill.getText(range2);/^\S+@\S+\.\S+$/.test(preview)&&preview.indexOf("mailto:")!==0&&(preview=`mailto:${preview}`);const{tooltip:tooltip2}=this.quill.theme;tooltip2.edit("link",preview)}else this.quill.format("link",!1,Quill.sources.USER)}}}}});const debug$5=namespace("quill:toolbar");let Toolbar$1=class extends Module$2{constructor(quill,options){var _a2,_b2;if(super(quill,options),Array.isArray(this.options.container)){const container=document.createElement("div");container.setAttribute("role","toolbar"),addControls(container,this.options.container),(_b2=(_a2=quill.container)==null?void 0:_a2.parentNode)==null||_b2.insertBefore(container,quill.container),this.container=container}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){debug$5.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(format2=>{var _a3;const handler=(_a3=this.options.handlers)==null?void 0:_a3[format2];handler&&this.addHandler(format2,handler)}),Array.from(this.container.querySelectorAll("button, select")).forEach(input=>{this.attach(input)}),this.quill.on(Quill.events.EDITOR_CHANGE,()=>{const[range2]=this.quill.selection.getRange();this.update(range2)})}addHandler(format2,handler){this.handlers[format2]=handler}attach(input){let format2=Array.from(input.classList).find(className=>className.indexOf("ql-")===0);if(!format2)return;if(format2=format2.slice(3),input.tagName==="BUTTON"&&input.setAttribute("type","button"),this.handlers[format2]==null&&this.quill.scroll.query(format2)==null){debug$5.warn("ignoring attaching to nonexistent format",format2,input);return}const eventName=input.tagName==="SELECT"?"change":"click";input.addEventListener(eventName,e2=>{let value;if(input.tagName==="SELECT"){if(input.selectedIndex<0)return;const selected=input.options[input.selectedIndex];selected.hasAttribute("selected")?value=!1:value=selected.value||!1}else input.classList.contains("ql-active")?value=!1:value=input.value||!input.hasAttribute("value"),e2.preventDefault();this.quill.focus();const[range2]=this.quill.selection.getRange();if(this.handlers[format2]!=null)this.handlers[format2].call(this,value);else if(this.quill.scroll.query(format2).prototype instanceof EmbedBlot$1){if(value=prompt(`Enter ${format2}`),!value)return;this.quill.updateContents(new Delta().retain(range2.index).delete(range2.length).insert({[format2]:value}),Quill.sources.USER)}else this.quill.format(format2,value,Quill.sources.USER);this.update(range2)}),this.controls.push([format2,input])}update(range2){const formats=range2==null?{}:this.quill.getFormat(range2);this.controls.forEach(pair=>{const[format2,input]=pair;if(input.tagName==="SELECT"){let option=null;if(range2==null)option=null;else if(formats[format2]==null)option=input.querySelector("option[selected]");else if(!Array.isArray(formats[format2])){let value=formats[format2];typeof value=="string"&&(value=value.replace(/"/g,'\\"')),option=input.querySelector(`option[value="${value}"]`)}option==null?(input.value="",input.selectedIndex=-1):option.selected=!0}else if(range2==null)input.classList.remove("ql-active"),input.setAttribute("aria-pressed","false");else if(input.hasAttribute("value")){const value=formats[format2],isActive=value===input.getAttribute("value")||value!=null&&value.toString()===input.getAttribute("value")||value==null&&!input.getAttribute("value");input.classList.toggle("ql-active",isActive),input.setAttribute("aria-pressed",isActive.toString())}else{const isActive=formats[format2]!=null;input.classList.toggle("ql-active",isActive),input.setAttribute("aria-pressed",isActive.toString())}})}};Toolbar$1.DEFAULTS={};function addButton(container,format2,value){const input=document.createElement("button");input.setAttribute("type","button"),input.classList.add(`ql-${format2}`),input.setAttribute("aria-pressed","false"),value!=null?(input.value=value,input.setAttribute("aria-label",`${format2}: ${value}`)):input.setAttribute("aria-label",format2),container.appendChild(input)}function addControls(container,groups){Array.isArray(groups[0])||(groups=[groups]),groups.forEach(controls=>{const group=document.createElement("span");group.classList.add("ql-formats"),controls.forEach(control=>{if(typeof control=="string")addButton(group,control);else{const format2=Object.keys(control)[0],value=control[format2];Array.isArray(value)?addSelect(group,format2,value):addButton(group,format2,value)}}),container.appendChild(group)})}function addSelect(container,format2,values){const input=document.createElement("select");input.classList.add(`ql-${format2}`),values.forEach(value=>{const option=document.createElement("option");value!==!1?option.setAttribute("value",String(value)):option.setAttribute("selected","selected"),input.appendChild(option)}),container.appendChild(input)}Toolbar$1.DEFAULTS={container:null,handlers:{clean(){const range2=this.quill.getSelection();if(range2!=null)if(range2.length===0){const formats=this.quill.getFormat();Object.keys(formats).forEach(name=>{this.quill.scroll.query(name,Scope.INLINE)!=null&&this.quill.format(name,!1,Quill.sources.USER)})}else this.quill.removeFormat(range2.index,range2.length,Quill.sources.USER)},direction(value){const{align}=this.quill.getFormat();value==="rtl"&&align==null?this.quill.format("align","right",Quill.sources.USER):!value&&align==="right"&&this.quill.format("align",!1,Quill.sources.USER),this.quill.format("direction",value,Quill.sources.USER)},indent(value){const range2=this.quill.getSelection(),formats=this.quill.getFormat(range2),indent=parseInt(formats.indent||0,10);if(value==="+1"||value==="-1"){let modifier=value==="+1"?1:-1;formats.direction==="rtl"&&(modifier*=-1),this.quill.format("indent",indent+modifier,Quill.sources.USER)}},link(value){value===!0&&(value=prompt("Enter link URL:")),this.quill.format("link",value,Quill.sources.USER)},list(value){const range2=this.quill.getSelection(),formats=this.quill.getFormat(range2);value==="check"?formats.list==="checked"||formats.list==="unchecked"?this.quill.format("list",!1,Quill.sources.USER):this.quill.format("list","unchecked",Quill.sources.USER):this.quill.format("list",value,Quill.sources.USER)}}};class Bold extends Inline{static create(){return super.create()}static formats(){return!0}optimize(context){super.optimize(context),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}__publicField(Bold,"blotName","bold"),__publicField(Bold,"tagName",["STRONG","B"]);class Italic extends Bold{}__publicField(Italic,"blotName","italic"),__publicField(Italic,"tagName",["EM","I"]);class Strike extends Bold{}__publicField(Strike,"blotName","strike"),__publicField(Strike,"tagName",["S","STRIKE"]);class Underline extends Inline{}__publicField(Underline,"blotName","underline"),__publicField(Underline,"tagName","U");class Blockquote extends Block{}__publicField(Blockquote,"blotName","blockquote"),__publicField(Blockquote,"tagName","blockquote");class Header extends Block{static formats(domNode){return this.tagName.indexOf(domNode.tagName)+1}}__publicField(Header,"blotName","header"),__publicField(Header,"tagName",["H1","H2","H3","H4","H5","H6"]);class IndentAttributor extends ClassAttributor$1{add(node2,value){let normalizedValue=0;if(value==="+1"||value==="-1"){const indent=this.value(node2)||0;normalizedValue=value==="+1"?indent+1:indent-1}else typeof value=="number"&&(normalizedValue=value);return normalizedValue===0?(this.remove(node2),!0):super.add(node2,normalizedValue.toString())}canAdd(node2,value){return super.canAdd(node2,value)||super.canAdd(node2,parseInt(value,10))}value(node2){return parseInt(super.value(node2),10)||void 0}}const IndentClass=new IndentAttributor("indent","ql-indent",{scope:Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ListContainer extends Container{}ListContainer.blotName="list-container",ListContainer.tagName="OL";class ListItem extends Block{static create(value){const node2=super.create();return node2.setAttribute("data-list",value),node2}static formats(domNode){return domNode.getAttribute("data-list")||void 0}static register(){Quill.register(ListContainer)}constructor(scroll,domNode){super(scroll,domNode);const ui=domNode.ownerDocument.createElement("span"),listEventHandler=e2=>{if(!scroll.isEnabled())return;const format2=this.statics.formats(domNode,scroll);format2==="checked"?(this.format("list","unchecked"),e2.preventDefault()):format2==="unchecked"&&(this.format("list","checked"),e2.preventDefault())};ui.addEventListener("mousedown",listEventHandler),ui.addEventListener("touchstart",listEventHandler),this.attachUI(ui)}format(name,value){name===this.statics.blotName&&value?this.domNode.setAttribute("data-list",value):super.format(name,value)}}ListItem.blotName="list",ListItem.tagName="LI",ListContainer.allowedChildren=[ListItem],ListItem.requiredContainer=ListContainer;var __defProp$7=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__decorateClass$7=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$7(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$7(target,key,result),result};Quill.register("themes/snow",SnowTheme),Quill.register({"attributors/attribute/direction":DirectionAttribute,"attributors/class/align":AlignClass,"attributors/class/direction":DirectionClass,"attributors/class/font":FontClass,"attributors/class/size":SizeClass,"attributors/style/align":AlignStyle,"attributors/style/direction":DirectionStyle,"attributors/style/font":FontStyle,"attributors/style/size":SizeStyle},!0),Quill.register({"formats/align":AlignClass,"formats/direction":DirectionClass,"formats/indent":IndentClass,"formats/font":FontClass,"formats/size":SizeClass,"formats/blockquote":Blockquote,"formats/code-block":CodeBlock,"formats/header":Header,"formats/list":ListItem,"formats/bold":Bold,"formats/italic":Italic,"formats/link":Link$2,"formats/strike":Strike,"formats/underline":Underline,"modules/toolbar":Toolbar$1,"themes/snow":SnowTheme},!0);let NoteEditor=class extends s$2{constructor(){super(),this.readOnly=!1,this.value="",this.focusQuillOnInit=!1,this.noteEditorElm=document.createElement("div"),this.noteEditorElm.classList.add("note-editor-elm","dmo-border-none"),this._resizeObserver=new ResizeObserver(e2=>{var _a2,_b2,_c2,_d2;const height=(_b2=(_a2=e2==null?void 0:e2[0])==null?void 0:_a2.target)==null?void 0:_b2.clientHeight,width=(_d2=(_c2=e2==null?void 0:e2[0])==null?void 0:_c2.target)==null?void 0:_d2.clientWidth;this.dispatchEvent(new NoteEditorResizeEvent(height,width))})}get html(){var _a2;return((_a2=this._quill)==null?void 0:_a2.getSemanticHTML())||""}createRenderRoot(){return this}updated(change){var _a2,_b2;change.get("readOnly")!==void 0&&this._quill&&(this.readOnly?((_a2=this.noteEditorWrapper)==null||_a2.classList.add("read-only"),this._quill.disable()):((_b2=this.noteEditorWrapper)==null||_b2.classList.remove("read-only"),this._quill.enable()))}setEditorValue(value){var _a2,_b2;if(value){const delta=(_a2=this._quill)==null?void 0:_a2.clipboard.convert({html:value});delta&&((_b2=this._quill)==null||_b2.setContents(delta,"silent"))}}showEmojiPicker(event){var _a2;event.preventDefault(),event.stopPropagation(),(_a2=this._emojiPickerOverlay)==null||_a2.open()}focusEditor(){var _a2;this._quill?(_a2=this._quill)==null||_a2.focus():this.focusQuillOnInit=!0}connectedCallback(){super.connectedCallback(),setTimeout(()=>{var _a2,_b2,_c2,_d2;this.readOnly&&((_a2=this.noteEditorWrapper)==null||_a2.classList.add("read-only")),this.initQuill(),this.initEmojiPicker(),(_c2=(_b2=this.noteEditorWrapper)==null?void 0:_b2.classList)==null||_c2.remove("loading"),(_d2=this._resizeObserver)==null||_d2.observe(this.noteEditorElm)},0)}disconnectedCallback(){var _a2;(_a2=this._resizeObserver)==null||_a2.disconnect()}render(){return x`<div class="note-editor-wrapper dmo-h-full dmo-border dmo-border-neutral-subdued dmo-rounded-md loading">${this.noteEditorElm}<div class="note-editor-toolbar dmo-border-none"><select class="ql-size"><option value="small"></option><option selected="selected"></option><option value="large"></option><option value="huge"></option></select> <button class="ql-bold"></button> <button class="ql-italic"></button> <button class="ql-underline"></button><div class="toolbar-separator"></div><button class="custom-btn emoji-btn" @click="${this.showEmojiPicker}"><i class="fa-sharp fa-regular fa-face-smile"></i></button><div class="toolbar-separator"></div><button class="ql-list" value="ordered"></button> <button class="ql-list" value="bullet"></button><div class="toolbar-separator"></div><button class="ql-link"></button> <button class="ql-code-block"></button></div><div id="editor"></div></div>`}initQuill(){var _a2,_b2;const options={modules:{toolbar:this.noteEditorToolbar},placeholder:imt.l("inspector","notes.notePlaceholder"),theme:"snow",readOnly:this.readOnly,formats:NOTE_QUILL_FORMATS};this._quill=new Quill(this.noteEditorElm,options),this.focusQuillOnInit&&this._quill.focus();const tooltip2=(_a2=this._quill)==null?void 0:_a2.theme.tooltip,tooltipInput=(_b2=tooltip2==null?void 0:tooltip2.root)==null?void 0:_b2.querySelector("input[data-link]");tooltipInput.dataset.link&&(tooltipInput.dataset.link="https://www.example.com"),this.value&&this.setEditorValue(this.value)}initEmojiPicker(){if(this.emojiBtnElm){const emojis2=new NoteEmojis;emojis2.addEventListener(NoteEmojiSelectEventName,e2=>{var _a2,_b2,_c2,_d2,_e2,_f2;const emoji=e2.detail.emoji,selection=(_a2=this._quill)==null?void 0:_a2.getSelection(!0);let insertIndex=0;selection?(selection.length&&((_d2=this._quill)==null||_d2.deleteText(selection.index,selection.length)),insertIndex=selection.index):insertIndex=(_b2=this._quill)!=null&&_b2.getText().length?((_c2=this._quill)==null?void 0:_c2.getText().length)-1:0,(_e2=this._quill)==null||_e2.insertText(insertIndex,emoji),(_f2=this._emojiPickerOverlay)==null||_f2.close()}),this._emojiPickerOverlay=overlays.create(emojis2).relativeTo(this.emojiBtnElm).withPosition("bottom").withRelativeArrow(!1).withSize(240,300).withOffset({x:0,y:4}).build()}}};__decorateClass$7([n$3({type:Boolean})],NoteEditor.prototype,"readOnly",2),__decorateClass$7([n$3()],NoteEditor.prototype,"value",2),__decorateClass$7([e$3(".note-editor-wrapper")],NoteEditor.prototype,"noteEditorWrapper",2),__decorateClass$7([e$3(".note-editor-toolbar")],NoteEditor.prototype,"noteEditorToolbar",2),__decorateClass$7([e$3(".custom-btn.emoji-btn")],NoteEditor.prototype,"emojiBtnElm",2),NoteEditor=__decorateClass$7([t$2("imt-note-editor")],NoteEditor);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n="important",i=" !"+n,o=e$2(class extends i$1{constructor(t2){var _a2;if(super(t2),t2.type!==t$1.ATTRIBUTE||t2.name!=="style"||((_a2=t2.strings)==null?void 0:_a2.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t2){return Object.keys(t2).reduce((e2,r2)=>{const s2=t2[r2];return s2==null?e2:e2+`${r2=r2.includes("-")?r2:r2.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s2};`},"")}update(e2,[r2]){const{style:s2}=e2.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(r2)),this.render(r2);for(const t2 of this.ft)r2[t2]==null&&(this.ft.delete(t2),t2.includes("-")?s2.removeProperty(t2):s2[t2]=null);for(const t2 in r2){const e3=r2[t2];if(e3!=null){this.ft.add(t2);const r3=typeof e3=="string"&&e3.endsWith(i);t2.includes("-")||r3?s2.setProperty(t2,r3?e3.slice(0,-11):e3,r3?n:""):s2[t2]=e3}}return w}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e=e$2(class extends i$1{constructor(t2){var _a2;if(super(t2),t2.type!==t$1.ATTRIBUTE||t2.name!=="class"||((_a2=t2.strings)==null?void 0:_a2.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t2){return" "+Object.keys(t2).filter(s2=>t2[s2]).join(" ")+" "}update(s2,[i2]){var _a2,_b2;if(this.st===void 0){this.st=new Set,s2.strings!==void 0&&(this.nt=new Set(s2.strings.join(" ").split(/\s/).filter(t2=>t2!=="")));for(const t2 in i2)i2[t2]&&!((_a2=this.nt)!=null&&_a2.has(t2))&&this.st.add(t2);return this.render(i2)}const r2=s2.element.classList;for(const t2 of this.st)t2 in i2||(r2.remove(t2),this.st.delete(t2));for(const t2 in i2){const s3=!!i2[t2];s3===this.st.has(t2)||(_b2=this.nt)!=null&&_b2.has(t2)||(s3?(r2.add(t2),this.st.add(t2)):(r2.remove(t2),this.st.delete(t2)))}return w}});var __defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$6(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$6(target,key,result),result};let NoteColorPicker=class extends s$2{constructor(){super(),this.colors=DEFAULT_COLORS,this.value=DEFAULT_COLOR,this.showPicker=!1,this._onClickHandler=()=>this.onClick()}createRenderRoot(){return this}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this._onClickHandler)}openPicker(event){event.preventDefault(),this.showPicker=!0,setTimeout(()=>{document.addEventListener("click",this._onClickHandler)})}onClick(){this.showPicker&&(this.showPicker=!1),document.removeEventListener("click",this._onClickHandler)}selectColor(color){this.value=color,this.showPicker=!1,this.dispatchEvent(new NoteColorChangeEvent(color))}render(){return x`<div class="color-input-wrapper"><input type="color" value="${this.value}" @click="${this.openPicker}"></div>${this.showPicker?x`<div class="colors-picker dmo-z-10 dmo-flex dmo-rounded-md dmo-bg-white dmo-py-6 dmo-pr-4">${this.colors.map(c2=>x`<div class="dmo-ml-4 dmo-rounded-full dmo-w-16 dmo-h-16 dmo-flex hover:dmo-scale-110 ${e({active:this.value===c2})}" style="${o({background:c2})}" @click="${()=>this.selectColor(c2)}"><i class="fa-solid fa-check dmo-text-white"></i></div>`)}</div>`:T}`}};__decorateClass$6([n$3()],NoteColorPicker.prototype,"colors",2),__decorateClass$6([n$3()],NoteColorPicker.prototype,"value",2),__decorateClass$6([r$2()],NoteColorPicker.prototype,"showPicker",2),NoteColorPicker=__decorateClass$6([t$2("imt-note-color-picker")],NoteColorPicker);const classes={backdrop:"_backdrop_1qm3w_1",wrapper:"_wrapper_1qm3w_10",fadeIn:"_fadeIn_1qm3w_40",fadeOut:"_fadeOut_1qm3w_44",modal:"_modal_1qm3w_54",header:"_header_1qm3w_60",body:"_body_1qm3w_65",footer:"_footer_1qm3w_69","dmo-dark":"_dmo-dark_1qm3w_1",closeButton:"_closeButton_1qm3w_73"};var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$5(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$5(target,key,result),result};let Modal$1=class extends s$2{constructor(){super(...arguments),this.visible=!1,this.handleKeydown=event=>{event.stopPropagation(),event.key==="Escape"&&this.close()}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleKeydown)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleKeydown)}close(){this.dispatchEvent(new CustomEvent("close"))}createRenderRoot(){return this}render(){return x`<div class="${e({[classes.wrapper]:!0,[classes.fadeIn]:this.visible,[classes.fadeOut]:!this.visible})}"><div class="${classes.backdrop}" @click="${this.close}" tabindex="-1"></div><div class="${classes.modal}"><div class="${classes.header}">${this.header} <button class="${classes.closeButton} dmo-btn dmo-btn-small dmo-btn-clear" @click="${this.close}" aria-label="Close"><i class="fas fa-times fa-lg dmo-text-white"></i></button></div><div class="${classes.body}">${this.body}</div><div class="${classes.footer}">${this.footer}</div></div></div>`}};__decorateClass$5([n$3({type:Boolean})],Modal$1.prototype,"visible",2),Modal$1=__decorateClass$5([t$2("imt-modal")],Modal$1);var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$4(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$4(target,key,result),result};let ConfirmationModal=class extends s$2{constructor(config2){super(),this.config=config2,this.visible=!1,this.resolve=null,this.handleActionClick=()=>{this.accepted(!0)},this.handleCancel=()=>{this.accepted(!1)}}async open(){var _a2;(_a2=document.body.querySelector(this.tagName))==null||_a2.remove(),document.body.appendChild(this),this.visible=!0;const status=await new Promise(res=>{this.resolve=res});return this.remove(),status}accepted(shouldDelete=!1){this.visible=!1,this.addEventListener("animationend",()=>{var _a2;(_a2=this.resolve)==null||_a2.call(this,shouldDelete),this.resolve=null},{once:!0})}createRenderRoot(){return this}render(){return x`<imt-modal @close="${this.handleCancel}" .visible="${this.visible}" .header="${this.config.title}" .body="${this.config.body}" .footer="${x`<button class="dmo-btn dmo-btn-secondary" @click="${this.handleCancel}">${this.config.cancelButton}</button> <button class="dmo-btn dmo-btn-danger dmo-ml-6 ${e({"dmo-btn-danger":this.config.actionButton==="delete"})}" @click="${this.handleActionClick}">${this.config.actionButton}</button>`}"></imt-modal>`}};__decorateClass$4([r$2()],ConfirmationModal.prototype,"visible",2),ConfirmationModal=__decorateClass$4([t$2("imt-confirmation-modal")],ConfirmationModal);const confirmationModal=config2=>new ConfirmationModal(config2).open();var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$3(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$3(target,key,result),result};const NOTE_WIDTH=400,NOTE_HEIGHT=398,NOTE_PREVIEW_SIZE=36,Y_OFFSET=-75,NOTE_PREVIEW_Z_INDEX=998,formatNoteDate=date=>date?format(date,"datetime",{format:"l, LT",timezone:imt.user.timezone}):imt.l("inspector","notes.unknownDate");let Note=class extends s$2{constructor(){var _a2;super(),this.content="",this.color=DEFAULT_COLOR,this.moduleIds=[],this.isFilterNote=!1,this.editMode=!1,this.showPreview=!1,this.isDirty=!1,this.addEventListener("click",()=>this.onNoteClick()),(_a2=Inspector.instance)==null||_a2.on("mode_transition",transition=>{const[,newMode]=transition.split("->");newMode==="view"?this.showPreview=!0:newMode==="edit"&&(this.showPreview=this.restoreShowPreview??this.showPreview),this.switchPreview()})}get dirty(){return this.isDirty}get isNew(){return!this.noteId}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.togglePreview(this.showPreview)}update(changedProperies){super.update(changedProperies),changedProperies.has("color")&&this.style.setProperty("--note-color",this.color)}serialize(keepDirty=!1){const payload={moduleIds:this.moduleIds,content:this.content,isFilterNote:this.isFilterNote,metadata:{color:this.color}};return this.isNew||(payload.id=this.noteId),keepDirty===!1&&(this.isDirty=!1),payload}restore(restoreData){this.restoreShowPreview=restoreData.showPreview}onColorChange(e2){e2.detail.color&&(this.color=e2.detail.color),this.isDirty=!0}onNoteClick(){var _a2;this.showPreview&&(((_a2=Inspector.instance)==null?void 0:_a2.mode)==="view"&&(Inspector.instance.mode="edit"),this.togglePreview())}togglePreview(showPreview=!this.showPreview){var _a2,_b2,_c2;((_a2=Inspector.instance)==null?void 0:_a2.mode)!=="edit"&&((_b2=Inspector.instance)==null?void 0:_b2.mode)!=="live"&&((_c2=Inspector.instance)==null?void 0:_c2.mode)!=="test"?this.showPreview=!0:(this.showPreview=showPreview,this.noteId&&this.dispatchEvent(new NoteUpdateCacheEvent({showPreview:this.showPreview,id:this.noteId})),this.restoreShowPreview=this.showPreview),this.switchPreview()}setEditMode(editMode,shouldFocus=!1){this.editMode=editMode,setTimeout(()=>{var _a2;shouldFocus&&((_a2=this.noteEditor)==null||_a2.focusEditor()),this.resizeOverlay()},0)}switchPreview(){var _a2,_b2,_c2,_d2,_e2;const previewOverlayClasses=["dmo-flex","dmo-justify-center","dmo-items-center","dmo-rounded-full","dmo-rounded-tl-full","dmo-rounded-tr-full","dmo-rounded-br-full","dmo-rounded-bl-[0px]","dmo-cursor-pointer"];this.showPreview?((_a2=this.overlay)==null||_a2.resize({width:NOTE_PREVIEW_SIZE,height:NOTE_PREVIEW_SIZE}),(_c2=(_b2=this.overlay)==null?void 0:_b2.classList)==null||_c2.add(...previewOverlayClasses),this.overlay&&(this.overlay.style.zIndex=`${NOTE_PREVIEW_Z_INDEX}`)):(this.overlay&&(this.overlay.style.opacity="0"),setTimeout(()=>{this.resizeOverlay(),this.overlay&&(this.overlay.style.opacity="1")},0),(_e2=(_d2=this.overlay)==null?void 0:_d2.classList)==null||_e2.remove(...previewOverlayClasses),this.overlay&&(this.overlay.style.zIndex=""))}onEditorClick(e2){e2.target.nodeName!=="A"&&!this.editMode&&(this.setEditMode(!0),e2.preventDefault(),e2.stopPropagation())}onEditorResize(e2){this.resizeOverlay(),e2==null||e2.stopPropagation()}open(){const module2=Inspector.seek(this.moduleIds[0]),overlayBuilder=overlays.create(this).withPosition("right").withRelativeArrow(!1).withSize(NOTE_WIDTH,NOTE_HEIGHT).onClose(()=>this.dispatchEvent(new NoteDeleteEvent));this.isFilterNote?overlayBuilder.relativeTo(module2._inputLink._filter,!0).withOffset({x:0,y:0}):overlayBuilder.relativeTo(module2,!0).withOffset({x:0,y:Y_OFFSET}),this.overlay=overlayBuilder.open()}cancel(){this.setEditMode(!1),this.onEditClose()}async delete(){var _a2;await confirmationModal({title:imt.l("inspector","panels.noteDeleteModal.header"),body:x`${o$3(imt.l("inspector","panels.noteDeleteModal.body"))}`,cancelButton:imt.l("inspector","buttons.cancel"),actionButton:imt.l("inspector","common.delete"),actionType:"delete"})&&(this.dispatchEvent(new NoteDeleteEvent),(_a2=this.overlay)==null||_a2.close())}submit(){var _a2;this.setEditMode(!1),this.isDirty=!0,this.content=((_a2=this.noteEditor)==null?void 0:_a2.html)??""}render(){return this.showPreview?this.renderPreview():this.renderFullNote()}onEditClose(){this.content===""?this.delete():this.noteEditor&&this.noteEditor.setEditorValue(this.content||"")}resizeOverlay(){var _a2;const noteHeight=this.offsetHeight;(_a2=this.overlay)==null||_a2.resize({width:NOTE_WIDTH,height:noteHeight})}renderFullNote(){var _a2,_b2,_c2;return x`<div><div class="note-header dmo-py-4 dmo-pl-12 dmo-pr-4"><div class="dmo-flex dmo-justify-between"><div class="dmo-flex dmo-items-center dmo-mt-4">${this.editMode?x`<imt-note-color-picker value="${this.color}" @note-color-change="${this.onColorChange}"></imt-note-color-picker>`:T}</div><div class="dmo-flex dmo-items-end">${this.editMode?T:x`<button class="dmo-btn dmo-btn-small dmo-btn-clear" @click="${this.delete}"><i class="fa-regular fa-trash-can"></i></button>`} <button class="dmo-btn dmo-btn-small dmo-btn-clear" @click="${e2=>{e2.stopPropagation(),this.togglePreview(),this.onEditClose()}}"><i class="far fa-times"></i></button></div></div></div><div class="note-body dmo-p-12"><imt-note-editor @click="${this.onEditorClick}" @note-editor-resize="${this.onEditorResize}" ?readOnly="${!this.editMode}" value="${this.content}"></imt-note-editor></div><div class="note-footer dmo-pb-12 dmo-h-[42px]">${this.editMode?x`<div class="dmo-flex dmo-justify-end dmo-mx-12"><button class="dmo-btn dmo-btn-secondary dmo-btn-small" @click="${this.cancel}">${imt.l("base","common.cancel")}</button> <button class="dmo-btn dmo-btn-small dmo-ml-6" @click="${this.submit}">${imt.l("base","common.ok")}</button></div>`:x`<div class="dmo-flex dmo-h-[30px] dmo-justify-between dmo-items-center dmo-mx-12 dmo-height"><span class="dmo-text-neutral dmo-text-xs">${((_a2=this.created)==null?void 0:_a2.name)||imt.l("inspector","notes.unknownUser")}</span> <span class="dmo-text-neutral dmo-text-xs">${formatNoteDate(((_b2=this.lastUpdated)==null?void 0:_b2.date)||((_c2=this.created)==null?void 0:_c2.date))}</span></div>`}</div></div>`}renderPreview(){return x`<div class="dmo-rounded-full note-preview dmo-flex dmo-justify-center dmo-items-center dmo-h-[30px] dmo-w-[30px]"><i class="fa-solid fa-note-sticky dmo-text-[#fff]"></i></div>`}};__decorateClass$3([n$3()],Note.prototype,"noteId",2),__decorateClass$3([n$3()],Note.prototype,"content",2),__decorateClass$3([n$3()],Note.prototype,"color",2),__decorateClass$3([n$3()],Note.prototype,"moduleIds",2),__decorateClass$3([n$3()],Note.prototype,"lastUpdated",2),__decorateClass$3([n$3()],Note.prototype,"created",2),__decorateClass$3([n$3()],Note.prototype,"isFilterNote",2),__decorateClass$3([r$2()],Note.prototype,"editMode",2),__decorateClass$3([r$2()],Note.prototype,"showPreview",2),__decorateClass$3([e$3("imt-note-editor")],Note.prototype,"noteEditor",2),Note=__decorateClass$3([t$2("imt-note")],Note);const moment$1=require$$0,IMTDate$1={timezone:"UTC",parse(value,timezone){let d2,day,month,time,year;if(value instanceof Date)return value;if(typeof value=="number"&&(value=String(value)),typeof value!="string")return null;if(value=value.trim(),timezone||(timezone=IMTDate$1.timezone),/^\d+$/.test(value))return new Date(parseInt(value));let hour=0,minute=0,second=0,fraction=0,offset2=null;const dd=(val,digs=2)=>`${"0".repeat(digs-String(val).length)}${val}`;if(/^(\d{4})[\-\/](\d{1,2})[\-\/](\d{1,2})[T\s]?(.+)?$/i.exec(value)&&(year=parseInt(RegExp.$1),month=parseInt(RegExp.$2),day=parseInt(RegExp.$3),time=RegExp.$4!=null?RegExp.$4.trim():void 0,month>12&&(d2=day,day=month,month=d2)),/^(\d{1,2})[\.\-]\s?(\d{1,2})[\.\-]\s?(\d{4})\s*(.+)?$/i.exec(value)&&(year=parseInt(RegExp.$3),month=parseInt(RegExp.$2),day=parseInt(RegExp.$1),time=RegExp.$4!=null?RegExp.$4.trim():void 0,month>12&&(d2=day,day=month,month=d2)),/^(\d{1,2})\/(\d{1,2})\/(\d{4})\s*(.+)?$/i.exec(value)&&(year=parseInt(RegExp.$3),month=parseInt(RegExp.$1),day=parseInt(RegExp.$2),time=RegExp.$4!=null?RegExp.$4.trim():void 0,month>12&&(d2=day,day=month,month=d2)),time&&/^(.+)?([+\-])(\d\d):?(\d\d)$/i.exec(time)&&(offset2=(parseInt(RegExp.$3)*60*60+parseInt(RegExp.$4)*60)*1e3,RegExp.$2==="-"&&(offset2*=-1),time=RegExp.$1!=null?RegExp.$1.trim():void 0),time&&/^(.+)?(Z|UTC|GMT)$/i.exec(time)&&(offset2||(offset2=0),time=RegExp.$1!=null?RegExp.$1.trim():void 0),time&&/^(\d{1,2}):(\d{1,2})(?:\:(\d{1,2})(?:\.(\d+))?)?$/i.exec(time))hour=parseInt(RegExp.$1),minute=parseInt(RegExp.$2),second=parseInt(RegExp.$3||0),fraction=parseInt((RegExp.$4||0).toString().substr(0,3));else if(time&&/^(\d{1,2})(?:\:(\d{1,2}))?\s*(AM|PM)$/i.exec(time)){hour=parseInt(RegExp.$1),minute=parseInt(RegExp.$2||0);const ampm=RegExp.$3.toLowerCase();ampm==="am"&&hour===12?hour=0:ampm==="pm"&&hour!==12&&(hour+=12)}else if(time)return null;if(year){const timestamp=Date.UTC(year,month-1,day,hour,minute,second,fraction);return isNaN(timestamp)?null:offset2!=null?new Date(timestamp-offset2):timezone&&timezone!=="UTC"?moment$1.tz(`${year}-${dd(month)}-${dd(day)}T${dd(hour)}:${dd(minute)}:${dd(second)}.${dd(fraction,3)}`,timezone).toDate():new Date(timestamp)}return null},parseTime(value,timezone){if(timezone||(timezone=IMTDate$1.timezone),value instanceof Date&&(value=moment$1(value).tz(timezone).format("HH:mm:ss.SSS")),typeof value!="string")return null;value=value.trim();let hour=0,minute=0,second=0,fraction=0;if(value&&/^(\d{1,2}):(\d{1,2})(?:\:(\d{1,2})(?:\.(\d{1,3}))?)?$/i.exec(value))hour=parseInt(RegExp.$1),minute=parseInt(RegExp.$2),second=parseInt(RegExp.$3||0),fraction=parseInt(RegExp.$4||0);else if(/^(\d{1,2})(?:\:(\d{1,2}))?\s*(AM|PM)$/i.exec(value)){hour=parseInt(RegExp.$1),minute=parseInt(RegExp.$2||0);const ampm=RegExp.$3.toLowerCase();ampm==="am"&&hour===12?hour=0:ampm==="pm"&&hour!==12&&(hour+=12)}else return value=IMTDate$1.parse(value,timezone),value?IMTDate$1.parseTime(value,timezone):null;return hour>=24||minute>=60||second>=60||fraction>=1e3?null:fraction+second*1e3+minute*60*1e3+hour*60*60*1e3},timeToString(number2){if(typeof number2!="number"||number2>=864e5)return null;const dd=(val,digs=2)=>`${"0".repeat(digs-String(val).length)}${val}`,hour=Math.floor(number2/36e5);number2=number2%36e5;const minute=Math.floor(number2/6e4);number2=number2%6e4;const second=Math.floor(number2/1e3),fraction=number2%1e3;let txt=`${dd(hour)}`;return txt+=`:${dd(minute)}`,(second||fraction)&&(txt+=`:${dd(second)}`),fraction&&(txt+=`.${dd(fraction,3)}`),txt}};var IMTDate_1=IMTDate$1;imt.plugins.push({name:"DateParser",version:"__VERSION__"}),globalThis.IMTDate=IMTDate_1,globalThis.RemoteFormulaModal=class extends Modal{constructor(cfg,relative,loaded,onLoad,onError,data2){super(),this.addClass("modal-remote-formula"),this.addClass("imt"),this.build(cfg,relative,loaded,onLoad,onError,data2)}build(_cfg,_relative,_loaded,_onLoad,_onError,_data){const self2=this;var _build=function(cfg,data2,relative,loaded,onLoad,onError){var _a2;loaded==null||loaded(null);const form=new Formula(cfg.name);return form.config=data2.config,form.values=data2.values,form.options=cfg.options??{},(_a2=form.options).team??(_a2.team=cfg.team),form.steps=data2.steps,form.build(function(err){let button;if(err)return onError&&onError(),new Alert(Alert.parseError(err)).show();onLoad&&onLoad(),self2.title=form.name??cfg.name,self2.content=form;let btnText=imt.l("base","common.save"),skipSave=!1;if(data2.buttons){const saveBtn=data2.buttons.find(btn=>btn.type==="primary");saveBtn&&(btnText=saveBtn.label,saveBtn.hide&&(skipSave=!0))}return skipSave||(button=self2.addButton(cfg.save||btnText,"primary"),button.on("click",function(event){if(event.stopPropagation(),form.isValid()){let formData,win2;if(self2.loading=!0,button.prop("disabled",!0),data2.multipart){formData=new FormData;const object2=form.toJSON();for(var key in object2){var value=object2[key];if(value instanceof FileList)for(var file of value)formData.append(`${key}[]`,file);else if(Array.isArray(value))for(var elm of value)formData.append(`${key}[]`,elm);else formData.append(key,value)}}else formData=form.toJSON();if(!browser.mobile&&form.getDataValueOfSelectedItem("accountType","method")==="oauth"&&(win2=FormulaOAuth.win(),!win2))return button.prop("disabled",!1),self2.warn(new Error(imt.l("base","common.popup")),form);if(data2.buttons&&data2.buttons.find(x2=>x2.action==="fn"))data2.onSave(formData),self2.hide();else{let saveMethod,saveUrl;const saveBtnConfig=data2.buttons&&data2.buttons.find(x2=>x2.action==="http");saveBtnConfig?(saveBtnConfig.address.includes("rpc:/")?saveUrl=saveBtnConfig.address:saveUrl="api:/"+saveBtnConfig.address,saveMethod=saveBtnConfig.method):(saveUrl=cfg.url,saveMethod="POST"),Loader.load(saveUrl,{method:saveMethod,data:formData,requestId:cfg.requestId,headers:{"imt-remote-formula":1}},function(err2,directives){var _a3,_b2,_c2,_d2,_e2;let region;if(err2)return win2==null||win2.close(),button.prop("disabled",!1),self2.warn(err2,form);let rebuilding=!1,oauthing=!1;if(directives.formula){if(directives.formula.oauth){oauthing=!0;const successArgs=[directives.formula.oauth.account,directives.formula.oauth.accountName,directives.formula.oauth.provider];FormulaOAuth.auth.call(self2,win2,directives.formula.oauth.account,(_b2=(_a3=form.options.oauth)==null?void 0:_a3.scope)==null?void 0:_b2[directives.formula.oauth.provider],function(err3){var _a4;return err3?(button.prop("disabled",!1),self2.warn(err3,form)):((_a4=cfg.success)==null||_a4.apply(self2,successArgs),self2.hide())})}else win2&&win2.close();!oauthing&&directives.formula.rebuild&&(rebuilding=!0,button.remove(),self2.build(extend(cfg,directives.formula.rebuild),relative)),!oauthing&&directives.formula.success&&((_c2=cfg.success)==null||_c2.apply(self2,directives.formula.success))}if(relative&&(region=relative.closest(".list-group-item"),region??(region=relative.closest("tr"))),AJAXDirectives.process(relative,directives,region)!==!1&&!rebuilding&&!oauthing)if((_d2=form==null?void 0:form.steps)!=null&&_d2.length){const removedItem=form.steps.shift();return(_e2=sim(self2.__dom).find(".modal-footer button.btn-primary"))==null||_e2.remove(),_build({name:cfg.name,team:cfg.team},{config:removedItem.config,values:directives,options:{},steps:form.steps,buttons:removedItem.buttons},relative)}else return self2.hide()})}}return!1})),form.on("loading-start",()=>button.prop("disabled",!0)),form.on("loading-stop",()=>button.prop("disabled",!1)),self2.show(()=>form.focusFirst())}),form.once("has_advanced_parameters",()=>sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(this.prependTo(self2._footer),this.div(".switch.switch-xs.mr-2",function(){return this.switch(),this.on("change",()=>form.advancedParametersVisible=this.data("status")==="on")}),this.write(imt.l("inspector","buttons.showadvanced")),form.built)return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))}))};return _data?_build(_cfg,_data,_relative,_loaded,_onLoad,_onError):Loader.load(_cfg.url,{headers:{"imt-remote-formula":1}},function(err,data2){return err?(_onError&&_onError(),new Alert(Alert.parseError(err)).show()):_build(_cfg,data2,_relative,_loaded,_onLoad,_onError)})}},globalThis.RemoteFormulaPanel=class extends Panel{constructor(relative,cfg){super(relative),cfg.help&&(this.help=cfg.help),cfg.width&&this.width(cfg.width),cfg.expandable&&(this.expandable=cfg.expandable),this.title=cfg.name,this.loading=!0,this.build(cfg,relative)}build(cfg,relative){const self2=this,buttons=sim.array();return sim.button(".btn.btn-sm.btn-outline-secondary",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),buttons.push(this),this.on("click",self2._close)}),Loader.load(cfg.url,{headers:{"imt-remote-formula":1},method:cfg.method},function(err,data2){var _a2;if(err)return self2.warn(err);const form=new Formula(cfg.name);return form.config=data2.config,form.values=data2.values,form.options=cfg.options??{},(_a2=form.options).team??(_a2.team=cfg.team),form.on("resize",self2._resize),form.build(function(err2){return err2?self2.warn(err2):(sim.button(".btn.btn-sm.btn-primary",function(){var _a3;return this.attr("type","button"),this.text(cfg.save||imt.l("base","common.save")),this.appendTo(self2._footer),buttons.push(this),((_a3=form.options.package)==null?void 0:_a3.name)==="quickbooks"&&(this.text("").addClass("p-0 b-0"),this.img(function(){return this.attr("src",imt.static("/img/3rdparty/quickbooks_connect.png")),this.css("height","31px")})),this.on("click",function(event){if(form.isValid()){let formData,saveMethod,saveUrl,win2;if(self2.loading=!0,this.prop("disabled",!0),data2.multipart){formData=new FormData;const object2=form.toJSON();for(var key in object2){var value=object2[key];if(value instanceof FileList)for(var file of value)formData.append(`${key}[]`,file);else if(Array.isArray(value))for(var elm of value)formData.append(`${key}[]`,elm);else formData.append(key,value)}}else formData=form.toJSON();if(!browser.mobile&&form.getDataValueOfSelectedItem("accountType","method")==="oauth"&&(win2=FormulaOAuth.win(),!win2))return this.prop("disabled",!1),self2.warn(new Error(imt.l("base","common.popup")),form);const saveBtnConfig=data2.buttons&&data2.buttons.find(x2=>x2.action==="http");saveBtnConfig?(saveUrl="api:/"+saveBtnConfig.address,saveMethod=saveBtnConfig.method):(saveUrl=cfg.url,saveMethod="POST"),Loader.load(saveUrl,{method:saveMethod,data:formData,headers:{"imt-remote-formula":1}},(err3,directives)=>{var _a4,_b2,_c2,_d2;let region;if(err3)return win2==null||win2.close(),this.prop("disabled",!1),self2.warn(err3,form);self2.emit("save"),cfg.requestId&&imtEvents.dispatch(cfg.requestId,data2);let rebuilding=!1,oauthing=!1;if(directives.formula){if(directives.formula.oauth){oauthing=!0;const successArgs=[directives.formula.oauth.account,directives.formula.oauth.accountName,directives.formula.oauth.provider];FormulaOAuth.auth.call(self2,win2,directives.formula.oauth.account,(_b2=(_a4=form.options.oauth)==null?void 0:_a4.scope)==null?void 0:_b2[directives.formula.oauth.provider],err4=>{var _a5;return err4?(this.prop("disabled",!1),self2.warn(err4,form)):((_a5=cfg.success)==null||_a5.apply(self2,successArgs),self2._close())})}else win2&&win2.close();!oauthing&&directives.formula.rebuild&&(rebuilding=!0,buttons.remove(),self2.build(extend(cfg,directives.formula.rebuild),relative)),!oauthing&&directives.formula.success&&((_c2=cfg.success)==null||_c2.apply(self2,directives.formula.success)),delete directives.formula}else(_d2=cfg.success)==null||_d2.call(self2,directives);if(relative&&(region=relative.closest(".list-group-item"),region??(region=relative.closest("tr"))),AJAXDirectives.process(relative,directives,region)!==!1&&!rebuilding&&!oauthing)return self2._close()})}return!1}),form.on("loading-start",()=>this.prop("disabled",!0)),form.on("loading-stop",()=>this.prop("disabled",!1))}),self2.content=form,self2.loading=!1,form.focusFirst())}),form.once("has_advanced_parameters",()=>sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(this.prependTo(self2._footer),this.div(".switch.switch-xs.mr-2",function(){return this.switch(),this.on("change",()=>form.advancedParametersVisible=this.data("status")==="on")}),this.write(imt.l("inspector","buttons.showadvanced")),form.built)return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))})),self2.on("destroy",()=>form.destroy())})}};/*
	Integromat Formula

	@license Copyright (c) Integromat - All rights reserved.
	@author Patrik Simek
	*/imt.plugins.push({name:"Formula"}),sim(document).on("click",".i-remote-formula",function(){let ifa,ocn;if(imt.remotes.includes(this))return;imt.remotes.push(this);const cfg={options:{}},object2=this.data();for(var key in object2){var value=object2[key];/^options-(.*)$/.exec(key)?cfg.options[RegExp.$1]=value:key==="team"?cfg[key]=parseInt(value):key==="href"?cfg.url=value:cfg[key]=value}return cfg.name??(cfg.name="Remote"),cfg.save??(cfg.save="Save"),cfg.url??(cfg.url=this.attr("href")),(this.is("button")||this.is("a"))&&(ifa=this.children("i").first(),ifa&&(ocn=ifa.attr("class"),ifa.attr("class","far fa-fw fa-spinner-third fa-spin "+ocn.replace(/(far|fal|fab|fas|fa-[^ ]+)( |$)/g," "))),this.prop("disabled",!0)),new RemoteFormulaModal(cfg,this,()=>{if(imt.remotes.splice(imt.remotes.indexOf(this),1),this.is("button")||this.is("a"))return ifa&&ifa.attr("class",ocn),this.prop("disabled",!1)}),!1}),Object.defineProperty(IMTDate,"timezone",{enumerable:!1,get(){return imt.user.timezone}});//    @license Copyright (c) Integromat - All rights reserved.
const EASING={linear(t2,b2,c2,d2){return c2*t2/d2+b2},easeOutElastic(t2,b2,c2,d2){let s2=1.70158,p2=0,a2=c2;return t2===0?b2:(t2/=d2)===1?b2+c2:(p2||(p2=d2*.3),a2<Math.abs(c2)?(a2=c2,s2=p2/4):s2=p2/(2*Math.PI)*Math.asin(c2/a2),a2*Math.pow(2,-10*t2)*Math.sin((t2*d2-s2)*(2*Math.PI)/p2)+c2+b2)},easeInCirc(t2,b2,c2,d2){return-c2*(Math.sqrt(1-(t2/=d2)*t2)-1)+b2},easeOutCirc(t2,b2,c2,d2){return c2*Math.sqrt(1-(t2=t2/d2-1)*t2)+b2},easeInOutQuad(t2,b2,c2,d2){return(t2/=d2/2)<1?c2/2*t2*t2+b2:-c2/2*(--t2*(t2-2)-1)+b2},easeOutBack(t2,b2,c2,d2){return c2*((t2=t2/d2-1)*t2*((1.70158+1)*t2+1.70158)+1)+b2}};class Animation extends EventEmitter$1{static initClass(){this.prototype._start=null,this.prototype._delay=null}constructor(object2,properties,options={}){var _a2,_b2,_c2,_d2,_e2;if(super(),this.object=object2,this.properties=properties,this.options=options,(_a2=this.options).duration??(_a2.duration=1e3),(_b2=this.options).easing??(_b2.easing="linear"),this.options.interrupt===!0&&((_c2=this.object.animations)==null||_c2.stop(this.properties)),this._prepare(),Object.keys(this.properties).length===0){(_d2=this.options.complete)==null||_d2.call(this.object,!1),(_e2=this.options.stop)==null||_e2.call(this.object);return}this.start()}_prepare(){return(()=>{const result=[];for(var name in this.properties){var property=this.properties[name];typeof property!="object"?this.properties[name]={from:this.object[name],to:property}:(this.properties[name].plus!=null&&(this.properties[name].from=this.object[name],this.properties[name].to=this.object[name]+this.properties[name].plus),this.properties[name].minus!=null&&(this.properties[name].from=this.object[name],this.properties[name].to=this.object[name]-this.properties[name].minus)),this.properties[name].from===this.properties[name].to?result.push(delete this.properties[name]):result.push(void 0)}return result})()}_compute(property,time){return EASING[this.options.easing](Math.min(time,this.options.duration),property.from,property.to-property.from,this.options.duration,null)}start(){var _a2;if(this.options.duration===0){for(var name in this.properties){var property=this.properties[name];this.object[name]=property.to}return setImmediate(()=>{var _a3,_b2;return(_a3=this.options.complete)==null||_a3.call(this.object,!1),(_b2=this.options.stop)==null?void 0:_b2.call(this.object)})}return this.options.delay?this._delay=delay(this.options.delay,()=>(this._start=Date.now(),this._delay=null)):this._start=Date.now(),(_a2=this.object.animations)==null||_a2.add(this),this}stop(interrupted=!1){var _a2,_b2;if(this._delay&&undelay(this._delay),(_a2=this.options.stop)==null||_a2.call(this.object),interrupted===!0&&this.options.completeOnInterrupt===!0){for(var name in this.properties){var property=this.properties[name];this.object[name]=property.to}(_b2=this.options.complete)==null||_b2.call(this.object,!0)}return this.object.animations.remove(this),this}tick(){var _a2,_b2;if(!this._start)return;const time=Date.now()-this._start;for(var name in this.properties){var property=this.properties[name];this.object[name]=this._compute(property,time)}return(_a2=this.options.tick)==null||_a2.call(this.object,time),time>=this.options.duration&&(this.options.repeat?(this.options.repeats==null||this.options.repeats!=null&&this.options.repeats-- >0)&&(this._start=Date.now()-(time-this.options.duration)):((_b2=this.options.complete)==null||_b2.call(this.object,!1),this.stop())),null}}Animation.initClass();class ColorAnimation extends Animation{_prepare(){return(()=>{const result=[];for(var name in this.properties){var property=this.properties[name];property instanceof ImtColor?result.push(this.properties[name]={from:new ImtColor(this.object[name]),to:property}):(property.from instanceof ImtColor||(property.from=new ImtColor(property.from)),property.to instanceof ImtColor?result.push(void 0):result.push(property.to=new ImtColor(property.to)))}return result})()}_compute(property,time){const r2=EASING[this.options.easing](Math.min(time,this.options.duration),property.from.red,property.to.red-property.from.red,this.options.duration,null),g2=EASING[this.options.easing](Math.min(time,this.options.duration),property.from.green,property.to.green-property.from.green,this.options.duration,null),b2=EASING[this.options.easing](Math.min(time,this.options.duration),property.from.blue,property.to.blue-property.from.blue,this.options.duration,null),a2=EASING[this.options.easing](Math.min(time,this.options.duration),property.from.alpha,property.to.alpha-property.from.alpha,this.options.duration,null);return new ImtColor(r2,g2,b2,a2).toRGBA()}}class Animations{static initClass(){this.prototype._array=null,this.property("length",{get(){return this._array.length}})}constructor(object2){this._attach=this._attach.bind(this),this._detach=this._detach.bind(this),this.object=object2,this._array=[],this.object.on("attach",this._attach),this.object.on("detach",this._detach)}_attach(){for(var animation of this._array)this.object.stage.stageAnimations.add(animation);return null}_detach(){for(var animation of this._array)this.object.stage.stageAnimations.remove(animation);return null}destroy(){for(this.object.off("attach",this._attach),this.object.off("detach",this._detach);this._array.length;)this.remove(this._array[0]);return this.object=null,this._array=null}add(animation){var _a2;return this._array.push(animation),(_a2=this.object.stage)==null||_a2.stageAnimations.add(animation),this}remove(animation){var _a2;const index2=this._array.indexOf(animation);if(index2!==-1)return this._array.splice(index2,1),(_a2=this.object.stage)==null||_a2.stageAnimations.remove(animation),this}stop(properties){let animation;if(properties!=null){let names;typeof properties=="string"?names=[properties]:Array.isArray(properties)?names=properties:names=Object.keys(properties);for(animation of this._array.clone())for(var name in animation.properties)if(names.includes(name)){animation.stop(!0);break}}else for(animation of this._array.clone())animation.stop(!0);return this}}Animations.initClass();class StageAnimations{static initClass(){this.prototype._array=null,this.property("length",{get(){return this._array.length}})}constructor(stage){this.stage=stage,this._array=[]}destroy(){for(;this._array.length;)this.remove(this._array[0]);return this._array=null}add(animation){return this._array.push(animation),this.stage.render(),this}remove(animation){const index2=this._array.indexOf(animation);if(index2!==-1)return this._array.splice(index2,1),this}tick(){for(var animation of this._array.clone())animation.tick();return null}}StageAnimations.initClass(),(globalThis.BackBuffer=class{static initClass(){this.prototype.canvas=null,this.prototype.context=null,this.prototype.__width=0,this.prototype.__height=0,this.property("width",{get(){return this.__width},set(value){if(value=parseFloat(value),!isNaN(value)&&value!==this.__width)return this.__width=value,this.canvas.width=value}}),this.property("height",{get(){return this.__height},set(value){if(value=parseFloat(value),!isNaN(value)&&this.__height!==value)return this.__height=value,this.canvas.height=value}})}constructor(width,height){this.canvas=document.createElement("canvas"),this.canvas.width=this.__width=width,this.canvas.height=this.__height=height,this.context=this.canvas.getContext("2d"),this.context.save()}destroy(){return this.canvas=null,this.context=null,this}clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this}drawImage(){return this.context.drawImage(...arguments),this}filter(filter2){const[type,opts]=filter2.split(":");try{switch(type){case"invert":for(var data2=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),{length}=data2.data,index2=0;index2<length;)data2.data[index2]=255-data2.data[index2],data2.data[index2+1]=255-data2.data[index2+1],data2.data[index2+2]=255-data2.data[index2+2],index2+=4;this.context.putImageData(data2,0,0);break;case"colorize":data2=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),{length}=data2.data,index2=0;for(var color=new ImtColor(opts);index2<length;)data2.data[index2]=color.red,data2.data[index2+1]=color.green,data2.data[index2+2]=color.blue,index2+=4;this.context.putImageData(data2,0,0);break}}catch(ex){console.warn(`Failed to apply filter '${type}'. ${ex.message}`)}return this}reset(){return this.context.restore(),this.context.save(),this}}).initClass(),CanvasRenderingContext2D.prototype.clear=function(){return this.clearRect(0,0,this.canvas.width,this.canvas.height)},CanvasRenderingContext2D.prototype.fillArc=function(x2,y2,r2,sa,ea,cc){return this.beginPath(),this.arc(...arguments),this.fill()},CanvasRenderingContext2D.prototype.fillRoundRect=function(x2,y2,width,height,radius){return this.roundRect(...arguments),this.fill()},CanvasRenderingContext2D.prototype.line=function(x2,y2,x22,y22){return this.beginPath(),this.moveTo(x2,y2),this.lineTo(x22,y22),this.stroke()},CanvasRenderingContext2D.prototype.polygon=function(x2,y2,size,sides){this.beginPath(),this.moveTo(x2+size*Math.cos(0),y2+size*Math.sin(0));for(let i2=1,end2=sides,asc=1<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)this.lineTo(x2+size*Math.cos(i2*2*Math.PI/sides),y2+size*Math.sin(i2*2*Math.PI/sides));return this.closePath()},CanvasRenderingContext2D.prototype.fillRoundPolygon=function(x2,y2,size,sides,radius){const stroke=this.strokeStyle,lwidth=this.lineWidth,ljoin=this.lineJoin;this.strokeStyle=this.fillStyle,this.lineWidth=radius*2,this.lineJoin="round",this.beginPath(),this.moveTo(x2+size*Math.cos(0),y2+size*Math.sin(0));for(let i2=1,end2=sides,asc=1<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)this.lineTo(x2+size*Math.cos(i2*2*Math.PI/sides),y2+size*Math.sin(i2*2*Math.PI/sides));return this.closePath(),this.stroke(),this.fill(),this.strokeStyle=stroke,this.lineWidth=lwidth,this.lineJoin=ljoin},CanvasRenderingContext2D.prototype.elipse=function(x2,y2,width,height){return this.beginPath(),this.moveTo(x2,y2-height/2),this.bezierCurveTo(x2+width/2,y2-height/2,x2+width/2,y2+height/2,x2,y2+height/2),this.bezierCurveTo(x2-width/2,y2+height/2,x2-width/2,y2-height/2,x2,y2-height/2),this.closePath()},CanvasRenderingContext2D.prototype.tv=function(x2,y2,width,height,offset2=30,radius=30,pressure=30){const angle=Math.atan2(offset2-pressure-offset2,width/2-(offset2+radius)),angle2=-90 .toRad()+Math.atan2(height/2-(offset2+radius),width-offset2+pressure-(width-offset2)),x1=offset2+radius,y1=offset2+radius,x22=width-offset2-radius,y22=offset2+radius,x3=width-offset2-radius,y3=height-offset2-radius,x4=offset2+radius,y4=height-offset2-radius;this.beginPath(),this.rect(x2,y2,width,height),this.closePath();let fa=angle2-180 .toRad(),ta=angle+90 .toRad();return this.arc(x4,y4,radius,fa,ta,!0),this.quadraticCurveTo(width/2,height-offset2+pressure,x3-radius*Math.cos(ta),y3+radius*Math.sin(ta)),fa=angle+90 .toRad(),ta=-angle2,this.arc(x3,y3,radius,fa,ta,!0),this.quadraticCurveTo(width-offset2+pressure,height/2,x22+radius*Math.cos(ta),y22-radius*Math.sin(ta)),fa=angle2,ta=angle-90 .toRad(),this.arc(x22,y22,radius,fa,ta,!0),this.quadraticCurveTo(width/2,offset2-pressure,x1-radius*Math.cos(ta),y1+radius*Math.sin(ta)),fa=angle-90 .toRad(),ta=-angle2+180 .toRad(),this.arc(x1,y1,radius,fa,ta,!0),this.quadraticCurveTo(offset2-pressure,height/2,x4+radius*Math.cos(ta),y4-radius*Math.sin(ta)),this.closePath(),this.fill()};class Style{constructor(owner){this.owner=null,this.owner=owner}get animations(){return this.owner.animations}}class DisplayObject extends EventEmitter$1{get surfaceVersion(){return"1"}static initClass(){this.prototype.stage=null,this.prototype.animations=null,this.prototype.opacity=1,this.prototype.origin=null,this.prototype.style=null,this.prototype._commiting=!1,this.prototype._buffer=null,this.prototype.__x=0,this.prototype.__y=0,this.prototype.__width=0,this.prototype.__height=0,this.prototype.__visible=!0,this.prototype.__stage=null,this.prototype.__rotate=0,this.prototype.__interactive=!1,this.prototype.__focusable=!1,this.prototype.__draggable=!1,this.prototype.__selectable=!1,this.prototype.__scale=1,this.property("draggable",{get(){return this.__draggable},set(value){if(this.__draggable!==value)return this.__draggable=value}}),this.property("focusable",{get(){return this.__focusable},set(value){if(this.__focusable!==value)return this.__focusable=value}}),this.property("selected",{get(){return(this.stage!=null?this.stage.surface.input.selected.indexOf(this):void 0)!==-1||!1}}),this.property("selectable",{get(){return this.__selectable},set(value){if(this.__selectable!==value)return this.__selectable=value}}),this.property("interactive",{get(){return GLOBAL_STATE.MOUSE_DRAGGING&&this===GLOBAL_STATE.MOUSE_TARGET?!1:this.__interactive},set(value){if(this.__interactive!==value)return this.__interactive=value}}),this.property("bounds",{get(){return new Rectangle(this.x-this.origin.x,this.y-this.origin.y,this.width,this.height)}}),this.property("documentCoords",{get(){if(!this.stage)return new Point(this.x-this.origin.x,this.y-this.origin.y);const point=new Point(this.x,this.y);this.scale&&point.transform(new Matrix().scale(1/this.scale,1/this.scale));let{parent:parent2}=this;for(;parent2&&parent2!==this.stage;)parent2.scale&&point.transform(new Matrix().scale(1/parent2.scale,1/parent2.scale)),point.transform(new Matrix().translate(parent2.x-parent2.origin.x,parent2.y-parent2.origin.y)),{parent:parent2}=parent2;return point.transform(new Matrix().translate(this.stage.x,this.stage.y)),point.transform(new Matrix().scale(this.stage.scale,this.stage.scale)),point.transform(new Matrix().translate(this.stage.surface.camera.origin.x,this.stage.surface.camera.origin.y)),point.transform(new Matrix().scale(1/window.devicePixelRatio,1/window.devicePixelRatio)),point}}),this.property("stage",{get(){return this.__stage},set(value){if(this.__stage!==value&&(value==null&&this.emit("detach"),this.__stage=value,value!=null))return this.emit("attach")}}),this.property("rotate",{get(){return this.__rotate},set(value){if(this.__rotate!==value)return this.__rotate=value,this.emit("rotate"),this.surface!=null?this.surface.render():void 0}}),this.property("scale",{get(){return this.__scale},set(value){if(this.__scale!==value)return this.__scale=value,this.surface!=null?this.surface.render():void 0}}),this.property("width",{get(){return this.__width},set(value){if(value=parseFloat(value),!isNaN(value)&&this.__width!==value)return this.__width=value,this.surface!=null&&this.surface.render(),this.emit("resize")}}),this.property("height",{get(){return this.__height},set(value){if(value=parseFloat(value),!isNaN(value)&&this.__height!==value)return this.__height=value,this.surface!=null&&this.surface.render(),this.emit("resize")}}),this.property("x",{get(){return this.__x},set(value){if(value=parseFloat(value),!isNaN(value)&&this.__x!==value)return this.__x=value,this.surface!=null&&this.surface.render(),this.emit("move")}}),this.property("y",{get(){return this.__y},set(value){if(value=parseFloat(value),!isNaN(value)&&this.__y!==value)return this.__y=value,this.surface!=null&&this.surface.render(),this.emit("move")}}),this.property("visible",{get(){return this.__visible},set(value){if(this.__visible!==value)return this.emit("visibility-change",value),this.__visible=value,this.surface!=null?this.surface.render():void 0}})}constructor(x2=0,y2=0,width=0,height=0){super(),this.__x=x2,this.__y=y2,this.__width=width,this.__height=height,this.style=new Style(this),this.origin=new Point(0,0),this.animations=new Animations(this);const{render}=this.constructor.prototype;this.render=context=>{if(context.save(),context.translate(this.x,this.y),this.rotate&&context.rotate(this.rotate*Math.PI/180),this.scale!==1&&context.scale(this.scale,this.scale),this.opacity!==1&&(context.globalAlpha=this.opacity),(this.origin.x!==0||this.origin.y!==0)&&context.translate(-this.origin.x,-this.origin.y),render.call(this,context),this.stage.surface.debug&&(context.save(),context.globalAlpha=.3,context.setLineDash([5]),context.lineWidth=1,context.strokeStyle="#333",context.beginPath(),context.rect(0,0,this.width,this.height),context.stroke(),context.restore()),context.restore(),this.stage.surface.debug)return context.save(),context.translate(this.x,this.y),context.globalAlpha=.8,context.lineWidth=1,context.strokeStyle="#f00",context.beginPath(),context.moveTo(0,0),this.rotate&&context.rotate(this.rotate*Math.PI/180),this.scale!==1&&context.scale(this.scale,this.scale),(this.origin.x!==0||this.origin.y!==0)&&context.translate(-this.origin.x,-this.origin.y),context.lineTo(0,0),context.stroke(),context.beginPath(),context.fillStyle="#ff0000",context.arc(0,0,3,0,2*Math.PI),context.fill(),context.restore()}}destroy(){return this.animations!=null&&this.animations.destroy(),this.animations=null}appendTo(container){return container.append(this)}contains(point){if(point instanceof Point){const pt=new Point(point.x-this.x,point.y-this.y);return this.rotate&&pt.transform(new Matrix().rotate(this.rotate.toRad())),this.scale&&pt.transform(new Matrix().scale(1/this.scale)),new Rectangle(-this.origin.x,-this.origin.y,this.width,this.height).contains(pt)}else return!1}detach(){return this.parent!=null?this.parent.detach(this):void 0}focus(){return this.stage!=null?this.stage.surface.input.focus=this:void 0}move(x2,y2,duration=0){return x2===this.__x&&y2===this.__y?this:duration>0?(new Animation(this,{x:x2,y:y2},{interrupt:!0,easing:"easeOutCirc",duration}),this):(x2!=null&&(this.__x=x2),y2!=null&&(this.__y=y2),this.stage!=null&&this.stage.render(),this.emit("move"),this)}resize(width,height,duration=0){if(!(width===this.__width&&height===this.__height))return duration>0?(new Animation(this,{width,height},{interrupt:!0,easing:"easeOutCirc",duration}),this):(width!=null&&(this.__width=width),height!=null&&(this.__height=height),this.stage!=null&&this.stage.render(),this.emit("resize"),this)}render(context){}update(){return this.stage!=null?this.stage.render():void 0}}DisplayObject.initClass();class DisplayObjectContainer extends DisplayObject{static initClass(){this.prototype.children=null,this.prototype.priorities=null,this.property("contentBounds",{get(){const bounds=new Rectangle(0,0,this.width,this.height);for(var child of this.children)child.visible&&child.opacity>0&&child.scale>0&&(child instanceof DisplayObjectContainer?bounds.inflate(child.contentBounds.translate(new Point(child.x,child.y))):bounds.inflate(child.bounds));return bounds}}),this.property("stage",{get(){return this.__stage},set(value){if(this.__stage!==value)return value==null&&this.emit("detach"),this.__stage=value,value!=null&&this.emit("attach"),this.children.map(child=>child.stage=value)}})}constructor(){super(...arguments);const self2=this;this.children=[],this.children.sort=function(){if(self2.priorities==null)return;const sorted=[0,this.length];let children=this.slice(0);for(var priority of self2.priorities)if(children=children.reduce(function(array2,child){return child instanceof priority?sorted.push(child):array2.push(child),array2},[]),children.length===0)break;return children.length&&sorted.push.apply(sorted,children),this.splice.apply(this,sorted)}}attach(child,index2){return child.parent===this?this:(child.parent&&child.detach(),child.parent=this,index2!=null?index2===0?this.children.unshift(child):this.children.splice(index2,0,child):this.children.push(child),this.children.sort(),child.stage=this.stage,this.stage!=null&&this.stage.render(),this)}boundsOf(classes2){Array.isArray(classes2)||(classes2=[classes2]);const bounds=new Rectangle(0,0,0,0);for(var child of this.children)if(child.visible&&child.opacity>0&&child.scale>0)for(var klass of classes2)child instanceof klass&&bounds.inflate(child.bounds);return bounds}contains(child){if(child instanceof Point)return super.contains(child);let parent2=child;for(;parent2;){if(parent2===this)return!0;({parent:parent2}=parent2)}return!1}detach(child){if(!arguments.length)return super.detach();if(!child.parent)return this;const index2=this.children.indexOf(child);return index2===-1?this:(child.selected&&this.stage!=null&&(this.stage.surface.input.selected=this.stage.surface.input.selected.filter(object2=>object2!==child)),this.children.splice(index2,1),this.children.sort(),child.parent=null,child.stage=null,this.stage!=null&&this.stage.render(),this)}find(classes2){Array.isArray(classes2)||(classes2=[classes2]);const objects=[];for(var child of this.children)for(var klass of classes2)child instanceof klass&&objects.push(child);return objects}childAt(point){if(!(point instanceof Point))throw new TypeError("Point expected.");(this.x||this.y)&&(point=new Point(point.x-this.x,point.y-this.y)),this.rotate&&(point=new Point(point.x,point.y).transform(new Matrix().rotate(this.rotate.toRad()))),(this.origin.x||this.origin.y)&&(point=new Point(point.x+this.origin.x,point.y+this.origin.y));for(let i2=this.children.length-1;i2>=0;i2--){var child=this.children[i2];if(child.visible){if(child instanceof DisplayObjectContainer){var found=child.childAt(point);if(found)return found;if(child.interactive&&child.contains(point))return child}else if(child.interactive&&child.contains(point))return child}}return null}childrenAt(rectangle){if(!(rectangle instanceof Rectangle))throw new TypeError("Rectangle expected.");if((this.x||this.y)&&(rectangle=new Rectangle(rectangle.x-this.x,rectangle.y-this.y,rectangle.width,rectangle.height)),this.rotate)throw new Error("Rotation is not supported with childrenAt.");(this.origin.x||this.origin.y)&&new Rectangle(rectangle.x-this.origin.x,rectangle.y-this.origin.y,rectangle.width,rectangle.height);const children=[];for(let i2=this.children.length-1;i2>=0;i2--){var child=this.children[i2];child.visible&&child.interactive&&rectangle.contains(new Point(child.x,child.y))&&children.push(child)}return children}render(context){super.render(context);for(var child of this.children)child.visible&&child.opacity>0&&child.scale>0&&child.render(context);return this}toFront(child){const index2=this.children.indexOf(child);return index2===-1?this:(this.children.splice(index2,1),this.children.push(child),this.children.sort(),this.stage!=null&&this.stage.render(),this)}}DisplayObjectContainer.initClass();const PIXEL_SIZE=4;class Shape extends DisplayObject{constructor(type="circle",x2,y2,width,height,radius){["circle","pie"].includes(type)&&(height=width);super(x2,y2,width,height);__publicField(this,"startAngle",0);__publicField(this,"endAngle",Math.PI*2);__publicField(this,"pieThickness",10);switch(this.type=type,this._radius=radius,this.type){case"cross":this.origin=new Point(this.width/2,this.height/2);break;case"arrow":this.width=12*PIXEL_SIZE,this.height=19*PIXEL_SIZE;break}}render(context){super.render(context);let fill=!1,stroke=!1;switch(this.style.opacity!=null&&(context.globalAlpha=this.style.opacity),this.style.backgroundColor!=null&&(context.fillStyle=this.style.backgroundColor,fill=!0),this.style.borderWidth>0&&this.style.borderColor?(context.lineWidth=this.style.borderWidth,context.strokeStyle=this.style.borderColor,stroke=!0,this.style.borderCap&&(context.lineCap=this.style.borderCap),this.style.borderStyle==="dashed"&&(context.setLineDash([this.style.borderDashLine??15,this.style.borderDashGap??10]),context.lineDashOffset=this.style.borderDashOffset||4)):context.lineWidth=0,this.style.shadowColor&&(context.shadowColor=this.style.shadowColor,context.shadowBlur=this.style.shadowBlur??20,context.shadowOffsetX=this.style.shadowOffsetX??0,context.shadowOffsetY=this.style.shadowOffsetY??0),this.type){case"cross":return context.fillStyle="#fff",context.lineWidth=1,context.strokeStyle="#000",context.line(0,this.height/2,this.width,this.height/2),context.line(this.width/2,0,this.width/2,this.height),context.beginPath(),context.arc(this.width/2,this.height/2,this.width/8,0,2*Math.PI),context.fill(),context.stroke();case"circle":case"pie":if(context.beginPath(),context.arc(this.width/2,this.width/2,this.width/2,this.startAngle,this.endAngle),(this.startAngle!==0||this.endAngle!==Math.PI*2)&&context.lineTo(this.width/2,this.width/2),this.type==="pie"&&context.arc(this.width/2,this.width/2,this.width/2-this.pieThickness,this.endAngle,this.startAngle,!0),fill&&context.fill(),stroke)return context.stroke();break;case"ellipse":if(context.beginPath(),context.ellipse(this.width/2,this.height/2,this.width/2,this.height/2,0,this.startAngle,this.endAngle),fill&&context.fill(),stroke)return context.stroke();break;case"rectangle":if(context.beginPath(),context.rect(0,0,this.width,this.height),fill&&context.fill(),stroke)return context.stroke();break;case"roundRectangle":if(context.beginPath(),context.roundRect(0,0,this.width,this.height,this._radius),fill&&context.fill(),stroke)return context.stroke();break;case"line":if(context.line(0,0,this.width,this.height),stroke)return context.stroke();break;case"shadow":context.scale(1,.4);var gradient=context.createRadialGradient(this.width/2,this.width/2,3,this.width/2,this.width/2,this.width/2);return gradient.addColorStop(0,"rgba(0, 0, 0, .12)"),gradient.addColorStop(1,"rgba(0, 0, 0, 0)"),context.beginPath(),context.arc(this.width/2,this.width/2,this.width/2,0,2*Math.PI),context.fillStyle=gradient,context.fill();case"arrow":var pixel=PIXEL_SIZE;return context.beginPath(),context.rect(pixel*1,pixel*2,pixel*2,pixel*14),context.rect(pixel*3,pixel*4,pixel*2,pixel*10),context.rect(pixel*5,pixel*6,pixel*2,pixel*10),context.rect(pixel*7,pixel*8,pixel*2,pixel*4),context.rect(pixel*9,pixel*10,pixel*2,pixel*2),context.rect(pixel*7,pixel*14,pixel*2,pixel*4),context.closePath(),context.fill(),context.fillStyle=context.strokeStyle,context.fillRect(0,0,pixel,pixel*17),context.fillRect(pixel*1,pixel*1,pixel,pixel),context.fillRect(pixel*2,pixel*2,pixel,pixel),context.fillRect(pixel*3,pixel*3,pixel,pixel),context.fillRect(pixel*4,pixel*4,pixel,pixel),context.fillRect(pixel*5,pixel*5,pixel,pixel),context.fillRect(pixel*6,pixel*6,pixel,pixel),context.fillRect(pixel*7,pixel*7,pixel,pixel),context.fillRect(pixel*8,pixel*8,pixel,pixel),context.fillRect(pixel*9,pixel*9,pixel,pixel),context.fillRect(pixel*10,pixel*10,pixel,pixel),context.fillRect(pixel*11,pixel*11,pixel,pixel),context.fillRect(pixel*7,pixel*12,pixel*5,pixel),context.fillRect(pixel*7,pixel*13,pixel,pixel),context.fillRect(pixel*8,pixel*14,pixel,pixel*2),context.fillRect(pixel*9,pixel*16,pixel,pixel*2),context.fillRect(pixel*7,pixel*18,pixel*2,pixel),context.fillRect(pixel*6,pixel*16,pixel,pixel*2),context.fillRect(pixel*5,pixel*14,pixel,pixel*2),context.fillRect(pixel*4,pixel*13,pixel,pixel),context.fillRect(pixel*3,pixel*14,pixel,pixel),context.fillRect(pixel*2,pixel*15,pixel,pixel),context.fillRect(pixel*1,pixel*16,pixel,pixel)}}}class VisualGuide extends DisplayObjectContainer{static initClass(){this.prototype.repeat=!0,this.prototype.repeatInterval=1e3}constructor(x2,y2){let relative;x2 instanceof DisplayObject&&(relative=x2,{x:x2}=relative,{y:y2}=relative),super(x2,y2),relative&&(relative.once("focus",()=>this.detach()),relative.on("move",()=>this.move(relative.x,relative.y))),this._click=new Shape("circle",0,0,30,30),this._click.style.borderColor="#ccc",this._click.style.borderWidth=15,this._click.origin=new Point(15,15),this._click.opacity=0,this.attach(this._click),this._pointer=new Shape("arrow",0,0,40,40),this._pointer.style.backgroundColor="#fff",this._pointer.style.borderColor="#000",this._pointer.style.borderWidth=2,this.attach(this._pointer),this.on("attach",()=>this.start()),this.on("detach",()=>this.stop())}start(){return this._animate(()=>{if(this.repeat)return setTimeout(()=>this.start(),this.repeatInterval)})}stop(){return this.animations.stop()}_animate(done){return setImmediate(done)}_animateClick(done){return this._click.opacity=1,new Animation(this._click.style,{borderWidth:{from:20,to:0}},{duration:300,easing:"easeOutCirc"}),new Animation(this._click,{scale:{from:.5,to:3}},{duration:300,easing:"easeOutCirc"}),setTimeout(()=>new Animation(this._click,{opacity:0},{duration:200,easing:"easeOutCirc",complete:done}),100)}_animateMouseDown(done){return this._pointer.style.backgroundColor="#ddd",this._animateClick(done)}_animateMouseUp(done){return this._pointer.style.backgroundColor="#fff",this._animateClick(done)}_animatePointerIn(done){return new Animation(this._pointer,{x:{from:-60,to:0},y:{from:60,to:0},opacity:{from:0,to:1},scale:{from:.5,to:1}},{duration:500,easing:"easeOutCirc",complete:done})}_animatePointerOut(done){return new Animation(this._pointer,{opacity:0},{duration:150,easing:"easeOutCirc",complete:done})}}VisualGuide.initClass();class Image extends DisplayObject{constructor(url,x2,y2,width,height){super(x2,y2,width,height),this.url=url}get url(){return this.__url}set url(value){this.__url!==value&&(this.__url=value,this._bb=null,this.visible=!1,value&&Loader.image(value,{crossOrigin:"anonymous"},(err,_data)=>{var _a2;if(this._data=_data,!err){if(this._bb=new BackBuffer(this._data.width,this._data.height),this._bb.drawImage(this._data,0,0,this._data.width,this._data.height),(_a2=this.__filters)!=null&&_a2.length)for(var filter2 of this.__filters)this._bb.filter(filter2);return this.visible=!0}}))}get filters(){return this.__filters}set filters(value){var _a2,_b2;if(this.__filters!==value&&(this.__filters=value,this._bb!=null)){this._bb.clear(),this._bb.drawImage(this._data,0,0,((_a2=this._data)==null?void 0:_a2.width)??this.width,((_b2=this._data)==null?void 0:_b2.height)??this.height);for(var filter2 of this.__filters)this._bb.filter(filter2)}}render(context){if(super.render(context),this._bb!=null)return context.drawImage(this._bb.canvas,0,0,this.width,this.height)}}Image.prototype._bb=null,Image.prototype._data=null,Image.prototype.__visible=!1,Image.prototype.__url=null,Image.prototype.__filters=null;let TEXT_MEASURING_BB=null;class Label extends DisplayObject{constructor(text="",x2,y2,width,height){super(x2,y2,width,height);__publicField(this,"textWidth",0);__publicField(this,"prefix","");__publicField(this,"suffix","");__publicField(this,"__text","");this.__text=text,this.textWidth=0,this.prefix="",this.suffix=""}get text(){return this.__text}set text(value){var _a2;value=String(value),this.__text!==value&&(this.__text=value,TEXT_MEASURING_BB??(TEXT_MEASURING_BB=new BackBuffer(this.width,this.height)),TEXT_MEASURING_BB.context.font=`${this.style.fontWeight??""} ${this.style.fontSize??"14px"} ${this.style.font??DEFAULT_TEXT_FONT}`,this.textWidth=TEXT_MEASURING_BB.context.measureText(value).width,(_a2=this.stage)==null||_a2.render())}render(context){var _a2;if((_a2=this.__text)!=null&&_a2.length)return super.render(context),this.style.color!=null&&(context.fillStyle=this.style.color),context.textAlign=this.style.textAlign??"center",context.textBaseline="middle",context.font=`${this.style.fontWeight??""} ${this.style.fontSize??"14px"} ${this.style.font??DEFAULT_TEXT_FONT}`,context.textAlign==="right"?context.fillText(this.prefix+this.text+this.suffix,this.width,this.height/2,this.width):context.textAlign==="left"?context.fillText(this.prefix+this.text+this.suffix,0,this.height/2,this.width):context.fillText(this.prefix+this.text+this.suffix,this.width/2,this.height/2,this.width)}}const CONTAINER_OFFSET=10,CONTAINER_COLOR=new ImtColor(0,0,0);class AggregationContainer extends DisplayObjectContainer{static initClass(){this.prototype._aggregator=null,this.prototype._bb=null,this.prototype.__feeder=null,this.property("feeder",{get(){return this.__feeder},set(value){var _a2,_b2,_c2;if(value!==this.__feeder)return(_a2=this.__feeder)==null||_a2.off("detach",this._detach),this.__feeder=value,this.visible=value!=null,(_b2=this.__feeder)==null||_b2.on("detach",this._detach),(_c2=this.stage)==null?void 0:_c2.render()}})}constructor(_aggregator){super(0,0,0,0),this._detach=this._detach.bind(this),this._aggregator=_aggregator,this._bb=new BackBuffer(0,0),this.visible=!1}_detach(){return this.feeder=null,this._aggregator.validate()}detach(){return arguments.length?super.detach(...arguments):(this.feeder=null,this._aggregator=null,super.detach())}render(context){let b2;if(!this.__feeder)return;super.render(context);let offset2=1;const{bounds}=this._aggregator;bounds.height=NODE_SIZE;let step=this._aggregator.prev;for(;step&&step!==this.__feeder;)step instanceof Surface.Aggregator&&offset2++,b2=step.bounds,b2.height=NODE_SIZE,bounds.inflate(b2),step=step.prev;if(step!==this.__feeder)return;b2=this.__feeder.bounds,b2.height=NODE_SIZE,bounds.inflate(b2),this._bb.width=bounds.width+offset2*CONTAINER_OFFSET*2,this._bb.height=bounds.height+offset2*CONTAINER_OFFSET*2,this._bb.context.clear(),this._bb.context.save(),this._bb.context.translate(-bounds.x+offset2*CONTAINER_OFFSET,-bounds.y+offset2*CONTAINER_OFFSET),this._bb.context.fillStyle=context.strokeStyle=CONTAINER_COLOR.toRGBA(),this._bb.context.lineWidth=NODE_SIZE+offset2*CONTAINER_OFFSET*2,step=this._aggregator;let last=null;for(;step;){var next=step.prev;if(this._bb.context.fillArc(step.x,step.y,NODE_SIZE_HALF+offset2*CONTAINER_OFFSET,0,2*Math.PI),last&&this._bb.context.line(last.x,last.y,step.x,step.y),step===this.__feeder)break;last=step,step=next}return context.globalAlpha=.1,context.drawImage(this._bb.canvas,bounds.x-offset2*CONTAINER_OFFSET,bounds.y-offset2*CONTAINER_OFFSET),this._bb.context.restore(),null}}AggregationContainer.initClass();class Button extends DisplayObjectContainer{static initClass(){this.prototype.interactive=!0,this.prototype.label=null,this.prototype.shape=null}constructor(text,x2,y2,width,height){super(x2,y2,width,height),this.shape=new Shape("circle",0,0,width,height),this.attach(this.shape),this.label=new Label(text,0,0,width,height),this.attach(this.label)}}Button.initClass();const BUBBLE_SIZE=45,BUBBLE_SIZE_HALF=BUBBLE_SIZE/2,BUBBLE_PADDING=15;let Bubble$1=class extends Button{static initClass(){this.prototype._active=!1,this.prototype._bb1=null,this.prototype._bb2=null,this.prototype._module=null,this.prototype.__focusable=!0,this.property("theme",{get(){return this._module.theme}})}constructor(module2){super("0",module2.x+98,module2.y-95,BUBBLE_SIZE+2*BUBBLE_PADDING,BUBBLE_SIZE+2*BUBBLE_PADDING),this.origin=new Point(BUBBLE_SIZE_HALF+BUBBLE_PADDING,BUBBLE_SIZE_HALF+BUBBLE_PADDING),this._module=module2,module2.on("move",()=>this.move(module2.x+98,module2.y-95)),module2.on("detach",()=>this.detach());let size=BUBBLE_SIZE/3;this._bb2=new Shape("circle",10+size/2,58+size/2,size,size),this._bb2.style.backgroundColor="#fff",this._bb2.style.borderWidth=1,this._bb2.style.borderColor="#ddd",this._bb2.visible=!1,this._bb2.origin=new Point(size/2,size/2),this.attach(this._bb2),size=BUBBLE_SIZE/5,this._bb1=new Shape("circle",0+size/2,70+size/2,size,size),this._bb1.style.backgroundColor="#fff",this._bb1.style.borderWidth=1,this._bb1.style.borderColor="#ddd",this._bb1.visible=!1,this._bb1.origin=new Point(size/2,size/2),this.attach(this._bb1),this.shape.style.backgroundColor="#fff",this.shape.style.borderWidth=1,this.shape.style.borderColor="#ddd",this.shape.visible=!1,this.shape.origin=new Point(BUBBLE_SIZE/2,BUBBLE_SIZE/2),this.shape.resize(BUBBLE_SIZE,BUBBLE_SIZE),this.shape.move(BUBBLE_PADDING+BUBBLE_SIZE/2,BUBBLE_PADDING+BUBBLE_SIZE/2),this.label.visible=!1,this.hoverLabel=new Label("",0,0,this.width,this.height),this.hoverLabel.style.color="#3da5da",this.hoverLabel.style.font='"Font Awesome 6 Pro"',this.hoverLabel.style.fontWeight=900,this.hoverLabel.style.fontSize="24px",this.hoverLabel.opacity=0,this.attach(this.hoverLabel),this.on("mousedown",()=>this.toFront()),this.on("mouseenter",()=>this._activate()),this.on("mouseleave",()=>{var _a2;if(((_a2=this.stage)==null?void 0:_a2.surface.input.focus)!==this)return this._deactivate()}),this.on("focus",()=>this._activate()),this.on("blur",()=>{var _a2;if(this.label.visible=!0,((_a2=this.stage)==null?void 0:_a2.surface.input.hover)!==this)return this._deactivate()}),this.on("attach",()=>(this._bb1.visible=!0,this._bb2.visible=!1,this.shape.visible=!1,this.label.visible=!1,new Animation(this._bb1,{scale:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"}),setTimeout(()=>(this._bb2.visible=!0,new Animation(this._bb2,{scale:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"})),ifbuilt(100)),setTimeout(()=>(this.shape.visible=!0,new Animation(this.shape,{scale:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"})),ifbuilt(200)),setTimeout(()=>(Inspector.instance._surface.input.focus!==this&&(this.label.visible=!0),new Animation(this.label,{opacity:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(200)})),ifbuilt(600))))}_activate(){if(!this._active)return this._active=!0,new Animation(this.shape,{scale:1.3},{interrupt:!0,duration:100}),new Animation(this.label,{opacity:0},{interrupt:!0,duration:100}),new Animation(this.hoverLabel,{opacity:1},{interrupt:!0,duration:100})}_deactivate(){if(this._active)return this._active=!1,new Animation(this.shape,{scale:1},{interrupt:!0,duration:100}),new Animation(this.label,{opacity:1},{interrupt:!0,duration:100}),new Animation(this.hoverLabel,{opacity:0},{interrupt:!0,duration:100})}};Bubble$1.initClass();const EXPLAINER_SIZE$1=30,EXPLAINER_ICONS={attachment:"",email:"",file:"",contact:"",phone:"",address:"",photo:"",image:"",user:"",field:"",web:"",im:"",database:"",items:"",company:"",key:"",text:"",sign:"",notification:"",calendar:"",gps:"",transaction:"",order:"",info:"",project:"",task:"",product:"",invoice:"",video:"",music:""};let Explainer$1=class extends DisplayObjectContainer{static initClass(){this.prototype.shape=null,this.prototype.image=null,this.prototype._path=null,this.ICONS=EXPLAINER_ICONS,this.property("icon",{get(){for(var key in EXPLAINER_ICONS){var value=EXPLAINER_ICONS[key];if(value===this.label.text)return key}return null},set(value){if(EXPLAINER_ICONS[value]){this.label.text=EXPLAINER_ICONS[value],this.label.visible=!0;return}return this.label.visible=!1}})}constructor(relative,icon,cargo2=[]){var _a2;super(relative.x,relative.y,EXPLAINER_SIZE$1,EXPLAINER_SIZE$1),this.relative=relative,this.cargo=cargo2,this.origin=new Point(EXPLAINER_SIZE$1/2,EXPLAINER_SIZE$1/2),this.shape=new Shape("circle",0,0,EXPLAINER_SIZE$1,EXPLAINER_SIZE$1),this.shape.style.backgroundColor=this.relative.theme.toHex(),this.attach(this.shape),this.label=new Label("",0,0,EXPLAINER_SIZE$1,EXPLAINER_SIZE$1),this.label.style.color="#ffffff",this.label.style.font='"Font Awesome 6 Pro"',this.label.style.fontWeight=900,this.label.style.fontSize="16px",this.label.visible=!1,this.attach(this.label),this.icon=icon,(_a2=this.relative.stage)==null||_a2.attach(this)}};Explainer$1.initClass();class RouterLinkOrder extends DisplayObjectContainer{static initClass(){this.property("order",{get(){return this._order},set(value){return this._order=value,this.label.text=this._getOrdinalString(value),this._adjustShapeWidth()}}),this.property("displayedOrder",{get(){return this.label.text}}),this.property("isFallback",{get(){return this._isFallback},set(value){return this._isFallback=value,this.label.text=imt.l("inspector","common.fallback"),this._adjustShapeWidth()}}),this.property("showSeparator",{get(){return this._showSeparator},set(value){return this._showSeparator=value,this._adjustShapeWidth()}}),this.property("widthWithPadding",{get(){return this.label.textWidth+12}})}constructor(){super(0,0,20,20),this.label=new Label("",0,0,20,20),this.label.style.color="#88ba58",this.attach(this.label),this._adjustShapeWidth()}_adjustShapeWidth(){if(this.width=this.label.textWidth,this.label.width=this.label.textWidth,this.showSeparator)return this.width+=12}_setVisibility(visible){var _a2,_b2;return(_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems")?this.visible=!1:this.visible=visible}_getOrdinalString(num){const remainder=num%10;return num<=0?`${num}`:num>3&&num<21||remainder>3?`${num}th`:`${num}${["st","nd","rd"][remainder-1]}`}render(ctx){if(super.render(ctx),this.showSeparator)return ctx.strokeStyle="#88ba58",ctx.beginPath(),ctx.moveTo(this.width-6,this.height/2-10),ctx.lineTo(this.width-6,this.height/2+10),ctx.stroke()}}RouterLinkOrder.initClass();const ANCHOR_SIZE=50,ANCHOR_SIZE_HALF=ANCHOR_SIZE/2;class Anchor extends Shape{static initClass(){this.prototype._layout="fill"}constructor(x2,y2,_layout){super("circle",x2,y2,ANCHOR_SIZE,ANCHOR_SIZE),this._layout=_layout,this.origin=new Point(ANCHOR_SIZE_HALF,ANCHOR_SIZE_HALF)}render(context){DisplayObject.prototype.render.call(this,context),context.fillStyle=this.style.backgroundColor,context.lineWidth=2,context.strokeStyle=this.style.backgroundColor,context.beginPath(),context.rect(-(ANCHOR_SIZE/2),-(ANCHOR_SIZE/2),ANCHOR_SIZE*2,ANCHOR_SIZE*2);const offset2=NODE_SIZE_HALF+NODE_SIZE*NODE_ANCHOR_OFFSET;return context.arc(this.width/2-offset2,this.width/2,NODE_SIZE_HALF*1.12,this.endAngle,this.startAngle,!0),context.clip(),context.beginPath(),context.arc(this.width/2,this.width/2,this.width/2,this.startAngle,this.endAngle),this._layout==="fill"?context.fill():context.stroke()}}Anchor.initClass();class Badge extends Button{constructor(parent2,scale=1){var _a2,_b2;super("0",parent2.width-20*scale,10*scale,40*scale,40*scale),this._type={type:"none"},this._previousType={type:"none"},this._isStartingAnimation=!1,this._iconMap={ok:{code:"",backgroundColor:"#6F9B31"},pristine:{code:"",backgroundColor:"#A8A8A8"},warn:{code:"!",backgroundColor:"#D79E3A"}},this.suppress=!1,this.animate=label=>{label.visible&&new Animation(label,{rotate:{from:0,to:360}},{easing:"easeInOutQuad",duration:ifbuilt(1200)})},this._icon=new Label("",20*scale,20*scale,40*scale,40*scale),this._icon.origin=new Point(20*scale,20*scale),this._icon.style.font='"Font Awesome 6 Pro"',this._icon.style.fontWeight=900,this._icon.style.color="#fff",this._icon.style.fontSize=Math.floor(20*scale)+"px",this._icon.visible=!1,this.attach(this._icon),this.shape.style.borderWidth=5*scale,this.shape.style.borderColor=(_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems")?"#ffffff":"#f8f8f8",this.shape.style.backgroundColor="#f00",this.label.style.color="#fff",this.label.style.fontSize=16*scale+"px",this.origin=new Point(20*scale,20*scale),this.visible=!1,this.focusable=!0,this.style.cursor="pointer",this.on("focus",()=>new Animation(this,{scale:1.2},{interrupt:!0,duration:100})),this.on("blur",()=>new Animation(this,{scale:1},{interrupt:!0,duration:100})),this.on("click",()=>{const moduleToFocus=this._type.type==="dirty"?this.parent:this;setImmediate(()=>moduleToFocus.focus())})}get interactive(){return GLOBAL_STATE.MOUSE_DRAGGING?!1:this.__interactive}set interactive(value){this.__interactive!==value&&(this.__interactive=value)}get type(){return this._type.type}asIcon(icon){this._type={type:"icon",icon},this.resolveState()}asMessagesCounter(count,severity){this._type={type:"messages-count",count,severity},this.resolveState()}asDirty(isDirty){isDirty?(this._previousType=this._type,this._type={type:"dirty"}):this._type=this._previousType,this.resolveState()}resolveState(){var _a2;if(this.visible=!1,clearInterval(this._animationInterval),!(!this._type||this._type.type==="none")){switch([this.label,this._icon].forEach(l2=>l2.visible=!1),this.focusable=!1,this.visible=!this.suppress,this._type.type){case"icon":const icon=this._type;this._icon.text=this._iconMap[icon.icon].code,this._icon.visible=!0,this.shape.style.backgroundColor=this._iconMap[icon.icon].backgroundColor;break;case"messages-count":const messagesCount=this._type;this.label.text=messagesCount.count+"",this.label.visible=!0,this.shape.style.backgroundColor=messagesCount.severity==="warn"?"#fecd5f":"#f00",this.focusable=!0,messagesCount.count||(this.visible=!1);break;case"dirty":this._icon.text="",this._icon.visible=!0,this.shape.style.backgroundColor="#333",this.startAnimation();break}(_a2=this.surface)==null||_a2.render()}}startAnimation(){this._isStartingAnimation||(this._isStartingAnimation=!0,delay(1e3,()=>{this._isStartingAnimation=!1,this._type.type==="dirty"&&(this.animate(this._icon),this._animationInterval=setInterval(()=>this.animate(this._icon),5e3))}))}}const FILTER_SIZE=45,FILTER_SIZE_HALF=FILTER_SIZE/2,FILTER_ICON_COLOR=new ImtColor("#F6F6F6"),FILTER_BG_COLOR=new ImtColor("#747474");class Filter extends Button{static initClass(){this.prototype.interactive=!0,this.prototype._active=!1,this.prototype._bb1=null,this.prototype._bb2=null,this.prototype._link=null,this.prototype._badge=null,this.prototype.__focusable=!1,this.prototype.__icon="configure",this.property("visible",{get(){return this._link.locked||!(this._link.node1&&this._link.node2)||["view","inspect","live"].includes(__guard__$d(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.mode))&&this.icon==="configure"?!1:this.__visible},set(value){if(this.__visible!==value)return this.emit("visibility-change",value),this.__visible=value,this.surface!=null?this.surface.render():void 0}}),this.property("icon",{get(){return this.__icon},set(value){var _a2,_b2;if(this.__icon!==value)return this.__icon=value,this.label.text=(()=>{switch(value){case"paused":return"";case"configure":return"";case"error":case"warning":return"";default:return""}})(),this.label.style.color=(()=>{switch(value){case"paused":case"error":return"#eb5768";case"warning":return"#fecd5f";case"filter":return FILTER_ICON_COLOR.toHex();default:return DEFAULT_TEXT_COLOR.transparent(.7).toRGBA()}})(),value==="filter"?(this.shape.style.borderWidth=2,this.shape.style.borderColor=(_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems")?"#ffffff":"#f8f8f8",this.shape.style.backgroundColor=FILTER_BG_COLOR.toRGBA(),this.shape.scale=.7):(this.shape.style.borderWidth=void 0,this.shape.style.borderColor=void 0,this.shape.style.backgroundColor="#fff",this.shape.scale=0),this.surface!=null?this.surface.render():void 0}})}get badge(){return this._badge}constructor(_link){super("",_link.x,_link.y,FILTER_SIZE,FILTER_SIZE),this._link=_link,this.origin=new Point(FILTER_SIZE_HALF,FILTER_SIZE_HALF),this._badge=new Badge(this,.5),this.attach(this._badge),this.shape.style.backgroundColor="#fff",this.shape.scale=0,this.shape.origin=new Point(FILTER_SIZE_HALF,FILTER_SIZE_HALF),this.shape.resize(FILTER_SIZE,FILTER_SIZE),this.shape.move(FILTER_SIZE_HALF,FILTER_SIZE_HALF),this.label.style.color=DEFAULT_TEXT_COLOR.transparent(.7).toRGBA(),this.label.style.font='"Font Awesome 6 Pro"',this.label.style.fontWeight=900,this.label.style.fontSize="15px",this.label2=new Label("0",FILTER_SIZE_HALF*.9,FILTER_SIZE_HALF*.9,FILTER_SIZE_HALF,FILTER_SIZE_HALF),this.label2.style.fontSize="12px",this.label2.visible=!1,this.attach(this.label2),this.hoverLabel=new Label("",0,0,this.width,this.height),this.hoverLabel.style.color="#3da5da",this.hoverLabel.style.font='"Font Awesome 6 Pro"',this.hoverLabel.style.fontWeight=900,this.hoverLabel.style.fontSize="24px",this.hoverLabel.opacity=0,this.attach(this.hoverLabel),this.on("click",()=>{var _a2;if(!this.__focusable){if(this.icon==="paused")return this._link.paused=!1;if(this.icon==="configure"&&this.badge.type!=="dirty"){if(((_a2=Inspector.instance)==null?void 0:_a2.mode)==="live")return;const coords=this.documentCoords;return new ContextMenu(this._link.createContextMenu(),coords.x,coords.y)}else return this.stage!=null?this.stage.surface.input.focus=this._link:void 0}}),this.badge.on("click",()=>{this.badge.type==="dirty"&&this.emit("click")}),this.on("mouseenter",()=>this.__focusable?this._activate():this._enter()),this.on("mouseleave",()=>{if(!this.__focusable)return this._leave();if((this.stage!=null?this.stage.surface.input.focus:void 0)!==this)return this._deactivate()}),this.on("mousedown",()=>this.toFront()),this.on("focus",()=>this._activate()),this.on("blur",()=>{if((this.stage!=null?this.stage.surface.input.hover:void 0)!==this)return this._deactivate()})}_enter(){this.icon!=="paused"&&(this.icon==="filter"?new ColorAnimation(this.shape.style,{backgroundColor:FILTER_BG_COLOR},{interrupt:!0,duration:100}):new ColorAnimation(this.label.style,{color:DEFAULT_TEXT_COLOR},{interrupt:!0,duration:100}))}_leave(){this.icon!=="paused"&&(this.icon==="filter"?new ColorAnimation(this.shape.style,{backgroundColor:FILTER_BG_COLOR.transparent(.7)},{interrupt:!0,duration:100}):new ColorAnimation(this.label.style,{color:DEFAULT_TEXT_COLOR.transparent(.7)},{interrupt:!0,duration:100}))}_activate(){if(!this._active)return this._active=!0,new Animation(this.shape,{scale:1.3},{interrupt:!0,duration:100}),new Animation(this.label,{opacity:0},{interrupt:!0,duration:100}),new Animation(this.label2,{opacity:0},{interrupt:!0,duration:100}),new Animation(this.hoverLabel,{opacity:1},{interrupt:!0,duration:100})}_deactivate(){if(this._active)return this._active=!1,new Animation(this.shape,{scale:.7},{interrupt:!0,duration:100}),new Animation(this.label,{opacity:1},{interrupt:!0,duration:100}),new Animation(this.label2,{opacity:1},{interrupt:!0,duration:100}),new Animation(this.hoverLabel,{opacity:0},{interrupt:!0,duration:100})}activate(){this.interactive=!0,this.__focusable=!0,this.label.style.color="#3da5da",this.label2.visible=!0,this.shape.style.backgroundColor="#fff",new Animation(this.shape,{scale:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"})}deactivate(){this.interactive=!1,this.__focusable=!1,this.label2.visible=!1,this.icon==="filter"?(this.label.style.color=FILTER_ICON_COLOR.toRGBA(),this.shape.style.backgroundColor=FILTER_BG_COLOR.transparent(.2).toRGBA(),new Animation(this.shape,{scale:{from:1,to:.7}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"})):this.label.style.color=DEFAULT_TEXT_COLOR.transparent(.5).toRGBA()}}Filter.initClass();function __guard__$d(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}const DOT_SIZE=(_f=(_e=imt.brand)==null?void 0:_e.theme)!=null&&_f.startsWith("ems")?12:16,DOT_SPACE=(_h=(_g=imt.brand)==null?void 0:_g.theme)!=null&&_h.startsWith("ems")?12:7,LINK_INACTIVE_COLOR=new ImtColor(255,255,255),LINK_TRANSPARENT_COLOR=new ImtColor(0,0,0,0);let Link$1=class extends DisplayObjectContainer{constructor(node1,node2,layout="fill"){super(0,0,80,60);__publicField(this,"destroying",!1);this._detach=this._detach.bind(this),this._move=this._move.bind(this),this._theme=this._theme.bind(this),this._layout=layout,this.origin=new Point(40,30),this._dots=[],this._filter=new Filter(this),this._titleContainer=new DisplayObjectContainer(this.origin.x,this.origin.y,0,60),this._titleContainer.origin.y=45,this.attach(this._titleContainer),this._title=new Label("",0,0,0,20),this._title.style.color=DEFAULT_TEXT_COLOR.toRGBA(),this._title.style.fontSize="12px",this._titleContainer.attach(this._title),this._routerOrder=new RouterLinkOrder,this._titleContainer.attach(this._routerOrder),this._anchor1=new Anchor(0,0,this._layout),this._anchor2=new Anchor(0,0,this._layout),this._anchor2.rotate=180,this._anchor1.on("rotate",()=>this.emit("rotateAnchor")),this._anchor2.on("rotate",()=>this.emit("rotateAnchor")),this.node1=node1,this.node2=node2,this.style.cursor="pointer",this.on("mouseenter",()=>this._activate()),this.on("mouseleave",()=>{var _a2;if(((_a2=this.stage)==null?void 0:_a2.surface.input.focus)!==this)return this._deactivate()}),this.on("focus",()=>this._activate()),this.on("blur",()=>{var _a2;if(((_a2=this.stage)==null?void 0:_a2.surface.input.hover)!==this)return this._deactivate()}),this.on("attach",()=>{this.stage.attach(this._filter)}),this.on("detach",()=>{this._filter.detach()})}static initClass(){this.prototype.stage=null,this.prototype.destroying=!1,this.prototype.reverse=!1,this.prototype._dots=null,this.prototype._anchor1=null,this.prototype._anchor2=null,this.prototype._filter=null,this.prototype._layout="fill",this.prototype.__node1=null,this.prototype.__node2=null,this.prototype.__demo=null,this.prototype.__progress=100,this.prototype.__invisible=!1,this.prototype.__locked=!1,this.prototype.__interactive=!0,this.prototype.__focusable=!0,this.prototype.__hasFilter=!1,this.prototype.__paused=!1,this.property("hasFilter",{get(){return this.__hasFilter},set(value){if(this.__hasFilter!==value)return this.__hasFilter=value,this._filter.icon=this.paused?"paused":value?"filter":"configure"}}),this.property("paused",{get(){return this.__paused},set(value){if(this.__paused!==value)return this.__paused=value,this._filter.icon=value?"paused":this.hasFilter?"filter":"configure"}}),this.property("interactive",{get(){return this.__interactive},set(value){if(this.__interactive!==value&&!(this.locked&&value===!0))return this.__interactive=value}}),this.property("invisible",{get(){return this.__invisible},set(value){var _a2;if(this.__invisible!==value)return this.__invisible=value,this._anchor1.visible=!value,this._anchor2.visible=!value,this._filter.visible=!value,this._routerOrder._setVisibility(!value),this.interactive=!value,this.focusable=!value,this.visible=!value,value||this.update(),(_a2=this.stage)==null?void 0:_a2.render()}}),this.property("isErrorHandler",{get(){return this._layout==="stroke"},set(value){var _a2;if(!(this._layout==="stroke"&&value))return this._layout=value?"stroke":"fill",(_a2=this.stage)==null?void 0:_a2.render()}}),this.property("locked",{get(){return this.__locked},set(value){if(this.__locked!==value)return this.__locked=value,value?this.__interactive=!1:this.__interactive=!0}}),this.property("node1",{get(){return this.__node1},set(value){var _a2;if(this.__node1===value)return;const old=this.__node1;return this.__node1=value,old&&(old.off("move",this._move),old.off("detach",this._detach),old.off("theme",this._theme),old.unlink(this,"output"),this.emit("unlink",old,"input"),value?this._anchor1.detach():this._animateAnchorAngle(this._anchor1,0,!0)),value&&(value.on("move",this._move),value.on("detach",this._detach),value.on("theme",this._theme),value.link(this,"output"),this.emit("link",value,"input"),this._anchor1.style.backgroundColor=value.theme.transparent(.5).toRGBA(),this._anchor1.move(value.width/2,value.height/2),this._anchor1.resize(value.width/3,value.height/3),this._anchor1.origin=new Point(this._anchor1.width/2-value.width/2-value.width*NODE_ANCHOR_OFFSET,this._anchor1.height/2),value._group.attach(this._anchor1,0),this.showRouteOrder=value.showRouteOrder),this._routerOrder._setVisibility((value==null?void 0:value.TYPE)==="router"&&this.showRouteOrder),(_a2=Inspector==null?void 0:Inspector.instance)==null||_a2.scenario.emit("flow_change"),this.update()}}),this.property("node2",{get(){return this.__node2},set(value){var _a2,_b2,_c2;if(this.__node2===value)return;const old=this.__node2;return this.__node2=value,old&&(old.off("move",this._move),old.off("detach",this._detach),old.off("theme",this._theme),old.unlink(this,"input"),this.emit("unlink",old,"output"),value?this._anchor2.detach():this._animateAnchorAngle(this._anchor2,180,!0)),value&&(value.on("move",this._move),value.on("detach",this._detach),value.on("theme",this._theme),value.link(this,"input"),this.emit("link",value,"output"),this.hasFilter=(_a2=value.filter)==null?void 0:_a2.conditions.length,this.title=((_b2=value.filter)==null?void 0:_b2.name)??"",this._anchor2.style.backgroundColor=value.theme.transparent(.5).toRGBA(),this._anchor2.move(value.width/2,value.height/2),this._anchor2.resize(value.width/3,value.height/3),this._anchor2.origin=new Point(this._anchor2.width/2-value.width/2-value.width*NODE_ANCHOR_OFFSET,this._anchor2.height/2),value._group.attach(this._anchor2,0)),(_c2=Inspector==null?void 0:Inspector.instance)==null||_c2.scenario.emit("flow_change"),this.update()}}),this.property("progress",{get(){return this.__progress},set(value){if(this.__progress!==value)return this.__progress=value,this.update()}}),this.property("title",{get(){return this._title.text},set(value){return this._title.text=value,this._routerOrder.showSeparator=!!this._title.text}}),this.property("order",{get(){return this._routerOrder.order},set(value){return this._routerOrder.order=value}}),this.property("isFallback",{get(){return this._routerOrder.isFallback},set(value){return this._routerOrder.isFallback=value}}),this.property("showRouteOrder",{get(){return this._showRouteOrder},set(value){return this._showRouteOrder=value,this.update()}})}_animateAnchorAngle(anchor,value,hide){let from2;value<0&&(value+=360),value>360&&(value=value%360);let delta=Math.abs(value-anchor.rotate);if(delta>180?(delta=360-delta,anchor.rotate>180?from2=anchor.rotate-360:from2=anchor.rotate+360):from2=anchor.rotate,delta>10||hide){const properties={rotate:{from:from2,to:value}};return hide&&(properties.opacity=0),new Animation(anchor,properties,{interrupt:!0,duration:ifbuilt(200),easing:"easeOutCirc",stop(){if(hide)return anchor.opacity=1},complete(){if(hide)return anchor.detach(),anchor.opacity=1}})}else return anchor.animations.stop(),anchor.rotate=value}_activate(delay2=0){if(!this.node1||!this.node2||this._active)return;this._active=!0,new Animation(this._anchor1,{opacity:1},{interrupt:!0,duration:delay2+100}),new Animation(this._anchor2,{opacity:1},{interrupt:!0,duration:delay2+100});let longestDelay=0;for(let index2=0;index2<this._dots.length;index2++){var dot=this._dots[index2];longestDelay=index2*(400/this._dots.length)+delay2,new Animation(dot,{opacity:1},{interrupt:!0,duration:100,delay:longestDelay})}return longestDelay}_deactivate(){if(!(!this.node1||!this.node2)&&this._active)return this._active=!1,new Animation(this._anchor1,{opacity:.5},{interrupt:!0,duration:100}),new Animation(this._anchor2,{opacity:.5},{interrupt:!0,duration:100}),this._dots.map((dot,index2)=>new Animation(dot,{opacity:.5},{interrupt:!0,duration:100}))}_detach(){return this.detach()}_move(){return this.update()}_theme(theme){return this.node1&&(this._anchor1.style.backgroundColor=this.node1.theme.mix(DEFAULT_FILL_COLOR).toHex()),this.node2&&(this._anchor2.style.backgroundColor=this.node2.theme.mix(DEFAULT_FILL_COLOR).toHex()),null}animateProgress(value,duration=300){return duration===0?(this.animations.stop("progress"),this.progress=value):new Animation(this,{progress:value},{interrupt:!0,duration})}detach(){return arguments.length?super.detach(...arguments):(this.node1=null,this.node2=null,super.detach())}update(){var _a2,_b2,_c2;let dot;super.update();for(dot of this._dots)dot.detach();if(this._dots=[],!this.__invisible){if(this.node1&&this.node2){let dots,i2;this.visible=!0;const angle=Math.atan2(this.node2.y-this.node1.y,this.node2.x-this.node1.x),n1=new Point(this.node1.x+this.node1.width*.77*Math.cos(angle),this.node1.y+this.node1.height*.77*Math.sin(angle)),n2=new Point(this.node2.x+this.node2.width*.77*-Math.cos(angle),this.node2.y+this.node2.height*.77*-Math.sin(angle)),delta=new Point(n2.x-n1.x,n2.y-n1.y),center=new Point(n1.x+delta.x/2,n1.y+delta.y/2),distance=n2.distance(n1),distance2=new Point(this.node1.x,this.node1.y).distance(new Point(this.node2.x,this.node2.y))-this.node1.width*.77-this.node2.width*.77;distance<10||distance2<0?dots=-1:dots=Math.floor(distance/2/(DOT_SIZE+DOT_SPACE));const t1=new ImtColor(this.node1.theme).transparent(1),t2=new ImtColor(this.node2.theme).transparent(1);this.move(center.x,center.y),this.width=distance+this.node1.width*.22+this.node2.width*.22,this.origin.x=this.width/2,this.rotate=angle.toDeg(),this._animateAnchorAngle(this._anchor1,angle.toDeg()),this._animateAnchorAngle(this._anchor2,(angle+Math.PI).toDeg()),this._anchor1.style.backgroundColor=t1.toRGBA(),this._anchor2.style.backgroundColor=t2.toRGBA(),this._anchor1.opacity=this._anchor2.opacity=this._active?1:.5,dots===-1?(this._title.visible=!1,this._filter.visible=!1,this._routerOrder._setVisibility(!1)):(this._title.visible=!0,this._titleContainer.rotate=this.rotate>90||this.rotate<-90?180:0,this._routerOrder.showSeparator=this.title&&this.showRouteOrder&&distance-this._routerOrder.widthWithPadding>0,this._title.width=Math.min(this._title.textWidth,this.showRouteOrder?distance-this._routerOrder.widthWithPadding:distance),this._titleContainer.width=this.showRouteOrder?this._title.width+this._routerOrder.width:this._title.width,this._titleContainer.origin.x=this._titleContainer.width/2,this._titleContainer.x=this.origin.x,this._title.x=this.showRouteOrder?this._routerOrder.width:0,this._routerOrder._setVisibility(dots<1&&this.isFallback?!1:((_a2=this.node1)==null?void 0:_a2.TYPE)==="router"&&this.showRouteOrder),this._filter.visible=!0,this.rotate>90||this.rotate<-90?this._filter.move(this.x-Math.cos(angle+Math.PI/2)*35,this.y-Math.sin(angle+Math.PI/2)*35):this._filter.move(this.x+Math.cos(angle+Math.PI/2)*35,this.y+Math.sin(angle+Math.PI/2)*35));const inactiveColor=this.destroying?LINK_TRANSPARENT_COLOR:LINK_INACTIVE_COLOR;if(dots>=0)for(i2=-dots;i2<=dots;){var color=this.progress===0||this.reverse&&this.progress===100?inactiveColor:t1.mix(t2,.5+.4*(dots===0?0:i2/dots));dot=null,(_c2=(_b2=imt.brand)==null?void 0:_b2.theme)!=null&&_c2.startsWith("ems")?dot=new Shape("rectangle",this.origin.x+i2*(DOT_SPACE+DOT_SIZE),this.origin.y,DOT_SIZE,DOT_SIZE):dot=new Shape("circle",this.origin.x+i2*(DOT_SPACE+DOT_SIZE),this.origin.y,DOT_SIZE),dot.opacity=this._active?1:.5,this._layout==="fill"?dot.style.backgroundColor=color.toRGBA():this._layout==="stroke"&&(dot.style.borderWidth=2,dot.style.borderColor=color.toRGBA()),dot.origin=new Point(DOT_SIZE/2,DOT_SIZE/2),this.attach(dot,0),this._dots.push(dot),i2++}if(this._dots.length&&this.progress>0&&this.progress<100){const top=Math.round((this._dots.length-1)*(this.__progress/100));if(this.reverse){if(top>0){let asc,end2;for(i2=0,end2=top,asc=0<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)this._dots[i2].style.backgroundColor=inactiveColor.toRGBA()}}else{let asc1,end1;for(i2=top,end1=this._dots.length-1,asc1=top<=end1;asc1?i2<=end1:i2>=end1;asc1?i2++:i2--)this._dots[i2].style.backgroundColor=inactiveColor.toRGBA()}}}else this.visible=!1;return null}}};Link$1.initClass();class Selection extends Shape{static initClass(){this.property("visible",{get(){return this.__visible},set(value){var _a2;if(this.__visible!==value)if(this.__visible=value,(_a2=this.surface)==null||_a2.render(),value){this.style.borderDashLine=25,this.style.borderDashGap=0,this.style.borderDashOffset=0;var animate=()=>new Animation(this.style,{borderDashOffset:{minus:25}},{interrupt:!0,easing:"linear",duration:1e3,complete:()=>{if(this.__visible)return animate()}});return new Animation(this,{scale:{from:.9,to:1}},{interrupt:!0,easing:"easeOutCirc",duration:300}),new Animation(this.style,{borderDashLine:{from:25,to:15},borderDashGap:{from:0,to:10}},{interrupt:!0,easing:"linear",duration:600}),animate()}else return this.animations.stop(),this.style.animations.stop()}})}constructor(x2,y2,width,height){super("circle",x2,y2,width,height),this.style.borderWidth=5,this.style.borderStyle="dashed"}}Selection.initClass();const PEEK_OFFSET=5,PEEK_LENGTH=10,PPEK_TIMEOUT=1e4;class Dragger extends Shape{constructor(x2,y2,width,height){super("circle",x2,y2,width,height);__publicField(this,"peekDirection","right");let hover=!1,dragging=!1;this.origin=new Point(width/2,height/2),this.style.backgroundColor=NODE_INACTIVE_COLOR.toRGBA(),this.style.cursor="grab",this.on("mouseenter",()=>(hover=!0,new ColorAnimation(this.style,{backgroundColor:this.parent.parent.theme},{interrupt:!0,duration:100}),this.peeking=!0,undelay(this.__peekTimeout))),this.on("mouseleave",()=>{if(hover=!1,!dragging)return new ColorAnimation(this.style,{backgroundColor:this.parent.parent.theme.transparent(.5)},{interrupt:!0,duration:100}),this.peeking=!1}),this.on("dragstart",()=>dragging=!0),this.on("dragend",()=>{if(dragging=!1,!hover)return new ColorAnimation(this.style,{backgroundColor:this.parent.parent.theme.transparent(.5)},{interrupt:!0,duration:100})}),this.on("click",()=>{var _a2,_b2;if(imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"another_module"}),((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="edit"&&this.peekDirection==="right"){const ph=new Surface.Placeholder(this.parent.parent.x+300,this.parent.parent.y,["feeders","aggregators","transformers","actions","searches"]);ph.autoDestroy=!0;const link=new Surface.Link(this.parent.parent,ph);return this.stage.attach(link),link.destroying=!0,new Animation(link,{progress:{from:0,to:100}},{duration:200,complete(){return link.destroying=!1}}),this.stage.attach(ph),delay(250,()=>this.stage.surface.input.focus=ph),(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.emit("add_placeholder",ph)}})}static initClass(){this.prototype.__interactive=!0,this.prototype.__draggable=!0,this.prototype.__peek=0,this.prototype.__peeking=!1,this.property("interactive",{get(){return GLOBAL_STATE.MOUSE_DRAGGING?!1:this.__interactive},set(value){if(this.__interactive!==value)return this.__interactive=value}}),this.property("peeking",{get(){return this.__peeking},set(value){if(this.__peeking!==value&&(this.__peeking=value,new Animation(this,{peek:value?1:0},{interrupt:!0,duration:100}),value))return this.__peekTimeout=delay(PPEK_TIMEOUT,()=>(this.__peekTimeout=null,this.peeking=!1))}}),this.property("peek",{get(){return this.__peek},set(value){var _a2;if(this.__peek!==value)return this.__peek=value,(_a2=this.surface)==null?void 0:_a2.render()}}),this.property("visible",{get(){var _a2,_b2;return(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.isTemplate||((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode)!=="edit"?!1:this.__visible},set(value){var _a2;if(this.__visible!==value)return this.__visible=value,(_a2=this.surface)==null?void 0:_a2.render()}})}contains(point){if(point instanceof Point){const pt=new Point(point.x-this.x,point.y-this.y);return this.rotate&&pt.transform(new Matrix().rotate(this.rotate.toRad())),this.scale&&pt.transform(new Matrix().scale(1/this.scale)),GLOBAL_STATE.MOUSE_DRAGGING?new Point(0,0).distance(pt)<this.width/2:new Point(0,0).distance(pt)<this.width*1.5/2}else return!1}render(context){if(getFeatureValue("module-dragger-plus-visible",!0))return this.__oldRenderInvisiblePlus(context);if(DisplayObject.prototype.render.call(this,context),context.fillStyle=this.style.backgroundColor,context.save(),this.stage.surface.input.drag!==this){context.beginPath(),context.rect(0,0,context.canvas.width,context.canvas.height);const offset2=NODE_SIZE_HALF+NODE_SIZE*NODE_ANCHOR_OFFSET;context.arc(this.width/2-offset2,this.width/2,NODE_SIZE_HALF*1.12,this.endAngle,this.startAngle,!0),context.clip()}const computedPeekOffset=PEEK_OFFSET+this.__peek*PEEK_LENGTH;if(context.beginPath(),context.arc(computedPeekOffset+this.width/2,this.width/2,this.width/2,this.startAngle,this.endAngle),context.fill(),context.restore(),this.stage.surface.input.drag===this){const center=new Point(-this.x+this.origin.x+this.width*1.5,-this.y+this.origin.y+this.height*1.5);let angle=Math.atan2(this.origin.y-center.y,this.origin.x-center.x);this.rotate===180&&(angle+=Math.PI);const dots=(center.distance(this.origin)-this.width*1.5-this.width/2)/20;if(dots>1)for(let i2=2,end2=dots+1,asc=2<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)context.fillStyle=NODE_INACTIVE_COLOR.toRGBA(),context.beginPath(),context.arc(this.origin.x+i2*20*-Math.cos(angle),this.origin.y+i2*20*-Math.sin(angle),5,0,2*Math.PI),context.fill()}if(this.peekDirection==="right"){context.fillStyle=new ImtColor(this.parent.parent.theme.determineForegroundColor()).toRGBA(),context.textAlign="center",context.textBaseline="middle",context.font='300 18px "Font Awesome 6 Pro"';const computedPlusPeekOffset=computedPeekOffset+this.width/5-this.width/7*this.__peek;context.fillText("",computedPlusPeekOffset+this.width/2,this.height/2,this.width)}if(this.peeking&&this.peekDirection==="right"&&this.stage.surface.input.drag!==this)return context.fillStyle=new ImtColor(DEFAULT_TEXT_COLOR).transparent(this.__peek*.8).toRGBA(),context.textAlign="left",context.font=`14px ${DEFAULT_TEXT_FONT}`,context.fillText(imt.l("inspector","panels.offers.addother"),computedPeekOffset+this.width/2+35,this.height/2,150)}__oldRenderInvisiblePlus(context){if(DisplayObject.prototype.render.call(this,context),context.fillStyle=this.style.backgroundColor,context.save(),this.stage.surface.input.drag!==this){context.beginPath(),context.rect(0,0,context.canvas.width,context.canvas.height);const offset2=NODE_SIZE_HALF+NODE_SIZE*NODE_ANCHOR_OFFSET;context.arc(this.width/2-offset2,this.width/2,NODE_SIZE_HALF*1.12,this.endAngle,this.startAngle,!0),context.clip()}if(context.beginPath(),context.arc(this.__peek*15+this.width/2,this.width/2,this.width/2,this.startAngle,this.endAngle),context.fill(),context.restore(),this.stage.surface.input.drag===this){const center=new Point(-this.x+this.origin.x+this.width*1.5,-this.y+this.origin.y+this.height*1.5);let angle=Math.atan2(this.origin.y-center.y,this.origin.x-center.x);this.rotate===180&&(angle+=Math.PI);const dots=(center.distance(this.origin)-this.width*1.5-this.width/2)/20;if(dots>1)for(let i2=2,end2=dots+1,asc=2<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)context.fillStyle=NODE_INACTIVE_COLOR.toRGBA(),context.beginPath(),context.arc(this.origin.x+i2*20*-Math.cos(angle),this.origin.y+i2*20*-Math.sin(angle),5,0,2*Math.PI),context.fill()}if(this.peeking&&this.peekDirection==="right"&&this.stage.surface.input.drag!==this)return context.fillStyle=new ImtColor(this.parent.parent.theme.determineForegroundColor()).transparent(this.__peek).toRGBA(),context.textAlign="center",context.textBaseline="middle",context.font='300 18px "Font Awesome 6 Pro"',context.fillText("",this.__peek*15+this.width/2,this.height/2,this.width),context.fillStyle=new ImtColor(DEFAULT_TEXT_COLOR).transparent(this.__peek*.8).toRGBA(),context.textAlign="left",context.font=`14px ${DEFAULT_TEXT_FONT}`,context.fillText(imt.l("inspector","panels.offers.addother"),this.__peek*15+this.width/2+35,this.height/2,150)}}Dragger.initClass();class Square extends DisplayObjectContainer{static initClass(){this.prototype.label=null,this.prototype.shape=null,this.property("text",{get(){return this.label.text},set(value){var _a2;return this.label.text=value,(_a2=this.stage)==null?void 0:_a2.render()}}),this.property("visible",{get(){var _a2;return this.__visible&&((_a2=this.label.text)==null?void 0:_a2.length)&&imt.config.showIDs},set(value){var _a2;if(this.__visible!==value)return this.__visible=value,(_a2=this.surface)==null?void 0:_a2.render()}})}constructor(text,x2,y2,width,height){var _a2,_b2,_c2,_d2,_e2,_f2;super(x2,y2,width,height),this.shape=new Shape("rectangle",0,0,width,height),this.shape.style.borderWidth="1",this.shape.style.borderColor=(_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems")?"#000000":"#666666",this.attach(this.shape),this.label=new Label(text,0,0,width,height),this.label.style.fontSize=(_d2=(_c2=imt.brand)==null?void 0:_c2.theme)!=null&&_d2.startsWith("ems")?"12px":"14px",(_f2=(_e2=imt.brand)==null?void 0:_e2.theme)!=null&&_f2.startsWith("ems")&&(this.label.style.fontWeight="bold"),this.label.style.textAlign="center",this.shape.style.color="#000000",this.attach(this.label)}}Square.initClass();function inject_str(value,text,index2){return value&&`${value.substring(0,index2)}${text}${value.substring(index2)}`}function debounce(callback,wait,immediate){let timeout2;return function(...args){const later=()=>{timeout2=void 0,callback.apply(this,args)};clearTimeout(timeout2),timeout2=setTimeout(later,wait)}}function mergeKeys(target,source,depthLimit=100){return depthLimit===0||!source?target:target?(Object.keys(source).forEach(k2=>{const sourceValue=source[k2],targetValue=target[k2];if(sourceValue)if(typeof sourceValue=="object")if(targetValue&&typeof targetValue=="object"){const isTargetArray=Array.isArray(targetValue),isSourceArray=Array.isArray(sourceValue);isTargetArray===isSourceArray?target[k2]=mergeKeys(targetValue,sourceValue,depthLimit-1):target[k2]=sourceValue}else target[k2]=mergeKeys(Array.isArray(sourceValue)?[]:{},sourceValue,depthLimit-1);else targetValue||(target[k2]=sourceValue);else targetValue?target[k2]=mergeKeys(targetValue,{},depthLimit-1):target[k2]=null}),target):source}const rePropName=/"(.*?)"|`(.*?)`|[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\4)[^\\]|\\.)*?)\4)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;function stringToArrayPath(source){const result=[];return source.replace(rePropName,function(match2,number2,quote,string2){return result.push(string2||number2||match2),match2}),result}function isIndex(value){return typeof value=="number"&&value>-1&&value%1==0}function assignValue(object2,key,value){const objValue=object2[key];(!(Object.hasOwnProperty.call(object2,key)&&objValue===value)||value===void 0&&!(key in object2))&&(object2[key]=value)}function objectSet(target,stringPath,value){const path=stringToArrayPath(stringPath);let index2=-1,nested=target;const length=path.length,lastIndex=length-1;for(;nested!=null&&++index2<length;){const key=path[index2];let newValue=value;if(index2!=lastIndex){const objValue=nested[key];newValue=typeof objValue=="object"?objValue:isIndex(path[index2+1])?[]:{}}assignValue(nested,key,newValue),nested=nested[key]}return target}function objectGet(source,stringPath){const path=stringToArrayPath(stringPath),length=path.length;let obj=source,index2=0;for(;obj!=null&&index2<length;)obj=obj[path[index2++]];return index2&&index2==length?obj:void 0}let TEMPORARY_ROUTER=null;const AUTO_ATTACH_MAX_DISTANCE=450,AUTO_ATTACH_MAX_Y_DIFF=225,AUTO_ATTACH_LINK_TOLERANCE=100;let Node$1=(_i=class extends DisplayObjectContainer{constructor(x2,y2,width=NODE_SIZE,height=NODE_SIZE){var _a2,_b2;super(x2,y2,width,height),this.setupRequired=!1,this._active=!1,this._dragLink=null,this._upgradeable=null,this._inputLink=null,this._outputLink=null,this._errorHandler=null,this._square=null,this._cloned=!1,this.__theme=null,this.__progress=0,this.__grayed=!1,this.__removable=!0,this.__locked=!1,this.__interactive=!0,this.__focusable=!0,this.__draggable=!0,this.__selectable=!0,this.__enlarged=!1,this.__title="",this.__customTitle=null,this.__z=0,this.__layout="fill";const halfWidth=width/2,halfHeight=height/2,anchorOffset=width*NODE_ANCHOR_OFFSET;this.origin=new Point(halfWidth,halfHeight),this._group=new DisplayObjectContainer(halfWidth,halfHeight,width,height),this._group.origin=new Point(halfWidth,halfHeight),this._group.visible=!1,this.attach(this._group),this._progress=new Shape("pie",0,0,width+28),this._progress.origin=new Point(14,14),this._progress.visible=!1,this._group.attach(this._progress),this._selection=new Selection(halfWidth-5,halfHeight-5,width+10,height+10),this._selection.origin=new Point(halfWidth,halfHeight),this._selection.visible=!1,this._group.attach(this._selection),this._shadow=new Shape("shadow",15,height-15,width-30,halfHeight/3),this._group.attach(this._shadow),this._hover=new Shape("circle",halfWidth,halfHeight,width),this._hover.origin=new Point(halfWidth,halfHeight),this._hover.scale=.99,this._group.attach(this._hover),this._inputAnchorDragger=new Dragger(-anchorOffset,halfHeight,width/3,height/3),this._inputAnchorDragger.visible=!1,this._inputAnchorDragger.rotate=180,this._inputAnchorDragger.peekDirection="left",this._group.attach(this._inputAnchorDragger),this._outputAnchorDragger=new Dragger(width+anchorOffset,halfHeight,width/3,height/3),this._outputAnchorDragger.visible=!1,this._outputAnchorDragger.peekDirection="right",this._group.attach(this._outputAnchorDragger),this._inputAnchorDragger.on("dragstart",()=>{this._dragLink=new Surface.Link,this._dragLink.progress=0,this._dragLink.interactive=!1,this.parent.attach(this._dragLink,0),(()=>{const result=[];for(const node2 of this.stage.find(_i))if(node2!==this&&!(node2 instanceof Surface.Scheduling)){if(this.isLinkedWith(node2)){node2.grayed=!0;continue}!node2.canLink(this,"output")&&!node2.canLinkWithRouter(this,"output")&&!node2.canLinkWithErrorHandler(this,"output")?result.push(node2.grayed=!0):result.push(void 0)}return result})()}),this._outputAnchorDragger.on("dragstart",()=>{this._dragLink=new Surface.Link,this._dragLink.progress=0,this._dragLink.interactive=!1,this.parent.attach(this._dragLink,0),this._dragNew=new Surface.Placeholder(this.x+300,this.y,["feeders","aggregators","transformers","actions","searches"]),this._dragNew.temporary=!0,this._dragNew.autoDestroy=!0;for(const node2 of this.stage.find(_i))if(node2!==this&&!(node2 instanceof Surface.Scheduling)){if(this._dragNew!=null&&this._dragNew.bounds.intersect(node2.bounds)&&(this._dragNew=null),this.isLinkedWith(node2)){node2.grayed=!0;continue}!node2.canLink(this,"input")&&!node2.canLinkWithErrorHandler(this,"input")&&(node2.grayed=!0)}if(this._dragNew!=null)return this.stage.attach(this._dragNew)}),this._inputAnchorDragger.on("dragend",()=>{var _a3,_b3;for(const node2 of this.stage.find(_i))node2.locked||(node2.grayed=!1);if(this._dragLink.node1==null)this._dragLink.detach(),new Animation(this._inputAnchorDragger,{x:-anchorOffset,y:halfHeight},{interrupt:!0,duration:1e3,easing:"easeOutElastic"});else if(this._inputAnchorDragger.move(-anchorOffset,halfHeight),this._dragLink.interactive=!0,new Animation(this._dragLink,{progress:{from:0,to:100}},{interrupt:!0,duration:300}),this._dragLink.node1.emit("link_confirm",this._dragLink,"output"),this._dragLink.node2.emit("link_confirm",this._dragLink,"input"),TEMPORARY_ROUTER){new Animation(TEMPORARY_ROUTER._inputLink,{progress:{from:0,to:100}},{interrupt:!0,duration:300}),TEMPORARY_ROUTER._outputLinks[0].reverse=!0,new Animation(TEMPORARY_ROUTER._outputLinks[0],{progress:{from:100,to:0}},{interrupt:!0,duration:300,stop(){return this.reverse=!1,this.progress=100}});let prev=TEMPORARY_ROUTER._inputLink.node1;for(;prev;)prev.interactive=!0,prev=prev._inputLink!=null?prev._inputLink.node1:void 0;let seq2=0;(_b3=(_a3=Inspector.instance)==null?void 0:_a3.scenario)!=null&&_b3.idSequence&&(seq2=Inspector.instance.scenario.idSequence++),TEMPORARY_ROUTER.id=seq2,TEMPORARY_ROUTER.grayed=!1,TEMPORARY_ROUTER.removable=!0,TEMPORARY_ROUTER=null}return this._dragLink=null}),this._outputAnchorDragger.on("dragend",()=>{var _a3;for(const node2 of this.stage.find(_i))node2.locked||(node2.grayed=!1);return this._dragLink.node2==null?(this._dragLink.detach(),this._dragNew!=null&&this._dragNew.detach(),new Animation(this._outputAnchorDragger,{x:width+anchorOffset,y:halfHeight},{interrupt:!0,duration:1e3,easing:"easeOutElastic"})):(this._dragNew===this._dragLink.node2?(imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"another_module_on_drag"}),this._dragNew.temporary=!1,this.stage.surface.input.focus=this._dragNew,(_a3=Inspector.instance)==null||_a3.emit("add_placeholder",this._dragNew)):this._dragNew!=null&&this._dragNew.detach(),this._outputAnchorDragger.move(width+anchorOffset,halfHeight),this._dragLink.interactive=!0,new Animation(this._dragLink,{progress:{from:0,to:100}},{interrupt:!0,duration:300}),this._dragLink.node1.emit("link_confirm",this._dragLink,"output"),this._dragLink.node2.emit("link_confirm",this._dragLink,"input"),_i.TEMPORARY_SCHEDULING&&(this.first.emit("link_confirm",_i.TEMPORARY_SCHEDULING._outputLink,"input"),_i.TEMPORARY_SCHEDULING.emit("inject"),_i.TEMPORARY_SCHEDULING=null)),this._dragLink=null,this._dragNew=null}),this._inputAnchorDragger.on("dragenter",async target=>{if(target instanceof _i&&!this.isLinkedWith(target)){if(target.canLink(this,"output"))return this._dragLink.isErrorHandler=!1,this._dragLink.node1=target,this._dragLink.node2=this,this._inputAnchorDragger.opacity=0;if(target.canLinkWithErrorHandler(this,"output"))return this._dragLink.isErrorHandler=!0,this._dragLink.node1=target,this._dragLink.node2=this,this._inputAnchorDragger.opacity=0;if(target.canLinkWithRouter(this,"output")){if(TEMPORARY_ROUTER)return;const router=await Inspector.instance.repository.get("builtin","BasicRouter");if(router){TEMPORARY_ROUTER=router,router.move(target.x,target.y),router.grayed=!0,router.removable=!1;let prev=target;for(;prev;)prev.interactive=!1,new Animation(prev,{x:{minus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"}),prev=prev._inputLink!=null?prev._inputLink.node1:void 0;if(this.stage.attach(router),target._outputLink!=null){target._outputLink.progress=0;const next=target._outputLink.node2;target._outputLink.node2=router;const link=new Surface.Link(router,next);link.progress=0,this.stage.attach(link)}this._dragLink.isErrorHandler=!1,this._dragLink.node1=router,this._dragLink.node2=this,this._inputAnchorDragger.opacity=0}}}}),this._outputAnchorDragger.on("dragenter",target=>{if(target instanceof _i&&!this.isLinkedWith(target)){if(target.canLink(this,"input"))return target.prev instanceof Surface.Scheduling&&(_i.TEMPORARY_SCHEDULING=target.prev,_i.TEMPORARY_SCHEDULING._outputLink.node2=this.first),this._dragLink.isErrorHandler=!1,this._dragLink.node1=this,this._dragLink.node2=target,this._outputAnchorDragger.opacity=0;if(target.canLinkWithErrorHandler(this,"input"))return this._dragLink.isErrorHandler=!0,this._dragLink.node1=this,this._dragLink.node2=target,this._outputAnchorDragger.opacity=0}}),this._inputAnchorDragger.on("dragleave",target=>{if(this._dragLink.node1=null,this._dragLink.node2=null,this._inputAnchorDragger.opacity=1,target===TEMPORARY_ROUTER){const link=TEMPORARY_ROUTER._outputLinks[0],next=link.node2;let prev=TEMPORARY_ROUTER._inputLink.node1;for(link.node1=null,link.node2=null,link.detach();prev;)new Animation(prev,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc",complete(){return this.interactive=!0}}),prev=prev._inputLink!=null?prev._inputLink.node1:void 0;return TEMPORARY_ROUTER._inputLink.progress=100,TEMPORARY_ROUTER._inputLink.node2=next,TEMPORARY_ROUTER.detach(),TEMPORARY_ROUTER=null}}),this._outputAnchorDragger.on("dragleave",target=>{if(this._dragLink.node1=null,this._dragLink.node2=null,this._outputAnchorDragger.opacity=1,_i.TEMPORARY_SCHEDULING)return _i.TEMPORARY_SCHEDULING._outputLink.node2=target,_i.TEMPORARY_SCHEDULING=null}),this._bg=new Shape("circle",halfWidth,halfHeight,width),this._bg.origin=new Point(halfWidth,halfHeight),this._group.attach(this._bg),this._icon=new Image(null,halfWidth,halfHeight,96,96),this._icon.origin=new Point(48,48),this._group.attach(this._icon),this._badge=new Badge(this),this.attach(this._badge),this._upgradeable=new Button("",this.width-20,this.height-20,40,40),this._upgradeable.shape.style.borderWidth=5,this._upgradeable.shape.style.backgroundColor="#a1d36e",this._upgradeable.label.style.color="#fff",this._upgradeable.label.style.fontSize="30px",this._upgradeable.label.style.font='"Font Awesome 6 Pro"',this._upgradeable.label.style.fontWeight=900,this._upgradeable.origin=new Point(20,20),this._upgradeable.visible=!1,this._upgradeable.focusable=!0,this._upgradeable.style.cursor="pointer",this.attach(this._upgradeable),this._upgradeable.on("focus",()=>new Animation(this._upgradeable,{scale:1.2},{interrupt:!0,duration:100})),this._upgradeable.on("blur",()=>new Animation(this._upgradeable,{scale:1},{interrupt:!0,duration:100})),this._title=new Label("",halfWidth,height*1.16,300,35),this._title.style.color=DEFAULT_TEXT_COLOR.toRGBA(),this._title.style.fontSize="20px",this._title.style.fontWeight="bold",this._title.origin=new Point(NODE_SIZE,0),this._title.visible=!1,this._title.opacity=0,this.attach(this._title),this._description=new Label("",halfWidth,height*1.16+28,300,25),this._description.style.color=DEFAULT_TEXT_COLOR.toRGBA(),this._description.style.fontSize="12px",this._description.origin=new Point(NODE_SIZE,0),this._description.visible=!1,this._description.opacity=0,this.attach(this._description),this._status=new Label("",0,height*1.16+19,50,50),this._status.style.fontSize="16px",this._status.style.font='"Font Awesome 6 Pro"',this._status.style.fontWeight=900,this._status.origin=new Point(25,25),this._status.visible=!1,this.attach(this._status),this._square=(_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems")?new Square("",0,height*1.15,20,20):new Square("",0,height*1.15,19,19),this._square.origin=new Point(-9,-9),this._square.visible=!1,this.attach(this._square),this.theme=new ImtColor$1("#a1d36e"),this.on("attach",()=>(this._group.visible=!0,this._cloned?(this._cloned=!1,new Animation(this._group,{scale:{from:1,to:1.3}},{interrupt:!0,duration:ifbuilt(250),easing:"easeOutBack"}),setTimeout(()=>new Animation(this._group,{scale:{from:1.3,to:1}},{interrupt:!0,duration:ifbuilt(250)}),ifbuilt(250))):new Animation(this._group,{scale:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(1e3),easing:"easeOutElastic"}),setTimeout(()=>{var _a3,_b3;return this._title.visible=!0,new Animation(this._title,{opacity:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(250)}),this._square.visible=!0,new Animation(this._square,{opacity:{from:0,to:(_b3=(_a3=imt.brand)==null?void 0:_a3.theme)!=null&&_b3.startsWith("ems")?1:.4}},{interrupt:!0,duration:ifbuilt(250)})},ifbuilt(250)),setTimeout(()=>(this._description.visible=!0,new Animation(this._description,{opacity:{from:0,to:1}},{interrupt:!0,duration:ifbuilt(250)})),ifbuilt(350)))),this.on("mousedown",()=>this.toFront()),this.on("mouseenter",()=>this._activate()),this.on("mouseleave",()=>{if((this.stage!=null?this.stage.surface.input.focus:void 0)!==this)return this._deactivate()}),this.on("focus",()=>this._activate()),this.on("blur",()=>{if((this.stage!=null?this.stage.surface.input.hover:void 0)!==this)return this._deactivate()}),this.on("select",()=>this._selection.visible=!0),this.on("unselect",()=>this._selection.visible=!1)}get first(){if(!(this._inputLink!=null&&this._inputLink.node1))return this;let prev=this._inputLink!=null?this._inputLink.node1:void 0;for(;(prev._inputLink!=null?prev._inputLink.node1:void 0)!=null;)prev=prev._inputLink.node1;return prev}get _layout(){return this.__layout}set _layout(value){if(value!==this._layout&&(this.__layout=value,this.theme)){const theme=typeof this.theme=="string"?new ImtColor$1(this.theme):this.theme;value==="stroke"?this._icon.filters=[`colorize:${theme.toHex()}`]:theme.determineForegroundColor().equal(new ImtColor$1(0,0,0))&&(this._icon.filters=["invert"]),this._colorize(typeof this.theme=="string"?new ImtColor$1(this.theme):this.theme)}}get bounds(){return new Rectangle(this.x-this.origin.x,this.y-this.origin.y,this.width,this.height*1.16+57)}get next(){return this._outputLink!=null?this._outputLink.node2:void 0}get prev(){return this._inputLink!=null?this._inputLink.node1:void 0}get description(){return this._description.text}set description(value){this._description.text=value}get enlarged(){return this.__enlarged}set enlarged(value){var _a2;if(this.__enlarged===value)return;const animate=(direction,repeat2)=>new Animation(this._bg,{scale:direction?1.1:1},{interrupt:!0,easing:repeat2?"easeInOutQuad":"linear",duration:ifbuilt(300),complete:()=>{if(repeat2&&this.__enlarged)return animate(!direction,!0)}});value&&(animate(!0,!0),_i.enlarged!==this&&_i.enlarged!=null&&(_i.enlarged.enlarged=!1),_i.enlarged=this),this.__enlarged=value,value||(animate(!1,!1),_i.enlarged=null),(_a2=this.stage)==null||_a2.render()}get grayed(){return this.__grayed}set grayed(value){var _a2;this.__grayed!==value&&(this.locked&&value===!1||(value&&(this._hover.style.opacity=.4,new Animation(this._icon,{opacity:.5},{interrupt:!0,duration:ifbuilt(100)}),new ColorAnimation(this,{effectiveColor:this.__theme.transparent(.4)},{interrupt:!0,duration:ifbuilt(100)})),this.__grayed=value,value||(this._hover.style.opacity=1,new Animation(this._icon,{opacity:1},{interrupt:!0,duration:ifbuilt(100)}),new ColorAnimation(this,{effectiveColor:this.__theme},{interrupt:!0,duration:ifbuilt(100)})),(_a2=this.stage)==null||_a2.render()))}get hasSubsequentDirective(){return this._errorHandler!=null?!0:(this.next!=null?this.next.hasSubsequentDirective:void 0)??!1}get isInsideErrorHandler(){let prev=this;for(;prev;){if(prev._inputLink!=null&&prev._inputLink.isErrorHandler)return!0;({prev}=prev)}return!1}get icon(){return this._icon.url}set icon(value){let res=256*window.devicePixelRatio;res<=64?res=64:res<=128?res=128:res<=256?res=256:res=512,this._icon.url=value?inject_str(value,`_${res}`,value.length-4):null}get locked(){return this.__locked}set locked(value){this.__locked!==value&&(this.__locked=value,value?(this.__grayed=!0,this._icon.opacity=.3,this.effectiveColor=this.__theme.transparent(.4),this.__removable=!1):(this.__grayed=!1,this._icon.opacity=1,this.effectiveColor=this.__theme,this.__removable=!0))}get progress(){return this.__progress}set progress(value){var _a2;this.__progress!==value&&(this.__progress=value,this._progress.visible=value>0,this._progress.startAngle=-Math.PI/2,this._progress.endAngle=-Math.PI/2+Math.PI*2*(value/100),(_a2=this.stage)==null||_a2.render())}get removable(){return this.__removable}set removable(value){this.__removable!==value&&(this.locked&&value===!0||(this.__removable=value))}get theme(){return this.__theme}set theme(value){value instanceof ImtColor$1||(value=new ImtColor$1(value)),!(this.__theme!=null&&this.__theme.equal(value))&&(this.animations.stop("effectiveColor"),this.__grayed?this.effectiveColor=DEFAULT_FILL_COLOR.mix(value):this.effectiveColor=value,this._layout==="stroke"?this._icon.filters=[`colorize:${value.toHex()}`]:value.determineForegroundColor().equal(new ImtColor$1(0,0,0))&&(this._icon.filters=["invert"]),this.__theme=value,this.stage!=null&&this.stage.render(),this.emit("theme",value))}get effectiveColor(){return new ImtColor$1(this._bg.style.backgroundColor)}set effectiveColor(value){value instanceof ImtColor$1||(value=new ImtColor$1(value)),this._colorize(value)}get customTitle(){return this.__customTitle}set customTitle(value){value===this.__title&&(value=null),this.__customTitle=value,this._title.text=value||this.__title,this._square.x=this.width/2+this._title.textWidth/2,this._status.x=this.width/2-this._title.textWidth/2-13}get title(){return this.__title}set title(value){this.__title=value,!this.__customTitle&&(this._title.text=value,this._square.x=this.width/2+this._title.textWidth/2,this._status.x=this.width/2-this._title.textWidth/2-13)}get z(){return this.__z}set z(value){var _a2;value=parseFloat(value),!isNaN(value)&&this.__z!==value&&(this._hover.scale=1+value/5,this.__z=value,(_a2=this.stage)==null||_a2.render())}_activate(){if(!this._active)return this._active=!0,new Animation(this._hover,{scale:1.12},{interrupt:!0,duration:100})}_deactivate(){if(this._active)return this._active=!1,new Animation(this._hover,{scale:.99},{interrupt:!0,duration:100})}_colorize(value){const light=value.transparent(.5);return this._hover.style.borderWidth=2,this._bg.style.borderWidth=2,this._selection.style.borderColor=value.toRGB(),this._layout==="stroke"?(this._hover.style.backgroundColor=null,this._hover.style.borderColor=value.toRGB(),this._bg.visible=!1):(this._hover.style.borderColor=null,this._hover.style.backgroundColor=light.toRGBA(),this._bg.visible=!0),this._bg.style.backgroundColor=value.toRGBA(),this._progress.style.backgroundColor=value.darker(50).toRGBA(),this._inputAnchorDragger.style.backgroundColor=light.toRGBA(),this._outputAnchorDragger.style.backgroundColor=light.toRGBA()}animateProgress(value,duration=300){return duration===0?(this.animations.stop("progress"),this.progress=value):new Animation(this,{progress:value},{interrupt:!0,duration})}canLink(node2,type){return!1}canLinkWithRouter(node2,type){return!1}canLinkWithErrorHandler(node2,type){return!1}canLinkWithScheduling(scheduling){return!1}closestLinkableNode(){const pt1=new Point(this.x,this.y);let min=null,mod=null;for(const module2 of this.stage.find(_i))if(module2!==this&&module2.canLink(this,"output")){const pt2=new Point(module2.x,module2.y),distance=pt1.distance(pt2);(min==null||distance<min)&&(min=distance,mod=module2)}return mod}contains(point){if(point instanceof Point){const pt=new Point(point.x-this.x,point.y-this.y);return this.rotate&&pt.transform(new Matrix().rotate(this.rotate.toRad())),this.scale&&pt.transform(new Matrix().scale(1/this.scale)),GLOBAL_STATE.MOUSE_DRAGGING?new Point(0,0).distance(pt)<this.width*1.5/2:new Point(0,0).distance(pt)<this.width/2}else return!1}detach(...children){if(children.length)return super.detach(...children);if(this.parent!=null)if(new Animation(this,{scale:0,opacity:0},{interrupt:!0,duration:300,easing:"easeOutCirc",stop:()=>{_i.prototype.__proto__.detach.call(this)}}),new Animation(this._group,{rotate:{from:0,to:180}},{duration:300,easing:"easeOutCirc"}),this._inputLink!=null&&this._outputLink!=null){const next=this._outputLink.node2;if(next.filter==null&&this.filter!=null&&(next.filter=this.filter),this._outputLink.node2=null,this._outputLink.detach(),this._inputLink.node2=next,next.prev instanceof Surface.Scheduling)return next.prev.move(this.x-50,this.y+50,0),next.prev.move(next.x-50,next.y+50,250)}else{if(this._inputLink!=null)return this._inputLink.destroying=!0,new Animation(this._inputLink,{progress:0},{interrupt:!0,duration:200});if(this._outputLink!=null)return this._outputLink.destroying=!0,this._outputLink.reverse=!0,new Animation(this._outputLink,{progress:{from:0,to:100}},{interrupt:!0,duration:200})}}link(link,type){this.emit("link",link,type),setImmediate(()=>{type==="input"&&this.emit("flow_change"),this.nextAll().forEach(function(node2){var _a2;node2.emit("flow_change"),node2._errorHandler&&(node2._errorHandler.node2.emit("flow_change"),(_a2=node2._errorHandler.node2)==null||_a2.nextAll().forEach(errNode=>errNode.emit("flow_change")))})})}isLinkedWith(node2){if(node2===this)return!0;const{first}=this;return first===node2?!0:first.nextAll().indexOf(node2)!==-1}prevAll(){if(this.prev==null)return[];const o2=[];let q=this.prev;for(Array.isArray(q)||(q=[q]);q.length;){const i2=q.shift();o2.push(i2),i2.prev!=null&&(q=q.concat(i2.prev))}return o2}nextAll(){if(this.next==null)return[];const o2=[];let q=this.next;for(Array.isArray(q)||(q=[q]),Array.isArray(this.onerror)&&q.push.apply(q,this.onerror);q.length;){const i2=q.shift();o2.push(i2),i2.next!=null&&(q=q.concat(i2.next))}return o2}toFront(){return this.parent!=null&&this.parent.toFront(this),this.emit("to_front")}getSuitableForAutoConnect(ignoreSelf=!1){const pt1=new Point(this.x,this.y);let min=AUTO_ATTACH_MAX_DISTANCE,mod=null;const all2=this.nextAll();for(const module2 of this.stage.find(_i)){let distance,pt2;if(module2!==this&&all2.indexOf(module2)===-1){if(module2 instanceof Surface.Router){if(!module2.canLink(this,"output"))continue;pt2=new Point(module2.x,module2.y),distance=pt1.distance(pt2),distance<min&&(min=distance,mod=module2)}else if(module2 instanceof Surface.Module||module2 instanceof Surface.Placeholder){if(!module2.canLink(this,"output")&&(!ignoreSelf||ignoreSelf&&module2.next!==this)||module2.x>this.x||AUTO_ATTACH_MAX_Y_DIFF<Math.abs(module2.y-this.y))continue;pt2=new Point(module2.x,module2.y),distance=pt1.distance(pt2),distance<min&&(min=distance,mod=module2)}}}return mod}getSuitableForLinkInjection(){const me=new Point(this.x,this.y),fake={fakeLink:!0},links=this.stage.find(Surface.Link).filter(link=>link.node1 instanceof Surface.Scheduling?!1:link.node2===this?(fake.node1=link.node1,!1):link.node1===this?(fake.node2=link.node2,!1):link!==GLOBAL_STATE.PILOT_LINK);fake.node1&&fake.node2&&links.unshift(fake);for(const link of links){const pt1=new Point(link.node1.x,link.node1.y),pt2=new Point(link.node2.x,link.node2.y),distance=pt1.distance(pt2);if(me.distance(pt1)+me.distance(pt2)<distance+AUTO_ATTACH_LINK_TOLERANCE)return link}return null}tryAutoConnect(hint){let mod=hint??null;if(mod||(mod=this.getSuitableForAutoConnect()),mod){this.autoDestroy=!0;const link=new Surface.Link(mod,this);this.stage.attach(link),link.destroying=!0,new Animation(link,{progress:{from:0,to:100}},{duration:200,complete:()=>(link.destroying=!1,this.stage.surface.input.focus=this)}),mod.emit("link_confirm",link,"output"),this.emit("link_confirm",link,"input")}return this}unlink(link,type){this.emit("unlink",link,type),setImmediate(()=>{type==="input"&&this.emit("flow_change"),this.nextAll().forEach(node2=>node2.emit("flow_change"))})}},_i.TEMPORARY_SCHEDULING=null,_i),Scheduling$1=class extends Node$1{constructor(x2,y2){super(0,0,80,80);__publicField(this,"TYPE","scheduling");this.__removable=!1,this.__draggable=!0,this.__animating=!1,this.__selectable=!1,this._outputLink=null,this._timer=null,this._animation=null,this._dots=null,this._link=this._link.bind(this),this._unlink=this._unlink.bind(this),this._move=this._move.bind(this),this._bg.type="pie",this._bg.pieThickness=8,this._leftDot=new Shape("circle",this.width*.2,this.height/2,this.width/20),this._leftDot.style.backgroundColor=this.theme.toHex(),this._leftDot.origin=new Point(this.width/20/2,this.width/20/2),this._group.attach(this._leftDot),this._rightDot=new Shape("circle",this.width*.8,this.height/2,this.width/20),this._rightDot.style.backgroundColor=this.theme.toHex(),this._rightDot.origin=new Point(this.width/20/2,this.width/20/2),this._group.attach(this._rightDot),this._bottomDot=new Shape("circle",this.width/2,this.height*.8,this.width/20),this._bottomDot.style.backgroundColor=this.theme.toHex(),this._bottomDot.origin=new Point(this.width/20/2,this.width/20/2),this._group.attach(this._bottomDot),this._topDot=new Shape("circle",this.width/2,this.height*.2,this.width/20),this._topDot.style.backgroundColor=this.theme.toHex(),this._topDot.origin=new Point(this.width/20/2,this.width/20/2),this._group.attach(this._topDot),this._bigHand=new Shape("line",this.width/2,this.height/2,0,0),this._bigHand.style.borderColor=this.theme.toHex(),this._bigHand.style.borderWidth=6,this._bigHand.style.borderCap="round",this._group.attach(this._bigHand),this._smallHand=new Shape("line",this.width/2,this.height/2,0,0),this._smallHand.style.borderColor=this.theme.toHex(),this._smallHand.style.borderWidth=6,this._smallHand.style.borderCap="round",this._group.attach(this._smallHand),this._tinyHand=new Shape("line",this.width/2,this.height/2,0,0),this._tinyHand.style.borderColor=this.theme.toHex(),this._tinyHand.style.borderWidth=1,this._tinyHand.style.borderCap="round",this._group.attach(this._tinyHand),this._title.move(40,40),this._title.resize(80,80),this._title.origin=new Point(40,40),this._title.style.font='"Font Awesome 6 Pro"',this._title.style.fontWeight=900,this._title.style.fontSize="50px",this.update();let dragTarget=null;this.on("attach",()=>this._timer=repeat(1e3,()=>this.update())),this.on("detach",()=>(unrepeat(this._timer),this._timer=null)),this.on("dragstart",()=>(()=>{const result=[];for(var node2 of this.stage.find(Node$1))node2!==this&&!node2.canLinkWithScheduling(this)&&result.push(node2.grayed=!0);return result})()),this.on("dragend",()=>{for(var node2 of this.stage.find(Node$1))node2!==this&&!node2.locked&&(node2.grayed=!1);return dragTarget&&(this._outputLink.node2=dragTarget,dragTarget.emit("link_confirm",this._outputLink,"input")),new Animation(this,{x:this.next.x-50,y:this.next.y+50},{interrupt:!0,duration:1e3,easing:"easeOutElastic"})}),this.on("dragenter",target=>{if(target instanceof Node$1&&target!==this&&target.canLinkWithScheduling(this))return dragTarget=target}),this.on("dragmove",target=>{if(dragTarget){const diff2=new Point(this.x-(dragTarget.x-50),this.y-(dragTarget.y+50));return this.move(dragTarget.x-50+diff2.x*.1,dragTarget.y+50+diff2.y*.1)}}),this.on("dragleave",target=>dragTarget=null)}static initClass(){this.property("interactive",{get(){return GLOBAL_STATE.MOUSE_DRAGGING?!1:this.__interactive},set(value){if(this.__interactive!==value)return this.__interactive=value}}),this.property("animating",{get(){return this.__animating},set(value){if(this.__animating!==value){if(this.__animating){unrepeat(this._animation),this._animation=null;for(var d2 of this._dots)d2.detach();this.dots=null}return this.__animating=value,value&&(this._dots=[],this._animation=repeat(100,()=>{let dot;const angle=2*Math.PI*(Date.now()%1e3/1e3);return this._dots.length&&!this._dots[0].stage?dot=this._dots.shift():dot=new Shape("circle",0,0,2),dot.move(this.width/2+17*Math.cos(angle),this.height/2+17*Math.sin(angle)),dot.origin=new Point(1,1),dot.style.backgroundColor=this.theme.toHex(),this._group.attach(dot),this._dots.push(dot),dot.opacity=1,new Animation(dot,{scale:{from:4,to:1}},{easing:"linear",duration:1e3}),delay(500,()=>new Animation(dot,{opacity:{from:1,to:0}},{easing:"linear",duration:500,complete(){return dot.detach()}}))})),this._leftDot.opacity=value?0:1,this._rightDot.opacity=value?0:1,this._bottomDot.opacity=value?0:1,this._topDot.opacity=value?0:1,this._bigHand.opacity=value?0:1,this._smallHand.opacity=value?0:1,this._tinyHand.opacity=value?0:1,this._title.opacity=value?0:1}}}),this.property("next",{get(){return this._outputLink!=null?this._outputLink.node2:void 0}}),this.property("prev",{get(){return null}})}_colorize(value){return super._colorize(value),this._hover.style.backgroundColor=value.determineForegroundColor().transparent(.8).toRGBA(),this._leftDot!=null&&(this._leftDot.style.backgroundColor=value.toHex()),this._rightDot!=null&&(this._rightDot.style.backgroundColor=value.toHex()),this._bottomDot!=null&&(this._bottomDot.style.backgroundColor=value.toHex()),this._topDot!=null&&(this._topDot.style.backgroundColor=value.toHex()),this._bigHand!=null&&(this._bigHand.style.borderColor=value.toHex()),this._smallHand!=null&&(this._smallHand.style.borderColor=value.toHex()),this._tinyHand!=null&&(this._tinyHand.style.borderColor=value.toHex()),this._title.style.color=value.toHex()}_link(node2,type){if(type==="output")return this.theme=node2.theme,node2.on("move",this._move),Node$1.TEMPORARY_SCHEDULING?this.move(this.next.x-50,this.next.y+50,250):this._move()}_unlink(node2,type){if(type==="output")return node2.off("move",this._move)}_move(){return this.move(this.next.x-50,this.next.y+50)}canLink(node2,type){return type==="input"?!1:this._outputLink==null}canLinkWithRouter(node2,type){return!1}canLinkWithErrorHandler(node2,type){return!1}detach(){return this._outputLink!=null&&(this._outputLink.reverse=!0,this._outputLink.destroying=!0,new Animation(this._outputLink,{progress:{from:0,to:100}},{interrupt:!0,duration:200})),super.detach()}link(link,type){if(super.link(link,type),this._outputLink=link,link.invisible=!0,link.on("link",this._link),link.on("unlink",this._unlink),this.next!=null)return this._link(this.next,"output")}unlink(link,type){return super.unlink(link,type),link.off("link",this._link),link.off("unlink",this._unlink),this._outputLink=null}update(){const now=new Date;let angle=(360/12*(now.getHours()+now.getMinutes()/60)-90).toRad();return this._smallHand.resize(this.height*.14*Math.cos(angle),this.height*.14*Math.sin(angle)),angle=(360/60*(now.getMinutes()+now.getSeconds()/60)-90).toRad(),this._bigHand.resize(this.height*.29*Math.cos(angle),this.height*.29*Math.sin(angle)),angle=(360/60*now.getSeconds()-90).toRad(),this._tinyHand.resize(this.height*.29*Math.cos(angle),this.height*.29*Math.sin(angle))}toIQL(path){return path}};Scheduling$1.initClass();let PILOT_ENABLED=!1,PILOT_INJECT_LINK=!1,PILOT_CONNECTED=!1,PILOT_INJECTED=!1,Module$1=class extends Node$1{constructor(x2,y2,width,height){super(x2,y2,width,height),this.__operations=0,this.__status="",this.__filtered=null,this.__id=0,this.metadata={},this.on("dragstart",()=>{if(PILOT_ENABLED=this._inputLink==null&&!(this instanceof Surface.Trigger),PILOT_ENABLED)return GLOBAL_STATE.PILOT_LINK=new Surface.Link,PILOT_INJECT_LINK=!this.prev&&!this.next&&!(this instanceof Surface.Directive)}),this.on("dragmove",()=>{if(PILOT_ENABLED){let next,suitable;if(PILOT_INJECT_LINK)if(suitable=this.getSuitableForLinkInjection(),suitable){PILOT_CONNECTED&&(GLOBAL_STATE.PILOT_LINK.detach(),PILOT_CONNECTED=!1),suitable.fakeLink||(PILOT_INJECTED&&(next=GLOBAL_STATE.PILOT_LINK.node2,GLOBAL_STATE.PILOT_LINK.detach(),this._inputLink.node2=next),next=suitable.node2,suitable.node2=this,GLOBAL_STATE.PILOT_LINK.progress=100,GLOBAL_STATE.PILOT_LINK.node2=next,GLOBAL_STATE.PILOT_LINK.node1=this,this.stage.attach(GLOBAL_STATE.PILOT_LINK),PILOT_INJECTED=!0);return}else PILOT_INJECTED&&(next=GLOBAL_STATE.PILOT_LINK.node2,GLOBAL_STATE.PILOT_LINK.detach(),this._inputLink.node2=next,PILOT_INJECTED=!1);if(suitable=this.getSuitableForAutoConnect(!PILOT_INJECTED),suitable){PILOT_INJECTED&&(next=GLOBAL_STATE.PILOT_LINK.node2,GLOBAL_STATE.PILOT_LINK.detach(),this._inputLink.node2=next,PILOT_INJECTED=!1),GLOBAL_STATE.PILOT_LINK.node2!==suitable&&(GLOBAL_STATE.PILOT_LINK.progress=100,GLOBAL_STATE.PILOT_LINK.node1=suitable,GLOBAL_STATE.PILOT_LINK.node2=this,this.stage.attach(GLOBAL_STATE.PILOT_LINK),PILOT_CONNECTED=!0);return}else if(PILOT_CONNECTED)return GLOBAL_STATE.PILOT_LINK.detach(),PILOT_CONNECTED=!1}}),this.on("dragend",()=>{if(PILOT_ENABLED)if(PILOT_CONNECTED){const link=GLOBAL_STATE.PILOT_LINK;link.destroying=!0,new Animation(link,{progress:{from:0,to:100}},{duration:200,complete:()=>{if(link.destroying=!1,this.setupRequired)return this.stage.surface.input.focus=this}}),link.node1.emit("link_confirm",link,"output"),this.emit("link_confirm",link,"input")}else PILOT_INJECTED&&this.setupRequired&&(this.stage.surface.input.focus=this);return PILOT_CONNECTED=!1,PILOT_INJECTED=!1,GLOBAL_STATE.PILOT_LINK=null})}get id(){return this.__id}set id(value){value!==this.__id&&(this.__id=value,this._square.text=value)}get filtered(){return this.__filtered}set filtered(value){value!==this.__filtered&&(value!=null?this._inputLink!=null&&this._inputLink._filter.activate():this._inputLink!=null&&this._inputLink._filter.deactivate(),this.__filtered=value,this._inputLink!=null&&(this._inputLink._filter.label2.text=value))}get operations(){return this.__operations}set operations(value){value!==this.__operations&&(this.__operations===0?this._bubble.parent||this.stage!=null&&this.stage.attach(this._bubble):value===0&&(["error","warning"].includes(this.__status)||this._bubble.detach()),this.__operations=value,["error","warning"].includes(this.__status)||(this._bubble.label.text=value.toString()))}get status(){return this.__status}set status(value){var _a2;if(this.__status!==value){switch(this.__status=value,this._status.x=this.width/2-this._title.textWidth/2-13,value){case"error":this._status.text="",this._status.style.color="#eb5768",this._title.style.color="#eb5768",this._status.visible=!0,this._bubble.label.style.color="#eb5768",this._bubble.label.style.font='"Font Awesome 6 Pro"',this._bubble.label.style.fontWeight=900,this._bubble.label.text="",this._bubble.parent==null&&this.stage!=null&&this.stage.attach(this._bubble);break;case"warning":this._status.text="",this._status.style.color="#fecd5f",this._title.style.color="#fecd5f",this._status.visible=!0,this._bubble.label.style.color="#fecd5f",this._bubble.label.style.font='"Font Awesome 6 Pro"',this._bubble.label.style.fontWeight=900,this._bubble.label.text="",this._bubble.parent==null&&this.stage!=null&&this.stage.attach(this._bubble);break;case"success":this._status.text="",this._status.style.color="#a1d36e",this._title.style.color="#a1d36e",this._status.visible=!0,this._bubble.label.style.color=null,this._bubble.label.style.font=null,this._bubble.label.text=this.__operations.toString(),this.__operations===0&&this._bubble.detach();break;default:this._title.style.color=DEFAULT_TEXT_COLOR.toRGBA(),this._status.visible=!1,this._bubble.label.style.color=null,this._bubble.label.style.font=null,this._bubble.label.style.fontWeight=null,this._bubble.label.text=this.__operations.toString(),this.__operations===0&&this._bubble.detach()}(_a2=this.stage)==null||_a2.render()}}detach(){var _a2,_b2;if(this.prev instanceof Scheduling$1&&this.prev.closePanels(),this.prev instanceof Scheduling$1||((_a2=Inspector.instance)==null?void 0:_a2._failer)===this){const ph=new Surface.Placeholder(this.x,this.y);this._inputLink!=null&&(this._inputLink.node2=ph),this._outputLink!=null&&(this._outputLink.node1=ph),this.stage.attach(ph),(_b2=Inspector.instance)==null||_b2.emit("add_placeholder",ph),this.emit("swap_to_placeholder",ph)}return super.detach()}},Placeholder$1=class extends Node$1{static initClass(){this.property("bounds",{get(){return new Rectangle(this.x-this.origin.x,this.y-this.origin.y,this.width,this.height+81)}}),this.property("temporary",{get(){return this.__temporary},set(value){if(this.__temporary!==value)return this.__temporary=value,this.grayed=value,this._outputAnchorDragger.visible=!value&&!this._outputLink,this._inputAnchorDragger.visible=!value&&!this._inputLink,this._iconTitle.text=""}}),this.property("attention",{get(){return this.__attention},set(value){if(this.__attention!==value)return this.__attention=value,this._iconTitle.text=value?"":"",this._iconTitle.style.color=value?"#FF0000":DEFAULT_TEXT_COLOR.toRGBA()}}),this.property("highlighted",{get(){return this.__highlighted},set(value){if(this.__highlighted===value)return;const themeColor=getComputedStyle(document.documentElement).getPropertyValue("--imt-primary");if(this.__highlighted=value,this.theme=value?new ImtColor(themeColor.trim()||"#6d00cc"):NODE_INACTIVE_COLOR,this.prev instanceof Scheduling$1)return this.prev.theme=this.theme}}),this.property("removable",{get(){return this.prev instanceof Scheduling$1&&this.next==null?!1:this.__removable},set(value){if(this.__removable!==value&&!(this.locked&&value===!0))return this.__removable=value}})}constructor(x2,y2){super(x2,y2),this.__temporary=!1,this.__attention=!1,this.__highlighted=!1,this._outputAnchorDragger.visible=!0,this._inputAnchorDragger.visible=!0,imt.brand.theme.startsWith("ems")?(this._layout="stroke",this.theme=DEFAULT_TEXT_COLOR):this.theme=NODE_INACTIVE_COLOR,this._iconTitle=new Label("",NODE_SIZE_HALF,NODE_SIZE_HALF*1.16+28,300,25),this._iconTitle.move(NODE_SIZE_HALF,NODE_SIZE_HALF),this._iconTitle.resize(NODE_SIZE,NODE_SIZE),this._iconTitle.style.color=NODE_INACTIVE_COLOR.determineForegroundColor().toRGBA(),this._iconTitle.style.font='"Font Awesome 6 Pro"',this._iconTitle.style.fontSize="70px",this._iconTitle.style.fontWeight="300",this._iconTitle.text="",this._iconTitle.origin=new Point(NODE_SIZE_HALF,NODE_SIZE_HALF),this.attach(this._iconTitle)}_colorize(value){return super._colorize(value),imt.brand.theme.startsWith("ems")?(this._iconTitle!=null&&(this._iconTitle.style.color=DEFAULT_TEXT_COLOR.toRGBA()),this._hover!=null&&(this._hover.style.borderWidth=7),this._hover!=null?this._hover.style.borderColor=DEFAULT_TEXT_COLOR.toRGBA():void 0):this._iconTitle!=null?this._iconTitle.style.color=value.determineForegroundColor().toRGBA():void 0}canLink(node2,type){return type==="input"?(this._outputLink!=null?this._outputLink.node2:void 0)===node2?!1:this._inputLink==null:(this._inputLink!=null?this._inputLink.node1:void 0)===node2?!1:this._outputLink==null}canLinkWithRouter(node2,type){return type==="output"}canLinkWithScheduling(scheduling){return this._inputLink==null||this.prev===scheduling}link(link,type){return super.link(link,type),type==="output"?(this._outputLink=link,this._outputAnchorDragger.visible=!1):(this._inputLink=link,this._inputAnchorDragger.visible=!1)}unlink(link,type){return super.unlink(link,type),type==="output"?(this._outputLink=null,this._outputAnchorDragger.opacity=1,this._outputAnchorDragger.visible=!0):(this._inputLink=null,this._inputAnchorDragger.opacity=1,this._inputAnchorDragger.visible=!0)}detach(){return this.prev instanceof Scheduling$1&&this.prev.closePanels(),super.detach()}};Placeholder$1.initClass();class NoteLine extends DisplayObjectContainer{static initClass(){this.property("visible",{get(){var _a2;return!["edit","test","live"].includes((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)||!this.note.is(":visible")?!1:this.__visible},set(value){var _a2;if(this.__visible!==value)return this.__visible=value,(_a2=this.surface)==null?void 0:_a2.render()}})}constructor(module2,note,onFilter){super(0,0,0,0),this.module=module2,this.note=note,this.onFilter=onFilter}render(context){var _a2,_b2;let offset2,ttw,x2,y2;super.render(context);const scale=1/this.stage.surface.camera.zoom;this.onFilter?(ttw=0,offset2=0,x2=((_a2=this.module._inputLink)==null?void 0:_a2._filter.x)??0,y2=((_b2=this.module._inputLink)==null?void 0:_b2._filter.y)??0):(ttw=this.module._title.textWidth,offset2=Math.max(25,(this.module._description.textWidth-this.module._title.textWidth)/2),x2=this.module.x-ttw/2-13,y2=this.module.y+118);const coord=this.note.offset();coord.left-=32,coord.top+=5;const note=new Point((coord.left*window.devicePixelRatio-this.stage.surface.camera.origin.x)/this.stage.surface.camera.zoom,(coord.top*window.devicePixelRatio-this.stage.surface.camera.origin.y)/this.stage.surface.camera.zoom);return note.translate(-this.stage.x,-this.stage.y),context.beginPath(),this.module.y>note.y?this.onFilter?(context.moveTo(x2,y2-60),context.lineTo(x2,y2-85)):(context.moveTo(this.module.x,this.module.y-95),context.lineTo(this.module.x,this.module.y-120)):this.onFilter?(context.moveTo(x2,y2+25),context.lineTo(x2,y2+50)):this.module.x<note.x?(context.moveTo(x2+ttw+30,y2),context.lineTo(x2+ttw+30+offset2,y2)):(context.moveTo(x2-15,y2),context.lineTo(x2-2-offset2,y2)),context.lineTo(note.x-5*scale,note.y),context.lineWidth=1*scale,context.strokeStyle="#ddd",context.stroke(),context.beginPath(),context.fillStyle=this.module.theme.toHex(),context.moveTo(note.x,note.y-5*scale),context.lineTo(note.x-5*scale,note.y),context.lineTo(note.x,note.y+5*scale),context.closePath(),context.fill()}}NoteLine.initClass();class Stage extends DisplayObjectContainer{static initClass(){this.prototype.animations=null,this.prototype.fps=0,this.prototype._ticks=0,this.prototype._animationFrameRequested=!1,this.prototype.__blur=0,this.prototype.__border=!1,this.prototype.__borderScale=1.1,this.prototype.__borderVisible=!1,this.property("blur",{get(){return this.__blur},set(value){if(this.__blur!==value)return this.__blur=value,this.render()}}),this.property("border",{get(){return this.__border},set(value){if(this.__border!==value)return this.__border=value,value?(this.__borderVisible=!0,new Animation(this,{borderScale:1},{interrupt:!0,duration:300})):new Animation(this,{borderScale:1.1},{interrupt:!0,duration:300,complete:()=>this.__borderVisible=!1})}}),this.property("borderScale",{get(){return this.__borderScale},set(value){if(this.__borderScale!==value)return this.__borderScale=value,this.render()}})}constructor(surface){super(),this.surface=surface,this.stage=this,this.priorities=[NoteLine,AggregationContainer,Link$1,Explainer$1,Module$1,Placeholder$1,Scheduling$1,Bubble$1],this.animations=new Animations(this),this.stageAnimations=new StageAnimations(this);const{render}=this.constructor.prototype;let requested=!1;this.render=()=>{if(!requested)return requested=!0,this.requestAnimationFrame(()=>(requested=!1,render.call(this)))},repeat(1e3,()=>(this.fps=this._ticks,this._ticks=0))}destructor(){return this.stageAnimations.destroy(),this.animations.destroy()}requestAnimationFrame(fce){return requestAnimationFrame(fce)}render(){if(!this.surface.destroyed){if(this.stageAnimations.length&&this.stageAnimations.tick(),this.surface.input.check(),this.surface.context.clear(),this.surface.context.save(),this.surface.debug&&(this.surface.context.save(),this.surface.context.fillStyle="#999",this.surface.context.font=`24px ${DEFAULT_TEXT_FONT}`,this.surface.context.fillText(`fps: ${this.fps}`,this.surface.width*window.devicePixelRatio-100,40,80)),this.surface.context.translate(this.surface.camera.origin.x,this.surface.camera.origin.y),this.surface.debug&&(this.surface.context.save(),this.surface.context.strokeStyle="#ddd",this.surface.context.lineWidth=1,this.surface.context.line(-this.surface.camera.bounds.width/2,0,this.surface.camera.bounds.width/2,0),this.surface.context.line(0,-this.surface.camera.bounds.height/2,0,this.surface.camera.bounds.height/2),this.surface.context.restore()),this.surface.context.scale(this.scale,this.scale),this.surface.context.translate(this.x,this.y),this.surface.debug&&(this.surface.context.save(),this.surface.context.strokeStyle="red",this.surface.context.lineWidth=1,this.surface.context.line(0,0,50,0),this.surface.context.strokeStyle="green",this.surface.context.line(0,0,0,50),this.surface.context.restore()),super.render(this.surface.context),this.surface.input.selectionBounds&&(this.surface.context.save(),this.surface.context.translate(-this.surface.stage.x,-this.surface.stage.y),this.surface.context.fillStyle=new ImtColor(47,140,187,.1).toRGBA(),this.surface.context.beginPath(),this.surface.context.rect(this.surface.input.selectionBounds.x,this.surface.input.selectionBounds.y,this.surface.input.selectionBounds.width,this.surface.input.selectionBounds.height),this.surface.context.fill(),this.surface.context.restore()),this.surface.debug){const cb=this.boundsOf(Node);this.surface.context.save(),this.surface.context.globalAlpha=.8,this.surface.context.setLineDash([5]),this.surface.context.lineWidth=2,this.surface.context.strokeStyle="#333",this.surface.context.beginPath(),this.surface.context.rect(cb.x,cb.y,cb.width,cb.height),this.surface.context.stroke(),this.surface.context.restore()}if(this.surface.context.restore(),this.__borderVisible&&(this.surface.context.save(),this.__borderScale!==1&&(this.surface.context.translate(this.surface.width*(1-this.__borderScale)/2,this.surface.height*(1-this.__borderScale)/2),this.surface.context.scale(this.__borderScale,this.__borderScale)),this.surface.context.fillStyle="rgba(0, 0, 0, .15)",this.surface.context.tv(0,0,this.surface.width*window.devicePixelRatio,this.surface.height*window.devicePixelRatio,20),this.surface.context.restore()),this.__blur>0&&this.surface.context.blur(this.__blur),this.emit("render"),this._ticks++,this.stageAnimations.length)return this.render()}}}Stage.initClass();class ClickGuide extends VisualGuide{constructor(...args){super(...args),this._animate=this._animate.bind(this)}_animate(done){return this._animatePointerIn(()=>setTimeout(()=>this._animateClick(()=>setTimeout(()=>this._animatePointerOut(done),1e3)),1e3))}}class DoubleClickGuide extends VisualGuide{constructor(...args){super(...args),this._animate=this._animate.bind(this)}_animate(done){return this._animatePointerIn(()=>setTimeout(()=>this._animateClick(()=>this._animateClick(()=>setTimeout(()=>this._animatePointerOut(done),1e3))),1e3))}}class DragGuide extends VisualGuide{constructor(x1,y1,x2,y2){super(x1,y1),this._animate=this._animate.bind(this),this.x1=x1,this.y1=y1,this.x2=x2,this.y2=y2}_animate(done){return this.move(this.x1,this.y1),this._animatePointerIn(()=>setTimeout(()=>this._animateMouseDown(()=>setTimeout(()=>new Animation(this,{x:{from:this.x1,to:this.x2},y:{from:this.y1,to:this.y2}},{duration:new Point(this.x1,this.y1).distance(new Point(this.x2,this.y2))*1.5,complete:()=>setTimeout(()=>this._animateMouseUp(()=>setTimeout(()=>this._animatePointerOut(()=>done()),1e3)),700)}),200)),1e3))}}const DEFAULT_ZOOM_TO_FIT_SCALE_X=.9,DEFAULT_ZOOM_TO_FIT_SCALE_Y=.8;class CameraManager extends EventEmitter$1{static initClass(){this.prototype.auto=!0,this.prototype.locked=!1,this.prototype._saved=null,this.prototype.__bottomIndent=0,this.property("bottomIndent",{get(){return this.__bottomIndent},set(value){if(this.__bottomIndent!==value)return this.__bottomIndent=value}}),this.property("bounds",{get(){const width=this.surface.width*window.devicePixelRatio/this.zoom,height=this.surface.height*window.devicePixelRatio/this.zoom;return new Rectangle(-width/2,-height/2,width,height)}}),this.property("zoom",{get(){return this.surface.stage.scale},set(value){if(!(isNaN(value)||value===1/0)&&(value=Math.max(MIN_ZOOM,value),value=Math.min(MAX_ZOOM,value),value!==this.surface.stage.scale))return this.surface.stage.scale=value,this.emit("zoom")}}),this.property("origin",{get(){return new Point(this.surface.width*window.devicePixelRatio/2,(this.surface.height-this.__bottomIndent)*window.devicePixelRatio/2)}})}constructor(surface){super(),this.surface=surface}ensureVisible(bounds,duration=500){const fov=this.bounds;if(fov.x+=(fov.width-fov.width*DEFAULT_ZOOM_TO_FIT_SCALE_X)/2,fov.y+=(fov.height-fov.height*DEFAULT_ZOOM_TO_FIT_SCALE_Y)/2,fov.width*=DEFAULT_ZOOM_TO_FIT_SCALE_X,fov.height*=DEFAULT_ZOOM_TO_FIT_SCALE_Y,fov.width<bounds.width||fov.height<bounds.height)return this.makeVisible(bounds,duration);bounds.x+=this.surface.stage.x,bounds.y+=this.surface.stage.y;let{x:x2}=this.surface.stage,{y:y2}=this.surface.stage;return bounds.x<fov.x&&(x2+=fov.x-bounds.x),bounds.y<fov.y&&(y2+=fov.y-bounds.y),bounds.x+bounds.width>fov.x+fov.width&&(x2-=bounds.x+bounds.width-(fov.x+fov.width)),bounds.y+bounds.height>fov.y+fov.height&&(y2-=bounds.y+bounds.height-(fov.y+fov.height)),x2!==this.surface.stage.x||y2!==this.surface.stage.y?(this.panTo(x2,y2,duration),!0):!1}makeVisible(bounds,duration=500){bounds??(bounds=this.surface.stage.boundsOf([Module$1,Placeholder$1])),bounds.width===0&&(bounds.width=1),bounds.height===0&&(bounds.height=1);const fov=this.bounds;fov.width*=DEFAULT_ZOOM_TO_FIT_SCALE_X,fov.height*=DEFAULT_ZOOM_TO_FIT_SCALE_Y;const scale=Math.min(fov.width/bounds.width,fov.height/bounds.height),zoom=Math.min(MAX_ZOOM,Math.max(.2,this.zoom*scale)),offsetX=window.devicePixelRatio/zoom,offsetY=window.devicePixelRatio/zoom;return this.zoomTo(zoom,duration),this.panTo(-bounds.center.x+offsetX,-bounds.center.y+offsetY,duration)}makeVisibleInFOV(infov,duration=500){this.surface.resize();const bounds=this.surface.stage.boundsOf([Module$1,Placeholder$1]);bounds.width===0&&(bounds.width=1),bounds.height===0&&(bounds.height=1);let{width}=this.surface,{height}=this.surface,offsetX=0,offsetY=0;infov!=null&&({width}=infov,{height}=infov,offsetX=infov.x,offsetY=infov.y),width=width*window.devicePixelRatio/this.zoom,height=height*window.devicePixelRatio/this.zoom,offsetX*=window.devicePixelRatio,offsetY*=window.devicePixelRatio;const fov=new Rectangle(-width/2,-height/2,width,height);fov.width*=DEFAULT_ZOOM_TO_FIT_SCALE_X,fov.height*=DEFAULT_ZOOM_TO_FIT_SCALE_Y;const scale=Math.min(fov.width/bounds.width,fov.height/bounds.height),zoom=Math.min(MAX_ZOOM,Math.max(.2,this.zoom*scale));return offsetX/=zoom,offsetY/=zoom,this.zoomTo(zoom,duration),this.panTo(-bounds.center.x+offsetX,-bounds.center.y+offsetY,duration)}zoomTo(zoom,duration=500){return zoom=Math.max(.2,zoom),zoom=Math.min(MAX_ZOOM,zoom),duration>0?new Animation(this.surface.stage,{scale:zoom},{interrupt:!0,easing:"easeOutCirc",duration}):this.surface.stage.scale=zoom}panTo(x2,y2,duration=500){return duration>0?new Animation(this.surface.stage,{x:x2,y:y2},{interrupt:!0,easing:"easeOutCirc",duration}):this.surface.stage.move(x2,y2)}restore(animate=!0){if(this._saved)return this.zoomTo(this._saved.zoom,animate),this.panTo(this._saved.x,this._saved.y,animate),this._saved=null}save(){return this._saved={x:this.surface.stage.x,y:this.surface.stage.y,zoom:this.zoom}}}CameraManager.initClass();let MOUSE_DOWN=null,MOUSE_MOVED=!1,MOUSE_OFFSET=null,MOUSE_CURSOR="default";const MOUSE_CLICK_TOLERANCE=5;let MOUSE_CLICK_TIME=null,MOUSE_CLICK_LAST=null,MOUSE_LAST=null,MOUSE_LAST_TIME=null,MOUSE_SELECTION=!1,SWIPE_DISTANCE=null,DRAG_TARGET=null,LONG_TOUCH=null,LONG_TOUCH_PROC=!1,FIRST_TOUCH_POS=null,LAST_TAP=null,FINGERS=0,KEY_SHIFT_DOWN=!1,KEY_SPACE_DOWN=!1;class InputManager{static initClass(){this.prototype.doubleClickEnabled=!0,this.prototype.contextMenuEnabled=!0,this.prototype.exclusiveInteractiveObject=null,this.prototype.selectionBounds=null,this.prototype.__enabled=!0,this.prototype.__hover=null,this.prototype.__focus=null,this.prototype.__focusEnabled=!0,this.prototype.__selectionEnabled=!0,this.prototype.__selected=[],this.prototype.__cameraOnly=!1,this.property("drag",{get(){return GLOBAL_STATE.MOUSE_DRAGGING?GLOBAL_STATE.MOUSE_TARGET:null}}),this.property("lastKnownPointerPosition",{get(){return MOUSE_LAST}}),this.property("shiftKey",{get(){return KEY_SHIFT_DOWN}}),this.property("enabled",{get(){return this.__enabled},set(value){if(value!==this.__enabled&&(this.__enabled=value,!value))return this.hover=null}}),this.property("selectionEnabled",{get(){return this.__selectionEnabled},set(value){if(value!==this.__selectionEnabled&&(this.__selectionEnabled=value,!value))return this.selected=[]}}),this.property("focusEnabled",{get(){return this.__focusEnabled},set(value){if(value!==this.__focusEnabled&&(this.__focusEnabled=value,!value))return this.focus=null}}),this.property("selected",{get(){return this.__selected},set(value){let node2;if(Array.isArray(value)||(value=value!=null?[value]:[]),!this.selectionEnabled||value===this.__selected||(value=value.filter((node22,pos)=>node22.interactive&&node22.selectable&&value.indexOf(node22)===pos),value.length===0&&this.__selected.length===0))return;const old=this.__selected;if(this.__selected=value,old)for(node2 of old)value.indexOf(node2)===-1&&node2.emit("unselect");if(value)for(node2 of value)old.indexOf(node2)===-1&&node2.emit("select");return this.surface.render()}}),this.property("focus",{get(){return this.__focus},set(value){if(!this.focusEnabled||value===this.__focus||value&&!value.interactive||value&&!value.focusable)return;const old=this.__focus;this.__focus=value,old&&old.emit("blur"),value&&value.emit("focus");const focusChangedPayload={newFocused:value,oldFocused:old,objectType:(value==null?void 0:value.TYPE)||null};return Inspector.instance.emit("focus_changed",focusChangedPayload),imtEvents.dispatch("inputmanager.focus_changed",focusChangedPayload),this.surface.render()}}),this.property("hover",{get(){return this.__hover},set(value){let parent2,prev;if(value===this.__hover)return;const old=this.__hover;if(this.__hover=value,old)if(old.contains(value))prev=old;else{for(parent2=old;parent2&&parent2!==value;)parent2.emit("mouseleave"),{parent:parent2}=parent2;MOUSE_CURSOR!=="default"&&(sim(this.surface.canvas).removeClass(`cursor-${MOUSE_CURSOR}`),MOUSE_CURSOR="default"),prev=parent2}if(value){for(parent2=this.__hover;parent2&&parent2!==prev;)parent2.emit("mouseenter"),{parent:parent2}=parent2;value.style.cursor!=null&&value.style.cursor!==MOUSE_CURSOR&&(sim(this.surface.canvas).removeClass(`cursor-${MOUSE_CURSOR}`).addClass(`cursor-${value.style.cursor}`),MOUSE_CURSOR=value.style.cursor)}return this.surface.render()}}),this.property("cameraOnly",{get(){return this.__cameraOnly},set(value){if(value!==this.__cameraOnly){if(this.__cameraOnly=value,value)return sim(this.surface.canvas).removeClass(`cursor-${MOUSE_CURSOR}`).addClass("cursor-grab");if(sim(this.surface.canvas).removeClass("cursor-grab"),MOUSE_CURSOR!=="default")return sim(this.surface.canvas).addClass(`cursor-${MOUSE_CURSOR}`)}}})}constructor(surface){if(this.surface=surface,globalThis.PointerEvent!=null){const pointers={};let contextMenu=!1;sim(this.surface.canvas).on("pointerdown",event=>{if(KEY_SHIFT_DOWN=event.shiftKey,this.cameraOnly=event.button===1||KEY_SPACE_DOWN,!!this.enabled&&[0,1].includes(event.button)){if(event.preventDefault(),event.stopPropagation(),event.target.setPointerCapture(event.pointerId),event.pointerType==="touch"){pointers[event.pointerId]={pageX:event.pageX,pageY:event.pageY};const points=(()=>{const result=[];for(var id in pointers){var point=pointers[id];result.push(this.toInternalCoords(point.pageX,point.pageY))}return result})();this.touchStartHandler(points,pointers[event.pointerId],event)}else this.mouseDownHandler(this.toInternalCoords(event.pageX,event.pageY));return!1}}),sim(this.surface.canvas).on("pointermove",event=>{if(KEY_SHIFT_DOWN=event.shiftKey,this.cameraOnly=(event.button===-1?this.cameraOnly:event.button===1)||KEY_SPACE_DOWN,!this.enabled||![-1,0,1].includes(event.button))return!0;if(event.pointerType==="touch"){pointers[event.pointerId]={pageX:event.pageX,pageY:event.pageY};const points=(()=>{const result=[];for(var id in pointers){var point=pointers[id];result.push(this.toInternalCoords(point.pageX,point.pageY))}return result})();this.touchMoveHandler(points,!0,pointers[event.pointerId])}else this.mouseMoveHandler(this.toInternalCoords(event.pageX,event.pageY),!0);return!1}),sim(this.surface.canvas).on("pointerup",event=>{if(KEY_SHIFT_DOWN=event.shiftKey,this.cameraOnly=KEY_SPACE_DOWN,!!this.enabled)return event.pointerType==="touch"?(delete pointers[event.pointerId],setImmediate(()=>{if(contextMenu)return;const points=(()=>{const result=[];for(var id in pointers){var point=pointers[id];result.push(this.toInternalCoords(point.pageX,point.pageY))}return result})();return this.touchEndHandler(points)})):this.mouseUpHandler(),!1}),sim(window).on("contextmenu",event=>{var _a2,_b2,_c2,_d2,_e2;if(!this.surface.destroyed){if(event.target===this.surface.canvas&&!["view","inspect"].includes((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)){if(event.preventDefault(),!["edit","live"].includes((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode)||(Inspector==null?void 0:Inspector.instance.mode)==="live"&&this.hover.TYPE!=="trigger"||(_c2=Inspector==null?void 0:Inspector.instance)!=null&&_c2.isTemplate)return!0;if(contextMenu=!0,setImmediate(()=>contextMenu=!1),MOUSE_DOWN=!1,FINGERS=0,!this.contextMenuEnabled)return;const context=(_e2=(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.createContextMenu)==null?void 0:_e2.call(_d2,this.hover,this.toInternalCoords(event.pageX,event.pageY));if(!(context!=null&&context.length))return;new ContextMenu(context,event.pageX,event.pageY)}return null}})}else sim(this.surface.canvas).on("mousedown",event=>{if(this.cameraOnly=event.button===1||KEY_SPACE_DOWN,!!this.enabled&&[0,1].includes(event.button))return event.preventDefault(),event.ctrlKey||this.mouseDownHandler(this.toInternalCoords(event.pageX,event.pageY)),!1}),sim(window).on("mousemove",event=>{if(this.surface.destroyed)return;if(this.cameraOnly=event.button===1||KEY_SPACE_DOWN,!this.enabled||![0,1].includes(event.button))return!0;const point=this.toInternalCoords(event.pageX,event.pageY);return this.mouseMoveHandler(point,event.target===this.surface.canvas),!0}),sim(window).on("mouseup",event=>{var _a2,_b2;if(!this.surface.destroyed&&(this.cameraOnly=KEY_SPACE_DOWN,!!this.enabled)){if(event.ctrlKey||event.button!==0){if(!event.ctrlKey&&event.button!==2||event.target!==this.surface.canvas||!this.contextMenuEnabled)return;const context=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.createContextMenu)==null?void 0:_b2.call(_a2,this.hover,this.toInternalCoords(event.pageX,event.pageY));return context!=null&&context.length?(new ContextMenu(context,event.pageX,event.pageY),!1):void 0}return this.mouseUpHandler(),!0}}),sim(this.surface.canvas).on("touchstart",event=>{if(event.preventDefault(),!this.enabled)return;const points=event.touches.map(touch=>this.toInternalCoords(touch.pageX,touch.pageY));return this.touchStartHandler(points,event.touches[0]),!1}),sim(this.surface.canvas).on("touchend",event=>{if(event.preventDefault(),!this.enabled)return;const points=event.touches.map(touch=>this.toInternalCoords(touch.pageX,touch.pageY));return this.touchEndHandler(points),!1}),sim(this.surface.canvas).on("touchmove",event=>{if(event.preventDefault(),!this.enabled)return;const points=event.touches.map(touch=>this.toInternalCoords(touch.pageX,touch.pageY));return this.touchMoveHandler(points,event.target===this.surface.canvas,event.touches[0]),!1}),sim(this.surface.canvas).on("touchcancel",event=>{if(event.preventDefault(),!this.enabled)return;const points=event.touches.map(touch=>this.toInternalCoords(touch.pageX,touch.pageY));return this.touchCancelHandler(points),!1}),sim(window).on("contextmenu",event=>{var _a2,_b2;if(!this.surface.destroyed)return(event.target===this.surface.canvas||sim(event.target).is(".i-contextmenu")&&!["view","inspect"].includes((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode))&&(event.preventDefault(),((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode)==="edit")?!0:null});sim(this.surface.canvas).on("mousewheel",event=>{if(this.enabled)return event.wheelDeltaX==null&&event.deltaX!=null&&(event.wheelDeltaX=-event.deltaX),event.wheelDeltaY==null&&event.deltaY!=null&&(event.wheelDeltaY=-event.deltaY),(event.deltaX||event.wheelDeltaX)&&this.mouseWheelXHandler(event.wheelDeltaX??event.deltaX),this.mouseWheelHandler(new Point(event.pageX,event.pageY),event.wheelDeltaY??event.deltaY??event.wheelDelta),event.preventDefault(),!1}),sim(window).on("keyup",event=>{if(!this.surface.destroyed&&!sim(event.target).is('input, textarea, select, [contenteditable="true"]')&&globalThis.getSelection().isCollapsed)return this.keyUpHandler(event.keyCode,event.ctrlKey||event.metaKey)}),sim(window).on("keydown",event=>{if(!this.surface.destroyed&&!sim(event.target).is('input, textarea, select, [contenteditable="true"]')&&globalThis.getSelection().isCollapsed)return this.keyDownHandler(event.keyCode,event.ctrlKey||event.metaKey)})}check(){if(!MOUSE_LAST_TIME||GLOBAL_STATE.MOUSE_DRAGGING)return;const now=Date.now();if(now-MOUSE_LAST_TIME>100){MOUSE_LAST_TIME=now;let found=this.surface.stage.childAt(MOUSE_LAST);return this.exclusiveInteractiveObject!=null&&found!==this.exclusiveInteractiveObject&&(found=null),this.hover=found}}keyDownHandler(keyCode,ctrlKey){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2;switch(keyCode){case 107:this.surface.camera.zoom+=.1,this.surface.render();break;case 109:this.surface.camera.zoom-=.1,this.surface.render();break;case 83:if(ctrlKey&&((_a2=Inspector.instance)==null?void 0:_a2.mode)==="edit")return(_b2=sim("#scenariosave"))==null||_b2.emit("click"),!1;break;case 67:if(ctrlKey&&["edit","live","inspect"].includes((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.mode))return(_d2=Inspector==null?void 0:Inspector.instance)==null||_d2.copyModules(),!1;break;case 86:if(ctrlKey&&((_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.mode)==="edit")return(_f2=Inspector==null?void 0:Inspector.instance)==null||_f2.pasteModules(),!1;break;case 16:KEY_SHIFT_DOWN=!0,this.surface.render();break;case 8:((_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.mode)==="edit"&&((_h2=Inspector==null?void 0:Inspector.instance)==null||_h2.deleteModules());break;case 46:((_i2=Inspector==null?void 0:Inspector.instance)==null?void 0:_i2.mode)==="edit"&&((_j2=Inspector==null?void 0:Inspector.instance)==null||_j2.deleteModules());break;case 32:this.cameraOnly=!0,KEY_SPACE_DOWN=!0,this.surface.render();break;case 27:this.selected.length&&(this.selected=[],this.surface.render());break}return null}keyUpHandler(keyCode,ctrlKey){switch(keyCode){case 16:KEY_SHIFT_DOWN=!1,this.surface.render();break;case 32:this.cameraOnly=!1,KEY_SPACE_DOWN=!1,this.surface.render();break}return null}mouseDownHandler(point,isTouch=!1,isMoved=!1){MOUSE_DOWN=point,MOUSE_MOVED=isMoved,GLOBAL_STATE.MOUSE_TARGET=null;const found=this.cameraOnly?null:this.surface.stage.childAt(point);if(found){if(this.exclusiveInteractiveObject!=null&&found!==this.exclusiveInteractiveObject)return;if(GLOBAL_STATE.MOUSE_TARGET=found,MOUSE_OFFSET=new Point(point.x-found.x,point.y-found.y),GLOBAL_STATE.MOUSE_TARGET.emit("mousedown"),isTouch)return this.hover=GLOBAL_STATE.MOUSE_TARGET}else{if(isTouch&&!this.surface.camera.locked){if(LAST_TAP&&LAST_TAP>Date.now()-200){this.surface.camera.auto=!1,this.surface.camera.zoom<MAX_ZOOM*.9?this.surface.camera.zoomTo(MAX_ZOOM):this.surface.camera.makeVisible(),LAST_TAP=null;return}LAST_TAP=Date.now()}return KEY_SHIFT_DOWN&&(MOUSE_SELECTION=!0),MOUSE_OFFSET=new Point(point.x-this.surface.stage.x,point.y-this.surface.stage.y)}}mouseMoveHandler(point,moveOnCanvas,isTouch=!1){var _a2;let found;if(MOUSE_LAST=point,MOUSE_LAST_TIME=moveOnCanvas?Date.now():null,MOUSE_DOWN){if(!MOUSE_MOVED&&MOUSE_DOWN.distance(point)>MOUSE_CLICK_TOLERANCE*(isTouch?2:1)&&(MOUSE_MOVED=!0),MOUSE_MOVED)if(GLOBAL_STATE.MOUSE_TARGET){if((_a2=GLOBAL_STATE.MOUSE_TARGET)!=null&&_a2.draggable){if(!GLOBAL_STATE.MOUSE_DRAGGING)GLOBAL_STATE.MOUSE_DRAGGING=!0,GLOBAL_STATE.MOUSE_TARGET.emit("dragstart",isTouch);else{const delta={x:GLOBAL_STATE.MOUSE_TARGET.x-(point.x-MOUSE_OFFSET.x),y:GLOBAL_STATE.MOUSE_TARGET.y-(point.y-MOUSE_OFFSET.y)};if(GLOBAL_STATE.MOUSE_TARGET.move(point.x-MOUSE_OFFSET.x,point.y-MOUSE_OFFSET.y),GLOBAL_STATE.MOUSE_TARGET.emit("dragmove",isTouch),this.selected.length&&this.selected.indexOf(GLOBAL_STATE.MOUSE_TARGET)!==-1)for(var node2 of this.selected)node2!==GLOBAL_STATE.MOUSE_TARGET&&node2.move(node2.x-delta.x,node2.y-delta.y)}found=this.surface.stage.childAt(point),found!==DRAG_TARGET&&(DRAG_TARGET&&GLOBAL_STATE.MOUSE_TARGET.emit("dragleave",DRAG_TARGET),DRAG_TARGET=found,DRAG_TARGET&&GLOBAL_STATE.MOUSE_TARGET.emit("dragenter",DRAG_TARGET))}}else LAST_TAP=null,MOUSE_SELECTION?(this.selectionBounds=new Rectangle(MOUSE_DOWN.x,MOUSE_DOWN.y,point.x-MOUSE_DOWN.x,point.y-MOUSE_DOWN.y),this.selected=this.surface.stage.childrenAt(this.selectionBounds),this.surface.render()):MOUSE_OFFSET&&!this.surface.camera.locked&&(this.surface.stage.move(point.x-MOUSE_OFFSET.x,point.y-MOUSE_OFFSET.y),this.surface.camera.auto=!1)}else moveOnCanvas&&(found=this.surface.stage.childAt(point),this.exclusiveInteractiveObject!=null&&found!==this.exclusiveInteractiveObject&&(found=null),this.hover=found);return this.surface.stage.emit("mousemove",point)}mouseUpHandler(isTouch=!1){return MOUSE_DOWN&&(GLOBAL_STATE.MOUSE_TARGET?(GLOBAL_STATE.MOUSE_TARGET.emit("mouseup"),MOUSE_MOVED?GLOBAL_STATE.MOUSE_TARGET.draggable&&GLOBAL_STATE.MOUSE_TARGET.emit("dragend",isTouch):(MOUSE_CLICK_TIME&&GLOBAL_STATE.MOUSE_TARGET===MOUSE_CLICK_LAST&&Date.now()-MOUSE_CLICK_TIME<400?(MOUSE_CLICK_TIME=null,MOUSE_CLICK_LAST=null,this.doubleClickEnabled&&GLOBAL_STATE.MOUSE_TARGET.emit("dblclick",MOUSE_DOWN)):(MOUSE_CLICK_TIME=Date.now(),MOUSE_CLICK_LAST=GLOBAL_STATE.MOUSE_TARGET,GLOBAL_STATE.MOUSE_TARGET.emit("click",MOUSE_DOWN)),GLOBAL_STATE.MOUSE_TARGET.selectable&&KEY_SHIFT_DOWN?this.selected.indexOf(GLOBAL_STATE.MOUSE_TARGET)===-1?this.selected=this.selected.concat(GLOBAL_STATE.MOUSE_TARGET):this.selected=this.selected.filter(node2=>node2!==GLOBAL_STATE.MOUSE_TARGET):GLOBAL_STATE.MOUSE_TARGET.focusable&&(this.selected=[],this.focus=GLOBAL_STATE.MOUSE_TARGET)),isTouch&&(this.hover=null)):MOUSE_MOVED||(MOUSE_CLICK_TIME&&GLOBAL_STATE.MOUSE_TARGET===MOUSE_CLICK_LAST&&Date.now()-MOUSE_CLICK_TIME<400?(MOUSE_CLICK_TIME=null,MOUSE_CLICK_LAST=null,this.doubleClickEnabled&&this.surface.stage.emit("dblclick",MOUSE_DOWN)):(MOUSE_CLICK_TIME=Date.now(),MOUSE_CLICK_LAST=null,this.surface.stage.emit("click",MOUSE_DOWN)),KEY_SHIFT_DOWN||(this.selected=[],this.focus=null))),this.selectionBounds&&(this.selectionBounds=null,this.surface.render()),MOUSE_DOWN=null,MOUSE_MOVED=!1,GLOBAL_STATE.MOUSE_TARGET=null,MOUSE_OFFSET=null,GLOBAL_STATE.MOUSE_DRAGGING=!1,MOUSE_SELECTION=!1,DRAG_TARGET=null}mouseWheelHandler(point,delta){if(delta&&!this.surface.camera.locked){point.translate(-this.surface.left,-this.surface.top);const a2=new Point((point.x*window.devicePixelRatio-this.surface.camera.origin.x)/this.surface.camera.zoom,(point.y*window.devicePixelRatio-this.surface.camera.origin.y)/this.surface.camera.zoom);this.surface.camera.auto=!1,this.surface.camera.zoom+=delta*.001;const b2=new Point((point.x*window.devicePixelRatio-this.surface.camera.origin.x)/this.surface.camera.zoom,(point.y*window.devicePixelRatio-this.surface.camera.origin.y)/this.surface.camera.zoom);return this.surface.stage.x+=b2.x-a2.x,this.surface.stage.y+=b2.y-a2.y,this.surface.render()}}mouseWheelXHandler(delta){if(delta&&!this.surface.camera.locked)return this.surface.camera.auto=!1,this.surface.stage.x+=delta*.3,this.surface.render()}touchStartHandler(points,originalTouch){return FINGERS===0&&(FIRST_TOUCH_POS=new Point(originalTouch.pageX,originalTouch.pageY),this.mouseDownHandler(points[0],!0),points.length===1&&(LONG_TOUCH_PROC=!1,LONG_TOUCH=setTimeout(()=>{var _a2,_b2;if(MOUSE_DOWN=!1,FINGERS=0,LONG_TOUCH=null,LONG_TOUCH_PROC=!0,!this.contextMenuEnabled)return;const context=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.createContextMenu)==null?void 0:_b2.call(_a2,GLOBAL_STATE.MOUSE_TARGET,points[0]);if(context!=null&&context.length)return new ContextMenu(context,originalTouch.pageX,originalTouch.pageY)},700))),FINGERS<2&&points.length>=2&&(SWIPE_DISTANCE=points[0].distance(points[1])*this.surface.camera.zoom,FIRST_TOUCH_POS=new Point((originalTouch.x-FIRST_TOUCH_POS.x)/2,(originalTouch.y-FIRST_TOUCH_POS.y)/2)),FINGERS=points.length}touchMoveHandler(points,moveOnCanvas,originalTouch){if(LONG_TOUCH!=null&&(clearTimeout(LONG_TOUCH),LONG_TOUCH=null),!LONG_TOUCH_PROC)if(points.length>1){const distance=points[0].distance(points[1])*this.surface.camera.zoom;return this.mouseWheelHandler(FIRST_TOUCH_POS,(distance-SWIPE_DISTANCE)*(this.surface.camera.zoom*5)),SWIPE_DISTANCE=distance}else return this.mouseMoveHandler(points[0],moveOnCanvas,!0)}touchEndHandler(points){if(LONG_TOUCH!=null&&(clearTimeout(LONG_TOUCH),LONG_TOUCH=null),LONG_TOUCH_PROC){LONG_TOUCH_PROC=!1;return}return points.length===0&&(this.mouseUpHandler(!0),FIRST_TOUCH_POS=null),points.length===1&&(MOUSE_DOWN=points[0],MOUSE_OFFSET=new Point(points[0].x-this.surface.stage.x,points[0].y-this.surface.stage.y)),points.length<2&&(SWIPE_DISTANCE=null),FINGERS=points.length}touchCancelHandler(points){}toInternalCoords(x2,y2){const offset2=sim(this.surface.canvas).offset();return x2-=offset2.left,y2-=offset2.top,new Point((x2*window.devicePixelRatio-this.surface.camera.origin.x)/this.surface.camera.zoom,(y2*window.devicePixelRatio-this.surface.camera.origin.y)/this.surface.camera.zoom)}}InputManager.initClass(),function(){CanvasRenderingContext2D.prototype.blur=function(radius){return stackBlurCanvasRGB(this,0,0,this.canvas.width,this.canvas.height,Math.min(180,radius*window.devicePixelRatio))};const mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function stackBlurCanvasRGB(context,top_x,top_y,width,height,radius){if(isNaN(radius)||radius<1)return;radius|=0;const imageData=context.getImageData(top_x,top_y,width,height),pixels=imageData.data;let x2,y2,i2,p2,yp,yi,yw,r_sum,g_sum,b_sum,r_out_sum,g_out_sum,b_out_sum,r_in_sum,g_in_sum,b_in_sum,pr,pg,pb,rbs;const div=radius+radius+1,widthMinus1=width-1,heightMinus1=height-1,radiusPlus1=radius+1,sumFactor=radiusPlus1*(radiusPlus1+1)/2,stackStart=new BlurStack;let stack=stackStart;for(i2=1;i2<div;i2++)if(stack=stack.next=new BlurStack,i2==radiusPlus1)var stackEnd=stack;stack.next=stackStart;let stackIn=null,stackOut=null;yw=yi=0;const mul_sum=mul_table[radius],shg_sum=shg_table[radius];for(y2=0;y2<height;y2++){for(r_in_sum=g_in_sum=b_in_sum=r_sum=g_sum=b_sum=0,r_out_sum=radiusPlus1*(pr=pixels[yi]),g_out_sum=radiusPlus1*(pg=pixels[yi+1]),b_out_sum=radiusPlus1*(pb=pixels[yi+2]),r_sum+=sumFactor*pr,g_sum+=sumFactor*pg,b_sum+=sumFactor*pb,stack=stackStart,i2=0;i2<radiusPlus1;i2++)stack.r=pr,stack.g=pg,stack.b=pb,stack=stack.next;for(i2=1;i2<radiusPlus1;i2++)p2=yi+((widthMinus1<i2?widthMinus1:i2)<<2),r_sum+=(stack.r=pr=pixels[p2])*(rbs=radiusPlus1-i2),g_sum+=(stack.g=pg=pixels[p2+1])*rbs,b_sum+=(stack.b=pb=pixels[p2+2])*rbs,r_in_sum+=pr,g_in_sum+=pg,b_in_sum+=pb,stack=stack.next;for(stackIn=stackStart,stackOut=stackEnd,x2=0;x2<width;x2++)pixels[yi]=r_sum*mul_sum>>shg_sum,pixels[yi+1]=g_sum*mul_sum>>shg_sum,pixels[yi+2]=b_sum*mul_sum>>shg_sum,r_sum-=r_out_sum,g_sum-=g_out_sum,b_sum-=b_out_sum,r_out_sum-=stackIn.r,g_out_sum-=stackIn.g,b_out_sum-=stackIn.b,p2=yw+((p2=x2+radius+1)<widthMinus1?p2:widthMinus1)<<2,r_in_sum+=stackIn.r=pixels[p2],g_in_sum+=stackIn.g=pixels[p2+1],b_in_sum+=stackIn.b=pixels[p2+2],r_sum+=r_in_sum,g_sum+=g_in_sum,b_sum+=b_in_sum,stackIn=stackIn.next,r_out_sum+=pr=stackOut.r,g_out_sum+=pg=stackOut.g,b_out_sum+=pb=stackOut.b,r_in_sum-=pr,g_in_sum-=pg,b_in_sum-=pb,stackOut=stackOut.next,yi+=4;yw+=width}for(x2=0;x2<width;x2++){for(g_in_sum=b_in_sum=r_in_sum=g_sum=b_sum=r_sum=0,yi=x2<<2,r_out_sum=radiusPlus1*(pr=pixels[yi]),g_out_sum=radiusPlus1*(pg=pixels[yi+1]),b_out_sum=radiusPlus1*(pb=pixels[yi+2]),r_sum+=sumFactor*pr,g_sum+=sumFactor*pg,b_sum+=sumFactor*pb,stack=stackStart,i2=0;i2<radiusPlus1;i2++)stack.r=pr,stack.g=pg,stack.b=pb,stack=stack.next;for(yp=width,i2=1;i2<=radius;i2++)yi=yp+x2<<2,r_sum+=(stack.r=pr=pixels[yi])*(rbs=radiusPlus1-i2),g_sum+=(stack.g=pg=pixels[yi+1])*rbs,b_sum+=(stack.b=pb=pixels[yi+2])*rbs,r_in_sum+=pr,g_in_sum+=pg,b_in_sum+=pb,stack=stack.next,i2<heightMinus1&&(yp+=width);for(yi=x2,stackIn=stackStart,stackOut=stackEnd,y2=0;y2<height;y2++)p2=yi<<2,pixels[p2]=r_sum*mul_sum>>shg_sum,pixels[p2+1]=g_sum*mul_sum>>shg_sum,pixels[p2+2]=b_sum*mul_sum>>shg_sum,r_sum-=r_out_sum,g_sum-=g_out_sum,b_sum-=b_out_sum,r_out_sum-=stackIn.r,g_out_sum-=stackIn.g,b_out_sum-=stackIn.b,p2=x2+((p2=y2+radiusPlus1)<heightMinus1?p2:heightMinus1)*width<<2,r_sum+=r_in_sum+=stackIn.r=pixels[p2],g_sum+=g_in_sum+=stackIn.g=pixels[p2+1],b_sum+=b_in_sum+=stackIn.b=pixels[p2+2],stackIn=stackIn.next,r_out_sum+=pr=stackOut.r,g_out_sum+=pg=stackOut.g,b_out_sum+=pb=stackOut.b,r_in_sum-=pr,g_in_sum-=pg,b_in_sum-=pb,stackOut=stackOut.next,yi+=width}context.putImageData(imageData,top_x,top_y)}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}return null}(),(globalThis.Surface=class extends EventEmitter$1{static initClass(){this.DisplayObject=DisplayObject,this.Animation=Animation,this.ColorAnimation=ColorAnimation,this.Stage=Stage,this.Shape=Shape,this.Label=Label,this.Image=Image,this.Module=Module$1,this.Scheduling=Scheduling$1,this.Placeholder=Placeholder$1,this.AggregationContainer=AggregationContainer,this.Link=Link$1,this.Node=Node$1,this.Bubble=Bubble$1,this.Filter=Filter,this.NoteLine=NoteLine,this.Explainer=Explainer$1,this.ClickGuide=ClickGuide,this.DoubleClickGuide=DoubleClickGuide,this.DragGuide=DragGuide,this.prototype.stage=null,this.prototype.input=null,this.prototype.camera=null,this.prototype.destroyed=!1,this.prototype.debug=imt.debug.isEnabled("imt:surface"),this.property("height",{get(){var _a2,_b2,_c2,_d2,_e2;const h2=((_a2=sim("#inspector-container"))==null?void 0:_a2.height())||0,mode=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode;if(imt.brand.theme.startsWith("ems"))return mode==="edit"||mode==="live"?h2:h2-32;if((((_c2=sim("#scenarioheader"))==null?void 0:_c2.height())||0)>0&&mode==="view"){const headerTopOffset=((_e2=(_d2=sim("#scenarioheader"))==null?void 0:_d2.offset())==null?void 0:_e2.top)||0;return sim(window).height()-headerTopOffset}return h2}}),this.property("width",{get(){var _a2,_b2;const w2=((_a2=sim("#inspector-container"))==null?void 0:_a2.width())||0,mode=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode;return imt.brand.theme.startsWith("ems")?mode==="edit"||mode==="live"?w2:w2-32:w2}}),this.property("left",{get(){return sim(this.canvas).offset().left}}),this.property("top",{get(){return sim(this.canvas).offset().top}})}constructor(canvas,config2){super(),this.resize=this.resize.bind(this),this.canvas=canvas,this.canvas instanceof SIMElement&&(this.canvas=this.canvas.__dom),this.canvas??(this.canvas=document.createElement("canvas")),this.context=this.canvas.getContext("2d"),sim(this.canvas).addClass("surface"),sim(this.canvas).css({width:this.width,height:this.height}),this.input=new InputManager(this),this.camera=new CameraManager(this),this.stage=new Stage(this),this.camera.zoom=window.devicePixelRatio,sim(window).on("resize",this.resize),setImmediate(this.resize)}destructor(){return this.destroyed=!0,sim(window).off("resize",this.resize),this.stage.destroy(),sim(this.canvas).remove(),this}clear(){for(;this.stage.children.length;)this.stage.detach(this.stage.children[0]);return this}find(){return this.stage.find(...arguments)}render(){return this.stage.render()}resize(){return this.canvas.width=this.width*window.devicePixelRatio,this.canvas.height=this.height*window.devicePixelRatio,sim(this.canvas).css({width:this.width,height:this.height}),this.stage.render()}}).initClass();/*
	Integromat Surface

	@license Copyright (c) Integromat - All rights reserved.
	@author Patrik Simek
	*/imt.plugins.push({name:"Surface"}),sim(globalThis);//    @license Copyright (c) Integromat - All rights reserved.
class ScenarioFeatureError{constructor(feature){this.message="Scenario requires a feature that is unavailable in your license",this.name="ScenarioFeatureError",this.feature=feature}toString(){return`${this.message}: ${this.feature}`}}const getSchedulingModeSpec=()=>[{name:"mode",label:imt.l("inspector","panels.schedulingmode.run"),type:"select",default:"scheduled",required:!0,options:[{label:imt.l("inspector","panels.schedulingmode.immediately"),value:"immediately"},{label:imt.l("inspector","panels.schedulingmode.scheduled"),value:"scheduled"}]}];class SchedulingModePanel extends Panel$1{constructor(relative,onSuccess){super(relative);const self2=this;this.width(400),this.loading=!0;const schedulingModeSpec=getSchedulingModeSpec();__guard__$c(__guard__$c(__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2._start.next),x1=>x1.config),x2=>x2.listener)||schedulingModeSpec[0].options.splice(0,1),this._form=new Formula("SchedulingMode"),this._form.on("resize",this._resize),this._form.config=schedulingModeSpec,this._form.values={mode:__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.scenario.instant)?"immediately":"scheduled"},this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return this.title=imt.l("inspector","panels.schedulingmode.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid())return self2._form.toJSON().mode==="scheduled"?(__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.scenario.instant=!1),__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5.scenario.scheduling=__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6.scenario.getPrevOrDefaultScheduling()))):__guard__$c(__guard__$c(__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x9=>x9._start.next),x8=>x8.config),x7=>x7.listener)&&(__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x10=>x10.scenario.instant=!0),__guard__$c(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x11=>x11.scenario.scheduling={type:"immediately"})),self2._close(),onSuccess()})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>{if(this._form)return this._form.destroy()})}}function __guard__$c(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class Scheduling extends Surface.Scheduling{static initClass(){this.prototype.askOnActivate=!1,this.prototype._scenario=null,this.prototype._prevOnModule=null,this.prototype._panel=null}constructor(x2,y2){super(x2,y2),Inspector.instance&&(this.interactive=["edit","live"].includes(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.mode)),this.focusable=!0,this._prevOnModule=this.next,this.on("focus",()=>{const useDrafts=imt.team!=null?imt.team.scenarioDrafts:void 0;if(!useDrafts&&__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x22=>x22.mode)==="edit"||useDrafts&&__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.mode)==="live"){if(this._panel)return;this._panel=new SchedulingPanel(this),imtEvents.dispatch("scenario.scheduling_opened",{clickFrom:"scheduling_on_module"}),this._panel.once("close",()=>(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4._surface.input.focus)===this&&__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5._surface.input.focus=null),this._panel=null));return}if(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.mode)==="edit"&&!this._panel)return this._panel=new SchedulingModePanel(this,()=>this.updateDescription()),this._panel.once("close",()=>(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5._surface.input.focus)===this&&__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6._surface.input.focus=null),this._panel=null))}),this.on("blur",()=>this.closePanels()),this.on("dragend inject",()=>{this.closePanels(),__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x22=>x22.scenario.instant)?(this.next.config!=null?this.next.config.listener:void 0)!==!0&&(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.scenario.instant=!1),__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.scenario.scheduling=__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5.scenario.getPrevOrDefaultScheduling())),this.updateDescription()):(this.next.config!=null?this.next.config.listener:void 0)===!0&&this._prevOnModule!==this.next&&(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6.scenario.instant=!0),__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x7=>x7.scenario.scheduling={type:"immediately"}),this.updateDescription()),this._prevOnModule=this.next,this._prevOnModule.filter=void 0}),this.style.cursor="pointer",this.updateDescription())}closePanels(){if(this._panel)return this._panel._close()}interface(){return[]}pills(){const pills=[];return Object.defineProperty(pills,"getPillByCode",{value(code){return null}}),pills}samples(){return{}}bundleOf(){return null}updateDescription(){return["immediately","on-demand"].includes(__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.scheduling.type))?(this._leftDot.visible=!1,this._rightDot.visible=!1,this._bottomDot.visible=!1,this._topDot.visible=!1,this._bigHand.visible=!1,this._smallHand.visible=!1,this._tinyHand.visible=!1,__guard__$b(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.scenario.scheduling.type)==="immediately"?this._title.text="":this._title.text=""):(this._leftDot.visible=!0,this._rightDot.visible=!0,this._bottomDot.visible=!0,this._topDot.visible=!0,this._bigHand.visible=!0,this._smallHand.visible=!0,this._tinyHand.visible=!0,this._title.text=""),__guard__$b(__guard__$b(sim(".i-inspector-scheduling-settings-label"),x3=>x3[0]),x2=>x2._refresh())}}Scheduling.initClass();function __guard__$b(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class Notes{constructor(){this.notes=[],this.newNotes=[],this.deletedIds=[],this.lsCache=null}get lsCacheKey(){var _a2,_b2;return`notes-${(_b2=(_a2=Inspector.instance)==null?void 0:_a2.scenario)==null?void 0:_b2.id}`}async loadScenarioNotes(req,oldNotes,reload=!0){var _a2,_b2,_c2;if(!((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.scenario.id))return;this.deletedIds=[];const notes2=await fetchNotes({apiUrl:req.apiUrl,scenarioId:req.scenarioId,orgId:req.organizationId,teamId:req.teamId},reload),mappedOldNotes=(oldNotes==null?void 0:oldNotes.reduce((arr,item)=>{if(!Inspector.seek(item.id))return arr;const moduleIdIndex=arr.findIndex(x2=>x2.moduleIds[0]===item.id);return moduleIdIndex>-1?arr[moduleIdIndex].content+=`<p></p>${getNoteHtmlFromText(item.text)}`:arr.push({moduleIds:[item.id],isFilterNote:item.filter,content:getNoteHtmlFromText(item.text),scenarioId:req.scenarioId,metadata:{}}),arr},new Array))||[],instantiateNotes=()=>{this.lsCache=JSON.parse(window.localStorage.getItem(this.lsCacheKey));for(const noteData of notes2.concat(mappedOldNotes)){const note=this.initializeNote(noteData);note.togglePreview(!0),note.open()}};(_b2=Inspector.instance)!=null&&_b2.built?instantiateNotes():(_c2=Inspector.instance)==null||_c2.once("built",instantiateNotes)}async save(req){const payload={delete:this.deletedIds,update:[],create:[]};for(const note of this.notes)note.isNew?payload.create.push(note.serialize()):note.dirty&&payload.update.push(note.serialize());if(!payload.delete.length&&!payload.update.length&&!payload.create.length)return;const data2=await fetchBatchNotes({apiUrl:req.apiUrl,scenarioId:req.scenarioId,orgId:req.organizationId,teamId:req.teamId,payload});for(const[i2,note]of(data2.created??[]).entries()){const noteComponent=this.newNotes[i2];noteComponent&&this.passNoteData(note,noteComponent)}this.newNotes=[];for(const note of data2.updated??[]){const noteComponent=this.notes.find(n2=>n2.noteId===note.id);noteComponent&&this.passNoteData(note,noteComponent)}this.deletedIds=[]}addNew(moduleIds,isFilterNote=!1){const note=this.initializeNote({moduleIds,isFilterNote});return this.newNotes.push(note),note.open(),note.setEditMode(!0,!0),note}collapseAll(){for(const note of this.notes)note.togglePreview(!0)}expandAll(){for(const note of this.notes)note.togglePreview(!1)}toJson(){return this.notes.map(x2=>{const n2=x2.serialize(!0);return delete n2.id,n2})}fromJson(data2){data2==null||data2.forEach(x2=>{const note=this.initializeNote(x2);note.togglePreview(!0),note.open()})}getNoteByModule(moduleId,isFilterNote=!1){return this.notes.find(x2=>x2.moduleIds.length===1&&x2.moduleIds.find(id=>id===moduleId)&&x2.isFilterNote===isFilterNote)}moduleHasNote(moduleId,isFilterNote=!1){return!!this.getNoteByModule(moduleId,isFilterNote)}initializeNote(noteData){var _a2;const note=document.createElement("imt-note");noteData&&this.passNoteData(noteData,note),this.notes.push(note),note.addEventListener(NoteDeleteEventName,()=>{const index2=this.notes.indexOf(note),newIndex=this.newNotes.indexOf(note);this.notes.splice(index2),newIndex!==-1&&this.newNotes.splice(newIndex),note.noteId&&this.deletedIds.push(note.noteId)},{once:!0}),note.addEventListener(NoteUpdateCacheEventName,e2=>{var _a3,_b2;this.lsCache||(this.lsCache={}),this.lsCache[e2.detail.id]={showPreview:e2.detail.showPreview},(_b2=(_a3=Inspector.instance)==null?void 0:_a3.scenario)!=null&&_b2.id&&window.localStorage.setItem(this.lsCacheKey,JSON.stringify(this.lsCache))});const restoreData=(_a2=this.lsCache)==null?void 0:_a2[note.noteId];return restoreData&&note.restore(restoreData),note}passNoteData(noteData,note){var _a2,_b2,_c2,_d2,_e2,_f2,_g2;note.noteId=noteData.id,(_a2=noteData==null?void 0:noteData.metadata)!=null&&_a2.color&&(note.color=noteData.metadata.color),noteData.content&&(note.content=noteData.content),noteData.moduleIds&&(note.moduleIds=noteData.moduleIds),noteData.isFilterNote&&(note.isFilterNote=noteData.isFilterNote),noteData.created&&(note.created={date:noteData.created,id:(_b2=noteData.createdByUser)==null?void 0:_b2.id,email:(_c2=noteData.createdByUser)==null?void 0:_c2.email,name:((_d2=noteData.createdByUser)==null?void 0:_d2.name)??imt.l("inspector","notes.deactivatedUser")}),noteData.updated&&(note.lastUpdated={date:noteData.updated,id:(_e2=noteData.createdByUser)==null?void 0:_e2.id,email:(_f2=noteData.createdByUser)==null?void 0:_f2.email,name:((_g2=noteData.createdByUser)==null?void 0:_g2.name)??imt.l("inspector","notes.deactivatedUser")})}}const notes=new Notes,APP_SEARCH_WIDTH=450,APP_SEARCH_HEIGHT=526,APP_SEARCH_X_OFFSET=8,APP_SEARCH_Y_OFFSET=0;class AppSearchBuilder{constructor(){var _a2,_b2;this.moduleSelectListeners=[],this.trackingConfig={},this.appSearch=document.createElement("app-search"),this.overlayBuilder=overlays.create(this.appSearch).fitTo((_b2=(_a2=Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.canvas).inGroup("app-search").onKeyUp((e2,overlay)=>{var _a3,_b3,_c2,_d2,_e2;e2.key==="ArrowUp"?(_a3=this.appSearch)==null||_a3.preselectItem("previous"):e2.key==="ArrowDown"?(_b3=this.appSearch)==null||_b3.preselectItem("next"):e2.key==="Enter"?(_c2=this.appSearch)==null||_c2.selectItem():e2.key==="Escape"&&((_e2=(_d2=this.appSearch)==null?void 0:_d2.detail)!=null&&_e2.isOpened&&this.appSearch.closableDetail?this.appSearch.detail.close():overlay.close())}).withSize(APP_SEARCH_WIDTH,APP_SEARCH_HEIGHT).withOffset({x:APP_SEARCH_X_OFFSET,y:APP_SEARCH_Y_OFFSET})}withRelative(relative){return this.overlayBuilder.relativeTo(relative),relative instanceof HTMLElement&&this.overlayBuilder.withPosition("top"),this}withMetadata(metadata){return this.appSearch.meta=metadata,this}withOffset(offset2){return this.overlayBuilder.withOffset(offset2),this}withTracking(config2){return typeof config2=="boolean"?this.trackingConfig={appNotFound:config2,appSelected:config2,moduleAdded:config2,moduleNotFound:config2}:this.trackingConfig=config2,this}withFavouritePanel(show){return this.appSearch.showFavourites=show,this}withTopModules(show){return this.appSearch.showTopModules=show,this}withClosableDetail(closable){return this.appSearch.closableDetail=closable,this}withOpenedApp(app){return this.openedApp=app,this}onModuleSelected(listener){return this.moduleSelectListeners.push(listener),this}onAppSelected(listener){return this.appSearch.addEventListener("app-selected",e2=>listener(e2,this.overlay),{once:!0}),this}onClose(listener){return this.overlayBuilder.onClose(listener),this}append(){return overlays.close({groups:["app-search"]}),this.overlay=this.overlayBuilder.open(),notes.collapseAll(),this.registerModuleSelected(),this.registerAppSelected(),this.registerAppNotFound(),this.registerModuleNotFound(),this.openedApp&&this.appSearch.addEventListener("app-search-data-loaded",()=>{var _a2,_b2,_c2,_d2;(_a2=this.appSearch)==null||_a2.isLoading;const[appName,version2]=this.openedApp.split("@"),app=(_b2=this.appSearch)==null?void 0:_b2.apps.find(a2=>a2.name===appName);app&&((_d2=(_c2=this.appSearch)==null?void 0:_c2.detail)==null||_d2.open(app,version2))},{once:!0}),this.overlay}registerModuleSelected(){this.appSearch.addEventListener("module-selected",e2=>{var _a2,_b2;if(this.trackingConfig.moduleAdded){const{app,module:module2}=e2.detail,payload={appName:app.label,moduleName:module2.label,moduleType:module2.name,moduleDescription:module2.description,query:(_b2=(_a2=this.appSearch)==null?void 0:_a2.appSearchInput)==null?void 0:_b2.value,score:app.score,position:e2.target instanceof AppSearchDetailItem?e2.target.position:void 0,favorites:this.trackingConfig.favorites??!1};imtEvents.dispatch("scenario.module_added",payload)}for(const listener of this.moduleSelectListeners)listener(e2,this.overlay)})}registerAppSelected(){this.trackingConfig.appSelected&&this.appSearch.addEventListener("app-selected",e2=>{var _a2,_b2;const{app}=e2.detail,payload={appName:app.label,query:(_b2=(_a2=this.appSearch)==null?void 0:_a2.appSearchInput)==null?void 0:_b2.value,favorites:this.trackingConfig.favorites??!1,score:app.score,position:e2.target instanceof AppSearchItem?e2.target.position:e2.target instanceof AppSearchDetailItem?0:void 0};imtEvents.dispatch("scenario.app_selected",payload)})}registerAppNotFound(){this.trackingConfig.appNotFound&&this.appSearch.addEventListener("app-not-found",debounce(e2=>{imtEvents.dispatch("scenario.app_searched_and_not_found",{searchedAppName:e2.detail.query,searchType:"builder"})},1e3))}registerModuleNotFound(){this.trackingConfig.moduleNotFound&&this.appSearch.addEventListener("module-not-found",debounce(e2=>{imtEvents.dispatch("scenario.module_searched_and_not_found",{appName:e2.detail.appName,searchedModuleName:e2.detail.query,searchType:"builder"})},1e3))}}class Placeholder extends Surface.Placeholder{static initClass(){this.prototype.autoDestroy=!1,this.prototype.browserOptions={searchType:"builder"},this.prototype.brokenModule=null,this.property("draggable",{get(){return this.__draggable&&["edit"].includes(__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.mode))},set(value){if(this.__draggable!==value)return this.__draggable=value}})}constructor(x2,y2){super(x2,y2);let panel=null;this.on("click",()=>{if(!this.package)return imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"default"})}),this.on("focus",()=>{var _a2,_b2;panel||__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.mode)==="edit"&&(!this.prev||this.prev instanceof Scheduling,this.isInsideErrorHandler,panel=new AppSearchBuilder().withMetadata({isFirstModule:!this.prev||this.prev instanceof Scheduling,scenarioPackages:(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._start)==null?void 0:_b2.nextAll().map(x3=>x3.package).filter(x3=>!!x3),isInsideErrorHandler:this.isInsideErrorHandler}).withRelative(this).withTracking(!0).onModuleSelected(async e2=>{const{app,module:module2,version:version2}=e2.detail;this.autoDestroy=!1;const appModule=await Inspector.instance.repository.get(app.name,module2.name,version2);if(panel==null||panel.close(),Inspector.instance.addFavorite(appModule.package,!0,!1),!appModule)return;const options=this.browserOptions;options!=null&&options.mapperPreset&&(appModule.mapper=options.mapperPreset),options!=null&&options.parametersPreset&&(appModule.parameters=options.parametersPreset),appModule.offerMore=(options==null?void 0:options.offerMore)??!0,appModule.hasParameters&&(appModule.setupRequired=!0,appModule.validate()),this.convertTo(appModule)}).append())}),this.on("blur",()=>{if(panel&&(panel instanceof Overlay?panel.close():panel._close(),panel=null,this.autoDestroy))return this.detach()}),this.style.cursor="pointer"}convertTo(module2){module2.move(this.x,this.y),module2.filter=this.filter,module2.id=__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.idSequence++),this._inputLink!=null&&(this._inputLink.node2=module2),this._outputLink!=null&&(this._outputLink.node1=module2),this.stage.attach(module2),__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.emit("add_module",module2));const{input}=this.stage.surface;return delay(250,function(){if(!Inspector.SHOWCASE)return input.focus=module2}),module2.prev instanceof Scheduling&&(module2.config!=null&&module2.config.listener?(__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.instant=!0),__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.scenario.scheduling={type:"immediately"})):(__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.scenario.instant=!1),__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5.scenario.scheduling=__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6.scenario.getPrevOrDefaultScheduling()))),__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x7=>x7._start.updateDescription()),__guard__$a(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x8=>x8._start.visible=!0)),this.detach(),this.emit("swap",module2)}createContextMenu(){const menu=[];return menu.push({default:!0,label:imt.l("inspector","buttons.choosemodule"),icon:"circle",click:()=>this.focus()}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.detach()}),menu}interface(inherited){return inherited?(this.prev!=null?this.prev.interface(inherited,this._inputLink.isErrorHandler):void 0)??[]:[]}pills(inherited){return inherited?(this.prev!=null?this.prev.pills(inherited,this._inputLink.isErrorHandler):void 0)??[]:[]}samples(inherited){return inherited?(this.prev!=null?this.prev.samples(inherited,this._inputLink.isErrorHandler):void 0)??{}:{}}toJSON(test=!1){var _a2;let json;return this.brokenModule?(json={id:this.id,module:this.brokenModule.module,version:this.brokenModule.version,parameters:this.brokenModule.parameters,filter:this.filter,mapper:this.brokenModule.mapper,flags:this.brokenModule.flags,metadata:this.brokenModule.metadata},json.metadata??(json.metadata={}),(_a2=json.metadata).designer??(_a2.designer={}),json.metadata.designer.x=Math.round(this.x),json.metadata.designer.y=Math.round(this.y)):json={id:null,module:"placeholder:Placeholder",filter:this.filter,metadata:{designer:{x:Math.round(this.x),y:Math.round(this.y)}}},json}toIQL(path){return path?path.unshift("placeholder:Placeholder"):path=["self"],this.prev&&(this._inputLink.isErrorHandler&&path.unshift("!"),this.prev.toIQL(path)),path}}Placeholder.initClass(),Surface.Placeholder=Placeholder;function __guard__$a(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}const EXPLAINER_SIZE=30,EXPLAINER_OFFSET=110,EXPLAINER_SPACE=10,EXPLAINER_DELAY=200,EXPLAINER_JUMP_IN=300,EXPLAINER_JUMP_OUT=500,EXPLAINER_EXPLODE=500,EXPLAINER_IMPLODE=500;class Explain{static initClass(){this.prototype.queue=null,this.instance=null}constructor(start2,repeat2=!1){var _a2;this.queue=[],(_a2=Explain.instance)==null||_a2.stop(),Explain.instance=this;let stopped=!1;var next=()=>{if(!stopped){if(this.queue.length===0){repeat2&&delay(2e3,this.start);return}return this.queue.pop().go(more=>(more&&this.queue.push(more),delay(EXPLAINER_DELAY,next)))}};this.start=()=>{if(!stopped){for(;start2 instanceof Placeholder;)start2=start2.next;return start2&&this.queue.push(new Explainer(this,start2)),next()}},this.stop=function(){var _a3;return stopped=!0,(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.findObject("explainer").forEach(item=>item.detach())},this.start()}nth(module2){return this.queue.filter(e2=>e2.relative===module2).length}}Explain.initClass();class Explainer extends Surface.Explainer{constructor(explain,relative,cargo2){super(relative,EXPLAINER_RESOLVE_ICON(relative),cargo2),this._detach=this._detach.bind(this),this.explain=explain,cargo2||(this.init=!0)}_detach(){return this.fall()}duplicate(pieces,done){let e2,i2,asc,end2;if(pieces<=1)return done([]);const all2=[this],cloned=[];let{x:x2}=this;for(i2=1,end2=pieces-1,asc=1<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)e2=new Explainer(this.explain,this.relative,this.cargo),e2.icon=this.icon,e2.shape.style.backgroundColor=this.shape.style.backgroundColor,e2.move(this.x,this.y),all2.push(e2),cloned.push(e2),this.relative.once("detach",e2._detach);for(x2-=(all2.length*EXPLAINER_SIZE+(all2.length-1)*EXPLAINER_SPACE)/2-EXPLAINER_SIZE/2,i2=0;i2<all2.length;i2++)e2=all2[i2],new Surface.Animation(e2,{x:x2+i2*(EXPLAINER_SIZE+EXPLAINER_SPACE)},{interrupt:!0,duration:EXPLAINER_EXPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"});return delay(EXPLAINER_EXPLODE,()=>done(cloned))}explode(pieces,done){let asc,end2,j2,e2,i2,k2;if(pieces<=1)return done([]);const all2=[this],cloned=[],angle=Math.PI*2/pieces,space=(pieces-2)*4.5;new Point(this.x,this.y);const{icon}=this;for(j2=1,i2=j2,end2=pieces-1,asc=1<=end2;asc?j2<=end2:j2>=end2;asc?j2++:j2--,i2=j2)e2=new Explainer(this.explain,this.relative,this.cargo),e2.shape.style.backgroundColor=this.shape.style.backgroundColor,e2.move(this.x,this.y),all2.push(e2),cloned.push(e2),this.relative.once("detach",e2._detach);for(k2=0,i2=k2;k2<all2.length;k2++,i2=k2)e2=all2[i2],e2.label.opacity=0,e2.icon=EXPLAINER_RESOLVE_ICON(this.relative)||icon,e2.shape.startAngle=i2*angle,e2.shape.endAngle=i2*angle+angle,new Surface.Animation(e2,{y:{plus:(20+space)*Math.sin(i2*angle+angle/2)-space*3},x:{plus:(20+space)*Math.cos(i2*angle+angle/2)}},{interrupt:!0,duration:EXPLAINER_EXPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"});return delay(EXPLAINER_EXPLODE,()=>(()=>{const result=[];for(i2=0;i2<all2.length;i2++)e2=all2[i2],new Surface.Animation(e2.label,{opacity:1},{interrupt:!0,duration:EXPLAINER_EXPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"}),new Surface.Animation(e2.shape,{endAngle:{plus:Math.PI*2-angle}},{interrupt:!0,duration:EXPLAINER_EXPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"}),result.push(new Surface.ColorAnimation(e2.shape.style,{backgroundColor:this.relative.theme},{interrupt:!0,duration:EXPLAINER_EXPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"}));return result})()),delay(EXPLAINER_EXPLODE*2,()=>done(cloned))}go(done){let feeder,next;if(this.relative instanceof Router)if({next}=this.relative,Array.isArray(next)&&next.length){if(this.fastForward)return next=this.fastForward,this.fastForward=null,this.jumpTo(next,done);if(next.length===1)return this.jumpTo(next[0],done);this.explain.queue.push(this),this.fastForward=next[next.length-1],this.duplicate(next.length,duplicates=>{for(let index2=0;index2<duplicates.length;index2++){var duplicate=duplicates[index2];this.explain.queue.push(duplicate),duplicate.fastForward=next[next.length-2-index2]}return done()})}else this.fadeOut(done);else if(this.relative.TYPE==="feeder")if({next}=this.relative,next){if(this.fastForward)return next=this.fastForward,this.fastForward=null,this.jumpTo(next,done);this.explain.queue.push(this),this.fastForward=next,this.explode(3,duplicates=>{for(var duplicate of duplicates)this.explain.queue.push(duplicate),duplicate.fastForward=next;return done()})}else this.fadeOut(done);else if(this.relative.TYPE==="aggregator")if({next}=this.relative,next){if(this.fastForward)return next=this.fastForward,this.fastForward=null,this.jumpTo(next,done);if(feeder=this.relative.dataProvider,!feeder)return this.jumpTo(next,done);const path=[feeder];let{prev}=this.relative;for(;prev!==feeder;)path.push(prev),{prev}=prev;if(this.explain.queue.filter(e2=>path.includes(e2.relative)).length===0){let waiting=[this].concat(this.explain.queue.filter(e2=>e2.relative===this.relative));waiting=waiting.sort(function(a2,b2){return a2.y>b2.y?-1:a2.y<b2.y?1:0}),waiting.forEach(e2=>this.explain.queue.remove(e2)),this.implode(waiting,function(agg){return next?agg.jumpTo(next,done):agg.fadeOut(done)})}else this.explain.queue.unshift(this),done()}else this.fadeOut(done);else if({next}=this.relative,next){let i2,asc,end2;if(this.fastForward)return next=this.fastForward,this.fastForward=null,this.jumpTo(next,done);const output=this.relative.explain();if(output.results<1)return output.feeder&&!output.continue?this.fadeOut(done):this.jumpTo(next,done);for(this.jumpOut(),i2=0,end2=output.results-1,asc=0<=end2;asc?i2<=end2:i2>=end2;asc?i2++:i2--)(i22=>delay(i22*200,()=>{const e2=new Explainer(this.explain,this.relative,this.init?[]:this.cargo.concat([this]));return e2.fastForward=next,e2.jumpIn(i22),this.explain.queue.push(e2)}))(i2);delay(i2*200+i2*EXPLAINER_JUMP_IN,done)}else this.fadeOut(done);return this}implode(explainers,done){let i2;if(explainers.length<=1)return done(explainers[0]);const primary=explainers.shift(),delta=1/explainers.length,icon=EXPLAINER_RESOLVE_ICON(this.relative);for(new Surface.Animation(primary.label,{opacity:0},{interrupt:!0,duration:EXPLAINER_JUMP_OUT/2,completeOnInterrupt:!0,easing:"easeOutCirc"}),icon?delay(EXPLAINER_JUMP_OUT/2,function(){return primary.icon=icon,new Surface.Animation(primary.label,{opacity:1},{interrupt:!0,duration:EXPLAINER_JUMP_OUT/2,completeOnInterrupt:!0,easing:"easeOutCirc"})}):(primary.icon=null,primary.label.opacity=1),i2=0;i2<explainers.length;i2++){var e2=explainers[i2];this.relative.off("detach",e2._detach),((e22,i22)=>delay(EXPLAINER_IMPLODE*i22,function(){return new Surface.Animation(e22,{y:primary.y},{interrupt:!0,duration:EXPLAINER_IMPLODE,completeOnInterrupt:!0,easing:"easeOutCirc",complete(){return e22.detach()}}),new Surface.Animation(primary,{scale:{plus:.3}},{interrupt:!0,duration:EXPLAINER_IMPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"}),new Surface.ColorAnimation(primary.shape.style,{backgroundColor:new ImtColor(primary.shape.style.backgroundColor).mix(primary.relative.theme,(i22+1)*delta)},{interrupt:!0,duration:EXPLAINER_IMPLODE,completeOnInterrupt:!0,easing:"easeOutCirc"})}))(e2,i2)}return delay(EXPLAINER_IMPLODE*(i2+1),()=>done(primary))}fadeOut(done){return this.relative.off("detach",this._detach),new Surface.Animation(this,{opacity:0},{interrupt:!0,duration:EXPLAINER_JUMP_OUT,completeOnInterrupt:!0,easing:"easeOutCirc",complete:()=>(this.detach(),done==null?void 0:done())})}jumpIn(index2=0,done){const nth=this.explain.nth(this.relative);return this.relative.once("detach",this._detach),delay(300*index2,()=>new Surface.Animation(this,{y:{minus:EXPLAINER_OFFSET+EXPLAINER_SIZE*nth+EXPLAINER_SPACE*nth}},{interrupt:!0,duration:EXPLAINER_JUMP_IN,completeOnInterrupt:!0,easing:"easeOutCirc",complete:done})),this}jumpTo(relative,done){var _a2,_b2;for(;relative instanceof Placeholder;)relative=relative.next;if(!relative)return this.fadeOut(done);const nth=this.explain.nth(relative),yf=this.y,yt=relative.y-EXPLAINER_OFFSET-EXPLAINER_SIZE*nth-EXPLAINER_SPACE*nth,dur=500;return(_a2=this.relative)==null||_a2.off("detach",this._detach),relative.stage?(this.relative=relative,(_b2=this.relative)==null||_b2.once("detach",this._detach),new Surface.Animation(this,{x:relative.x,scale:1},{interrupt:!0,duration:dur,completeOnInterrupt:!0,easing:"linear",tick(time){let y2=(yt-yf)*Math.min(time,dur)/dur+yf;return y2-=Math.abs(Math.sin(Math.PI*(time/dur))*45),this.y=y2},complete(){return this.y=(yt-yf)*dur/dur+yf,relative.stage?done(this):done()}}),this):(this.fall(),done())}jumpOut(index2=0,done){return this.relative.off("detach",this._detach),delay(300*index2,()=>new Surface.Animation(this,{y:this.relative.y},{interrupt:!0,duration:EXPLAINER_JUMP_OUT,completeOnInterrupt:!0,easing:"easeOutCirc",complete(){return this.detach(),done==null?void 0:done()}})),this}fall(done){return delay(Math.random()*300,()=>new Surface.Animation(this,{y:{plus:sim(window).height()/2},opacity:0},{interrupt:!0,duration:500,completeOnInterrupt:!0,easing:"easeInCirc",complete(){return this.detach(),done==null?void 0:done()}})),this}}class ControllerParser{constructor(){this.fieldsInModules={},this.fieldsInFilters={},this.specsInModules={},this.specsInFilters={}}get modulesSpecs(){return this.specsInModules}get modulesFields(){return this.fieldsInModules}get filtersSpecs(){return this.specsInFilters}get filtersFields(){return this.fieldsInFilters}hasModule(moduleId){return this.modulesSpecs[moduleId]||this.filtersSpecs[moduleId]||this.modulesFields[moduleId]||this.filtersFields[moduleId]}parse(controller,defaultValues){if(controller.version!==2)return;const allFields={};this.fillAllFields(controller.fields,"field",allFields),this.fillAllFields(controller.filters,"filter",allFields),this.fillAllFields(controller.accounts,"account",allFields),this.fillAllFields(controller.hooks,"hook",allFields),this.fillAllFields(controller.keys,"key",allFields),this.fillAllFields(controller.fragments,"fragment",allFields),this.prepareFields(allFields),this.specsInModules=this.convertToSpecs(this.fieldsInModules,defaultValues),this.specsInFilters=this.convertToSpecs(this.fieldsInFilters,defaultValues)}fillAllFields(fields,fieldType,allFields){fields&&Object.keys(fields).forEach(guid=>{allFields[guid]={guid,type:fieldType,field:fields[guid],targetFields:[],nestedFields:[],popupFields:[]}})}prepareFields(allFields){Object.keys(allFields).forEach(guid=>{var _a2;this.bindParent(allFields,allFields[guid]),(_a2=allFields[guid].field.targets)==null||_a2.forEach(target=>this.bindFields(target,allFields[guid],allFields))})}bindParent(allFields,field){var _a2;if(!((_a2=field==null?void 0:field.field)!=null&&_a2.parent))return;const parentGuid=field.field.parent.split(".")[1];if(!parentGuid)throw Error(`Field '${field.guid}' has parent defined but parent's ID ('${field.field.parent}) is invalid.`);allFields[parentGuid].nestedFields.push(field),field.parent=allFields[parentGuid]}bindFields(targetPath,field,allFields){if(!targetPath)throw Error(`No target for field '${field.guid}'`);const splittedTarget=targetPath.split("."),[targetType,targetId]=splittedTarget.slice(0,2);if(targetType==="module"||targetType==="filter"){const dict=targetType==="module"?this.fieldsInModules:this.fieldsInFilters;if(isNaN(Number(targetId)))throw Error(`Target '${targetPath}' points to module or filter but ID is not a number.`);dict[Number(targetId)]||(dict[Number(targetId)]={moduleId:Number(targetId),fields:[]}),this.isParentInSameModule(`${targetType}.${targetId}`,field)||dict[Number(targetId)].fields.push(field)}else{const target=allFields[targetId];if(!target)throw Error(`Field '${field.guid}' has target '${targetId}' but it doesn't exist.`);field.targetFields.push(target),(target.type==="account"||target.type==="hook"||target.type==="key")&&target.popupFields.push(field)}}isParentInSameModule(target,field){return field!=null&&field.parent?field.parent.field.targets.some(tf=>tf.startsWith(target))?!0:this.isParentInSameModule(target,field.parent):!1}convertToSpecs(dict,defaultValues){return Object.keys(dict).reduce((acc,moduleId)=>(acc[Number(moduleId)]=this.traverseTree(dict[Number(moduleId)].fields,defaultValues),acc),{})}traverseTree(fields,defaultValues){const names={};return fields.map(f2=>{var _a2;const res={...f2.field.spec};return this.handleNamesDuplicates(names,res),defaultValues&&defaultValues[f2.guid]&&(res.default=defaultValues[f2.guid]),(_a2=f2.nestedFields)!=null&&_a2.length&&(res.options=res.options||{},res.options.nested=this.traverseTree(f2.nestedFields)),res})}handleNamesDuplicates(usedNames,currentSpec){const name=currentSpec.name;usedNames[name]||(usedNames[name]=0),usedNames[name]++,usedNames[name]>1&&(currentSpec.name=currentSpec.name+(usedNames[name]-1))}}class PopupHandler{constructor(form,controllerBindingsHandler){this.form=form,this.controllerBindingsHandler=controllerBindingsHandler,this.currentForm=this.form,this.form.addEventListener("inputBuilt",event=>{const popup=event.target.closest("imt-panel imt-forman");if(popup&&popup!==this.currentForm&&(this.currentForm=popup,this.clickSource)){popup.innerHTML="";const specs=this.prepareSpecs(this.clickSource);popup._built=!1,this.controllerBindingsHandler.attach(this.clickSource.popupFields.filter(f2=>!f2.parent),popup),popup.build(specs),this.clickSource=void 0}})}registerPopups(formControl,f2){var _a2;(_a2=f2==null?void 0:f2.popupFields)!=null&&_a2.length&&(formControl.addEventListener("click",()=>this.clickSource=f2),formControl.querySelectorAll(".btn").forEach(btn=>btn.addEventListener("mousedown",()=>{this.clickSource=f2})))}prepareSpecs(field){const specs=new ControllerParser().traverseTree(field==null?void 0:field.popupFields.filter(f2=>!f2.parent)),hiddenSpecs={hook:[{label:"Type Name",name:"typeName",type:"hidden",options:{value:field.type.split(":")[1]}},{label:"Name",name:"name",type:"hidden",options:{value:"GENERATED WEBHOOK"}},{label:"Team ID",name:"teamId",type:"hidden",options:{value:imt.team.id}}],account:[{label:"Account Type",name:"accountType",type:"hidden",options:{value:field.type.split(":")[1]}},{label:"Name",name:"accountName",type:"hidden",options:{value:"GENERATED ACCOUNT"}}],key:[{label:"Key Type Name",name:"imtKeyTypeName",type:"hidden",options:{value:field.type.split(":")[1]}},{label:"Key Name",name:"imtKeyName",type:"hidden",options:{value:"GENERATED KEY"}},{label:"Key Team ID",name:"imtKeyTeamId",type:"hidden",options:{value:imt.team.id}}]};return hiddenSpecs[field==null?void 0:field.type]&&specs.push(...hiddenSpecs[field.type]),specs}}class ControllerBindingsHandler{constructor(){this.updatedValues={}}attach(fields,form){form=form.form||form;const onBuilt=()=>{this.pickFragmentsControls(fields,form,"imt-fieldset"),form.addEventListener("nestedChanged",()=>{this.pickFragmentsControls(fields,form,"imt-fieldset"),this.createHandlers(fields,form)}),this.createHandlers(fields,form),form.removeEventListener("built",onBuilt),this.propagateValues(fields,form)};this.popupHandler||(this.popupHandler=new PopupHandler(form,this)),form.classList.add("template"),form.addEventListener("built",onBuilt)}propagateValues(fields,form){fields==null||fields.forEach(f2=>{const formControl=form.querySelector(this.getSelector(f2));formControl&&(this.updatedValues[f2.guid]!==void 0&&(formControl.value=this.updatedValues[f2.guid],this.updateCopies(fields,f2,form,this.updatedValues[f2.guid])),this.propagateValues(f2.nestedFields,form))})}pickFragmentsControls(fields,form,parentSelector){fields==null||fields.forEach(f2=>{var _a2;this.pickFragmentsControls(f2.nestedFields,form,`${parentSelector} [name="${f2.field.spec.name}"]`),f2.type==="fragment"&&(form.querySelectorAll(`${parentSelector} [field]`).forEach(formControl=>{formControl.classList.add("template-hidden-item")}),this.pickControls((_a2=f2.field.store)==null?void 0:_a2.pick,form.querySelector(parentSelector)))})}pickControls(fieldsToKeep,parentControl){fieldsToKeep&&fieldsToKeep.forEach(fk=>{const pathSegments=fk.split("."),control=parentControl==null?void 0:parentControl.querySelector(`[name="${pathSegments[0]}"][field]`);control&&(control.classList.remove("template-hidden-item"),pathSegments.length>1&&this.pickControls(pathSegments.slice(1),control))})}createHandlers(fields,form){const copies={};fields==null||fields.forEach(f2=>{copies[f2.guid]===void 0&&(copies[f2.guid]=0);const formControl=form.querySelector(this.getSelector(f2,copies[f2.guid]));if(formControl){if(!formControl.isPatchedOnChange){formControl.addEventListener("nestedChanged",()=>{this.propagateValues(f2.nestedFields,form),this.createHandlers(f2.nestedFields,form)});const onChange=formControl.onChange;formControl.onChange=()=>{onChange.call(formControl),this.updatedValues[f2.guid]=formControl.value,f2.targetFields.forEach(target=>{const targetControl=form.querySelector(this.getSelector(target));targetControl&&targetControl.value!==formControl.value&&(targetControl.value=formControl.value)}),this.updateCopies(fields,f2,form,formControl.value)},this.popupHandler.registerPopups(formControl,f2),formControl.isPatchedOnChange=!0}copies[f2.guid]=copies[f2.guid]+1,this.createHandlers(f2.nestedFields,form)}})}updateCopies(fields,searchedField,form,value){const copiesCount=fields.filter(f2=>f2.guid===searchedField.guid).length;if(!(copiesCount<2))for(let i2=0;i2<copiesCount;i2++){const control=form.querySelector(this.getSelector(searchedField,i2));(control==null?void 0:control.value)!==value&&(control.value=value)}}getSelector(field,number2){return field?`${this.getSelector(field.parent)} imt-fieldset:not([hidden]) [name="${field.field.spec.name+(number2||"")}"]`:""}}class TemplateWizard extends EventEmitter$1{constructor(){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2;super(),this.step=0,this.steps=[],this.team=null,this.organization=null,this.formulas={},this.configs=[],this.controllerBindingHandler=new ControllerBindingsHandler,this.generateSteps=()=>{sim("body").removeClass("with-aside-info"),sim("body .content > header").removeClass("d-none");const prev=err=>{var _a3,_b3;if(err&&new Alert(Alert.parseError(err)).show(),this.step===0){TemplateWizard.instance=null,isFeatureOn("new-toolbar",!1)?sim("imt-toolbar").removeClass("out"):sim(".i-inspector-menu").removeClass("out"),sim("body").removeClass("with-full-aside").addClass("with-aside-info"),sim("body .content > header:not(.aside-info)").addClass("d-none"),location.href.includes("/test")?((_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.destroy(),imtEvents.dispatch("app.redirect",{absolute:!0,url:`${imt.team.id}/templates/${(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.scenario._basedOn}/edit`})):Inspector!=null&&Inspector.instance&&(Inspector.instance.mode="view",Inspector.instance.explain(!0));return}return this.steps[--this.step].step(prev,next2,err2=>prev(err2))},next2=err=>skip(),skip=err=>{var _a3;err&&new Alert(Alert.parseError(err)).show();const firstUnsavedStepIndex=this.steps.findIndex(step=>!step.isSaved);if(firstUnsavedStepIndex<0)return done();for(let i22=this.step+1;i22<this.steps.length;i22++)if(!((_a3=this.steps[i22])!=null&&_a3.isSaved))return this.step=i22,this.steps[i22].step(prev,next2,skip);return this.step=firstUnsavedStepIndex,this.steps[firstUnsavedStepIndex].step(prev,next2,skip)},done=()=>{var _a3;toaster.show(imt.l("inspector","flashes.templateready"));for(const id in this.formulas)this.formulas[id].destroy();TemplateWizard.instance=null,Inspector!=null&&Inspector.instance&&(Inspector.instance.isTemplate=!1,Inspector.instance.wasTemplate=!0,Inspector.instance._surface.input.enabled=!0,Inspector.instance.templateSettings={team:this.team}),imtEvents.dispatch("templates.scenario_from_template");const scenario2=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario;scenario2==null||scenario2.save(err=>{if(err){if((err!=null?err.code:void 0)!=="IM004"&&(err!=null?err.code:void 0)!=="IM026")return new Alert(Alert.parseError(err)).show()}else return Inspector!=null&&Inspector.instance&&(Inspector.instance.mode="view",Inspector.instance._surface.resize()),toaster.show(imt.l("inspector","flashes.scenariosaved"))})};return{prev,next:next2,skip,done}},TemplateWizard.instance=this,this.start=this.start.bind(this),this._buildTeamOrgForm=this._buildTeamOrgForm.bind(this),Explain.instance!=null&&Explain.instance.stop(),Inspector!=null&&Inspector.instance&&(Inspector.instance.mode="edit"),isFeatureOn("new-toolbar",!1)?sim("imt-toolbar").addClass("out"):sim(".i-inspector-menu").addClass("out"),(_d2=(_c2=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.stage)==null?void 0:_c2.children)==null||_d2.map(el=>{el.interactive=!1,el.draggable=!1,el.removable=!1}),typeof globalThis.ga=="function"&&globalThis.ga("send","event","template","add",window.location.pathname),this.configs=[];const scenario=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.scenario,controllerParser=new ControllerParser;let next=[(_f2=Inspector==null?void 0:Inspector.instance)==null?void 0:_f2._start.next],i2;for(controllerParser.parse(scenario.templateController,scenario.privateValues);i2=next.shift();){const moduleId=Number(i2.id);i2.next!=null&&(next=[].concat(i2.next,next)),(i2._errorHandler!=null?i2._errorHandler.node2:void 0)!=null&&next.push(i2._errorHandler.node2);const templateController=scenario.templateController;(controllerParser.hasModule(moduleId)||templateController.modules&&templateController.modules[moduleId])&&(i2._badge.asIcon("pristine"),this.configs.push({controller:templateController.modules&&templateController.modules[moduleId]||{},moduleSpecs:controllerParser.modulesSpecs[moduleId],filterSpecs:controllerParser.filtersSpecs[moduleId],moduleFields:(_g2=controllerParser.modulesFields[moduleId])==null?void 0:_g2.fields,filterFields:(_h2=controllerParser.filtersFields[moduleId])==null?void 0:_h2.fields,module:i2}))}imt.organization.id?this.organization=imt.organization.id:this.steps.push({step:(prev,next2,skip)=>(this.formulas={},Loader.api(`organizations?zone=${imt.zone}`,(err,organizations)=>err?prev(err):this._buildTeamOrgForm(organizations,"organization",prev,()=>{this.steps[this.step].isSaved=!0,next2()},skip))),moduleOrLink:null,isValid:!1,isSaved:!1}),imt.team.id?this.team=imt.team.id:this.steps.push({step:(prev,next2,skip)=>(this.formulas={},Loader.api(`teams?organizationId=${this.organization}`,{store:`teams?organizationId=${this.organization}`},(err,teams)=>err?prev(err):this._buildTeamOrgForm(teams,"team",prev,()=>{this.steps[this.step].isSaved=!0,next2()},skip))),moduleOrLink:null,isValid:!1,isSaved:!1});for(const config2 of this.configs)(((_i2=config2.controller)==null?void 0:_i2.filter)!=null||config2.filterFields)&&(config2.module._inputLink.interactive=!0,config2.module._inputLink._filter.interactive=config2.module._inputLink._filter.icon==="filter",this.steps.push({step:()=>config2.module._inputLink.focus(),moduleOrLink:config2.module._inputLink,isValid:!1,isSaved:!1})),(config2.controller.fields||config2.moduleFields)&&(config2.module.interactive=!0,this.steps.push({step:()=>config2.module.focus(),moduleOrLink:config2.module,isValid:!1,isSaved:!1}));delay(250,this.start)}buildPanel(moduleOrLink){const patchPanelCloseFn=(config2,panel,step)=>{panel.on("show",()=>this.step=step);const closeBtn=panel.findOne(".close"),closeBtnHandler=()=>{panel.hasUnsavedChanges?(panel.hide(),Inspector.instance&&(Inspector.instance._surface.input.focus=null),config2.module.emit("blur")):panel.close()};return closeBtn.off("click",panel._close),closeBtn.on("click",closeBtnHandler),closeBtnHandler};let stepsLength=0;for(const config2 of this.configs){if(config2.controller.filter!=null||config2.filterFields){if(config2.module._inputLink===moduleOrLink){const buildPanel=(prev2,next2)=>{var _a2;const panel=new Panel(config2.module._inputLink);panel.closeable=!0,panel.help="kb://scenarios/filtering",panel.expandable=!0,panel.offsetX=50/window.devicePixelRatio,panel.title=imt.l("inspector","common.stepn",{data:{n:stepsLength+1}}),panel.loading=!0;const closeBtnHandler=patchPanelCloseFn(config2,panel,stepsLength),options={template:{filter:config2.controller.filter}},built=err=>{if(err)return panel.warn(err);sim.button(".btn.btn-outline-secondary.btn-sm",function(){(simElement=>{simElement.attr("type","button"),simElement.text(imt.l("base","common.back")),simElement.appendTo(panel._footer),simElement.once("click",()=>{closeBtnHandler(),prev2()})})(this)});const self2=this;return sim.button(".btn.btn-primary.btn-sm",function(){(simElement=>{simElement.attr("type","button"),simElement.text(imt.l("base","common.continue")),simElement.appendTo(panel._footer),simElement.on("click",()=>{if(form.isValid()){config2.module._inputLink.saveSetupForm(form),self2.steps[self2.step].isSaved=!0,panel.close();const filter2=self2.steps[self2.step].moduleOrLink._filter;filter2.badge.asIcon("ok"),filter2.interactive=filter2.icon==="filter",next2()}})})(this)}),config2.module._inputLink.on("blur",()=>{const filter2=this.steps[this.step].moduleOrLink._filter;this.steps[this.step].isValid=panel.isValid,panel.hasUnsavedChanges?(filter2.badge.asDirty(!0),filter2.interactive=!0):this.steps[this.step].isSaved&&(filter2.badge.asIcon("ok"),filter2.interactive=filter2.icon==="filter")}),panel.content=form,panel.loading=!1},form=(_a2=config2.filterSpecs)!=null&&_a2.length?this.createSetupFormV2(config2.filterSpecs,built):config2.module._inputLink.createSetupForm(options,built);return this.controllerBindingHandler.attach(config2.moduleFields,form),panel.on("show",()=>this.controllerBindingHandler.propagateValues(config2.moduleFields,form)),form.on("resize",panel._resize),panel.on("destroy",()=>form.destroy()),panel},{prev,next}=this.generateSteps();return this.step=stepsLength,buildPanel(prev,next)}stepsLength++}if(config2.controller.fields||config2.moduleFields){if(config2.module===moduleOrLink){const buildPanel=(prev2,next2)=>{var _a2,_b2,_c2,_d2,_e2;if(config2.controller.fields){const getNonDefaultFieldKeys=fields=>Object.entries(fields).reduce((acc,val)=>{let isUseInWizardNonDefault=!val[1].default;return config2.controller.fields.__version>=2&&(isUseInWizardNonDefault=!val[1].default&&val[1].useInWizard),[...acc,isUseInWizardNonDefault?[val[0]]:[],val[1].fields?val[1].fields.reduce((acc2,val2)=>[acc2,getNonDefaultFieldKeys(val2)].flat(),[]):[]].flat()},[]),nonDefaultFieldKeys=getNonDefaultFieldKeys(config2.controller.fields);Object.entries(((_b2=(_a2=config2.module.metadata)==null?void 0:_a2.restore)==null?void 0:_b2.expect)||{}).forEach(([key,value])=>{value.label&&nonDefaultFieldKeys.includes(key)&&(config2.module.mapper&&delete config2.module.mapper[key],delete value.label)}),nonDefaultFieldKeys.forEach(key=>{config2.module.parameters&&delete config2.module.parameters[key],config2.module.mapper&&delete config2.module.mapper[key]})}(_d2=(_c2=config2.module.metadata)==null?void 0:_c2.restore)==null||delete _d2.parameters;const panel=new Panel(config2.module);panel.closeable=!0,panel.expandable=!0,panel.help=`kb://app/${config2.module.package.name.replace(/^app#/,"")}`,panel.offsetX=config2.module.width*.6/window.devicePixelRatio,panel.title=imt.l("inspector","common.stepn",{data:{n:stepsLength+1}}),panel.loading=!0;const closeBtnHandler=patchPanelCloseFn(config2,panel,stepsLength),built=err=>{if(err)return panel.warn(err);sim.button(".btn.btn-outline-secondary.btn-sm",function(){(simElement=>{simElement.attr("type","button"),simElement.text(imt.l("base","common.back")),simElement.appendTo(panel._footer),simElement.on("click",()=>{closeBtnHandler(),prev2()})})(this)});const self2=this;return sim.button(".btn.btn-primary.btn-sm",function(){(simElement=>{simElement.attr("type","button"),simElement.text(imt.l("base","common.continue")),simElement.appendTo(panel._footer);let isValid=form.isValid();simElement.attr("disabled",!isValid);const evalDisabled=()=>{form.isValid()!==isValid&&(isValid=!isValid,simElement.attr("disabled",!isValid))};panel.on("input",evalDisabled),setTimeout(evalDisabled),simElement.on("click",()=>{form.isValid()&&(panel.loading=!0,config2.module.saveSetupForm(form,()=>{self2.steps[self2.step].isSaved=!0,panel.close();const epoch=Panels.byType("epoch");epoch?epoch.on("close",next2):next2()}))})})(this)}),config2.module.on("blur",()=>{panel.isValid!==void 0&&(this.steps[this.step].isValid=panel.isValid,panel.isValid?panel.hasUnsavedChanges?config2.module._badge.asDirty(!0):config2.module._badge.asIcon(this.steps[this.step].isSaved?"ok":"pristine"):config2.module._badge.asIcon("warn"))}),panel.content=form,panel.loading=!1};let form=this.formulas[config2.module.id];return form?(built(),this.controllerBindingHandler.propagateValues(config2.moduleFields,form)):(form=this.formulas[config2.module.id]=(_e2=config2.moduleSpecs)!=null&&_e2.length?this.createSetupFormV2(config2.moduleSpecs,built):config2.module.createSetupForm({template:config2.controller.fields},built),this.controllerBindingHandler.attach(config2.moduleFields,form)),panel.on("show",()=>this.controllerBindingHandler.propagateValues(config2.moduleFields,form)),form.on("resize",panel._resize),panel.on("destroy",()=>form.off("resize",panel._resize)),panel},{prev,next}=this.generateSteps();return this.step=stepsLength,buildPanel(prev,next)}stepsLength++}}}createSetupFormV2(specs,built){const form=new Formula("Parameters");return form.config=specs,form.build(err=>built(err)),form}start(){var _a2;sim("body").removeClass("with-aside-info"),sim("body .content > header").removeClass("d-none"),this.step=0;const{prev,next,skip,done}=this.generateSteps();this.steps.length?this.steps[this.step].step(prev,next,skip):done(),(_a2=Inspector==null?void 0:Inspector.instance)==null||_a2._surface.resize()}_buildTeamOrgForm(data2,dataType,prev,next,skip){var _a2,_b2,_c2,_d2;if(data2.length===1)return this[dataType]=data2[0].id,skip();if(dataType==="organization"&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)!=null&&_b2.data("templateorganizationid")))return this[dataType]=(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.root)==null?void 0:_d2.data("templateorganizationid"),skip();const panel=new Panel;panel.closeable=!1,panel.title=imt.l("inspector","common.stepn",{data:{n:this.step+1}}),panel.loading=!0;const form=new Formula(imt.l("inspector","common.stepn",{data:{n:this.step+1}}));return form.on("resize",panel._resize),form.config=[{name:dataType,label:imt.l("base","common."+dataType),help:imt.l("inspector",`wizard.choose${dataType==="organization"?"org":"team"}`),type:"select",required:!0,options:{store:data2,label:"name",value:"id"}}],form.build(err=>{if(err)return panel.warn(err);sim.button(".btn.btn-outline-secondary.btn-sm",function(){(simElement=>{simElement.attr("type","button"),simElement.text(imt.l("base","common.back")),simElement.appendTo(panel._footer),simElement.once("click",()=>{panel.close(),prev()})})(this)});const self2=this;return sim.button(".btn.btn-primary.btn-sm",function(){(simElement=>(simElement.attr("type","button"),simElement.text(imt.l("base","common.continue")),simElement.appendTo(panel._footer),simElement.on("click",()=>{if(form.isValid())return self2[dataType]=form.toJSON()[dataType],imtEvents.dispatch("templatewizard."+dataType,data2.find(t2=>t2.id===form.toJSON()[dataType])),panel.close(),next()})))(this)}),panel.content=form,panel.loading=!1}),panel.on("destroy",()=>form.destroy())}}globalThis.TemplateWizard=TemplateWizard;class LinkSetupPanel extends Panel$1{constructor(relative){var _a2;super(relative),this.help="kb://scenarios/filtering",this.expandable=!0,this.offsetX=50/window.devicePixelRatio,this.title=imt.l("base","common.filter"),this.loading=!0;const self2=this,readonly=((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="live",editMode=()=>{var form=relative.createSetupForm(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return form.readonly=readonly,relative.node1 instanceof Router?this.title=imt.l("inspector","panels.link.route"):this.title=imt.l("inspector","panels.link.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){var _a3,_b2,_c2,_d2,_e2,_f2;if(form.isValid())return relative.saveSetupForm(form),imtEvents.dispatch("scenario.filter_added",{labelName:relative==null?void 0:relative.title,appAName:(_a3=relative==null?void 0:relative.node1)==null?void 0:_a3.__title,appBName:(_b2=relative==null?void 0:relative.node2)==null?void 0:_b2.__title,moduleAName:(_d2=(_c2=relative==null?void 0:relative.node1)==null?void 0:_c2.config)==null?void 0:_d2.label,moduleBName:(_f2=(_e2=relative==null?void 0:relative.node2)==null?void 0:_e2.config)==null?void 0:_f2.label}),self2.emit("save"),self2.close()})}),isFeatureOn("ai-filter-button-enabled")&&(this._aiButton.hidden=!1,this._aiButton.forman=form.form,this._aiButton.kind="filter"),this.content=form,this.loading=!1,this.emit("load")});return form.on("resize",this._resize),this.on("destroy",()=>form==null?void 0:form.destroy())};if(!Inspector.instance.scenario.isLive())return editMode();this._body.empty().do(function(){var _a3,_b2,_c2;return this.div(".mb-2").text(imt.l("base","common.condition")),(_b2=(_a3=relative.node2)==null?void 0:_a3.filter)!=null&&_b2.conditions.length?this.div(".ml-3").visualizer({type:"filter",surface:(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2._surface,source:{conditions:relative.node2.filter.conditions,report:!0}}).on("resize",self2._resize):this.div().visualizer({type:"json",source:null}).on("resize",self2._resize)}),this.loading=!1}}class InspectFilterPanel extends Panel$1{constructor(relative,snapto){var _a2;super(snapto??relative);const self2=this;this.help="kb://scenarios/filtering",this.expandable=!0,this.offsetX=(snapto??relative).width*.6/window.devicePixelRatio,this.loading=!0;const collapsible=function(title,content){return this.li(function(){return this._title=this.h4(".dropup",function(){return this.html(`${title}&nbsp;`),this.span(".caret"),this.on("click",()=>(this.toggleClass("dropup"),content.slideToggle({duration:"fast",progress:self2._resize,complete:self2._resize})))}),content||(content=sim.div()),this._content=content.appendTo(this)})};(_a2=Inspector==null?void 0:Inspector.instance)==null||_a2.loadUserDataForModule(relative,()=>(this.width(450),this.title=imt.l("inspector","panels.inspectfilter.title"),this.content=sim.ul(".list-unstyled.i-inspector-operations",function(){var _a3,_b2,_c2,_d2;return(((_d2=(_c2=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.runtime.roundtrip[(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.roundtrip])==null?void 0:_c2[relative.id])==null?void 0:_d2.filtered)??[]).map((report,index2)=>collapsible.call(this,imt.l("inspector","common.bundlen",{data:{n:index2+1}})).do(function(){if(report!=null)if(Array.isArray(report))report.__IMTSUCCESS__?this.addClass("i-has-success"):this.addClass("i-has-block");else return this.addClass("i-has-error"),this._content.div(".i-exception",function(){return this.h5().text(report.name||"Error"),this.p(function(){var _a4;if(this.text(report.message),(_a4=report.suberrors)!=null&&_a4.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return report.suberrors.map(serr=>this.li(function(){return this.text(`${serr.detail||serr.message}`),this.prepend(sim.i(".far.fa-fw.fa-angle-right"))}))})})});else this.addClass("i-has-success");return this._content.do(function(){return this.div(function(){var _a4,_b3;return this.visualizer({type:"filter",nth:index2,relative,surface:(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4._surface,source:{conditions:(_b3=relative.filter)==null?void 0:_b3.conditions,report:report??!0}}).on("resize",self2._resize)})})}))}),this.loading=!1))}}class Link extends Link$1{constructor(node1,node2,layout="fill"){var _a2;super(node1,node2,layout);__publicField(this,"TYPE","link");this.invisible||(this.interactive=["edit","view"].includes((_a2=Inspector.instance)==null?void 0:_a2.mode)),this._registerFilterPanelHandlers();let panel=null;this.on("focus",()=>{var _a3,_b2;if(panel)return this.updateSetupForm(panel.find(".i-formula").first()),this._filter.badge.asDirty(!1),panel.show();(_a3=Inspector==null?void 0:Inspector.instance)!=null&&_a3.isTemplate?panel=(_b2=TemplateWizard==null?void 0:TemplateWizard.instance)==null?void 0:_b2.buildPanel(this):panel=new LinkSetupPanel(this),panel==null||panel.once("close",()=>{var _a4,_b3,_c2;((_c2=(_b3=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4._surface)==null?void 0:_b3.input)==null?void 0:_c2.focus)===this&&(Inspector.instance._surface.input.focus=null)})}),this.on("blur",()=>{if(panel){if(panel.hasUnsavedChanges){panel.hide(),this._filter.interactive=!0,this._filter.badge.asDirty(!0);return}panel._close(),panel=null,this._filter.badge.asDirty(!1)}})}get hasNote(){var _a2,_b2,_c2,_d2;return isFeatureOn("new-notes")?notes.moduleHasNote((_a2=this.node2)==null?void 0:_a2.id,!0):((_d2=(_c2=(_b2=this.stage)==null?void 0:_b2.surface)==null?void 0:_c2.find(NoteLine).filter(item=>item._module===this.node2&&item._onFilter))==null?void 0:_d2.length)>0}createContextMenu(){var _a2,_b2;const menu=[];return menu.push({default:!0,label:imt.l("inspector","buttons.setupfilter"),icon:"filter",click:()=>this.focus()}),menu.push({label:imt.l("inspector","buttons.unlink"),icon:"unlink",click:()=>this.detach()}),this.node1 instanceof Router&&(this.paused?menu.push({label:imt.l("inspector","buttons.enableroute"),icon:"check",click:()=>{this.paused=!1}}):menu.push({label:imt.l("inspector","buttons.disableroute"),icon:"ban",click:()=>{this.paused=!0}})),menu.push({label:imt.l("inspector","buttons.selectLinkModules"),icon:"object-group",click:()=>this.selectLinkModules()}),menu.push({label:imt.l("inspector","buttons.addrouter"),icon:"plus",click:async()=>{const router=await Inspector.instance.repository.get("builtin","BasicRouter");if(!router)return;router.id=Inspector.instance.scenario.idSequence++,router.move(this.node2.x,this.node2.y),this.stage.attach(router),router.filter=this.node2.filter,this.node2.filter=void 0;const next=this.node2;this.node2=router,this.stage.attach(new Link(router,next)),router.nextAll().map(node2=>new Surface.Animation(node2,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"}))}}),menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>{var _a3,_b3;imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"canvas_link_right_click"});const ph=(_a3=Inspector.instance)==null?void 0:_a3.addPlaceholder(new Point(this.node2.x,this.node2.y));this.stage.attach(ph),ph.filter=this.node2.filter,this.node2.filter=void 0;const next=this.node2;this.node2=ph,this.stage.attach(new Link(ph,next));for(var node2 of ph.nextAll())new Surface.Animation(node2,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"});(_b3=Inspector.instance)==null||_b3.emit("add_placeholder",ph),delay(250,()=>{this.stage.surface.input.focus=ph})}}),!this.hasNote&&!((_b2=(_a2=imt.brand)==null?void 0:_a2.theme)!=null&&_b2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector.instance)==null?void 0:_a3.addNote(this.node2,!0)}}),this.hasNote&&isFeatureOn("new-notes")&&menu.push({label:imt.l("inspector","notes.editNote"),icon:"sticky-note",click:()=>{var _a3;const n2=notes.getNoteByModule((_a3=this.node2)==null?void 0:_a3.id,!0);n2==null||n2.togglePreview(!1)}}),menu}createSetupForm(options,done){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m;if(options instanceof Function&&(done=options,options={}),Inspector.instance instanceof Templater&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))!=="true"&&(options.templater={},(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario.controller.modules[this.node2.id])!=null&&_d2.filter&&(options.templater.filter=(_f2=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.scenario.controller.modules[this.node2.id])==null?void 0:_f2.filter)),!this.node1){done(new Error("This link has no ancestor node."));return}if(!this.node2){done(new Error("This link has no descendant node."));return}const samples=this.node1.samples(!0,this.isErrorHandler)??{},pills=this.node1.pills(!0,this.isErrorHandler)??[],params=[{name:"name",label:imt.l("base","common.label"),type:"text"},{name:"filter",label:imt.l("base","common.condition"),type:"filter"}],values={name:((_g2=this.node2.filter)==null?void 0:_g2.name)??"",filter:(_h2=this.node2.filter)==null?void 0:_h2.conditions};this.node1 instanceof Router&&(params.splice(1,0,{name:"else",type:"boolean",label:imt.l("inspector","panels.link.else"),required:!0,default:!1}),values.else=((_i2=this.node1.parameters)==null?void 0:_i2.else)===this.node1._outputLinks.indexOf(this));const form=new Formula("Link");form.config=params,form.values=values,form.options={samples,pills,timezone:imt.organization.timezone};for(var key in options){var value=options[key];form.options[key]=value}let sync=!0;return form.build(function(err){if(form.classList.add("is-link"),!sync){done(err);return}setImmediate(()=>done(err))}),sync=!1,(Inspector==null?void 0:Inspector.instance)instanceof Templater&&((_k=(_j2=Inspector==null?void 0:Inspector.instance)==null?void 0:_j2.root)==null?void 0:_k.data("oem-template"))==="true"&&((_m=(_l=Inspector==null?void 0:Inspector.instance)==null?void 0:_l.scenario)==null||_m.handleSetupFormCreated(form,this.node2,"filter")),form}updateSetupForm(form,done){return form&&(form.options.pills=this.node1.pills(!0,this.isErrorHandler)??[]),done&&setImmediate(done),form}saveSetupForm(form){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2;Inspector.instance instanceof Templater&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))!=="true"&&((_c2=Inspector.instance.scenario.controller.modules)[_d2=this.node2.id]??(_c2[_d2]={}),Inspector.instance.scenario.controller.modules[this.node2.id].filter=form.toTemplate().filter),(Inspector==null?void 0:Inspector.instance)instanceof Templater&&((_f2=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.root)==null?void 0:_f2.data("oem-template"))==="true"&&((_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.scenario)==null||_h2.handleSaveSetupForm(form,this.node2,"filter"));const cfg=form.toJSON();if(this.title=cfg.name??"",this.hasFilter=cfg.filter.length,cfg.name||cfg.filter.length?this.node2.filter={name:cfg.name,conditions:cfg.filter}:this.node2.filter=void 0,this.node1 instanceof Router){const index2=this.node1._outputLinks.indexOf(this);cfg.else===!0?this.node1.parameters={else:index2}:((_i2=this.node1.parameters)==null?void 0:_i2.else)===index2&&(this.node1.parameters=void 0),this.node1.update(),this.update()}}selectLinkModules(){const selected=[];var iterate=function(module2){module2&&(selected.push(module2),module2 instanceof Router?module2._outputLinks.map(route=>iterate(route.node2)):(iterate(module2.next),module2._errorHandler&&iterate(module2._errorHandler.node2)))};iterate(this.node2),Inspector.instance._surface.input.selected=selected}_registerFilterPanelHandlers(){let panel=null;this._filter.on("focus",()=>{if(!panel)return panel=new InspectFilterPanel(this.node2,this._filter),panel.once("close",()=>{var _a2,_b2,_c2;((_c2=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.input)==null?void 0:_c2.focus)===this._filter&&(Inspector.instance._surface.input.focus=null)})}),this._filter.on("blur",function(){panel&&(panel._close(),panel=null)}),this._filter.style.cursor="pointer"}}const ErrorHandlerLink=(a2,b2)=>new Link(a2,b2,"stroke");Surface.Link=Link;class ModuleRenamePanel extends Panel$1{constructor(relative){super(relative),this.addClass("i-browser"),this.position="top",this.offsetY=relative.width*.5/window.devicePixelRatio,this.width(350);const self2=this;this._footer.addClass("m-0 d-block"),this._footer.form(".d-flex.align-items-center",function(){const input=this.input(".form-control.flex-resize",function(){return this.attr("type","text"),this.attr("placeholder",relative.title),this.attr("maxlength",50),this.val(relative.customTitle),delay(100,()=>this.focus())});return this.div(".flex-no-resize",function(){return this.button(".btn.btn-primary.btn-sm.mr-2",function(){return this.attr("type","submit"),this.text(imt.l("base","common.ok"))})}),this.on("submit",function(){return relative.customTitle=input.val(),self2.close(),!1})})}}class ScenarioSetupPanel extends Panel$1{constructor(relative){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x;super(relative);const self2=this;this.position=imt.brand.theme.startsWith("ems")?"bottom":"top",this.offsetY=34,this.offsetX=-250,this.help="kb://scenarios/scenario-settings-panel",this.expandable=!0,this.loading=!0,this._form=new Formula("ScenarioSetup"),this._form.on("resize",this._resize),this._form.config=[{name:"sequential",label:imt.l("inspector","panels.scenario.sequential.label"),type:"boolean",required:!0,reversedNested:imt.features.sloth,help:imt.l("inspector","panels.scenario.sequential.help"),nested:imt.features.sloth?[{name:"limit",label:imt.l("inspector","panels.scenario.limit.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.limit.help"),nested:[{name:"slots",label:imt.l("inspector","panels.scenario.maxParallelExecutions.label"),type:"range",required:!1,help:imt.l("inspector","panels.scenario.maxParallelExecutions.help"),min:1,max:imt.organization.license.maxParallelScenarioExecutions,step:1}]}]:void 0},{name:"confidential",label:imt.l("inspector","panels.scenario.confidential.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.confidential.help")},{name:"dlq",label:imt.l("inspector","panels.scenario.dlq.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.dlq.help")},{name:"freshVariables",label:imt.l("inspector","panels.scenario.freshVariables.label"),type:"boolean",required:!0,advanced:!0,help:imt.l("inspector","panels.scenario.freshVariables.help")},{name:"dataloss",label:imt.l("inspector","panels.scenario.dataloss.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.dataloss.help")},{name:"autoCommit",label:imt.l("inspector","panels.scenario.autocommit.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.autocommit.help"),nested:[{name:"autoCommitTriggerLast",label:imt.l("inspector","panels.scenario.autocommittriggerlast.label"),type:"boolean",required:!0,help:imt.l("inspector","panels.scenario.autocommittriggerlast.help")}]},{name:"roundtrips",label:imt.l("inspector","panels.scenario.roundtrips.label"),type:"uinteger",help:imt.l("inspector","panels.scenario.roundtrips.help")},{name:"maxErrors",label:imt.l("inspector","panels.scenario.maxerrors.label"),type:"uinteger",help:imt.l("inspector","panels.scenario.maxerrors.help"),advanced:!0}],this._form.values={sequential:(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario)==null?void 0:_b2.sequential,slots:(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario)==null?void 0:_d2.slots,limit:(_f2=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.scenario)==null?void 0:_f2.limit,confidential:(_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.scenario)==null?void 0:_h2.confidential,dlq:(_j2=(_i2=Inspector==null?void 0:Inspector.instance)==null?void 0:_i2.scenario)==null?void 0:_j2.dlq,freshVariables:(_l=(_k=Inspector==null?void 0:Inspector.instance)==null?void 0:_k.scenario)==null?void 0:_l.freshVariables,dataloss:(_n=(_m=Inspector==null?void 0:Inspector.instance)==null?void 0:_m.scenario)==null?void 0:_n.dataloss,debugLevel:(_p=(_o=Inspector==null?void 0:Inspector.instance)==null?void 0:_o.scenario)==null?void 0:_p.debugLevel,autoCommit:(_r=(_q=Inspector==null?void 0:Inspector.instance)==null?void 0:_q.scenario)==null?void 0:_r.autoCommit,autoCommitTriggerLast:(_t=(_s=Inspector==null?void 0:Inspector.instance)==null?void 0:_s.scenario)==null?void 0:_t.autoCommitTriggerLast,roundtrips:(_v=(_u=Inspector==null?void 0:Inspector.instance)==null?void 0:_u.scenario)==null?void 0:_v.roundtrips,maxErrors:(_x=(_w=Inspector==null?void 0:Inspector.instance)==null?void 0:_w.scenario)==null?void 0:_x.maxErrors},this._form.build(err=>{var _a3;if(err)return this.warn(err.message);if(!this._destroyed)return this._form.readonly=((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.mode)==="live",this.title=imt.l("inspector","panels.scenario.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),this._form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){var _a4,_b3;if(self2._form.isValid()){const object2=self2._form.toJSON();for(var key in object2){var value=object2[key];(_a4=Inspector==null?void 0:Inspector.instance)!=null&&_a4.scenario&&(Inspector.instance.scenario[key]=value)}return self2.emit("save"),self2.close(),(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.findObject("module").forEach(node2=>node2.validate())}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this._form.on("resize",this._resize),this._form.once("has_advanced_parameters",()=>sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(this.prependTo(self2._footer),this.div(".switch.switch-xs.mr-2",function(){return this.switch(),this.on("change",()=>self2._form.advancedParametersVisible=this.data("status")==="on")}),this.write(imt.l("inspector","common.showadvanced")),self2._form.built)return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))})),this.on("destroy",()=>this._form.destroy())}}class ScenarioMessagesPanel extends Panel$1{constructor(relative,messages,options={}){let group,message,name;super(relative);const self2=this;this.loading=!0;let containsErrors=!1;const groups={};for(message of messages)message.module!=null?(group=message.module.id,name=message.module.title):(group="general",name=imt.l("inspector","panels.messages.general")),groups[group]??(groups[group]={messages:[],name}),groups[group].messages.push(message);this.content=sim.div(function(){return(()=>{const result=[];for(var id in groups)group=groups[id],this.div(".font-weight-bold.mb-2").text(group.name),result.push(this.ul(".list-unstyled.i-inspector-log",function(){return(()=>{const result1=[];for(message of group.messages)message.severity==="error"&&(containsErrors=!0),result1.push(this.li().a(function(){return this.attr("href","#"),this.text(` ${message.message}`),this.prepend(sim.i(`.fa-fw${SEVERITY_TO_ICON[message.severity]}`)),(message2=>this.on("click",function(event){switch(event.preventDefault(),event.stopPropagation(),message2.category){case"setup":case"setupreq":case"unsaved":message2.module.focus();break;case"filterunsaved":message2.module._inputLink.focus();break;case"badsettings":Panels.one=new ScenarioSetupPanel(sim("#open-scenario-settings"));break}return self2._close(),!1}))(message)}));return result1})()}));return result})()}),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),options.deleteCta||sim.label(".i-advanced-parameters",function(){return this.prependTo(self2._footer),this.input(function(){var _a2;if(this.attr("type","checkbox"),this.on("change",()=>{Inspector!=null&&Inspector.instance&&(Inspector.instance.ignoreWarnings=this.is(":checked"))}),(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.ignoreWarnings)return this.prop("checked",!0)}),this.write(imt.l("inspector","panels.messages.ignorewarnings"))}),options.cta&&(!options.test||options.test&&!containsErrors)&&sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector",`panels.messages.${getCtaTextKey(options.test,options.deleteCta)}`)),this.appendTo(self2._footer),this.on("click",function(event){return self2.emit("confirm"),self2.close()})}),this.title=imt.l("inspector","panels.messages.title"),this.loading=!1,this.width(400)}}function getCtaTextKey(test,deleteCta){return test?"runanyway":deleteCta?"deleteanyway":"saveanyway"}class Messages extends EventEmitter$1{constructor(module2){super(),this._messages=[],this._module=module2,this.on("change",()=>{var _a2;const count=this._messages.length;let severity="warn";if(module2._badge.suppress=Inspector.SHOWCASE,this._messages.length>0){for(const msg of this._messages)if(msg.severity==="error"){severity="error";break}}module2._badge.asMessagesCounter(count,severity),(_a2=Inspector==null?void 0:Inspector.instance)==null||_a2._surface.render()});let panel=null;module2._badge.on("focus",()=>{panel||(panel=new ScenarioMessagesPanel(module2,this._messages,{cta:!1}),panel.offsetX=module2.width*.6/window.devicePixelRatio,panel.offsetY=-65/window.devicePixelRatio,panel.once("close",function(){var _a2;Inspector!=null&&Inspector.instance&&((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface.input.focus)===module2._badge&&(Inspector.instance._surface.input.focus=null)}))}),module2._badge.on("blur",function(){panel&&(panel._close(),panel=null)}),module2.on("dragstart focus",()=>(module2._badge.suppress=!0,module2._badge.resolveState(),this.emit("change"))),module2.on("dragend blur",()=>(module2._badge.suppress=Inspector.SHOWCASE,module2._badge.resolveState(),this.emit("change")))}add(category,severity,message){return this._messages.push({category,severity,message,module:this._module}),this.emit("change"),this}get(filter2){let msgs=this._messages.slice();return this._module._badge.type==="dirty"&&msgs.push({category:"unsaved",severity:"error",message:imt.l("inspector","errors.unsaved"),module:this._module}),this._module._inputLink!=null&&this._module._inputLink._filter.badge.type==="dirty"&&msgs.push({category:"filterunsaved",severity:"error",message:imt.l("inspector","errors.filterunsaved"),module:this._module}),filter2&&(msgs=msgs.filter(function(item){for(const key in filter2){const value=filter2[key];if(item[key]!==value)return!1}return!0})),msgs}clear(category){for(let index2=this._messages.length-1;index2>=0;index2--)this._messages[index2].category===category&&this._messages.splice(index2,1);return this.emit("change"),this}load(messages){messages!=null&&Array.isArray(messages)&&(this._messages=messages.map(item=>({category:item.category,severity:item.severity,message:item.message,module:this._module})))}toJSON(){if(this._messages.length!==0)return this._messages.map(item=>({category:item.category,severity:item.severity,message:item.message}))}}class UpgradeModulePanel extends Panel$1{constructor(relative){super(relative),this.title=imt.l("inspector","panels.upgrade.title"),this.offsetX=relative.width*.6/window.devicePixelRatio,this.offsetY=relative.height*.37/window.devicePixelRatio;const self2=this;this.content=sim.p().text(`There is a new version of the ${relative.package.label} app available. Consider replacing this module with a newer version.`),sim.button(".btn.btn-primary",function(){this.attr("type","button"),this.text("Show me new modules"),this.appendTo(self2._footer),this.on("click",async function(){var _a2;self2.close();const latest=await Inspector.instance.repository.get(relative.package.name);latest&&((_a2=Inspector==null?void 0:Inspector.instance)==null||_a2.addFavorite(latest,!0,!0))})})}}class InspectPanel extends Panel$1{static initClass(){this.prototype.collapsibles={}}constructor(relative,snapto){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2;super(snapto??relative);const self2=this;this.help="kb://tools/flow-control",this.expandable=!0,this.offsetX=(snapto??relative).width*.6/window.devicePixelRatio,this.loading=!0,isFeatureOn("ai-module-button-enabled")&&(this._aiButton.hidden=!1,this._aiButton.module={id:relative==null?void 0:relative.id,name:(_a2=relative==null?void 0:relative.config)==null?void 0:_a2.name,appVersion:(_b2=relative==null?void 0:relative.package)==null?void 0:_b2.version},this._aiButton.runtime={roundtrips:(_d2=(_c2=Inspector.instance)==null?void 0:_c2.runtime)==null?void 0:_d2.roundtrip,roundtripId:(_e2=Inspector.instance)==null?void 0:_e2.roundtrip,inits:(_g2=(_f2=Inspector.instance)==null?void 0:_f2.runtime)==null?void 0:_g2.inits,finals:(_i2=(_h2=Inspector.instance)==null?void 0:_h2.runtime)==null?void 0:_i2.finals},this._aiButton.kind="moduleInspect");const exception=function(type,entry,canBeAutoHandled=!1){let exs=entry[type];return Array.isArray(exs)||(exs=[exs]),exs.map(ex=>this.div(".i-exception",function(){var _a3,_b3,_c3,_d3,_e3,_f3,_g3,_h3;if(this.h5().text(ex.name||(type==="error"?"Error":"Warning")),this.p(function(){var _a4;if(this.text(ex.detail||ex.message),(_a4=ex.suberrors)!=null&&_a4.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return ex.suberrors.map(serr=>this.li(function(){return this.text(`${serr.detail||serr.message}`),this.prepend(sim.i(".far.fa-fw.fa-angle-right"))}))})}),this.div(".i-exception-origin",function(){var _a4;return this.h6().text(imt.l("inspector","panels.inspect.origin")),this.p().text(ex.external===!0?self2.title:(_a4=imt.brand)==null?void 0:_a4.title)}),ex.bundle!=null&&this.div(".i-exception-bundle",function(){var _a4;return this.h6().text(imt.l("inspector","panels.inspect.output")),this.pre().visualizer({source:JSON.parse(ex.bundle),appName:relative.package.name,scenarioId:(_a4=relative==null?void 0:relative.parameters)==null?void 0:_a4.scenario}).on("resize",self2._resize)}),(_a3=entry.dlq)!=null&&_a3.id&&this.div(".i-exception-dlq",function(){return this.h6().text(imt.l("inspector","panels.inspect.indlq")),this.p(function(){return this.text(`${imt.l("inspector","panels.inspect.indlqdesc")}`)}),this.p(function(){return this.a(".btn.btn-primary.btn-sm",function(){return this.attr("href","#"),this.on("click",e2=>e2.preventDefault()),this.on("auxclick",e2=>e2.preventDefault()),this.on("mouseup",e2=>imtEvents.dispatch("inspector.inspect_panel.resolve_btn",{id:entry.dlq.id,event:e2})),this.text(imt.l("inspector","panels.inspect.resolvedlq"))})})}),entry.failer_id!=null){const operation=(_e3=(_d3=(_c3=Inspector==null?void 0:Inspector.instance)==null?void 0:_c3.runtime.roundtrip[(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.roundtrip])==null?void 0:_d3[entry.failer_id])==null?void 0:_e3.operations.last();operation&&this.div(".i-exception-ref",function(){return this.h6().text(imt.l("inspector","panels.dlq.reason")),this.p().text((operation.error??operation.warning).message),this.p(function(){return this.button(".btn.btn-primary.btn-xs",function(){return this.attr("type","button"),this.text(imt.l("base","common.details")),this.on("click",()=>{var _a4,_b4;return(_b4=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4._surface.find(Surface.Module).filter(module2=>module2.id===entry.failer_id)[0])==null?void 0:_b4._bubble.focus()})})})})}if(((_f3=Inspector==null?void 0:Inspector.instance)==null?void 0:_f3.mode)==="edit"&&!relative._errorHandler&&canBeAutoHandled&&this.div(".i-exception-handler",function(){return this.h6().text(imt.l("inspector","panels.inspect.autohandler.title")),this.p().text(imt.l("inspector","panels.inspect.autohandler.desc")),this.p(function(){var _a4;return this.button(".btn.btn-danger.btn-xs",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.inspect.autohandler.ignoreall")),this.on("click",function(){return relative.addErrorHandler("Ignore",{name:imt.l("inspector","panels.inspect.autohandler.catchall"),conditions:[]}),self2.close()})}),(_a4=entry.error)!=null&&_a4.name&&(this.br(),this.button(".btn.btn-danger.btn-xs",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.inspect.autohandler.ignore",{data:{type:entry.error.name}})),this.on("click",function(){return relative.addErrorHandler("Ignore",{name:imt.l("inspector","panels.inspect.autohandler.catch",{data:{type:entry.error.name}}),conditions:[[{a:`{{${relative.id}.error.type}}`,b:entry.error.name,o:"text:equal"}]]}),self2.close()})})),this.br(),this.button(".btn.btn-primary.btn-xs",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.inspect.autohandler.help")),this.on("click",()=>sim(window).openHelp("kb://errors/introduction-to-error-handling"))})})}),!((_g3=Inspector==null?void 0:Inspector.instance)!=null&&_g3.runtime.sanitized)&&(ex.stack&&(this.h6().text("Stack"),this.pre(".exception").html(FORMAT_STACK(ex.stack))),(_h3=ex.suberrors)!=null&&_h3.length))return this.h6().text("Sub Errors"),(()=>{const result=[];for(var serr of ex.suberrors)result.push(this.pre(".exception").html(FORMAT_STACK(serr.stack)));return result})()}))},transaction=()=>{const collapsible=function(title,content,id){return this.li(function(){return this._title=this.h4(".caret-up",function(){const toggleCollapsible=()=>(this.toggleClass("caret-up"),content.slideToggle({duration:"fast",progress:self2._resize,complete:self2._resize})),openCollapsible=function(){if(!this.hasClass("caret-up"))return toggleCollapsible()};if(this.html(`${title}&nbsp;`),this.span(".caret"),this.on("click",toggleCollapsible),id)return self2.collapsibles[id]={toggle:toggleCollapsible,open:openCollapsible.bind(this)}}),content||(content=sim.div()),this._content=content.appendTo(this)})};return this.content=sim.ul(".list-unstyled.i-inspector-operations",function(){var _a3,_b3,_c3,_d3,_e3,_f3,_g3,_h3,_i3,_j3,_k,_l,_m;let i2,index2,operation;if(!((_a3=Inspector==null?void 0:Inspector.instance)!=null&&_a3.runtime.inits[relative.id]))return this.li(function(){return this.h4().text(imt.l("inspector","panels.inspect.init"))});collapsible.call(this,imt.l("inspector","panels.inspect.init")).do(function(){var _a4;const init2=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.runtime.inits[relative.id];return this.addClass([null,"i-has-success","i-has-warning","i-has-error"][init2.status??0]),init2.status===1?this._title.off("click").find(".caret").remove():this._content.do(function(){if(init2.status===2&&init2.warning!=null)return exception.call(this,"warning",init2);if(init2.status===3&&init2.error!=null)return exception.call(this,"error",init2)})});const mainOperations=((_e3=(_d3=(_c3=Inspector==null?void 0:Inspector.instance)==null?void 0:_c3.runtime.roundtrip[(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.roundtrip])==null?void 0:_d3[relative.id])==null?void 0:_e3.operations)??[];for(i2=0,index2=i2;i2<mainOperations.length;i2++,index2=i2)operation=mainOperations[index2],((operation2,index3)=>collapsible.call(this,imt.l("inspector","common.operationn",{data:{n:index3+1}}),null,`operation${index3+1}`).do(function(){return this.addClass([null,"i-has-success","i-has-warning","i-has-error"][operation2.status??0]),this.prepend(sim.small(".float-right.text-muted",function(){return this.text(`${imt.l("base","common.datasize")}: ${format(operation2.size,"bytes")}`)})),this.prepend(sim.div(".dropdown.float-right",function(){return this.html("&nbsp"),this.button(".btn.btn-xs.btn-outline-secondary.dropdown-toggle.mb-1.ml-1",function(){return this.i(".far.fa-download"),this.data("toggle","dropdown")}),this.div(".dropdown-menu",function(){var _a4;for(var io of["input","output"])(io2=>this.a(".dropdown-item",function(){return this.attr("href","#"),this.text(`Download ${io2} bundles`),this.on("click",function(e2){e2.preventDefault();const m2=new Modal;return m2.title="Bundle content",m2.size="large",m2.content=sim.pre().attr("contenteditable",!0).text(JSON.stringify((operation2[io2]??[]).map(function(item){return typeof item=="string"?JSON.parse(item):null}),null,4)),m2.show()})}))(io);if(!((_a4=Inspector==null?void 0:Inspector.instance)!=null&&_a4.runtime.sanitized))return this.a(".dropdown-item",function(){return this.attr("href","#"),this.text("Download Mocha test"),this.on("click",function(e2){return e2.preventDefault(),SHOW_GENERATED_TEST(relative,operation2)})})})})),operation2.status===1&&(operation2.handled?this.addClass("i-has-warning"):mainOperations.length>1&&(this._content.hide(),this._title.removeClass("caret-up"))),this._content.do(function(){var _a4,_b4,_c4,_d4,_e4,_f4,_g4,_h4,_i4,_j4,_k2,_l2,_m2;if(operation2.status===2&&operation2.warning!=null?exception.call(this,"warning",operation2):operation2.status===3&&operation2.error!=null?exception.call(this,"error",operation2,!0):(_a4=operation2.dlq)!=null&&_a4.id&&this.div(".i-exception.pt-0",function(){return this.div(".i-exception-dlq",function(){return this.h6().text(imt.l("inspector","panels.inspect.indlq")),this.p(function(){return this.text(`${imt.l("inspector","panels.inspect.indlqdesc")}`)}),this.p(function(){return this.a(".btn.btn-primary.btn-sm",function(){return this.attr("href","#"),this.on("click",e2=>e2.preventDefault()),this.on("auxclick",e2=>e2.preventDefault()),this.on("mouseup",e2=>imtEvents.dispatch("inspector.inspect_panel.resolve_btn",{id:operation2.dlq.id,event:e2})),this.text(imt.l("inspector","panels.inspect.resolvedlq"))})})})}),!((_b4=operation2.input)!=null&&_b4.length)&&!((_c4=operation2.output)!=null&&_c4.length)&&!(relative instanceof Surface.Directive))return(_e4=(_d4=Inspector==null?void 0:Inspector.instance)==null?void 0:_d4.scenario)!=null&&_e4.confidential||(_g4=(_f4=Inspector==null?void 0:Inspector.instance)==null?void 0:_f4.scenario)!=null&&_g4.consumedHookIsConfidential?this.p().text(imt.l("inspector","panels.inspect.nobundles2")):(_h4=Inspector==null?void 0:Inspector.instance)!=null&&_h4.runtime.verifier&&((_j4=(_i4=Inspector==null?void 0:Inspector.instance)==null?void 0:_i4._start.next)!=null&&_j4.hasEpoch)&&operation2.status===1?(this.p().html(imt.l("inspector","panels.inspect.nobundles3")),this.button(".btn.btn-primary.btn-xs",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.epoch.title")),this.on("click",()=>{var _a5;return(_a5=Inspector==null?void 0:Inspector.instance)==null?void 0:_a5._start.next.createEpochPanel()})})):this.p().text(imt.l("inspector","panels.inspect.nobundles"));{let item;if((_k2=operation2.input)!=null&&_k2.length){this.div(".small.text-uppercase.mt-2.mb-1").text(imt.l("inspector","panels.inspect.input"));const input={};for(index3=0;index3<operation2.input.length;index3++)item=operation2.input[index3],input[`Bundle ${index3+1}`]=JSON.parse(item);this.pre(".mb-0",function(){var _a5;return this.text(JSON.stringify(input,void 0,4)),this.visualizer({expand:1,limit:1,labels:relative.labels("expect",!1,!1,!1),ignoreRootLabel:!0,appName:relative.package.name,scenarioId:(_a5=relative==null?void 0:relative.parameters)==null?void 0:_a5.scenario}).on("resize",self2._resize)}),operation2.input.total&&operation2.input.total>operation2.input.length&&this.div(".i-cropped").text(`Showing first 100 bundles, module originally processed ${operation2.input.total} bundles.`)}if((_l2=operation2.handled)!=null&&_l2.length)return this.div(".small.text-uppercase.mt-2.mb-1").text(imt.l("inspector","panels.inspect.handled")),this.pre(".mb-0",function(){var _a5;return this.text(JSON.stringify(JSON.parse(operation2.handled[0]),void 0,4)),this.visualizer({expand:1,limit:1,labels:relative.labels("interface",!1,!1,!1),ignoreRootLabel:!0,appName:relative.package.name,scenarioId:(_a5=relative==null?void 0:relative.parameters)==null?void 0:_a5.scenario}).on("resize",self2._resize)});if((_m2=operation2.output)!=null&&_m2.filter(o2=>o2!=null).length){this.div(".small.text-uppercase.mt-2.mb-1").text(imt.l("inspector","panels.inspect.output"));const output={};for(index3=0;index3<operation2.output.length;index3++)item=operation2.output[index3],output[imt.l("inspector","common.bundlen",{data:{n:index3+1}})]=JSON.parse(item);if(this.pre(".mb-0",function(){var _a5;return this.text(JSON.stringify(output,void 0,4)),this.visualizer({expand:5,limit:5,labels:relative.labels("interface",!1,!1,!1),ignoreRootLabel:!0,appName:relative.package.name,scenarioId:(_a5=relative==null?void 0:relative.parameters)==null?void 0:_a5.scenario}).on("resize",self2._resize)}),operation2.output.total&&operation2.output.total>operation2.output.length)return this.div(".i-cropped").text(`Showing first 100 bundles, module originally returned ${operation2.output.total} bundles.`)}}})}))(operation,index2);return((_i3=(_h3=(_g3=Inspector==null?void 0:Inspector.instance)==null?void 0:_g3.runtime.roundtrip[(_f3=Inspector==null?void 0:Inspector.instance)==null?void 0:_f3.roundtrip])==null?void 0:_h3[relative.id])==null?void 0:_i3.commit)!=null&&collapsible.call(this,imt.l("inspector","panels.inspect.commit")).do(function(){var _a4,_b4,_c4,_d4;const commit=(_b4=Inspector==null?void 0:Inspector.instance)==null?void 0:_b4.runtime.roundtrip[(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.roundtrip][relative.id].commit,operations=((_d4=Inspector==null?void 0:Inspector.instance)==null?void 0:_d4.runtime.roundtrip[(_c4=Inspector==null?void 0:Inspector.instance)==null?void 0:_c4.roundtrip][relative.id].operations)??[];return this.addClass([null,"i-has-success","i-has-warning","i-has-error"][commit.status??0]),commit.status===1&&(this._content.hide(),this._title.removeClass("caret-up")),commit.status===1&&(commit.report==null||commit.report.length===0)?this._title.off("click").find(".caret").remove():this._content.do(function(){if(commit.status===2&&commit.warning!=null?exception.call(this,"warning",commit):commit.status===3&&commit.error!=null&&exception.call(this,"error",commit),commit.report!=null)return this.ul(".list-unstyled.i-exception-report",function(){return(()=>{const result=[];for(index2=0;index2<operations.length;index2++)operation=operations[index2],result.push(this.li(function(){if(this.h5().text(imt.l("inspector","common.operationn",{data:{n:index2+1}})),commit.report[index2]===null)return this.addClass("i-has-success");if(commit.report[index2]!=null)return commit.report[index2].name==="Warning"?(this.addClass("i-has-warning"),exception.call(this,"warning",{warning:commit.report[index2]})):(this.addClass("i-has-error"),exception.call(this,"error",{error:commit.report[index2]}))}));return result})()})})}),((_m=(_l=(_k=Inspector==null?void 0:Inspector.instance)==null?void 0:_k.runtime.roundtrip[(_j3=Inspector==null?void 0:Inspector.instance)==null?void 0:_j3.roundtrip])==null?void 0:_l[relative.id])==null?void 0:_m.rollback)!=null&&collapsible.call(this,imt.l("inspector","panels.inspect.rollback")).do(function(){var _a4,_b4,_c4,_d4;const rollback=(_b4=Inspector==null?void 0:Inspector.instance)==null?void 0:_b4.runtime.roundtrip[(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.roundtrip][relative.id].rollback,operations=((_d4=Inspector==null?void 0:Inspector.instance)==null?void 0:_d4.runtime.roundtrip[(_c4=Inspector==null?void 0:Inspector.instance)==null?void 0:_c4.roundtrip][relative.id].operations)??[];return this.addClass([null,"i-has-success","i-has-warning","i-has-error"][rollback.status??0]),rollback.status===1&&(this._content.hide(),this._title.removeClass("caret-up")),rollback.status===1&&(rollback.report==null||rollback.report.length===0)?this._title.off("click").find(".caret").remove():this._content.do(function(){if(rollback.status===2&&rollback.warning!=null?exception.call(this,"warning",rollback):rollback.status===3&&rollback.error!=null&&exception.call(this,"error",rollback),rollback.report!=null)return this.ul(".list-unstyled.i-exception-report",function(){return(()=>{const result=[];for(index2=0;index2<operations.length;index2++)operation=operations[index2],result.push(this.li(function(){if(this.h5().text(imt.l("inspector","common.operationn",{data:{n:index2+1}})),rollback.report[index2]===null)return this.addClass("i-has-success");if(rollback.report[index2]!=null)return rollback.report[index2].name==="Warning"?(this.addClass("i-has-warning"),exception.call(this,"warning",{warning:rollback.report[index2]})):(this.addClass("i-has-error"),exception.call(this,"error",{error:rollback.report[index2]}))}));return result})()})})}),collapsible.call(this,imt.l("inspector","panels.inspect.fin")).do(function(){var _a4,_b4;const final=((_b4=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.runtime.finals)==null?void 0:_b4[relative.id])??{};return this.addClass([null,"i-has-success","i-has-warning","i-has-error"][final.status??0]),final.status===1?this._title.off("click").find(".caret").remove():this._content.do(function(){if(final.status===2&&final.warning!=null)return exception.call(this,"warning",final);if(final.status===3&&final.error!=null)return exception.call(this,"error",final)})})})};(_j2=Inspector==null?void 0:Inspector.instance)==null||_j2.loadUserDataForModule(relative,()=>{var _a3,_b3;return this.title=((_a3=relative.package)==null?void 0:_a3.name)==="builtin"?relative.config.label:(_b3=relative.package)==null?void 0:_b3.label,this.width(450),this.once("close",()=>relative.emit("inspect_close")),this.loading=!1,transaction(),this.emit("built")})}}InspectPanel.initClass();var FORMAT_STACK=stack=>stack.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^(.*)\n/,`<strong>$1</strong>
`).replace(/\n/g,"<br />"),FIND_KNOWN_PARAMETERS=function(parameters){if(parameters==null)return[];if(!Array.isArray(parameters))return[];let out=[];for(var item of parameters){var option;if(out.push(item),Array.isArray(item.options))for(option of item.options)Array.isArray(option.nested)&&(out=out.concat(FIND_KNOWN_PARAMETERS(option.nested)));else if(typeof item.options=="object")if(Array.isArray(item.options.store))for(option of item.options.store)Array.isArray(option.nested)&&(out=out.concat(FIND_KNOWN_PARAMETERS(option.nested)));else Array.isArray(item.options.nested)&&(out=out.concat(FIND_KNOWN_PARAMETERS(item.options.nested)))}return out};const NORMALIZE_PARAMETERS=function(relative,parameters,hideInternal=!1){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2;const out={},known={};for(var param of FIND_KNOWN_PARAMETERS(relative.config.parameters))known[param.name]=param;const object2=parameters??{};for(var key in object2){var value=object2[key];if(known[key])if(/^(account|keychain|device|hook|udt)(:.*)?$/.exec(known[key].type)){if(hideInternal)continue;if(RegExp.$1==="account"){for(var acc of((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.runtime)==null?void 0:_b2.accounts)??[])if(acc.id===value){(typeof acc.data=="string"||acc.data===null)&&(acc.data=new EncryptedObject(acc.data)),out[key]=acc.data;break}}else if(RegExp.$1==="keychain"){for(var kch of((_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.runtime)==null?void 0:_d2.keychain)??[])if(kch.id===value){(typeof kch.data=="string"||kch.data===null)&&(kch.data=new EncryptedObject(kch.data)),out[key]=kch.data;break}}else if(RegExp.$1==="device"){for(var dev of((_f2=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.runtime)==null?void 0:_f2.devices)??[])if(dev.id===value){(typeof dev.data=="string"||dev.data===null)&&(dev.data=new EncryptedObject(dev.data)),out[key]=dev.data;break}}else if(RegExp.$1==="hook"){for(var hook of((_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.runtime)==null?void 0:_h2.hooks)??[])if(hook.id===value){(typeof hook.data=="string"||hook.data===null)&&(hook.data=new EncryptedObject(hook.data)),out[key]=hook.data;break}}else if(RegExp.$1==="udt"){for(var udt of((_j2=(_i2=Inspector==null?void 0:Inspector.instance)==null?void 0:_i2.runtime)==null?void 0:_j2.udts)??[])if(udt.id===value){out[key]=udt.data;break}}}else out[key]=value;else out[key]=value}return out};var SHOW_GENERATED_TEST=function(relative,bundle){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2;let type;if(relative.TYPE==="trigger")type="trigger";else if(relative.TYPE==="action")type="action";else if(relative.TYPE==="transformer")type="transformer";else return;const json=GENERATE_TEST(type,relative.config.name,{parameters:NORMALIZE_PARAMETERS(relative,((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.runtime.instanceParameters[relative.id])??{}),data:((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.runtime.instanceData[relative.id])??{},common:((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.runtime.commonData[relative.package.name])??{},scenario:((_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.runtime.scenarioData)??{},environment:((_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.runtime.environmentData)??{},bundle:JSON.parse(((_f2=bundle.input)==null?void 0:_f2[0])??"null"),variables:(_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.runtime.modules[relative.id])==null?void 0:_h2.variables}),m2=new Modal;return m2.title="Mocha Test",m2.size="large",m2.content=sim.pre().attr("contenteditable",!0).text(json),m2.show()},GENERATE_TEST=function(type,name,config2){const generateTrigger=(name2,config3)=>`trigger = createInstance '${name2}'
trigger.parameters = ${JSON.stringify(config3.parameters,null,4)}
trigger.data = ${JSON.stringify(config3.data,null,4)}
trigger.common = ${JSON.stringify(config3.common,null,4)}
trigger.scenario = ${JSON.stringify(extend(config3.scenario,{dataSizeLeft:10485760}),null,4)}
trigger.environment = ${JSON.stringify(config3.environment,null,4)}
trigger.variables = ${JSON.stringify(config3.variables,null,4)}
trigger.initialize (err)->
if err then return done err
trigger.read (err, res) ->
    if err then return done err
    trigger.commit (err)->
        if err then return done err
        trigger.finalize done`,generateAction=(name2,config3)=>`action = createInstance '${name2}'
action.parameters = ${JSON.stringify(config3.parameters,null,4)}
action.data = ${JSON.stringify(config3.data,null,4)}
action.common = ${JSON.stringify(config3.common,null,4)}
action.scenario = ${JSON.stringify(extend(config3.scenario,{dataSizeLeft:10485760}),null,4)}
action.environment = ${JSON.stringify(config3.environment,null,4)}
action.variables = ${JSON.stringify(config3.variables,null,4)}

bundle = ${JSON.stringify(config3.bundle,null,4)}

action.initialize (err) ->
if err then return done err
action.write bundle, (err, res) ->
    if err then return done err
    action.commit (err) ->
        if err then return done err
        action.finalize done`,generateTransformer=(name2,config3)=>`transfr = createInstance '${name2}'
transfr.parameters = ${JSON.stringify(config3.parameters,null,4)}
transfr.data = ${JSON.stringify(config3.data,null,4)}
transfr.common = ${JSON.stringify(config3.common,null,4)}
transfr.scenario = ${JSON.stringify(extend(config3.scenario,{dataSizeLeft:10485760}),null,4)}
transfr.environment = ${JSON.stringify(config3.environment,null,4)}
transfr.variables = ${JSON.stringify(config3.variables,null,4)}

bundle = ${JSON.stringify(config3.bundle,null,4)}

transfr.initialize (err) ->
if err then return done err
transfr.transform bundle, (err, res) ->
    if err then return done err
    transfr.commit (err) ->
        if err then return done err
        transfr.finalize done`,textToDate=text=>text.replace(/"(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z)"/g,"new Date('$1')");switch(type){case"trigger":return textToDate(generateTrigger(name,config2));case"action":return textToDate(generateAction(name,config2));case"transformer":return textToDate(generateTransformer(name,config2))}};class ModuleSetupPanel extends Panel$1{constructor(relative){var _a2,_b2;super(relative),relative.TYPE==="directive"?this.help="kb://errors/introduction-to-error-handling":relative.TYPE==="feeder"?this.help="kb://modules/iterator":this.help=`kb://app/${relative.package.name.replace(/^app#/,"")}`,notes.collapseAll(),this.expandable=!0,this.offsetX=relative.width*.6/window.devicePixelRatio,this.title=relative.package!=null?relative.package.label:void 0,isFeatureOn("ai-module-button-enabled")&&(this._aiButton.hidden=!1,this._aiButton.module={id:relative==null?void 0:relative.id,name:(_a2=relative==null?void 0:relative.config)==null?void 0:_a2.name,appVersion:(_b2=relative==null?void 0:relative.package)==null?void 0:_b2.version},this._aiButton.kind="moduleConfig"),!relative.isLinked&&relative.TYPE!=="trigger"?this.autoConnectMode(relative):relative.hasParameters?!Inspector.instance.scenario.isLive()&&(!imt.admin||relative.setupRequired||relative.messages.get({severity:"error"}).length)?this.editMode(relative):this.visualizerMode(relative):this.noOptionsMode()}autoConnectMode(relative){const self2=this,readonly=__guard__$9(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.mode)==="live";return sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",()=>self2._close())}),readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.module.autolink")),this.appendTo(self2._footer),this.on("click",()=>relative.tryAutoConnect(relative.closestLinkableNode()))}),this.warn(imt.l("inspector","panels.module.notconnected")),this.width(350),relative.once("link_confirm",function(link,type){if(!self2._destroyed&&type==="input")return self2.close(),setImmediate(()=>__guard__$9(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1._surface.input.focus=relative))})}noOptionsMode(){return this.content=sim.p().text("There are no configurable options for this module.")}editMode(relative){const self2=this,readonly=__guard__$9(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.mode)==="live";this.loading=!0;var form=relative.createSetupForm(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return form.readonly=readonly,sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(event){return form.isValid()&&(relative.saveSetupForm(form),imtEvents.dispatch("scenario.module_saved",{appName:__guard__$9(relative!=null?relative.package:void 0,x1=>x1.label),moduleName:__guard__$9(relative!=null?relative.config:void 0,x2=>x2.label),moduleType:__guard__$9(relative!=null?relative.config:void 0,x3=>x3.name),moduleDescription:__guard__$9(relative!=null?relative.config:void 0,x4=>x4.description)}),self2.emit("save"),self2.close()),event.preventDefault(),!1}),form.on("loading-start",()=>this.prop("disabled",!0)),form.on("loading-stop",()=>this.prop("disabled",!1))}),this.content=form,this.loading=!1,this.emit("load")});return this._aiButton.forman=form.form,form.on("resize",this._resize),form.on("loading-status",event=>{if(event.detail!=null&&event.detail.status)return this.status=event.detail.status}),form.once("has_advanced_parameters",()=>sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(!(self2._footer.find(".i-advanced-parameters").length>0)&&(this.prependTo(self2._footer),this.div(".switch.switch-xs.mr-2",function(){if(this.switch(),this.on("change",()=>form.advancedParametersVisible=this.data("status")==="on"),(relative.metadata!=null?relative.metadata.advanced:void 0)===!0)return form.advancedParametersVisible=!0,this.data("status","on").addClass("active")}),this.write(imt.l("inspector","common.showadvanced")),form!=null&&form.built))return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))})),this.on("destroy",function(){form.rollback(),form.validate(),relative.emit("setup_close"),relative.setupRequired&&(relative.setupRequired=!1,relative.messages!=null&&relative.messages.clear("setupreq")),relative.offerMore&&(relative.offerMore=!1,!relative.next&&relative.stage&&relative.TYPE!=="directive"&&!__guard__$9(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.tutorial)&&(relative._outputAnchorDragger.peeking=!0)),relative.messages!=null&&relative.messages.clear("setup");for(var invalid of form.invalids)for(var error of invalid.errors)relative.messages.add("setup","error",error);return form.destroy(),form=null})}visualizerMode(relative){const self2=this;if(this._body.empty().do(function(){return __guard__$9(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.runtime)&&this.div(".alert.alert-info").text("Displaying values of the first operation. For more operations see complete execution log."),this.div(".mb-2").text(imt.l("base","common.parameters")),this.div().visualizer({source:NORMALIZE_PARAMETERS(relative,relative.parameters,!0),labels:relative.labels("parameters",!1,!1,!1)}).on("resize",self2._resize),this.div(".mb-2").text(imt.l("base","common.mapper")),this.div().visualizer({source:relative.mapper,type:"mixed",expand:1,labels:relative.labels("expect",!1,!1,!1),ignoreRootLabel:!1,surface:relative.stage!=null?relative.stage.surface:void 0,relative,nth:0}).on("resize",self2._resize)}),!Inspector.instance.scenario.isLive())return this._footer.do(function(){return this.div(".input-group",function(){return this.span(".input-group-btn",function(){return this.button(".btn.btn-primary.btn-sm.btn-block",function(){return this.text(imt.l("base","common.edit")),this.on("click",function(){return this.remove(),self2.editMode()})})})})})}}function __guard__$9(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class DLQBundlePanel extends Panel$1{constructor(relative){var _a2;super(relative),this.offsetX=50/window.devicePixelRatio,this.loading=!0,(_a2=DLQInspector==null?void 0:DLQInspector.instance)==null||_a2.bundle.loadBundle(err=>{var _a3,_b2;if(err)return this.warn(err);if(this._destroyed)return;this.title=(_a3=relative.package)==null?void 0:_a3.label;const self2=this,source=((_b2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_b2.bundle.data[relative.id])??{};return sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",()=>self2._close())}),this.content=sim.div(".i-inspector-operations",function(){return this.div(".small.text-uppercase.mt-2.mb-1").text(imt.l("inspector","panels.dlqbundle.output")),this.pre(".mb-0",function(){return this.text(JSON.stringify(source,void 0,4)),this.visualizer({expand:1,labels:relative.labels("interface",!1,!1,!1)}).on("resize",self2._resize)})}),this.loading=!1,this.emit("load")})}}class InspectModulePanel extends Panel$1{constructor(relative){var _a2,_b2;super(relative);const self2=this,runtime=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.runtime;this.expandable=!0,this.offsetX=relative.width*.6/window.devicePixelRatio,this.loading=!0;const refresh=operation=>this._body.empty().do(function(){var _a3,_b3;if(this.div(".mb-2").text(imt.l("base","common.parameters")),this.div().visualizer({source:NORMALIZE_PARAMETERS(relative,(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.runtime.instanceParameters[relative.id],runtime.sanitized),labels:relative.labels("parameters",!1,!1,!1)}).on("resize",self2._resize),this.div(".mb-2").text(imt.l("base","common.mapper")),this.div().visualizer({source:relative.mapper,type:"mixed",expand:1,labels:relative.labels("expect",!1,!1,!1),ignoreRootLabel:!1,surface:(_b3=relative.stage)==null?void 0:_b3.surface,relative,nth:operation}).on("resize",self2._resize),!runtime.sanitized)return this.div(".mb-2").text("Instance Data"),this.div().visualizer({source:runtime.instanceData[relative.id]}).on("resize",self2._resize),this.div(".mb-2").text("Common Data"),this.div(function(){return(typeof runtime.commonData[relative.package.name]=="string"||runtime.commonData[relative.package.name]===null)&&(runtime.commonData[relative.package.name]=new EncryptedObject(runtime.commonData[relative.package.name])),this.visualizer({source:runtime.commonData[relative.package.name]}).on("resize",self2._resize)}),this.div(".mb-2").text("Scenario Data"),this.div().visualizer({source:runtime.scenarioData}).on("resize",self2._resize),this.div(".mb-2").text("Environment Data"),this.div().visualizer({source:runtime.environmentData}).on("resize",self2._resize),this.div(".mb-2").text("Module"),this.div().visualizer({source:runtime.modules[relative.id]}).on("resize",self2._resize)});(_b2=Inspector==null?void 0:Inspector.instance)==null||_b2.loadUserDataForModule(relative,()=>(refresh(0),this._footer.do(function(){return this.div(".input-group",function(){return this.select(".custom-select.form-control.form-control-sm",function(){var _a3,_b3,_c2,_d2;const iterable=((_d2=(_c2=(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.runtime.roundtrip[(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.roundtrip])==null?void 0:_c2[relative.id])==null?void 0:_d2.operations)??[];for(var index2=0;index2<iterable.length;index2++)iterable[index2],this.option(function(){return this.attr("value",index2),this.text(imt.l("inspector","common.valuesofn",{data:{n:index2+1}}))});return this.on("change",function(){return refresh(parseInt(this.val()))})}),this.span(".input-group-btn",function(){return this.button(".btn.btn-primary.btn-sm",function(){return this.text(imt.l("base","common.details")),this.on("click",function(){return relative._bubble.focus()})})})})}),this.width(400),this.title=imt.l("inspector","panels.inspectmodule.title"),this.loading=!1))}}var FORMAT_EPOCH_DATA=function(data2,values){for(var key in data2){var value=data2[key];if(typeof value=="object"){FORMAT_EPOCH_DATA(value,values);continue}for(var name in values??{})if(value===`{{${name}}}`){data2[key]=values[name];break}}return data2};class EpochPanel extends Panel$1{static initClass(){this.prototype._dateForm=null,this.prototype._idForm=null,this.prototype._selected=null}constructor(relative,userMustSelect=!1,tutorial=!1,callback){var _a2;super(relative),tutorial&&(this.modal=!0,this.closeable=!1),this.help="kb://modules/selecting-the-first-bundle",this.offsetX=relative.width*.6/window.devicePixelRatio,this.loading=!0;const self2=this,options=[];if(relative.config.epoch.now!=null&&!tutorial&&options.push({label:relative.config.epoch.now.label??imt.l("inspector","panels.epoch.fromnow"),value:"now",help:relative.config.epoch.now.help}),relative.config.epoch.date!=null&&!tutorial&&options.push({label:relative.config.epoch.date.label??imt.l("inspector","panels.epoch.fromdate"),value:"date",help:relative.config.epoch.date.help,nested:[{name:"date",type:relative.config.epoch.date.type??"date",time:relative.config.epoch.date.time??!0,label:"",required:!0}]}),relative.config.epoch.id!=null&&!tutorial&&options.push({label:relative.config.epoch.id.label??imt.l("inspector","panels.epoch.fromid"),value:"id",help:relative.config.epoch.id.help,nested:[{name:"id",type:relative.config.epoch.id.type??"uinteger",label:"",required:!0}]}),relative.config.epoch.all!=null&&!tutorial&&options.push({label:relative.config.epoch.all.label??imt.l("inspector","panels.epoch.all"),value:"all",help:relative.config.epoch.all.help}),relative.config.epoch.select!=null&&options.push({label:relative.config.epoch.select.label??imt.l("inspector","panels.epoch.choose"),value:"select",help:relative.config.epoch.select.help,nested:[{name:"select",label:"",type:"list",required:!0,options:{store:relative.config.epoch.select.options,value:"data"}}]}),!options.length)return this.warn(imt.l("inspector","panels.epoch.nodata"));options[0].default=!0,this._form=new Formula("Epoch"),this._form.on("resize",this._resize),this._form.config=[{name:"__type",type:"radio",options}],this._form.options={commonRpcParameters:relative.parameters,moduleParameters:(_a2=relative.config)==null?void 0:_a2.parameters},tutorial&&(this._form.options.template={select:{},__type:{help:imt.l("inspector","tutorial.epoch")}}),this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return this.title=imt.l("inspector","panels.epoch.title"),userMustSelect?this._header.find(".close").remove():sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(event){var _a3,_b2,_c2;if(self2._form.isValid()){relative.data??(relative.data={});const data2=self2._form.toJSON();switch(data2.__type){case"date":relative.data=Object.assign(relative.data,FORMAT_EPOCH_DATA(Object.cloneDeep(relative.config.epoch.date.data),{date:data2.date}));break;case"id":relative.data=Object.assign(relative.data,FORMAT_EPOCH_DATA(Object.cloneDeep(relative.config.epoch.id.data),{id:data2.id}));break;case"all":relative.data=Object.assign(relative.data,FORMAT_EPOCH_DATA(Object.cloneDeep(relative.config.epoch.all.data)));break;case"now":relative.data=Object.assign(relative.data,FORMAT_EPOCH_DATA(Object.cloneDeep(relative.config.epoch.now.data),{date:new Date}));break;case"select":for(var key in data2.select){var value=data2.select[key];relative.data[key]=value}break}return((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.mode)==="live"?Loader.api(`/scenarios/${(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.scenario.id}/data`,{method:"PUT",data:{[relative.id]:relative.data}},(err2,response)=>{if(err2)return new Alert(Alert.parseError(err2)).show();toaster.show(imt.l("inspector","flashes.moduledatachanged"))}):(_c2=Inspector==null?void 0:Inspector.instance)==null||delete _c2._localTriggerState[relative.id],self2.emit("save"),self2.close(),event.preventDefault(),callback!=null&&callback(),!1}})}),this.loading=!1,this.content=this._form,this.emit("load")}),setImmediate(()=>this._resize())}}EpochPanel.initClass();class Bubble extends Bubble$1{constructor(module2){super(module2);__publicField(this,"panel",null);const self2=this;this.on("focus",()=>{if(!self2.panel)return self2.panel=new InspectPanel(module2,this),self2.panel.once("close",()=>{var _a2,_b2,_c2;((_c2=(_b2=(_a2=Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.input)==null?void 0:_c2.focus)===this&&(Inspector.instance._surface.input.focus=null)})}),this.on("blur",function(){if(self2.panel)return self2.panel._close(),self2.panel=null}),this.style.cursor="pointer"}}Surface.Bubble=Bubble;const createForceReloadInstructions=instructions=>{const handleNested=nested2=>{if(nested2){if(Array.isArray(nested2))return nested2.map(createForceReloadInstructions);if(nested2 instanceof Object&&"store"in nested2)return{...nested2,store:handleStore(nested2.store)}}return nested2},handleStore=store=>{if(store){if(Array.isArray(store))return store.map(createForceReloadInstructions);if(store instanceof Object&&"nested"in store)return{...store,nested:handleNested(store.nested)}}return store};let options=typeof instructions=="object"&&"options"in instructions&&instructions.options;Array.isArray(options)?options=options.map(createForceReloadInstructions):(options&&options.store&&(options={...options,store:handleStore(options==null?void 0:options.store)}),options&&options.nested&&(options={...options,nested:handleNested(options.nested)}));const nested=typeof instructions=="object"&&"nested"in instructions&&handleNested(instructions==null?void 0:instructions.nested);return typeof instructions=="object"?{...instructions,forceReload:!0,...options?{options}:{},...nested?{nested}:{}}:instructions},treeFieldToUseInWizardFields=treeField=>{var _a2;const useInWizardFields=[];return(_a2=treeField.annotator)!=null&&_a2.useInWizard&&(useInWizardFields.push(treeField),useInWizardFields.push(...treeField.fields.map(treeFieldToUseInWizardFields).flat())),useInWizardFields},treeFieldToFragmentFieldsAndPick=(acc,field)=>{var _a2,_b2;if((_a2=field.annotator)!=null&&_a2.useInWizard&&field.fragment&&!acc.pick.includes((_b2=field.elem)==null?void 0:_b2.path)){const useInWizardFields=treeFieldToUseInWizardFields(field),pick=useInWizardFields.map(fragmentField=>fragmentField.elem.path);acc.fragmentFields.push({...field,pick,useInWizardFields}),acc.pick.push(...pick)}const childAcc=field.fields.reduce(treeFieldToFragmentFieldsAndPick,{fragmentFields:[],pick:[...acc.pick]});return acc.fragmentFields.push(...childAcc.fragmentFields),acc.pick=[...acc.pick,...childAcc.pick].filter((value,index2,array2)=>array2.indexOf(value)===index2),acc},annotatorToField=(annotator,module2,parentExcludePaths=[])=>{var _a2,_b2,_c2,_d2,_e2;let target=annotator.target;const parentField=annotator.parentElement,{help,required,label,name,type,rpc,spec,time}=parentField._instructions;let grandParentField=(_a2=parentField.parentElement)==null?void 0:_a2.closest("[field]:not(imt-input-collection,imt-input-array)"),parent2=null;for(;parent2===null&&grandParentField;){const possibleParentAnnotator=grandParentField.querySelector("imt-annotator");possibleParentAnnotator!=null&&possibleParentAnnotator.useInWizard&&!parentExcludePaths.includes(grandParentField.path)&&(parent2=`${possibleParentAnnotator.type}.${possibleParentAnnotator.uuid}`),grandParentField=(_b2=grandParentField.parentElement)==null?void 0:_b2.closest("[field]:not(imt-input-collection,imt-input-array)")}const grandParentIncludingArray=(_c2=parentField.parentElement)==null?void 0:_c2.closest("[field]:not(imt-input-collection)");grandParentIncludingArray&&((_d2=grandParentIncludingArray._instructions)==null?void 0:_d2.type)==="array"&&!Array.isArray(grandParentIncludingArray._instructions.spec)&&(target=target==null?void 0:target.replace(/\.value$/,""));const{options}=parentField._instructions;if(typeof options=="object"&&"nested"in options&&(options==null||delete options.nested),typeof options=="object"&&"team"in options&&(options==null||delete options.team),typeof options=="object"&&"store"in options&&typeof options.store=="string"){const storeUrl=new URL(options.store);storeUrl.searchParams.delete("teamId"),options.store=storeUrl.href}const autoSpec=(type==null?void 0:type.includes)&&type.includes(","),scopes=annotator.type==="account"&&((_e2=module2==null?void 0:module2.config)==null?void 0:_e2.scope);return{spec:{help,required,label,name,type,options,rpc,spec,time},targets:[target],help:annotator.help,...parent2?{parent:parent2}:{},...autoSpec?{autoSpec:!0}:{},...scopes?{scopes}:{}}},controllerCleanUp=(blueprint,controller)=>{const{fields={},keys:keys2={},accounts={},hooks={},fragments={}}=controller,updateController=controllerFieldSubset=>Object.entries(controllerFieldSubset).reduce((fieldsAcc,fieldsCurr)=>(fieldsAcc[fieldsCurr[0]]=Object.entries(fieldsCurr[1]).reduce((acc,curr)=>{const handleModules=(acc2,module2)=>{var _a2,_b2;return[...acc2,...((_a2=module2.routes)==null?void 0:_a2.map(route=>{var _a3;return((_a3=route.flow)==null?void 0:_a3.reduce(handleModules,[]))||[]}).flat())||[],...((_b2=module2.onerror)==null?void 0:_b2.reduce(handleModules,[]))||[],module2]},bpModules=blueprint.flow.reduce(handleModules,[]),targets=curr[1].targets.filter(target=>{if(target.startsWith("module"))return bpModules.reduce((bpAcc,bpCurr)=>bpAcc||target===`module.${bpCurr.id}`||target.startsWith(`module.${bpCurr.id}.`),!1);if(target.startsWith("filter"))return bpModules.reduce((bpAcc,bpCurr)=>bpAcc||target===`filter.${bpCurr.id}`||target.startsWith(`filter.${bpCurr.id}.`),!1);const fieldStart=["account","field","key","hook"].find(el=>target.startsWith(el));if(!fieldStart)return!1;const regex=new RegExp(String.raw`${fieldStart}\.(.*?)(\.|$)`),regexMatch=target.match(regex);return regexMatch?Object.hasOwnProperty.call(controllerFieldSubset[`${fieldStart}s`],regexMatch[1]):!1});return targets.length&&(acc[curr[0]]={...curr[1],targets}),acc},{}),fieldsAcc),{});let oldControllerFieldSubset={fields,keys:keys2,accounts,hooks,fragments};const getFieldSubsetLength=fieldSubset=>Object.entries(fieldSubset).reduce((acc,curr)=>acc+Object.keys(curr[1]||{}).length,0);let newControllerFieldSubset=updateController(oldControllerFieldSubset);for(;getFieldSubsetLength(oldControllerFieldSubset)>getFieldSubsetLength(newControllerFieldSubset);)oldControllerFieldSubset=newControllerFieldSubset,newControllerFieldSubset=updateController(oldControllerFieldSubset);return{metadata:controller.metadata,version:controller.version,...Object.entries(newControllerFieldSubset).reduce((acc,entry)=>Object.keys(entry[1]||{}).length?{...acc,[entry[0]]:entry[1]}:acc,{})}},APP_ICON_OVERRIDE=[],BUILTIN_THEMES={BasicFeeder:null,DoUntilFeeder:null,BasicAggregator:null,Rollback:new ImtColor$1(235,87,104,0),Break:new ImtColor$1(246,140,6,0),Resume:new ImtColor$1(0,0,0,0),Commit:new ImtColor$1(161,211,110,0),Ignore:new ImtColor$1(161,211,110,0)};class Module extends Module$1{constructor(pkg,config2,PanelClass=ModuleSetupPanel){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2;if(super(0,0),this.config=config2,this.TYPE="module",this.setupRequired=!1,this._locked=!1,this.package=pkg,this.__messages=new Messages(this),this._bubble=new Bubble(this),this.draggable=["edit","view"].includes((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode),this.removable=["edit","view"].includes((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.mode),this.grayed=!["edit","view"].includes((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.mode),this.interactive=!0,PanelClass){let panel=null;this.on("focus",()=>{var _a3,_b3;return panel?(this.updateSetupForm(panel.find(".i-formula").first()),this._badge.asDirty(!1),panel.show()):(Inspector.instance instanceof Debugger?panel=new InspectModulePanel(this):(_a3=Inspector==null?void 0:Inspector.instance)!=null&&_a3.isTemplate?panel=(_b3=TemplateWizard.instance)==null?void 0:_b3.buildPanel(this):this.locked?panel=new DLQBundlePanel(this):panel=new PanelClass(this),panel.once("close",()=>{var _a4,_b4,_c3;((_c3=(_b4=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4._surface)==null?void 0:_b4.input)==null?void 0:_c3.focus)===this&&(Inspector.instance._surface.input.focus=null)}))}),this.on("blur",()=>{if(panel){if(panel.hasUnsavedChanges){panel.hide(),this._badge.asDirty(!0);return}panel._close(),this._badge.asDirty(!1),panel=null}}),this.on("flow_change",()=>{if(this.TYPE==="directive")this.validate();else return this.validateReferences()})}this.package=pkg,this.package!==((_g2=(_f2=(_e2=(_d2=Inspector.instance)==null?void 0:_d2.repository)==null?void 0:_e2.packages)==null?void 0:_f2[this.package.name])==null?void 0:_g2.latest)&&(this._upgradeable.visible=((_h2=Inspector==null?void 0:Inspector.instance)==null?void 0:_h2.mode)!=="inspect"),pkg.name==="builtin"?(this.title=config2.label,this.description="",this.theme=BUILTIN_THEMES[config2.name]??this.theme,this.icon=BUILTIN_ICONS[config2.name]):(this.title=pkg.label,this.description=config2.label,this.theme=pkg.theme,APP_ICON_OVERRIDE.includes(pkg.name)?this._icon.url=`/static/img/packages/${pkg.name}_${config2.name}.svg`:this.icon=pkg.icon??"")}get hasParameters(){return!!(Array.isArray(this.config.parameters)&&this.config.parameters.length>0||Array.isArray(this.config.expect)&&this.config.expect.length>0||typeof this.config.parameters=="string"||typeof this.config.expect=="string"&&this.config.expect!=="*")}get hasNote(){return isFeatureOn("new-notes")?notes.moduleHasNote(this.id):(this.stage?this.stage.surface.find(Surface.NoteLine).filter(item=>item._module===this&&!item._onFilter).length:void 0)>0}get isLinked(){return!!this._inputLink}get prevInFlow(){return this.prev}get prevNoErrorHandler(){var _a2;return(_a2=this._inputLink)!=null&&_a2.isErrorHandler?null:this.prev}get prevInFlowNoErrorHandler(){return this.prevNoErrorHandler}get prevBeforeErrorHandler(){var _a2;let prev=this;for(;prev;){if((_a2=prev._inputLink)!=null&&_a2.isErrorHandler)return prev.prev;prev=prev.prev}return null}get locked(){return this._locked}set locked(value){this._locked=value}get messages(){return this.__messages}prevAll(){if(this.prev==null)return[];const prevModules=[];let prevs=[this.prev];for(;prevs.length;){const i2=prevs.shift();prevModules.push(i2),(i2==null?void 0:i2.prev)!=null&&(prevs=prevs.concat(i2.prev))}return prevModules}expect(){var _a2,_b2;const expect={config:Array.isArray((_a2=this.config)==null?void 0:_a2.expect)?this.config.expect:[],rpc:typeof((_b2=this.config)==null?void 0:_b2.expect)=="string"&&!["*","dynamic"].includes(this.config.expect)?this.config.expect:null,dynamic:this.config.expect==="dynamic"};return expect.dynamic&&(expect.config=this.metadata.expect??[]),expect}autoConfigure(cfg){return cfg.mapper&&(this.mapper=cfg.mapper),cfg.parameters&&(this.parameters=cfg.parameters),cfg.relative&&(this.metadata.relative=cfg.relative),this}async addErrorHandler(directive,filter2){var _a2;let y2=this.y;this._outputAnchorDragger.peeking=!1,this._outputLink&&(y2=this.y-300/2,this._outputLink.node2.move(this.x+300,y2,300),y2+=300);const next=module2=>{var _a3;const link=ErrorHandlerLink(this,module2);this.stage.attach(link),link.destroying=!0,new Surface.Animation(link,{progress:{from:0,to:100}},{duration:200,complete(){link.destroying=!1}}),this.stage.attach(module2),module2 instanceof Placeholder?(delay(250,()=>this.stage.surface.input.focus=module2),(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.emit("add_placeholder",module2)):this.stage.surface.camera.ensureVisible(module2.bounds,500)};if(directive){const handler=await Inspector.instance.repository.get("builtin",directive);handler&&(handler.id=Inspector.instance.scenario.idSequence++,handler.move(this.x+300,this.y),filter2&&(handler.filter=filter2),next(handler))}else{const ph=(_a2=Inspector.instance)==null?void 0:_a2.addPlaceholder(new Point(this.x+300,y2));ph.autoDestroy=!0,next(ph)}}renameModule(){Panels.one=new ModuleRenamePanel(this)}async cloneModule(){const module2=await Inspector.instance.repository.get(this.package.name,this.config.name,this.package.version);module2&&(module2.mapper=structuredClone(this.mapper),module2.parameters=structuredClone(this.parameters),module2.metadata=structuredClone(this.metadata),module2.customTitle=this.customTitle,module2._cloned=!0,module2.id=Inspector.instance.scenario.idSequence++,module2.move(this.x,this.y),module2.move(this.x+75,this.y+75,500),this.stage.attach(module2),module2.validateReferences())}copyModule(){var _a2;(_a2=Inspector==null?void 0:Inspector.instance)==null||_a2.copyModules([this])}interface(inherited=!1,errorHandler=!1){var _a2;let iface;if(errorHandler)iface=[{name:"error",type:"collection",label:"Error",spec:[{name:"type",type:"text",label:"Type"},{name:"message",type:"text",label:"Message"},{name:"detail",type:"text",label:"Detail"}]}];else{let samples;this.metadata.interface instanceof Array?iface=this.metadata.interface:((_a2=this.config)==null?void 0:_a2.interface)instanceof Array?iface=this.config.interface:(samples=this.samples())?iface=JSON_GENERATOR_ITEM(samples):iface=[]}if(!inherited)return iface;const prev=this.prevInFlow;if(prev){const modules=prev.interface(inherited,this._inputLink.isErrorHandler);return modules.push({id:this.id,config:this.config,package:this.package,interface:iface,node:this}),modules}else return[{id:this.id,config:this.config,package:this.package,interface:iface,node:this}]}pills(inherited=!1,errorHandler=!1){let group,modules;inherited?modules=this.interface(!0,errorHandler):modules=[{id:this.id,package:this.package,interface:this.interface(!1,errorHandler),node:this}];const pills=[],iterate=function(node2,items,samples,group2,prefix,label_prefix="",inArray=!1){var _a2,_b2,_c2,_d2;let p2,pfx,pfxl,pill;if(!Array.isArray(items))return;const semanticTypes={};for(const item of items){if(item.semantic&&!inArray){const[semanticType,semanticValue]=item.semantic.split(":");semanticTypes[semanticType]||(semanticTypes[semanticType]={type:semanticType,theme:node2.package.theme,node:node2,map:{}},pills.semantic.push(semanticTypes[semanticType])),semanticTypes[semanticType].map[semanticValue]=`${prefix}${IML._escape(item.name)}`}if(pill={name:item.label??item.name,raw:item.name,code:`${prefix}${IML._escape(item.name)}`,theme:node2.package.theme,help:item.help,type:item.type,node:node2,prefix:label_prefix},group2.pills.push(pill),item.type==="collection")pill.pills=[],iterate(node2,item.spec||[],samples?samples[item.name]:void 0,pill,`${prefix}${IML._escape(item.name)}.`,`${label_prefix}${item.label??item.name}: `);else if(item.type==="array"){pill.pills=[];const getSamples=()=>samples&&samples[item.name]?samples[item.name][0]:void 0;if(Array.isArray(item.spec))iterate(node2,item.spec,getSamples(),pill,`${prefix}${IML._escape(item.name)}[].`,`${label_prefix}${item.label??item.name}[1]: `,!0);else if(((_a2=item.spec)==null?void 0:_a2.type)==="collection")iterate(node2,item.spec.spec,getSamples(),pill,`${prefix}${IML._escape(item.name)}[].`,`${label_prefix}${item.label??item.name}[1]: `,!0);else if(((_b2=item.spec)==null?void 0:_b2.type)==="array"){let itm=item,smpls=getSamples();for(pfx=pill.code,pfxl=`${label_prefix}${pill.name}`;typeof itm.spec=="object"&&itm.spec.type==="array"&&(pill.pills=[],p2={name:"[1]",raw:"1",code:`${pfx}[].`,theme:node2.package.theme,help:itm.spec.help,type:"array",node:node2,prefix:pfxl},pill.pills.push(p2),pill=p2,pfx+="[].",pfxl+="[1]",smpls=smpls==null?void 0:smpls[0],!!itm.spec.spec);)itm=itm.spec.spec;Array.isArray(itm.spec)&&(pill.pills=[],iterate(node2,itm.spec,smpls,pill,`${pfx}[].`,`${pfxl}[1]: `,!0))}else pill.pills.push({name:"[1]",raw:"1",code:`${prefix}${IML._escape(item.name)}[]`,theme:node2.package.theme,help:(_c2=item.spec)==null?void 0:_c2.help,type:((_d2=item.spec)==null?void 0:_d2.type)||"text",node:node2,prefix:`${label_prefix}${item.label??item.name}`})}}if(samples&&typeof samples=="object")for(const key in samples){let value=samples[key],found=null;if(pill=null,Array.isArray(items)&&(found=items.filter(item=>item.name===key)[0]),found&&found.type==="any"&&(pill=group2.pills.filter(pill2=>pill2.raw===key)[0],pill&&(found=null)),!found){switch(pill??(pill={name:key,raw:key,code:`${prefix}${IML._escape(key)}`,theme:node2.package.theme,node:node2,prefix:label_prefix,unknown:!0}),typeof value){case"string":/^IMTBuffer\(/.test(value)?pill.type="buffer":pill.type="text";break;case"number":pill.type="number";break;case"boolean":pill.type="boolean";break;case"function":case"undefined":continue;case"object":if(value==null)pill.type="any";else if(value instanceof Date)pill.type="date";else if(Array.isArray(value)){for(pill.type="array",pfx=pill.code,pfxl=`${label_prefix}${key}`;Array.isArray(value==null?void 0:value[0]);)pill.pills=[],p2={name:"[1]",raw:"1",code:`${pfx}[].`,theme:node2.package.theme,type:"array",node:node2,prefix:pfxl,unknown:!0},pill.pills.push(p2),pill=p2,pfx+="[].",pfxl+="[1]",value=value[0];value!=null&&value[0]&&typeof value[0]=="object"?(pill.pills=[],iterate(node2,[],value[0],pill,`${pfx}[].`,`${pfxl}[1]: `,!0)):value!=null&&value[0]&&(pill.pills=[],pill.pills.push({name:"[1]",raw:"1",code:`${pfx}[]`,theme:node2.package.theme,type:"text",node:node2,prefix:pfxl}))}else pill.type="collection",pill.pills=[],iterate(node2,[],value,pill,`${prefix}${IML._escape(key)}.`,`${label_prefix}${key}: `);break}group2.pills.indexOf(pill)===-1&&group2.pills.push(pill)}}return null};Object.defineProperty(pills,"semantic",{value:[]});for(const module2 of modules)group={id:module2.id,package:module2.node.package.name,label:module2.node.customTitle||module2.node.config.label,name:module2.node.customTitle||module2.package.label,description:module2.node.config.label,pills:[]},pills.unshift(group),iterate(module2.node,module2.interface,module2.node.samples(!1,errorHandler&&module2.node===this),group,`${module2.id}.`);return Object.defineProperty(pills,"getPillByCode",{value(code){const search=function(pills2){for(const pill of pills2){if(pill.code===code)return pill;if(pill.pills){const p2=search(pill.pills);if(p2)return p2}}return null};for(group of this){const found=search(group.pills);if(found)return found}return null}}),pills}labels(source,prefixWithID=!1,inherited=!1,prefixCollections=!0){var _a2,_b2;let config2;if(!["expect","interface","parameters"].includes(source))throw new Error(`Invalid source '${source}' to read labels from.`);source==="parameters"?config2=((_a2=this.metadata)==null?void 0:_a2.parameters)??this.config.parameters??[]:source==="expect"?(prefixWithID=!1,config2=((_b2=this.metadata)==null?void 0:_b2.expect)??this.expect().config):config2=this.interface(inherited);const labels={},iterate=function(items,prefix,label_prefix=""){var _a3;for(const item of items??[])if(labels[`${prefix}${IML._escape(item.name)}`]=item.label??`${label_prefix}${item.name}`,item.type==="collection"&&((_a3=item.spec)!=null&&_a3.length))iterate(item.spec,`${prefix}${IML._escape(item.name)}.`,prefixCollections?`${item.label??item.name}: `:"");else if(item.type==="array"){if(Array.isArray(item.spec)&&item.spec.length)iterate(item.spec,`${prefix}${IML._escape(item.name)}.`);else if(typeof item.spec=="object"){if(item.spec.type==="collection")iterate(item.spec.spec,`${prefix}${IML._escape(item.name)}.`);else if(item.spec.type==="array"){let pfx="",itm=item;for(;typeof itm.spec=="object"&&itm.spec.type==="array"&&(pfx+=".",!!itm.spec.spec);)itm=itm.spec.spec;Array.isArray(itm.spec)&&iterate(itm.spec,`${prefix}${IML._escape(item.name)}${pfx}.`)}}}return null};if(source==="interface"&&inherited)for(const module2 of config2)iterate(module2.interface,prefixWithID?`${module2.id}.`:"");else iterate(config2,prefixWithID?`${this.id}.`:"");return labels}bundleOf(id,nthBundle,recursion=!1,forFilter=!1){var _a2,_b2,_c2,_d2,_e2,_f2,_g2;const self2=forFilter?this.prev:this;if(!self2)return null;const getRuntime=id2=>{var _a3,_b3,_c3,_d3;return(_d3=(_c3=(_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.runtime)==null?void 0:_b3.roundtrip)==null?void 0:_c3[Inspector.instance.roundtrip])==null?void 0:_d3[id2]};let runtime=getRuntime(self2.id);if(self2.id===id){let bundleN=0;if(!runtime&&self2.locked)return((_c2=(_b2=(_a2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_a2.bundle)==null?void 0:_b2.data)==null?void 0:_c2[self2.id])??null;const operations=runtime==null?void 0:runtime.operations;if(!operations)return null;for(const operation of operations)if((_d2=operation.output)!=null&&_d2.length){for(const bundle of operation.output??[])if(bundleN++===nthBundle)try{return bundle==null?null:JSON.parse(bundle)}catch(ex){return console.error(`Failed to parse bundle. ${ex.message}`),null}}}else{let index2,nn,report,prev,bundleN=0;if(forFilter){const operations2=runtime==null?void 0:runtime.operations;if(!operations2)return prev=self2.prevInFlow,prev==null?null:prev.bundleOf(id,nthBundle);let found=!1;for(index2=0;index2<operations2.length;index2++){const operation=operations2[index2];if(!Array.isArray(operation.output))found=!0;else for(const _2 of operation.output??[])if(bundleN++===nthBundle){nthBundle=index2,found=!0;break}if(found)break}if(!found)return null;bundleN=0}if(runtime!=null&&runtime.filtered&&self2.TYPE!=="aggregator"){nn=nthBundle;for(report of runtime.filtered){if(report!=null&&report.__IMTSUCCESS__&&(report=null),report||nn--,nn<0)break;report&&nthBundle++}}if(!recursion&&self2.TYPE==="aggregator"&&self2.isModuleInsideAggregation(id))return"Multiple values";if(prev=self2.prevInFlow,prev==null)return null;if(prev.next!==self2&&(runtime=getRuntime((_e2=prev.next)==null?void 0:_e2.id),runtime!=null&&runtime.filtered&&prev.next.TYPE!=="aggregator")){nn=nthBundle;for(report of runtime.filtered){if(report!=null&&report.__IMTSUCCESS__&&(report=null),report||nn--,nn<0)break;report&&nthBundle++}}runtime=getRuntime(prev.id);const operations=runtime==null?void 0:runtime.operations;if(!operations)return prev.bundleOf(id,nthBundle,!0);for(prev.TYPE==="router"&&((_f2=prev==null?void 0:prev.parameters)==null?void 0:_f2.else)===prev._outputLinks.indexOf(this._inputLink)&&(nthBundle=runtime==null?void 0:runtime.elseMap[nthBundle]),index2=0;index2<operations.length;index2++){const operation=operations[index2];if(!((_g2=operation==null?void 0:operation.output)!=null&&_g2.length))return prev.bundleOf(id,nthBundle,!0);for(const bundle of operation.output??[])if(bundleN++===nthBundle)return prev.id===id?bundle==null?null:JSON.parse(bundle):prev.bundleOf(id,index2,!0)}}return null}explain(defaults2={}){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y;let cont,feeder=defaults2.feeder??!1;(_a2=this.config.output)!=null&&_a2.feeder&&(typeof this.config.output.feeder=="boolean"?feeder=(_b2=this.config.output)==null?void 0:_b2.feeder:typeof((_c2=this.config.output)==null?void 0:_c2.feeder)=="string"&&((_d2=this.parameters)!=null&&_d2[this.config.output.feeder]?feeder=!!this.parameters[this.config.output.feeder]:(_e2=this.mapper)!=null&&_e2[this.config.output.feeder]&&(feeder=!!this.mapper[this.config.output.feeder])));let results=defaults2.results??(feeder?2:1);return(_h2=this.parameters)!=null&&_h2[(_f2=this.config.output)!=null&&_f2.results?(_g2=this.config.output)==null?void 0:_g2.results:"maxResults"]?results=Number(this.parameters[(_i2=this.config.output)!=null&&_i2.results?(_j2=this.config.output)==null?void 0:_j2.results:"maxResults"]):(_m=this.mapper)!=null&&_m[(_k=this.config.output)!=null&&_k.results?(_l=this.config.output)==null?void 0:_l.results:"maxResults"]?results=Number(this.mapper[(_n=this.config.output)!=null&&_n.results?(_o=this.config.output)==null?void 0:_o.results:"maxResults"]):this.interface().length===0&&(results=0),isNaN(results)&&(results=defaults2.results?defaults2.results:1),feeder?(cont=defaults2.continue?defaults2.continue:!1,(_r=this.parameters)!=null&&_r[(_p=this.config.output)!=null&&_p.continue?(_q=this.config.output)==null?void 0:_q.continue:"continueWhenNoRes"]?cont=!!this.parameters[(_s=this.config.output)!=null&&_s.continue?(_t=this.config.output)==null?void 0:_t.continue:"continueWhenNoRes"]:(_w=this.mapper)!=null&&_w[(_u=this.config.output)!=null&&_u.continue?(_v=this.config.output)==null?void 0:_v.continue:"continueWhenNoRes"]&&(cont=!!this.mapper[(_x=this.config.output)!=null&&_x.continue?(_y=this.config.output)==null?void 0:_y.continue:"continueWhenNoRes"])):cont=!0,{feeder,results:Math.min(3,Math.max(0,results)),continue:cont}}prepare(done){done(null)}samples(inherited=!1,errorHandler=!1){var _a2,_b2;let samples,bundle;if(errorHandler?samples={error:{message:"Error message.",type:"DataError"}}:(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.scenario.samples.has(this.id)?samples=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.scenario.samples.get(this.id):this.config.samples?samples=this.config.samples:samples={},!inherited)return samples;const prev=this.prevInFlow;return prev?(bundle=prev.samples(inherited,this._inputLink.isErrorHandler),bundle[this.id]=samples,bundle):(bundle={},bundle[this.id]=samples,bundle)}async onDeleteModule(){const referencedLabel="referencedByOther",warnings=this.checkIfReferenced();if(warnings.length){for(const warn of warnings)this.messages.add(referencedLabel,"warning",warn.message);const panel=new ScenarioMessagesPanel(this,this.messages.get(),{cta:!0,deleteCta:!0});panel.offsetX=this.width*.6/window.devicePixelRatio,panel.offsetY=-65/window.devicePixelRatio,panel.on("confirm",()=>{this.detach()}),panel.once("close",()=>{this.messages.clear(referencedLabel)});return}if(this.hasNote){await confirmationModal({title:imt.l("inspector","panels.moduleHasNoteDeleteModal.header"),body:x`${o$3(imt.l("inspector","panels.moduleHasNoteDeleteModal.body"))}`,cancelButton:imt.l("inspector","buttons.cancel"),actionButton:imt.l("inspector","common.delete"),actionType:"delete"})&&this.detach();return}this.detach()}checkIfReferenced(){const warnings=[],allModules=this.stage.find(Surface.Module),moduleId=this.id;for(let i2=0;i2<allModules.length;i2++){const refs={},moduleNode=allModules[i2];this.iterateMapper(moduleNode.mapper,refs),refs&&Object.keys(refs).includes(String(moduleId))&&warnings.push(new Error(imt.l("inspector","panels.messages.referencedModuleWarning",{data:{package:moduleNode.package.label,module:moduleNode.config.label,moduleNodeId:moduleNode.id}})))}return warnings}references(buildSpec=!1){var _a2;const refs={},errors=[],config2=[],warnings=[],values=Object.create(null),prevs={},nodes={},resolveConfig=(spec,iface,samples,path,level2="")=>(()=>{const result=[];for(const k2 in path){const v2=path[k2];let param=iface.filter(i2=>i2.name===k2)[0];if(!param&&samples[k2]){const assignSpec=function(obj){const specType=JSON_GENERATOR_TYPEOF(obj);let assigned=[];return["collection"].includes(specType)?assigned=Object.entries(obj).map(function([specK,specValue]){const type=JSON_GENERATOR_TYPEOF(specValue);return["collection","array"].includes(type)?{name:specK,spec:assignSpec(specValue),type}:{name:specK,type}}):specType==="array"?assigned=obj.map(function(specValue){return JSON_GENERATOR_TYPEOF(specValue)==="collection"?assignSpec(specValue):{type:JSON_GENERATOR_TYPEOF(specValue),spec:[],name:null}}):assigned={name:obj,type:specType},assigned},sampleType=JSON_GENERATOR_TYPEOF(samples[k2]);["collection","array"].includes(sampleType)?param={name:k2,spec:assignSpec(samples[k2]),type:JSON_GENERATOR_TYPEOF(samples[k2])}:param={name:k2,type:JSON_GENERATOR_TYPEOF(samples[k2])}}if(!param){spec.push({name:k2,type:"any"});continue}if(v2!==!0){const s2=[];["collection","any"].includes(param.type)?(spec.push({name:param.name,label:param.label,type:"collection",spec:s2}),resolveConfig(s2,param.spec||[],samples==null?void 0:samples[k2],v2,`${k2}.`)):param.type==="array"?(spec.push({name:param.name,label:param.label,type:"array",spec:s2}),resolveConfig(s2,Array.isArray(param.spec)?param.spec:param.spec.spec,samples==null?void 0:samples[k2],v2,`${k2}.`)):errors.push(new Error(`Invalid reference '${level2}${k2}'.`));continue}spec.push(structuredClone(param)),samples!=null&&samples[k2]?result.push(values[param.name]=samples[k2]):result.push(void 0)}return result})();this.iterateMapper(this.mapper,refs,errors),(_a2=this.stage)==null||_a2.find(Module).forEach(node2=>nodes[node2.id]=node2),this.prevAll().forEach(prev=>prevs[prev.id]=prev);let id;for(id in refs){const path=refs[id];if(isNaN(id))continue;id=parseInt(id);let node2=prevs[id];if(!node2){if(node2=nodes[id],!node2){errors.push(new Error(`Module references non-existing module '${id}'.`));continue}warnings.push(new Error(`Referenced module '${node2.package.label} - ${node2.config.label}' [${node2.id}] is not accessible.`));continue}if(buildSpec){const spec=[],coll={name:id,label:`${node2.package.label} - ${node2.config.label}`,type:"collection",spec};config2.push(coll),resolveConfig(spec,node2.interface(),node2.samples(),path)}}return{config:config2,values,errors,warnings}}iterateMapper(map2,refs,errors){if(map2!=null){if(typeof map2=="string"&&map2.length){const ast=IML.parse(map2);if(errors&&Array.isArray(errors))for(const err of IML.errors)errors.push(new Error(`Invalid IML for parameter '${map2}': ${err.message}`));if(IML.references(ast,!0,refs),errors&&Array.isArray(errors))for(const err of IML.errors)errors.push(new Error(`Invalid reference in parameter '${map2}': ${err.message}`))}else if(typeof map2=="object"){if(Array.isArray(map2))for(const item of map2)this.iterateMapper(item,refs,errors);else if(map2.constructor==null||map2.constructor.prototype===Object.prototype)for(const key in map2)map2.hasOwnProperty(key)&&this.iterateMapper(map2[key],refs,errors)}return null}}toJSON(test=!1,single=!1){var _a2,_b2,_c2;const json={id:this.id,module:`${this.package.name}:${this.config.name}`,version:parseInt(this.package.version),parameters:this.parameters,filter:single?void 0:this.filter,mapper:this.config.expect==="*"?null:this.mapper,metadata:{designer:{x:single?0:Math.round(this.x),y:single?0:Math.round(this.y),name:this.customTitle||void 0}}};return test||(json.metadata.designer.messages=this.messages.toJSON()),this.data&&(!((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario)!=null&&_b2.isDraft())||(_c2=Inspector==null?void 0:Inspector.instance)!=null&&_c2.scenario.isDraft()&&test)&&(json.data=this.data),this.flags&&(json.flags=this.flags),this.metadata.restore&&(json.metadata.restore=this.metadata.restore),this.metadata.parameters&&(Array.isArray(this.metadata.parameters)&&this.metadata.parameters.length||!Array.isArray(this.metadata.parameters))&&(json.metadata.parameters=this.metadata.parameters),this.metadata.expect&&(Array.isArray(this.metadata.expect)&&this.metadata.expect.length||!Array.isArray(this.metadata.expect))&&(json.metadata.expect=this.metadata.expect),this.metadata.interface&&(Array.isArray(this.metadata.interface)&&this.metadata.interface.length||!Array.isArray(this.metadata.interface))&&(json.metadata.interface=this.metadata.interface),this.metadata.advanced&&(json.metadata.advanced=this.metadata.advanced),this.metadata.relative&&(json.metadata.relative=this.metadata.relative),json}toIQL(path){return path?path.unshift(`${this.package.name}:${this.config.name}[${this.id}]`):path=["self"],this.prev&&(this._inputLink.isErrorHandler&&path.unshift("!"),this.prev.toIQL(path)),path}validate(){var _a2,_b2;(_a2=this.messages)==null||_a2.clear("link"),(_b2=this.messages)==null||_b2.clear("setupreq"),this.TYPE!=="trigger"&&!this.isLinked&&this.messages.add("link","warning",imt.l("inspector","errors.notinflow")),this.setupRequired&&this.messages.add("setupreq","error",imt.l("inspector","errors.notsetup"))}validateReferences(){var _a2,_b2;if(!((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.built))return this;(_b2=this.messages)==null||_b2.clear("reference");const{errors,warnings}=this.references();for(const err of errors)this.messages.add("reference","error",err.message);for(const warn of warnings)this.messages.add("reference","warning",warn.message);return this}createSetupForm(options,done,extras){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r;let key,mapper,value,item;options instanceof Function&&(extras=done,done=options,options={}),Inspector.instance instanceof Templater&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))!=="true"&&(options.templater=((_g2=(_f2=(_e2=(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario)==null?void 0:_d2.controller)==null?void 0:_e2.modules)==null?void 0:_f2[this.id])==null?void 0:_g2.fields)??{});let pills=[],samples={};const parameters=(()=>{const result=[];for(item of this.config.parameters??[])result.push(structuredClone(item));return result})(),expect=this.expect(),prev=this.TYPE==="aggregator"?this.prev:this.prevInFlow;samples=(prev==null?void 0:prev.samples(!0,this._inputLink.isErrorHandler))??{},pills=(prev==null?void 0:prev.pills(!0,this._inputLink.isErrorHandler))??[],expect.config.length?mapper=expect.config.map(item2=>structuredClone(item2)):expect.rpc?mapper=expect.rpc:mapper=null;for(const param of parameters)if(Inspector.instance instanceof DLQInspector?(param.name==="hook"&&(param.readonly=!0,param.options.learning=!1),param.name==="maxResults"&&(param.readonly=!0)):param.name==="maxResults"&&param.help==null&&(param.help="{{l:panels.module.maxresults@inspector}}"),Inspector.instance instanceof Templater&&((_i2=(_h2=Inspector==null?void 0:Inspector.instance)==null?void 0:_h2.root)==null?void 0:_i2.data("oem-template"))==="true"){const forceReloadParam=createForceReloadInstructions(param);param.forceReload=!0,param.options&&(param.options=forceReloadParam.options),param.nested&&(param.nested=forceReloadParam.nested)}const form=new Formula("Parameters");form.config=parameters;let domain=form.domains.set("expect",mapper,this.mapper);if(domain.priority=1,domain.defaults.coder=!0,domain.defaults.mappable=(((_j2=this.package.manifest)==null?void 0:_j2.version)??0)>=2,domain.defaults.erasable=(((_k=this.package.manifest)==null?void 0:_k.version)??0)>=2,domain.defaults.showErasePill=(((_l=this.package.manifest)==null?void 0:_l.version)??0)>=2&&(!this.config.crud||this.config.crud==="update"),domain.dynamic=expect.dynamic??!1,this.config.defaults)for(domain in this.config.defaults){const defaults2=this.config.defaults[domain];for(key in defaults2)value=defaults2[key],form.domains.get(domain).defaults[key]=value}(_m=this.metadata)!=null&&_m.restore&&form.restore(this.metadata.restore),form.values=this.parameters,form.options={moduleId:this.id,package:this.package,config:this.config,samples,pills,timezone:imt.organization.timezone},(_n=Inspector==null?void 0:Inspector.instance)!=null&&_n.tutorial&&(form.options.template=TUTORIAL_TEMPLATE);for(key in options)value=options[key],form.options[key]=value;extras&&extras(form);let sync=!0;return form.build(function(err){return sync?setImmediate(()=>done(err)):done(err)}),sync=!1,(Inspector==null?void 0:Inspector.instance)instanceof Templater&&((_p=(_o=Inspector==null?void 0:Inspector.instance)==null?void 0:_o.root)==null?void 0:_p.data("oem-template"))==="true"&&((_r=(_q=Inspector==null?void 0:Inspector.instance)==null?void 0:_q.scenario)==null||_r.handleSetupFormCreated(form,this)),form}updateSetupForm(form,done){const prev=this.TYPE==="aggregator"?this.prev:this.prevInFlow;return form&&(form.options.pills=(prev==null?void 0:prev.pills(!0,this._inputLink.isErrorHandler))??[]),done&&setImmediate(done),form}saveSetupForm(form,done){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2;const postActions=form.commit();Inspector.instance instanceof Templater&&((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))!=="true"&&(_c2=Inspector==null?void 0:Inspector.instance)!=null&&_c2.scenario&&((_d2=Inspector.instance.scenario.controller.modules)[_e2=this.id]??(_d2[_e2]={}),Inspector.instance.scenario.controller.modules[this.id].fields=form.toTemplate()),(Inspector==null?void 0:Inspector.instance)instanceof Templater&&((_g2=(_f2=Inspector==null?void 0:Inspector.instance)==null?void 0:_f2.root)==null?void 0:_g2.data("oem-template"))==="true"&&((_i2=(_h2=Inspector==null?void 0:Inspector.instance)==null?void 0:_h2.scenario)==null||_i2.handleSaveSetupForm(form,this)),this.parameters=form.toJSON(),this.mapper=form.toJSON("expect"),this.metadata.restore=form.save(),this.metadata.parameters=form.toConfig("default",!0),this.metadata.expect=form.toConfig("expect",!0),this.metadata.advanced=form.advancedParametersVisible?!0:void 0,this.emit("parameters_update"),this.setupRequired&&(this.setupRequired=!1,(_j2=this.messages)==null||_j2.clear("setupreq")),this.validateReferences(),(()=>{let epochReset=!1;return(()=>{const result=[];for(const action of postActions)switch(action.type){case"reset_epoch":this.TYPE==="trigger"&&!epochReset?(epochReset=!0,result.push(this.createEpochPanel(!0))):result.push(void 0);break;case"set_data":this.data??(this.data={}),result.push((()=>{const result1=[];for(const key in action.data){const value=action.data[key];result1.push(this.data[key]=value)}return result1})());break;default:result.push(void 0)}return result})()})();const evaluate=function(map2){if(map2==null)return null;const out={};for(const key in map2){let ast;const value=map2[key];if(typeof value=="string"&&value.length){if(ast=IML.parse(value),!IML.errors.length)try{out[key]=IML.execute(ast,form.options.samples)}catch{out[key]=null}}else if(typeof value=="object")if(Array.isArray(value)){out[key]=[];for(let index2=0;index2<value.length;index2++){const item=value[index2];if(typeof item=="string"&&value.length){if(ast=IML.parse(item),!IML.errors.length)try{out[key][index2]=IML.execute(ast,form.options.samples)}catch{out[key][index2]=null}}else typeof item=="object"&&(item.constructor==null||item.constructor.prototype===Object.prototype)?out[key][index2]=evaluate(item):out[key][index2]=item}}else value instanceof Date?out[key]=IML.execute(IML.parse(value),form.options.samples):value&&(!value.constructor||value.constructor.prototype===Object.prototype)&&(out[key]=evaluate(value));else out[key]=value}return out};let evaluatedMapper=null;return async.parallel([callback=>typeof this.config.interface=="string"?(evaluatedMapper??(evaluatedMapper=evaluate(this.mapper)),Loader.load(this.config.interface,{headers:{"x-imt-validate-schema":"yes","x-imt-ignore-required":"yes"},data:{schema:[].concat(this.metadata.parameters??[],this.metadata.expect??[]),data:{...this.parameters,...evaluatedMapper}}},(function(err,iface,samples){var _a3;return err?(delete this.metadata.interface,["RPCError","BundleValidationError"].includes(err.name)||console.error(err),callback(err)):Array.isArray(iface)?(arguments.length===5&&((_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.scenario.samples.set(this.id,samples)),this.metadata.interface=iface.filter(item=>typeof item!="string"),async.map(iface,(item,next)=>typeof item!="string"?next(null,item):Loader.load(item,{data:{...this.parameters,...evaluatedMapper}},next),(err2,iface2)=>{if(!err2){this.metadata.interface=[].concat(...iface2);const names=this.metadata.interface.map(item=>item.name);this.metadata.interface=this.metadata.interface.filter((item,index2)=>names.indexOf(item.name,index2+1)===-1)}return callback(null)})):(delete this.metadata.interface,callback(null))}).bind(this))):Array.isArray(this.config.interface)&&this.config.interface.some(item=>typeof item=="string")?async.map(this.config.interface,(item,next)=>typeof item!="string"?next(null,item):(evaluatedMapper??(evaluatedMapper=evaluate(this.mapper)),Loader.load(item,{data:{...this.parameters,...evaluatedMapper}},next)),(err,iface2)=>{if(err)delete this.metadata.interface;else{this.metadata.interface=[].concat(...iface2);const names=this.metadata.interface.map(item=>item.name);this.metadata.interface=this.metadata.interface.filter((item,index2)=>names.indexOf(item.name,index2+1)===-1)}return callback(null)}):callback(null),callback=>typeof this.config.samples=="string"?(evaluatedMapper??(evaluatedMapper=evaluate(this.mapper)),Loader.load(this.config.samples,{headers:{"x-imt-validate-schema":"yes","x-imt-ignore-required":"yes"},data:{schema:[].concat(this.metadata.parameters??[],this.metadata.expect??[]),data:{...this.parameters,...evaluatedMapper}}},(err,samples)=>{var _a3;return err?["RPCError","BundleValidationError"].includes(err.name)||console.error(err):(samples instanceof Array&&(samples=samples[0]),(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.scenario.samples.set(this.id,samples)),callback(null)})):callback(null)],function(err){var _a3,_b3;return err&&toaster.show(`${imt.l("inspector","flashes.refreshmetafailed")} ${(_b3=(_a3=err.suberrors)==null?void 0:_a3[0])==null?void 0:_b3.message}`.trim(),"danger"),typeof done=="function"?done():void 0}),null}getParameterSpecByType(...args){for(let index2=0;index2<arguments.length;index2++){const arg=args[index2];["device","hook","account","udt","keychain"].includes(arg)&&(args[index2]=`${arg}(:.*)?`)}const type=new RegExp(`^${Array.prototype.join.call(args,"|")}$`),search=function(params){if(!(params!=null&&params.length))return null;for(const param of params){let spec;if(type.test(param.type))return param;if(param.type==="boolean"){if(spec=search(param.nested),spec)return spec}else if(param.type==="select"){if(Array.isArray(param.options)){for(const i2 of param.options)if(param.grouped){for(const ii of i2.options)if(Array.isArray(ii.nested)&&(spec=search(ii.nested),spec))return spec}else if(Array.isArray(i2.nested)&&(spec=search(i2.nested),spec))return spec}else if(typeof param.options=="object"&&(spec=search(param.options.nested),spec))return spec}else if(param.type==="collection"){if(spec=search(param.spec),spec)return spec}else if(param.type==="array"){if(Array.isArray(param.spec)){if(spec=search(param.spec),spec)return spec}else if(typeof param.spec=="object"&&(spec=search(param.spec.spec),spec))return spec}}return null};return search(this.config.parameters)}getDeviceInfo(){var _a2,_b2,_c2,_d2,_e2;const param=this.getParameterSpecByType("hook","device");if(!param)return null;param.type==="device"&&((_a2=this.parameters)==null?void 0:_a2.scope)===void 0&&((_b2=this.parameters)!=null&&_b2.button)&&(this.parameters.scope=`button:${this.parameters.button}`);const device={id:(_c2=this.parameters)==null?void 0:_c2[param.name],event:(param.type==="device"?(_d2=this.parameters)==null?void 0:_d2.scope:(_e2=param.type.match(/^device:(.*)$/))==null?void 0:_e2[1])||"hook",type:param.type.startsWith("device")?"device":"hook"};return device.id?device:null}replaceReferences(map2){this.mapper&&(this.mapper=IMLTree.replace(this.mapper,"reference",map2)),this.filter&&(this.filter=IMLTree.replace(this.filter,"reference",map2))}createEpochPanel(becauseOfChangesInSetup=!1,tutorial=!1){var _a2;if(this.config.epoch!=null){if((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2._surface&&(Inspector.instance._surface.input.focus=null),!becauseOfChangesInSetup&&this.messages.get({severity:"error"}).length)return new Alert(imt.l("inspector","panels.epoch.invalid")).show();Panels.one instanceof EpochPanel&&(Panels.one.close(),!tutorial)||(Panels.one=new EpochPanel(this,becauseOfChangesInSetup,tutorial))}}registerUpgradePanel(){let upgradePanel=null;this._upgradeable.on("focus",()=>{upgradePanel||(upgradePanel=new UpgradeModulePanel(this),upgradePanel.once("close",()=>{var _a2,_b2,_c2;Inspector!=null&&Inspector.instance&&((_c2=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface)==null?void 0:_b2.input)==null?void 0:_c2.focus)===this._upgradeable&&(Inspector.instance._surface.input.focus=null)}))}),this._upgradeable.on("blur",function(){upgradePanel&&(upgradePanel._close(),upgradePanel=null)})}}class Router extends Module{constructor(pkg,config2){var _a2;super(pkg,config2),this.config=config2,this.TYPE="router",this._outputLinks=[],this._arrows=[],this._showRouteOrder=!1,this._rotate=this._rotate.bind(this),this._outputLinks=[],this._arrows=[],this._inputAnchorDragger.visible=!0,this._bg.type="pie",this._bg.pieThickness=NODE_SIZE_HALF*.7,this._hover.type="pie",this._hover.pieThickness=NODE_SIZE_HALF*.69,this._addLabel=new Label("",NODE_SIZE_HALF,NODE_SIZE_HALF,NODE_SIZE,NODE_SIZE),Object.defineProperty(this._addLabel.style,"color",{get:()=>typeof this.theme=="string"?this.theme:this.theme.toHex()}),this._addLabel.style.font='"Font Awesome 6 Pro"',this._addLabel.style.fontWeight=400,this._addLabel.style.fontSize="35px",this._addLabel.origin=new Point(NODE_SIZE_HALF,NODE_SIZE_HALF-2),this._addLabel.opacity=0,this._addLabel.scale=0,this.attach(this._addLabel),this.on("mouseenter",()=>{let delay2=0,fallbackLink=null;for(const link of this._outputLinks){if(link.isFallback){fallbackLink=link;continue}delay2=link._activate(delay2)}fallbackLink&&fallbackLink._activate(delay2)}),this.on("mouseleave",()=>this._outputLinks.map(link=>link._deactivate())),this.reorderRoutesPanel=this.reorderRoutesPanel.bind(this),this.config=config2,this.showRouteOrder=!!((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.showRouteOrder);let panel=null;this.on("focus",()=>{var _a3;panel||((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.mode)==="edit"&&(this.locked?(panel=new DLQBundlePanel(this),panel.once("close",()=>{var _a4,_b2,_c2;((_c2=(_b2=(_a4=Inspector.instance)==null?void 0:_a4._surface)==null?void 0:_b2.input)==null?void 0:_c2.focus)===this&&(Inspector.instance._surface.input.focus=null)})):(this._outputLinks.length===0&&this.addRoute(),this.addRoute(),setImmediate(()=>{var _a4,_b2;(_b2=(_a4=Inspector.instance)==null?void 0:_a4._surface)!=null&&_b2.input&&(Inspector.instance._surface.input.focus=null)})))}),this.on("blur",function(){panel&&(panel._close(),this._isValid=!0,panel=null)}),this.style.cursor="pointer",this.validate()}get next(){return this._outputLinks.map(link=>link.node2)}get hasSubsequentDirective(){var _a2;for(const link of this._outputLinks)if((_a2=link.node2)!=null&&_a2.hasSubsequentDirective)return!0;return!1}get showRouteOrder(){return this._showRouteOrder}set showRouteOrder(value){this._showRouteOrder=value,this._outputLinks.map(link=>link.showRouteOrder=value)}addRoute(){var _a2,_b2,_c2;let y2;const routes=this._outputLinks.length;if(routes>0){y2=this.y-routes*300/2;for(let route=1;route<=routes;route++)this._outputLinks[route-1].node2.move(this.x+300,y2,300),y2+=300}else({y:y2}=this);const ph=(_a2=Inspector.instance)==null?void 0:_a2.addPlaceholder(new Point(this.x+300,y2)),link=new Link(this,ph);link.showRouteOrder=this.showRouteOrder,((_b2=this.parameters)==null?void 0:_b2.else)<routes?link.order=routes:link.order=routes+1,this.stage.attach(ph),this.stage.attach(link),(_c2=Inspector==null?void 0:Inspector.instance)==null||_c2.emit("add_placeholder",ph)}createContextMenu(){var _a2,_b2,_c2;if(((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="inspect"||this.locked)return null;const menu=[];return this.stage.surface.input.selected.indexOf(this)!==-1?(menu.push({label:imt.l("inspector","buttons.copymultiple"),icon:"copy",click(){var _a3;(_a3=Inspector.instance)==null||_a3.copyModules()}}),menu.push({label:imt.l("inspector","buttons.delmultiple"),icon:"trash",click(){var _a3;(_a3=Inspector.instance)==null||_a3.deleteModules()}}),menu):(menu.push({default:!0,label:imt.l("inspector","buttons.addroute"),icon:"plus",click:()=>this.addRoute()}),this._outputLinks.length>1&&menu.push({label:imt.l("inspector","buttons.orderRoutes"),icon:"arrows-from-dotted-line",click:()=>this.reorderRoutesPanel()}),this.prev instanceof Scheduling&&menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>{var _a3,_b3;const ph=(_a3=Inspector.instance)==null?void 0:_a3.addPlaceholder(new Point(this.x,this.y));this.stage.attach(ph),this._inputLink.node2=ph,this.stage.attach(new Link(ph,this));for(const node2 of ph.nextAll())new Surface.Animation(node2,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"});(_b3=Inspector==null?void 0:Inspector.instance)==null||_b3.emit("add_placeholder",ph),delay(250,()=>{this.stage.surface.input.focus=ph})}}),menu.push({label:imt.l("inspector","buttons.rename"),icon:"eraser",click:()=>this.renameModule()}),menu.push({label:imt.l("inspector","buttons.copy"),icon:"copy",click:()=>this.copyModule()}),!this.hasNote&&!((_c2=(_b2=imt.brand)==null?void 0:_b2.theme)!=null&&_c2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addNote(this)}}),typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&menu.push({label:"Open in Debugger",icon:"bug",click:()=>IMTDevTool.focusModule(this.id)}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.onDeleteModule()}),menu)}reorderRoutesPanel(){const self2=this,panel=new Panel;panel.title=imt.l("inspector","buttons.orderRoutes");let layoutScenario=!1;const form=new Formula;form.config=[{name:"order",label:imt.l("inspector","common.start"),type:"sort"}];let description="";form.values={order:this._outputLinks.map(function(link){return description="",link.node2.description?description=`${link.node2.description} (${link.node2.customTitle??link.node2.title})`:description=`${link.node2.customTitle??link.node2.title}`,{id:imt.config.showIDs?link.node2.id:null,description,title:link._routerOrder.displayedOrder,subtitle:link.title,iconBackground:link.node2._bg.style.backgroundColor,icon:link.node2 instanceof Router?"static/img/packages/builtin_64.png":link.node2.icon??""}})};const footerDiv=sim.div(".d-flex");if(this._outputLinks.find(l2=>l2.isFallback)){const warningText=sim.div(".text-left.text-muted.order-routes-warning.mb-2",function(){return this.text(imt.l("inspector","panels.orderRoutes.warning")),this.prepend(this.i(".far.fa-lightbulb.mr-2.order-routes-warning-icon"))});panel._footer.append(warningText)}panel._footer.addClass("flex-column"),panel._footer.append(footerDiv),form.build(err=>{sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){this.prependTo(footerDiv),this.input('[type="checkbox"]',function(){this.on("change",()=>{layoutScenario=!layoutScenario})}),this.write(imt.l("inspector","buttons.reorderAlign"))}),sim.button(".btn.btn-outline-secondary.btn-sm",function(){this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(footerDiv),this.once("click",()=>panel.close())}),sim.button(".btn.btn-primary.btn-sm",function(){this.attr("type","button"),this.text(imt.l("base","common.apply")),this.appendTo(footerDiv),this.on("click",function(){var _a2,_b2,_c2;let index2;const sorted=form.toJSON().order;for(index2=0;index2<sorted.length;index2++){const sortedItem=sorted[index2],outputIndex=self2._outputLinks.findIndex(l2=>l2.node2.id===sortedItem.id);self2._outputLinks[outputIndex]=self2._outputLinks.splice(index2,1,self2._outputLinks[outputIndex])[0],layoutScenario&&((_a2=Inspector.instance)==null||_a2.align(!1,!1)),self2._outputLinks[index2].isFallback&&self2.parameters&&(self2.parameters.else=index2)}for(index2=0;index2<self2._outputLinks.length;index2++)!self2.parameters||index2<((_b2=self2.parameters)==null?void 0:_b2.else)?self2._outputLinks[index2].order=index2+1:index2>((_c2=self2.parameters)==null?void 0:_c2.else)&&(self2._outputLinks[index2].order=index2);panel.close()})}),panel.content=form})}_activate(){if(!this._active&&(super._activate(),!this.locked))return new Animation(this._addLabel,{scale:1,opacity:1},{interrupt:!0,duration:100})}_deactivate(){if(this._active&&(super._deactivate(),!this.locked))return new Animation(this._addLabel,{scale:0,opactiy:0},{interrupt:!0,duration:100})}canLink(node2,type){var _a2;if(type==="output")return node2.TYPE==="directive"?this.isInsideErrorHandler:((_a2=this._inputLink)==null?void 0:_a2.node1)!==node2;if(node2.TYPE==="directive")return!1;for(const link of this._outputLinks)if(link.node2===node2)return!1;return this._inputLink==null}canLinkWithScheduling(scheduling){return this._inputLink==null||this.prev===scheduling}detach(){for(const link of this._outputLinks)link.reverse=!0,link.destroying=!0,new Animation(link,{progress:{from:0,to:100}},{interrupt:!0,duration:200});return super.detach()}link(link,type){var _a2;super.link(link,type),type==="input"?(link.on("rotateAnchor",this._rotate),this._inputLink=link,this._inputAnchorDragger.visible=!1):(link.on("rotateAnchor",this._rotate),this._outputLinks.push(link),link.order=this._outputLinks.length,typeof((_a2=this.parameters)==null?void 0:_a2.else)=="number"&&(this.parameters.else===link.order-1?link.isFallback=!0:this.parameters.else>link.order-1&&(link.order-=1))),this.update(),this.validate()}unlink(link,type){var _a2,_b2;if(super.unlink(link,type),type==="input")link.off("rotateAnchor",this._rotate),this._inputLink=null,this._inputAnchorDragger.opacity=1,this._inputAnchorDragger.visible=!0;else{if(typeof((_a2=this.parameters)==null?void 0:_a2.else)=="number"){const index22=this._outputLinks.indexOf(link);index22===this.parameters.else?this.parameters=void 0:index22<((_b2=this.parameters)==null?void 0:_b2.else)&&(this.parameters.else--,this._outputLinks[this.parameters.else].isFallback=!0,link.isFallback=!1)}link.off("rotateAnchor",this._rotate);const index2=this._outputLinks.indexOf(link);index2!==-1&&this._outputLinks.splice(index2,1)}this.update(),this.validate()}_rotate(){for(const arrow of this._arrows){const anchor=arrow._routerLink.node1===this?arrow._routerLink._anchor2:arrow._routerLink._anchor1;arrow.rotate=anchor.rotate+180,arrow.move(this.origin.x+45*Math.cos(arrow.rotate.toRad()),this.origin.y+45*Math.sin(arrow.rotate.toRad()))}}update(){var _a2;let label;super.update();for(const arrow of this._arrows)arrow.detach();this._arrows=[],this._inputLink!=null&&(label=new Label("",NODE_SIZE_HALF,NODE_SIZE_HALF,40,40),label.origin=new Point(20,20),label.style.font='"Font Awesome 6 Pro"',label.style.fontWeight=900,label.style.fontSize="24px",label.style.color="#fff",label._routerLink=this._inputLink,this._group.attach(label),this._arrows.push(label));for(let index2=0;index2<this._outputLinks.length;index2++){const link=this._outputLinks[index2];label=new Label("",NODE_SIZE_HALF,NODE_SIZE_HALF,40,40),label.origin=new Point(20,20),label.style.font='"Font Awesome 6 Pro"',label.style.fontWeight=900,label.style.fontSize="24px",label.style.color="#fff",label._routerLink=link,link.isFallback=!1,link.order=index2+1,this._group.attach(label),this._arrows.push(label),typeof((_a2=this.parameters)==null?void 0:_a2.else)=="number"&&(this.parameters.else===index2?(link.isFallback=!0,label.text=""):index2>this.parameters.else&&(link.order-=1))}this._rotate()}}Surface.Router=Router;class ScenarioSavePanel extends Panel{constructor(relative,options,callback){var _a2;super(relative),options||(options={});const self2=this;this.width(450),this.title=(_a2=imt.brand)==null?void 0:_a2.title,this.content=sim.p().text(imt.l("inspector","scenario.changed")),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","common.discardchanges")),this.appendTo(self2._footer),this.on("click",()=>(self2._close(),callback(!1)))}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(options.context==="publish"?imt.l("inspector","common.saveandpublish"):imt.l("inspector","common.savechanges")),this.appendTo(self2._footer),this.on("click",function(){return self2._close(),callback(!0)})})}}class Trigger extends Module{constructor(pkg,config2){super(pkg,config2),this.TYPE="trigger",this.registerUpgradePanel(),this.style.cursor="pointer",this._outputAnchorDragger.visible=!0,this.validate()}get hasEpoch(){return!!this.config.epoch}createContextMenu(){var _a2,_b2,_c2,_d2,_e2,_f2;if(((_a2=Inspector.instance)==null?void 0:_a2.mode)==="inspect"||this.locked)return null;const menu=[];return((_b2=Inspector.instance)==null?void 0:_b2.mode)==="live"?(this.hasEpoch&&menu.push({label:imt.l("inspector","buttons.resetepoch"),icon:"clock",click:()=>this.createEpochPanel()}),menu):this.selected?(menu.push({label:imt.l("inspector","buttons.copymultiple"),icon:"copy",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.copyModules()}}),menu.push({label:imt.l("inspector","buttons.delmultiple"),icon:"trash",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.deleteModules()}}),menu):(menu.push({default:!0,label:imt.l("inspector","buttons.setup"),icon:"cog",click:()=>this.focus()}),menu.push({label:imt.l("inspector","buttons.runsingle"),icon:"play",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.startTest(this)}}),this.hasEpoch&&menu.push({label:imt.l("inspector","buttons.resetepoch"),icon:"clock",click:()=>this.createEpochPanel()}),this.config.listener&&this.getDeviceInfo()!=null&&((_d2=(_c2=Inspector.instance)==null?void 0:_c2.scenario)!=null&&_d2.id)&&menu.push({label:imt.l("inspector","buttons.openqueue"),icon:"truck",click:()=>this.openQueueBrowser()}),this._errorHandler||menu.push({label:imt.l("inspector","buttons.adderrorhandler"),icon:"exclamation-triangle",click:()=>this.addErrorHandler()}),menu.push({label:imt.l("inspector","buttons.rename"),icon:"eraser",click:()=>this.renameModule()}),menu.push({label:imt.l("inspector","buttons.copy"),icon:"copy",click:()=>this.copyModule()}),!this.hasNote&&!((_f2=(_e2=imt.brand)==null?void 0:_e2.theme)!=null&&_f2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addNote(this)}}),typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&menu.push({label:"Open in Debugger",icon:"bug",click:()=>IMTDevTool.focusModule(this.id)}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.onDeleteModule()}),menu)}explain(){return super.explain({feeder:!0})}openQueueBrowser(){var _a2,_b2;if(!((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario)!=null&&_b2.id))return;const device=this.getDeviceInfo();if(!device)return;const type=device.type==="device"?"devices":"hooks",queue2=device.type==="device"?"incomings":"queue",query=device.type==="device"?`?scope=${device.event}`:"";imtEvents.dispatch("app.redirect",{url:`/${imt.team.id}/${type}/${device.id}/${queue2}${query}`,absolute:!0})}link(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=link;return}super.link(link,type),type==="output"?(this._outputLink=link,this._outputAnchorDragger.visible=!1):this._inputLink=link,this.validate()}unlink(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=null;return}super.unlink(link,type),type==="output"?(this._outputLink=null,this._outputAnchorDragger.opacity=1,this._outputAnchorDragger.visible=!0):this._inputLink=null,this.validate()}canLink(node2,type){return type==="input"?node2 instanceof Scheduling:node2.TYPE==="directive"?!1:this._outputLink==null}canLinkWithRouter(node2,type){return type==="output"?node2.TYPE!=="directive":!1}canLinkWithErrorHandler(node2,type){return type==="output"?node2.TYPE==="directive"&&!this._errorHandler:!1}canLinkWithScheduling(){return!0}validate(){super.validate(),this.prev instanceof Scheduling||this.messages.add("link",this.isLinked?"error":"warning",imt.l("inspector","errors.trignosched"))}}Surface.Trigger=Trigger;class DLQBundle{static initClass(){this.prototype.id=null,this.prototype.data=null,this.prototype.loaded=!1}constructor(id){this.id=id}loadBundle(done){return this.loaded?done(null):Loader.api(`dlqs/${this.id}/bundle`,(err,data2)=>err?done(err):(this.loaded=!0,this.data=data2,done(null)))}}DLQBundle.initClass();const CACHE_TTL=30*24*60*60,legacySamples=moduleId=>{var _a2,_b2,_c2,_d2;let data2;if(Inspector.instance instanceof Designer?(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.scenario.id&&(data2=imt.localStorage.getItem(`samples:scenario:${(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.scenario.id}:${moduleId}`)):Inspector.instance instanceof Templater&&(_c2=Inspector==null?void 0:Inspector.instance)!=null&&_c2.scenario.id&&(data2=imt.localStorage.getItem(`samples:template:${(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.scenario.id}:${moduleId}`)),data2)try{data2=JSON.parse(data2).samples}catch{data2=null}return data2},shrink=value=>JSON.parse(JSON.stringify(value),(_key,value2)=>{if(typeof value2=="string"&&value2.length>100||value2 instanceof String&&value2.length>100){const regex=/[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;return value2.substr(0,100).replace(regex,"")+"..."}else if(Array.isArray(value2)){const array2=value2.slice(0,1);return value2.length>1&&typeof array2[0]=="object"&&!Array.isArray(array2[0])&&(array2[0]=value2.reduce((val,acc)=>mergeKeys(acc,val),array2[0])),array2}return value2});class Samples{constructor(data2){this._data=Object.assign(Object.create(null),data2)}has(moduleId){return this._data[moduleId]!=null||legacySamples(moduleId)!=null}get(moduleId){return this._data[moduleId]!=null?this._data[moduleId]:legacySamples(moduleId)}set(moduleId,samples){if(!samples){delete this._data[moduleId];return}return this._data[moduleId]=samples=shrink(samples),samples}toJSON(){var _a2;const existingIDs=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.findObject("module").map(module2=>module2.id);this.migrateFromLegacyStorage();for(const moduleId in this._data){const data2=this._data[moduleId];if(data2==null||Object.keys(data2).length===0){delete this._data[moduleId];continue}if(existingIDs.indexOf(parseInt(moduleId))===-1){delete this._data[moduleId];continue}}if(Object.keys(this._data).length!==0)return this._data}migrateFromLegacyStorage(){var _a2;let ex;try{const now=Math.floor(Date.now()/1e3),kind=Inspector.instance instanceof Templater?"template":"scenario",regexp=new RegExp(`^samples:${kind}:${(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.id}:(\\d+)`);for(let j2=0,i2=j2,end2=imt.localStorage.length-1,asc=0<=end2;asc?j2<=end2:j2>=end2;asc?j2++:j2--,i2=j2){let removed;const key=imt.localStorage.key(i2);if(regexp.exec(key)){if(!this._data[RegExp.$1])try{this.set(RegExp.$1,JSON.parse(imt.localStorage.getItem(key)).samples)}catch(error){ex=error}imt.localStorage.removeItem(key),i2--,removed=!0}if(!removed&&/^samples:/.test(key))try{const data2=JSON.parse(imt.localStorage.getItem(key));now-data2.accessed>CACHE_TTL&&(imt.localStorage.removeItem(key),i2--)}catch(error1){ex=error1,imt.localStorage.removeItem(key),i2--}}}catch(error2){ex=error2,console.warn(`[imt:samples] failed to clean up cache. ${ex.message}`)}return null}reduceOperationsToSampleObject(operations,bundlesCount=10,operationsCount=2){if(!Array.isArray(operations))return null;const outputsToReduce=operations.slice(0,operationsCount).flatMap(operation=>Array.isArray(operation==null?void 0:operation.output)?operation.output.slice(0,bundlesCount).map(out=>JSON.parse(out)):[]);return outputsToReduce.length?outputsToReduce.reduce((out,curr)=>(curr&&typeof curr=="object"&&Object.keys(curr).forEach(k2=>out[k2]??(out[k2]=null)),out)):null}}class AggregatorSetupPanel extends Panel{constructor(relative){var _a2;super(relative),relative.package.name==="builtin"?this.help="kb://modules/aggregator":this.help=`kb://app/${relative.package.name}`,this.expandable=!0,this.offsetX=50/window.devicePixelRatio,this.title=(_a2=relative.package)==null?void 0:_a2.label,Inspector.instance.scenario.isLive()?this.visualizerMode(relative):this.editMode(relative)}editMode(relative){var _a2;const self2=this,readonly=((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="live";if(this.loading=!0,!relative.isLinked){sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",()=>self2._close())}),readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.module.autolink")),this.appendTo(self2._footer),this.on("click",()=>relative.tryAutoConnect(relative.closestLinkableNode()))}),this.warn(imt.l("inspector","panels.module.notconnected")),this.width(350),relative.once("link_confirm",function(link,type){if(!self2._destroyed&&type==="input")return self2.close(),setImmediate(()=>new AggregatorSetupPanel(relative))});return}var form=relative.createSetupForm(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return form.readonly=readonly,this.title=relative.package.name==="builtin"?relative.config.label:relative.package.label,sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(event){return form.isValid()&&(relative.saveSetupForm(form),self2.emit("save"),self2.close()),event.preventDefault(),!1})}),this.content=form,this.loading=!1,this.emit("load")});return form.on("resize",this._resize),form.once("has_advanced_parameters",()=>sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(this.prependTo(self2._footer),this.div(".switch.switch-xs.mr-2",function(){var _a3;if(this.switch(),this.on("change",()=>form.advancedParametersVisible=this.data("status")==="on"),((_a3=relative.metadata)==null?void 0:_a3.advanced)===!0)return form.advancedParametersVisible=!0,this.data("status","on").addClass("active")}),this.write(imt.l("inspector","common.showadvanced")),form.built)return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))})),this.on("destroy",function(){var _a3,_b2,_c2;form.rollback(),form.validate(),relative.setupRequired&&(relative.setupRequired=!1,(_a3=relative.messages)==null||_a3.clear("setupreq")),relative.offerMore&&(relative.offerMore=!1,!relative.next&&relative.stage&&!((_b2=Inspector==null?void 0:Inspector.instance)!=null&&_b2.tutorial)&&(relative._outputAnchorDragger.peeking=!0)),(_c2=relative.messages)==null||_c2.clear("setup");for(var invalid of form.invalids)for(var error of invalid.errors)relative.messages.add("setup","error",error);return form.destroy(),form=null,relative.validate()})}visualizerMode(relative){const self2=this;if(this._body.empty().do(function(){var _a2,_b2;(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.runtime&&this.div(".alert.alert-info").text("Displaying values of the first operation. For more operations see complete execution log."),this.div(".mb-2").text(imt.l("base","common.parameters"));const parametersLabels=relative.labels("parameters",!1,!1,!1);return parametersLabels.feeder??(parametersLabels.feeder=imt.l("inspector","panels.aggregator.node")),this.div().visualizer({source:NORMALIZE_PARAMETERS(relative,relative.parameters,!0),labels:parametersLabels}).on("resize",self2._resize),this.div(".mb-2").text(imt.l("base","common.mapper")),this.div().visualizer({source:relative.mapper,type:"mixed",expand:1,labels:relative.labels("expect",!1,!1,!1),ignoreRootLabel:!1,surface:(_b2=relative.stage)==null?void 0:_b2.surface,relative,nth:0}).on("resize",self2._resize)}),!Inspector.instance.scenario.isLive())return this._footer.do(function(){return this.div(".input-group",function(){return this.span(".input-group-btn",function(){return this.button(".btn.btn-primary.btn-sm.btn-block",function(){return this.text(imt.l("base","common.edit")),this.on("click",function(){return this.remove(),self2.editMode()})})})})})}}class Transformer extends Module{constructor(pkg,config2,panelClass=ModuleSetupPanel){super(pkg,config2,panelClass),this.TYPE="transformer",this.registerUpgradePanel(),this.style.cursor="pointer",this._outputAnchorDragger.visible=!0,this._inputAnchorDragger.visible=!0,this.validate()}createContextMenu(){var _a2,_b2,_c2;if(((_a2=Inspector.instance)==null?void 0:_a2.mode)==="inspect"||this.locked)return null;const menu=[];return this.selected?(menu.push({label:imt.l("inspector","buttons.copymultiple"),icon:"copy",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.copyModules()}}),menu.push({label:imt.l("inspector","buttons.delmultiple"),icon:"trash",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.deleteModules()}}),menu):(menu.push({default:!0,label:imt.l("inspector","buttons.setup"),icon:"cog",click:()=>this.focus()}),this.TYPE!=="aggregator"&&menu.push({label:imt.l("inspector","buttons.runsingle"),icon:"play",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.startTest(this)}}),this.prev instanceof Scheduling&&menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>{var _a3,_b3;const ph=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addPlaceholder(new Point(this.x,this.y));this.stage.attach(ph),this._inputLink.node2=ph,this.stage.attach(new Link(ph,this));for(const node2 of ph.nextAll())new Surface.Animation(node2,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"});(_b3=Inspector==null?void 0:Inspector.instance)==null||_b3.emit("add_placeholder",ph),delay(250,()=>{this.stage.surface.input.focus=ph})}}),this._errorHandler||menu.push({label:imt.l("inspector","buttons.adderrorhandler"),icon:"exclamation-triangle",click:()=>this.addErrorHandler()}),menu.push({label:imt.l("inspector","buttons.rename"),icon:"eraser",click:()=>this.renameModule()}),menu.push({label:imt.l("inspector","buttons.duplicate"),icon:"clone",click:()=>this.cloneModule()}),menu.push({label:imt.l("inspector","buttons.copy"),icon:"copy",click:()=>this.copyModule()}),!this.hasNote&&!((_c2=(_b2=imt.brand)==null?void 0:_b2.theme)!=null&&_c2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addNote(this)}}),typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&menu.push({label:"Open in Debugger",icon:"bug",click:()=>IMTDevTool.focusModule(this.id)}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.onDeleteModule()}),menu)}link(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=link;return}super.link(link,type),type==="output"?(this._outputLink=link,this._outputAnchorDragger.visible=!1):(this._inputLink=link,this._inputAnchorDragger.visible=!1),this.validate()}unlink(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=null;return}super.unlink(link,type),type==="output"?(this._outputLink=null,this._outputAnchorDragger.opacity=1,this._outputAnchorDragger.visible=!0):(this._inputLink=null,this._inputAnchorDragger.opacity=1,this._inputAnchorDragger.visible=!0),this.validate()}canLink(node2,type){var _a2,_b2;return type==="input"?node2.TYPE==="directive"||((_a2=this._outputLink)==null?void 0:_a2.node2)===node2?!1:this.prev instanceof Scheduling&&node2.first.canLinkWithScheduling()?!0:this._inputLink==null:node2.TYPE==="directive"?this.isInsideErrorHandler&&this._outputLink==null:((_b2=this._inputLink)==null?void 0:_b2.node1)===node2?!1:this._outputLink==null}canLinkWithRouter(node2,type){return type==="output"?node2.TYPE!=="directive":!1}canLinkWithErrorHandler(node2,type){return type==="output"?node2.TYPE==="directive"&&!this._errorHandler:!1}canLinkWithScheduling(scheduling){return this._inputLink==null||this.prev===scheduling}validate(){super.validate(),this.messages!=null&&this.messages.clear("last"),this._outputLink==null&&!this.config.responder&&this.messages.add("last","warning",imt.l("inspector","errors.transformeronend"))}}Surface.Transformer=Transformer;class Aggregator extends Transformer{constructor(pkg,config2){super(pkg,config2,AggregatorSetupPanel),this.TYPE="aggregator",this._hashmap=null,this._integratedMapper=!1,this._aggregationContainer=new Surface.AggregationContainer(this),this.on("attach",()=>{var _a2;if(this.stage.attach(this._aggregationContainer,0),(_a2=this.parameters)!=null&&_a2.feeder){const feeder=this.stage.find(Surface.Module).filter(module2=>{var _a3;return module2.id===parseInt((_a3=this.parameters)==null?void 0:_a3.feeder)});feeder.length&&this._aggregationContainer&&(this._aggregationContainer.feeder=feeder[0])}}),this.on("detach",()=>{var _a2;(_a2=this._aggregationContainer)==null||_a2.detach(),this._aggregationContainer=null})}get dataProvider(){var _a2;const id=Number((_a2=this.parameters)==null?void 0:_a2.feeder);if(!isNaN(id)){let{prev}=this;for(;prev&&prev.id!==id;)({prev}=prev);return prev}return null}get prevInFlow(){var _a2;return(_a2=this.dataProvider)==null?void 0:_a2.prevInFlow}get prevInFlowNoErrorHandler(){var _a2,_b2;if((_a2=this._inputLink)!=null&&_a2.isErrorHandler)return null;const prev=this.dataProvider;return(_b2=prev==null?void 0:prev._inputLink)!=null&&_b2.isErrorHandler?null:prev==null?void 0:prev.prev}createSetupForm(options,done,extras){return options instanceof Function&&(extras=done,done=options,options={}),this._hashmap={},this._integratedMapper=!1,super.createSetupForm(options,done,form=>{var _a2,_b2,_c2,_d2;let domain,prev=this.prevNoErrorHandler;const feeders=[],values={feeder:(_a2=this.parameters)==null?void 0:_a2.feeder,target:(_b2=this.parameters)==null?void 0:_b2.target,dountil:(_c2=this.parameters)==null?void 0:_c2.dountil};for(console.log(prev);prev&&!(prev instanceof Scheduling);){if(console.log(prev),!(prev instanceof Placeholder)){const option={label:`${prev.customTitle||prev.package.label} - ${prev.config.label}`,value:prev.id};prev.package.name==="builtin"&&(option.label=prev.customTitle||prev.config.label),imt.config.showIDs&&(option.label+=` [${prev.id}]`),prev.package.name==="builtin"&&prev.config.name==="DoUntilFeeder"&&(option.nested=[{name:"dountil",label:"Do Until Condition",type:"text",required:!0,coder:!0}]),feeders.push(option)}prev=prev.prevInFlowNoErrorHandler}const hasExpectRef=form.domains.get("default").config.some(param=>{var _a3,_b3;return((_b3=(_a3=param.options)==null?void 0:_a3.nested)==null?void 0:_b3.domain)==="expect"});if(feeders.length===1&&(values.feeder=feeders[0].value),!hasExpectRef&&!((_d2=form.domains.get("expect").config)!=null&&_d2.length)){let item,value;this._integratedMapper=!0,{prev}=this;const groups=[],groupMap={};for(const wrapper2 of(prev==null?void 0:prev.pills(!0))??[]){const group={label:`${wrapper2.name} - ${wrapper2.description}`,options:[]};wrapper2.package==="builtin"&&(group.label=wrapper2.label),imt.config.showIDs&&(group.label+=` [${wrapper2.id}]`),groupMap[wrapper2.id]=group,groups.push(group);for(item of wrapper2.pills)value=`${wrapper2.id}.${IML._escape(item.raw)}`,group.options.push({label:item.name??item.raw,value}),this._hashmap&&(this._hashmap[value]={name:item.raw})}this.mapper&&Object.entries(this.mapper).forEach(([_key,value2])=>{var _a3;try{const variableToAdd=IML.parse(value2)[0];if((variableToAdd==null?void 0:variableToAdd.type)==="variable"){const variableReference=variableToAdd.name;if(!((_a3=this._hashmap)!=null&&_a3[variableReference])){const[sourceId,variableName]=IML._splitVariable(variableReference);let parentGroup=groupMap[sourceId];return parentGroup?parentGroup.options.push({label:variableName,value:variableReference}):(parentGroup={label:"Unknown Module",options:[{label:variableName,value:variableReference}]},imt.config.showIDs&&(parentGroup.label+=` [${sourceId}]`),groupMap[sourceId]=parentGroup,groups.push(parentGroup)),this._hashmap&&(this._hashmap[variableReference]={name:variableName}),null}}}catch{return console.warn(`Failed while inferring variable selector for ${value2}.`)}});const config2=[{name:"feeder",label:imt.l("inspector","panels.aggregator.node"),help:imt.l("inspector","panels.aggregator.nodehelp"),type:"select",required:!0,options:feeders}];if(this.package.name==="builtin"){const targets=this.nextAll().reduce(function(arr,node2){var _a3,_b3,_c3,_d3,_e2;const fields=[],iterate=function(items,prefix,prefix_label=""){if(items!=null&&items.length){for(item of items){let{spec}=item;item.type==="tokens"&&(spec=[{label:"Token",name:"token",type:"text",required:!0},{label:imt.l("base","common.note"),name:"note",type:"text"}]),["array","tokens"].includes(item.type)&&(Array.isArray(spec)||(spec==null?void 0:spec.type)==="collection")&&fields.push({label:`${prefix_label}${item.label??item.name}`,value:`${prefix}${IML._escape(item.name)}`,nested:{domain:"expect",store:[{name:"__IMTTARGET__",type:"collection",label:`${prefix_label}${item.label??item.name}`,spec:structuredClone(Array.isArray(spec)?spec:spec.spec)}]}}),item.type==="collection"?iterate(spec,`${prefix}${IML._escape(item.name)}.`,`${prefix_label}${item.label??item.name}: `):item.type==="array"&&(spec==null?void 0:spec.type)==="collection"?iterate(spec.spec,`${prefix}${IML._escape(item.name)}.`,`${prefix_label}${item.label??item.name}: `):item.type==="array"&&iterate(spec,`${prefix}${IML._escape(item.name)}.`,`${prefix_label}${item.label??item.name}: `)}return null}};return iterate((((_a3=node2.metadata)==null?void 0:_a3.expect)??[]).map((item2,index2)=>{var _a4;return{...item2,...(((_a4=node2.config)==null?void 0:_a4.expect)??[])[index2]}}),`${node2.id}.`),fields.length&&(arr.push({label:((_b3=node2==null?void 0:node2.package)==null?void 0:_b3.name)==="builtin"?node2.config.label:node2!=null&&node2.package?`${(_d3=node2==null?void 0:node2.package)==null?void 0:_d3.label} - ${(_e2=node2==null?void 0:node2.config)==null?void 0:_e2.label}`:(_c3=node2==null?void 0:node2.brokenModule)==null?void 0:_c3.module,options:fields}),imt.config.showIDs&&(arr[arr.length-1].label+=` [${node2.id}]`)),arr},[]);config2.push({name:"target",label:imt.l("inspector","panels.aggregator.target"),type:"select",options:{placeholder:{label:imt.l("inspector","panels.aggregator.notarget"),nested:[{name:"mapper",label:imt.l("inspector","panels.aggregator.fields"),type:"select",multiple:!0,grouped:!0,options:groups}]},store:targets},grouped:!0})}else config2.push({name:"mapper",label:imt.l("inspector","panels.aggregator.fields"),type:"select",multiple:!0,grouped:!0,options:groups});if(values.mapper=[],values.target)form.domains.get("expect").values.reset().fetch({__IMTTARGET__:this.mapper});else{const object2=this.mapper??{};for(const key in object2)value=object2[key],/^{{([\s\S]*)}}$/.exec(value)&&values.mapper.push(RegExp.$1)}domain=form.domains.set("extra",config2,values),domain.priority=-1}else domain=form.domains.set("extra",[{name:"feeder",label:imt.l("inspector","panels.aggregator.node"),type:"select",required:"true",options:feeders}],values),domain.priority=-1;return domain=form.domains.set("flags",[{name:"groupBy",label:imt.l("inspector","panels.aggregator.groupBy"),help:imt.l("inspector","panels.aggregator.groupByHelp"),type:"text",advanced:!0},{name:"stopIfEmpty",label:imt.l("inspector","panels.aggregator.stopIfEmpty"),type:"checkbox",required:!0,advanced:!0}],this.flags),domain.defaults.coder=!0,extras==null?void 0:extras(form)})}saveSetupForm(form,done){return super.saveSetupForm(form,err=>{var _a2,_b2;if(err)return done==null?void 0:done(err);this.parameters=this.parameters??{};const extra=form.toJSON("extra");if(this.flags=form.toJSON("flags"),this._integratedMapper){let item;if(this.metadata.interface=void 0,extra.target){this.mapper=(_a2=this.mapper)==null?void 0:_a2.__IMTTARGET__,this.parameters.target=extra.target;for(let index2=0;index2<this.metadata.expect.length;index2++)if(item=this.metadata.expect[index2],item.name==="__IMTTARGET__"){this.metadata.expect.splice(index2,1,...item.spec);break}}else{this.mapper={};for(const name of extra.mapper)item=(_b2=this._hashmap)==null?void 0:_b2[name],item&&(this.mapper[item.name]=`{{${name}}}`)}}if(this.parameters.feeder=extra.feeder,extra.dountil&&(this.parameters.dountil=extra.dountil),extra.feeder){const feeder=this.stage.find(Surface.Module).filter(module2=>module2.id===parseInt(extra.feeder));feeder.length&&this._aggregationContainer&&(this._aggregationContainer.feeder=feeder[0])}return Object.keys(this.flags).forEach(key=>{if(this.flags[key]==null||this.flags[key]===""||this.flags[key]===!1)return delete this.flags[key]}),Object.keys(this.flags).length===0&&(this.flags=void 0),done==null?void 0:done()}),null}interface(inherited){var _a2,_b2,_c2;const prev=this.prevInFlow,nodes=(prev==null?void 0:prev.interface(!0))??[];let iface=structuredClone(this.config.interface)??[];if(this.package.name==="builtin")if((_a2=this.parameters)!=null&&_a2.target){const target=Inspector.seek(this.parameters.target,"expect");target&&Array.isArray(target.spec)?iface[0].spec=target.spec:((_b2=target==null?void 0:target.spec)==null?void 0:_b2.type)==="collection"&&(iface[0].spec=target.spec.spec??[])}else{iface[0].spec=[];for(const key in this.mapper){const value=this.mapper[key],param=Inspector.seek(value.substr(2,value.length-4),"interface");param&&iface[0].spec.push(param)}}return(_c2=this.flags)!=null&&_c2.groupBy&&(iface=[{name:"__IMTKEY__",label:imt.l("base","common.key"),type:"text"}].concat(iface)),inherited?(nodes.push({id:this.id,package:this.package,config:this.config,interface:iface,samples:this.samples(),node:this}),nodes):iface}toIQL(path){var _a2;path?path.unshift(`${this.package.name}:${this.config.name}[${this.id}]`):path=["self"];const id=Number((_a2=this.parameters)==null?void 0:_a2.feeder);if(!isNaN(id)){let{prev}=this;for(;prev&&prev.id!==id;)({prev}=prev);prev&&prev.prev&&(prev._inputLink.isErrorHandler&&path.unshift("!"),prev.prev.toIQL(path))}return path}validate(){var _a2;if(super.validate(),!!this._aggregationContainer&&((_a2=this.messages)==null||_a2.clear("source"),!this._aggregationContainer.feeder))return this.messages.add("source","error",imt.l("inspector","errors.noaggsource"))}isModuleInsideAggregation(id){var _a2;const dpid=Number((_a2=this.parameters)==null?void 0:_a2.feeder);if(isNaN(dpid))return!1;if(dpid===id)return!0;let{prev}=this;for(;prev&&prev.id!==dpid;){if(prev.id===id)return!0;({prev}=prev)}return!1}replaceReferences(map2){var _a2;super.replaceReferences(map2);const id=Number((_a2=this.parameters)==null?void 0:_a2.feeder);if(!isNaN(id))for(const original in map2)parseInt(original)===id&&this.parameters&&(this.parameters.feeder=parseInt(map2[original]));return null}}Surface.Aggregator=Aggregator;const debug$4=imt.debug("imt:inspector","#329032");class Scenario extends EventEmitter$1{static initClass(){this.prototype.id=0,this.prototype.flow=null,this.prototype.scheduling=null,this.prototype.orphans=null,this.prototype.created=null,this.prototype.lastEdit=null,this.prototype.renamed=!1,this.prototype._loadedBlueprint=null,this.prototype._loadedScheduling=null,this.prototype._loadedConcept=null,this.prototype._flowChangeDelay=null,this.prototype._basedOn=null,this.prototype._saving=!1,this.prototype._blueprintMode="draft",this.prototype.__name="",this.prototype.__notes=null,this.prototype.__limit=null,this.prototype.idSequence=1,this.prototype.autoCommit=!0,this.prototype.autoCommitTriggerLast=!0,this.prototype.sequential=!1,this.prototype.confidential=!1,this.prototype.dataloss=!1,this.prototype.dlq=!1,this.prototype.freshVariables=!1,this.prototype.roundtrips=1,this.prototype.maxErrors=3,this.prototype.concept=!1,this.prototype.instant=!1,this.prototype.slots=null,this.property("limit",{get(){return this.__limit},set(value){value||(this.slots=null),this.__limit=value}}),this.property("changed",{get(){var _a2,_b2,_c2,_d2;const blueprint=this.toJSON();if(this._loadedBlueprint==null)return!(((_a2=blueprint==null?void 0:blueprint.flow[0])==null?void 0:_a2.module)==="placeholder:Placeholder"&&((_b2=blueprint==null?void 0:blueprint.flow)==null?void 0:_b2.length)===1);if((_c2=Inspector==null?void 0:Inspector.instance)!=null&&_c2.isTemplate)return!1;const draftsEnabled=(_d2=imt.team)==null?void 0:_d2.scenarioDrafts,inputsEnabled=imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO,blueprintChanged=!deepEqual(this._loadedBlueprint,this.toJSON()),schedulingChanged=draftsEnabled?!1:!deepEqual(this._loadedScheduling,this.scheduling),ioChanged=inputsEnabled?!deepEqual(this._loadedIO,this._io.spec):!1;return blueprintChanged||schedulingChanged||ioChanged}}),this.property("name",{get(){return this.__name},set(value){if(value!==this.__name)return this.__name=value,this._loadedBlueprint!=null?this._loadedBlueprint.name=value:void 0}}),this.property("notes",{get(){return this.__notes},set(value){var _a2,_b2;if(value!==this.__notes&&(this.__notes=value,this.__notes.remove=function(){var _a3,_b3;if(Array.prototype.remove.apply(this,arguments),this.length===0)return(_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.root)==null?void 0:_b3.removeClass("i-inspector-has-notes")},this.__notes.unshift=function(){var _a3,_b3;return Array.prototype.unshift.apply(this,arguments),(_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.root)==null?void 0:_b3.addClass("i-inspector-has-notes")},this.__notes.push=function(){var _a3,_b3;return Array.prototype.unshift.apply(this,arguments),(_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.root)==null?void 0:_b3.addClass("i-inspector-has-notes")},this.__notes.length))return(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.addClass("i-inspector-has-notes")}})}constructor(){super(),this.notes=[],this.samples=new Samples,this.scheduling=Object.clone(DEFAULT_SCHEDULING),this._io={spec:{input:[],output:[]},cache:{},buildTimeValues:{}},this._dlqContext={spec:[],cache:{}},this.freshVariables=!1,this.on("flow_change",()=>{var _a2;if((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.built&&!this._flowChangeDelay)return this._flowChangeDelay=delay(100,()=>{if(this._flowChangeDelay=null,!this.renamed&&!this.id&&!this._basedOn)return this.__name=this.resolveDefaultName(),this.emit("default_name_change")})})}clearLocalInstanceData(cached){var _a2;var iterate=function(module2){if(module2){if(module2.data=void 0,module2 instanceof Router)for(var route of module2._outputLinks)iterate(route.node2);else iterate(module2.next);return null}};let first=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._start;first instanceof Scheduling&&(first=first.next),iterate(first),cached??(cached=this._loadedBlueprint);var iterate2=function(flow2){if(Array.isArray(flow2))return(()=>{const result=[];for(var node2 of flow2)delete node2.data,Array.isArray(node2.routes)?result.push(node2.routes.map(route=>iterate2(route.flow))):result.push(void 0);return result})()};return iterate2(cached.flow),this}assignBlueprintData(data2){var _a2,_b2,_c2,_d2,_e2,_f2,_g2;this.scheduling=Object.cloneDeep(data2.scheduling),this._loadedScheduling=Object.cloneDeep(data2.scheduling),this.name=data2.blueprint.name??"",this.idSequence=data2.idSequence??1,this.created=data2.created,this.lastEdit=data2.lastEdit;const scenario=(_b2=(_a2=data2==null?void 0:data2.blueprint)==null?void 0:_a2.metadata)==null?void 0:_b2.scenario;scenario&&(this.sequential=scenario.sequential,this.confidential=scenario.confidential,this.dataloss=scenario.dataloss,this.dlq=scenario.dlq,this.freshVariables=scenario.freshVariables,this.roundtrips=scenario.roundtrips,this.maxErrors=scenario.maxErrors,this.slots=scenario.slots,this.limit=!this.sequential&&!!this.slots,this.autoCommit=scenario.autoCommit,this.autoCommitTriggerLast=scenario.autoCommitTriggerLast);const designer=(_d2=(_c2=data2==null?void 0:data2.blueprint)==null?void 0:_c2.metadata)==null?void 0:_d2.designer;if(designer&&(this.renamed=designer.renamed??!1,this.notes=designer.notes??[],this._loadedSamples=designer.samples,this.samples=new Samples(this._loadedSamples)),this.instant=data2.blueprint.metadata.instant!=null?data2.blueprint.metadata.instant:this.scheduling.type==="immediately",(_g2=(_f2=(_e2=this._loadedBlueprint)==null?void 0:_e2.metadata)==null?void 0:_f2.designer)!=null&&_g2.samples&&delete this._loadedBlueprint.metadata.designer.samples,this.instant&&this.scheduling.type!=="immediately")return this.scheduling={type:"immediately"};if(!this.instant&&this.scheduling.type==="immediately")return this.scheduling=Object.cloneDeep(DEFAULT_SCHEDULING)}isDraft(){return(imt.team!=null?imt.team.scenarioDrafts:void 0)&&this._blueprintMode==="draft"}isLive(){return(imt.team!=null?imt.team.scenarioDrafts:void 0)&&this._blueprintMode==="live"}hasDraft(){return!!this._draftBlueprint}hasLive(){return!!this._liveBlueprint}getPrevOrDefaultScheduling(){return(this._loadedScheduling!=null?this._loadedScheduling.type:void 0)==="immediately"?DEFAULT_SCHEDULING:this._loadedScheduling||DEFAULT_SCHEDULING}switchBlueprint(type){if(type==="live"){if(this._liveBlueprint)this._loadedBlueprint=Object.cloneDeep(this._liveBlueprint),this.assignBlueprintData(Object.assign({},Object.assign({},this._loadedScenarioWithoutBlueprint,{scheduling:this._loadedScheduling}),{blueprint:this._liveBlueprint}));else throw new Error("Live blueprint is not available");return this._blueprintMode="live"}else if(type==="draft"){if(this._draftBlueprint)this._loadedBlueprint=Object.cloneDeep(this._draftBlueprint),this.assignBlueprintData(Object.assign({},Object.assign({},this._loadedScenarioWithoutBlueprint,{scheduling:this._loadedScheduling}),{blueprint:this._draftBlueprint}));else if(this._liveBlueprint)this._loadedBlueprint=Object.cloneDeep(this._liveBlueprint),this.assignBlueprintData(Object.assign({},Object.assign({},this._loadedScenarioWithoutBlueprint,{scheduling:this._loadedScheduling}),{blueprint:this._liveBlueprint}));else throw new Error("No blueprint is available");return this._blueprintMode="draft"}else{if(this._liveBlueprint)return this._loadedBlueprint=Object.cloneDeep(this._liveBlueprint),this.assignBlueprintData(Object.assign({},Object.assign({},this._loadedScenarioWithoutBlueprint,{scheduling:this._loadedScheduling}),{blueprint:this._liveBlueprint})),this._blueprintMode="live";if(this._draftBlueprint)return this._loadedBlueprint=Object.cloneDeep(this._draftBlueprint),this.assignBlueprintData(Object.assign({},Object.assign({},this._loadedScenarioWithoutBlueprint,{scheduling:this._loadedScheduling}),{blueprint:this._draftBlueprint})),this._blueprintMode="draft";throw new Error("No blueprint is available")}}publish(done){var _a2,_b2;const el=sim(".i-inspector-drafts-publish")[0];if(!(imt.team!=null&&imt.team.scenarioDrafts)||!this.hasDraft())return;const _publish=()=>{var _a3,_b3;return Loader.api(`/scenarios/${(_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario)==null?void 0:_b3.id}/publish`,{method:"POST"},(err,response)=>err?done(err):(this._liveBlueprint=this.toJSON(),this._liveBlueprint.metadata.designer.samples=this.samples.toJSON(),this._draftBlueprint=null,done()))};return this._liveBlueprint&&this._liveBlueprint.metadata.instant!==this.instant||!this._liveBlueprint?Panels.one instanceof SchedulingPanel?Panels.one.close():((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface)!=null&&_b2.input&&(Inspector.instance._surface.input.focus=null),Panels.one=new SchedulingPanel(el,!1,(err,scheduling)=>err?done(err):(this.instant=scheduling.type==="immediately",Loader.api(`scenarios/${this.id}`,{method:"PATCH",data:{scheduling:JSON.stringify(scheduling)},requestId:"scenario_patch"},(err2,res)=>err2?done(err2):(this._loadedScheduling=scheduling,this.scheduling=scheduling,_publish()))))):_publish()}load(id,callback){this.id=id;const loadBuildTimeValues=imt.features.dynamicConnections&&imt.organization.license.dynamicConnections?Loader.apip(`scenarios/${this.id}/build-variables`):new Promise(resolve=>resolve({variables:{input:[]}})),loadBp=new Promise((resolve,reject2)=>Loader.api(`scenarios/${this.id}/blueprint`,{requestId:"scenario.load_blueprint"},(err,data2)=>err?reject2(err):Loader.api(`scenarios/${this.id}/blueprint?draft=true`,{requestId:"scenario.load_blueprint"},(err2,draft)=>err2?reject2(err2):resolve([data2,draft]))));return Promise.all([loadBuildTimeValues,loadBp]).then(values=>{const buildValues=values[0],data2=values[1][0],draft=values[1][1];return this._io.buildTimeValues=buildValues.variables.input,debug$4("blueprint:",data2.blueprint),debug$4("scheduling:",data2.scheduling),this._liveBlueprint=data2.blueprint,this._loadedScenarioWithoutBlueprint={created:data2.created,idSequence:data2.idSequence,lastEdit:data2.last_edit},this._loadedScheduling=data2.scheduling,this._io.spec.input=(data2.metadata!=null?data2.metadata.input_spec:void 0)||[],this._io.spec.output=(data2.metadata!=null?data2.metadata.output_spec:void 0)||[],this._loadedIO=Object.cloneDeep(this._io.spec),this._draftBlueprint=draft.blueprint,this.switchBlueprint(),callback(null,this._loadedBlueprint.flow??[])}).catch(err=>callback(err))}reset(blueprint=null,scheduling=null){var _a2;debug$4("reseting scenario");const inputsEnabled=imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO;if(blueprint){if(!inputsEnabled&&blueprint.io)throw new ScenarioFeatureError("scenario inputs");this._io.spec.input=(blueprint.io!=null?blueprint.io.input_spec:void 0)||[],this._io.spec.output=(blueprint.io!=null?blueprint.io.output_spec:void 0)||[],delete blueprint.io}else this._io.spec=Object.cloneDeep(this._loadedIO);this._io.cache={},blueprint??(blueprint=this._loadedBlueprint),scheduling??(scheduling=this._loadedScheduling??DEFAULT_SCHEDULING),this.scheduling=Object.cloneDeep(scheduling);const scenario=(_a2=blueprint==null?void 0:blueprint.metadata)==null?void 0:_a2.scenario;return scenario&&(this.sequential=scenario.sequential,this.confidential=scenario.confidential,this.dataloss=scenario.dataloss,this.dlq=scenario.dlq,this.freshVariables=scenario.freshVariables,this.roundtrips=scenario.roundtrips,this.maxErrors=scenario.maxErrors,this.slots=scenario.slots,this.limit=!this.sequential&&!!this.slots,this.autoCommit=scenario.autoCommit,this.autoCommitTriggerLast=scenario.autoCommitTriggerLast),this.notes=(blueprint.metadata.designer!=null?blueprint.metadata.designer.notes:void 0)??[],this.samples=new Samples(this._loadedSamples),this.instant=blueprint.metadata.instant!=null?blueprint.metadata.instant:this.scheduling.type==="immediately",blueprint.name!=null&&(this.renamed=!0,this.name=blueprint.name,imtEvents.dispatch("designer.set_name",this.name)),this.instant&&this.scheduling.type!=="immediately"?this.scheduling={type:"immediately"}:!this.instant&&this.scheduling.type==="immediately"&&(this.scheduling=Object.cloneDeep(DEFAULT_SCHEDULING)),blueprint}resolveDefaultName(){var _a2,_b2,_c2,_d2;let node2;const packages=[];let nodes=[((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._start)instanceof Scheduling?(_c2=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2._start)==null?void 0:_c2.next:(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2._start];for(;node2=nodes.shift();){var{next}=node2;Array.isArray(next)?nodes=nodes.concat(next):nodes.push(next),node2.package!=null&&node2.package.name!=="builtin"&&!packages.includes(node2.package.label)&&packages.push(node2.package.label)}return packages.length===0?imt.l("inspector","scenario.emptyintegration"):imt.l("inspector","scenario.integration",{data:{value:packages.join(", ")}})}save(automatic,callback,confirmed){var _a2,_b2,_c2,_d2,_e2,_f2,_g2;if(typeof automatic=="function"&&(callback=automatic,automatic=!1),automatic&&this.id)return setImmediate(()=>callback(null,!1));const cfg=this.toJSON();if(this._saving)return;this._saving=!0,cfg.metadata.designer.samples=this.samples.toJSON();const inputsEnabled=imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO;return Loader.api(`scenarios${this.id?`/${this.id}`:""}${confirmed?"?confirmed=true":""}`,{method:this.id?"PATCH":"POST",data:{blueprint:JSON.stringify(cfg),teamId:this.id?void 0:this._basedOn&&((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.templateSettings)?(_c2=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.templateSettings)==null?void 0:_c2.team:imt.team.id,scheduling:imt.team!=null&&imt.team.scenarioDrafts&&this.isDraft()&&this.id?void 0:JSON.stringify(this.scheduling),basedon:!this.id&&this._basedOn?parseInt((_e2=(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.root)==null?void 0:_e2.data("templatePublicId")):void 0,folderId:this.id?void 0:parseInt((_g2=(_f2=Inspector==null?void 0:Inspector.instance)==null?void 0:_f2.root)==null?void 0:_g2.data("folderId")),metadata:inputsEnabled?{input_spec:this._io.spec.input,output_spec:this._io.spec.output}:void 0},requestId:this.id?"scenario.patch_scenario":"scenario.create_scenario"},(err,res)=>{var _a3,_b3;if(this._saving=!1,err)return callback(err);if(imt.features.dynamicConnections&&imt.organization.license.dynamicConnections&&Loader.api(`scenarios/${res.scenario.id}/build-variables`,{method:"PUT",data:{input:this._io.spec.input.filter(spec=>!!this._io.buildTimeValues[spec.name]).map(spec=>({name:spec.name,value:this._io.buildTimeValues[spec.name]}))}},(err2,res2)=>{if(err2)return new Alert(Alert.parseError(err2)).show()}),isFeatureOn("new-notes",!1)&&notes.save({apiUrl:imt.apiurl,scenarioId:res.scenario.id,organizationId:imt.organization.id,teamId:imt.team.id}),this.lastEdit=res.scenario.lastEdit,this.isDraft()||this.clearLocalInstanceData(cfg),!this.id){this.id=res.scenario.id,this.created=res.scenario.created||res.scenario.lastEdit,this._loadedScenarioWithoutBlueprint={created:this.created};const data2={scenario:{id:res.scenario.id},company:{id:imt.team.id},team:{id:imt.team.id}};(_a3=sim("#scenarioswitch"))==null||_a3.removeClass("disabled"),sim("[data-post-save]").each(function(){const attrs=this.data("post-save").split(",");for(var attr of attrs)this.attr(attr,this.attr(attr).format(data2));return this.is("@remote-table")&&this.load(),null})}return this._loadedScheduling=res.scenario.scheduling,this._loadedSamples=cfg.metadata.designer.samples,this._draftBlueprint!=null&&(this._draftBlueprint.name=res.scenario.name),this._liveBlueprint!=null&&(this._liveBlueprint.name=res.scenario.name),this._loadedScenarioWithoutBlueprint.idSequence=res.scenario.moduleSequenceId||this.idSequence,this._loadedScenarioWithoutBlueprint.lastEdit=res.scenario.lastEdit,imt.team!=null&&imt.team.scenarioDrafts&&this.isDraft()?this._draftBlueprint=Object.cloneDeep(cfg):this._liveBlueprint=Object.cloneDeep(cfg),delete cfg.metadata.designer.samples,this._loadedBlueprint=Object.cloneDeep(cfg),this._loadedIO=Object.cloneDeep(this._io.spec),(_b3=Inspector==null?void 0:Inspector.instance)==null||_b3.emit("scenario_saved"),callback(null,!0)})}toJSON(test=!1,single=null){var _a2;let module2;var iterate=function(module22,flow2=[]){if(!module22)return flow2;const json2=module22.toJSON(test);if(json2&&flow2.push(json2),module22 instanceof Router){json2.routes=[];for(var route of module22._outputLinks)json2.routes.push({disabled:route.paused||void 0,flow:iterate(route.node2)})}else module22._errorHandler&&(json2.onerror=iterate(module22._errorHandler.node2)),iterate(module22.next,flow2);return flow2};let first=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._start;first instanceof Scheduling&&(first=first.next);const json={name:this.name,flow:test&&single?[single.toJSON(!0,!0)]:iterate(first),metadata:{instant:this.instant,version:1,scenario:{roundtrips:this.roundtrips,maxErrors:this.maxErrors,autoCommit:this.autoCommit,autoCommitTriggerLast:this.autoCommitTriggerLast,sequential:this.sequential,slots:this.slots,confidential:this.confidential,dataloss:this.dataloss,dlq:this.dlq,freshVariables:this.freshVariables}}};return test?(this.id&&(json.metadata.scenario.id=this.id),single!=null&&(json.metadata.scenario.runSingle=!0)):(json.metadata.designer={orphans:(()=>{var _a3;const result=[];for(module2 of((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.findObject("module"))??[])module2.first===module2&&result.push(iterate(module2));return result})(),notes:!isFeatureOn("new-notes",!1)&&this.notes&&this.notes.length?this.notes:void 0},this.concept&&this.renamed&&(json.metadata.designer.renamed=!0)),json}toSVG(){var _a2,_b2,_c2;const modules=[],links=[],aggregations=[],guides=[],feeders={};let maxX=1,maxY=1;const BUILTINS={BasicFeeder:"feeder",DoUntilFeeder:"feeder",BasicAggregator:"aggregator",BasicRepeater:"repeater",Rollback:"rollback",Break:"break",Resume:"resume",Commit:"commit",Ignore:"ignore"};class SVG{constructor(type){this.type=type,this.nested=[]}toString(level2=0){let args;switch(this.type){case"anchor":args=[this.theme,this.errorHandler,this.direction];break;case"router":args=["Router",this.theme,this.x,this.y,this.leftAnchor,this.rightAnchor];break;case"module":args=[this.label,this.description,this.name,this.theme,this.x,this.y,this.leftAnchor,this.rightAnchor];break;case"link":args=[this.label,this.theme,this.theme2,this.prev.x,this.prev.y,this.direction,this.errorHandler];break;case"scheduling":args=[this.theme,this.scheduling];break;case"aggregation":args=[this.x,this.y,this.length];break;case"status":args=[this.status,0];break;case"bubble":args=[this.operations];break;case"guide":args=[this.icons,this.nth,this.start,this.finished];break;default:args=[]}let txt=`${"	".repeat(level2)}+svg_${this.type}(${args.map(JSON.stringify).join(", ")})
`;return this.nested.length&&(txt+=this.nested.map(item=>item.toString(level2+1)).join("")),txt}push(item){return this.nested.push(item)}static anchor(theme,errorHandler,direction){const s2=new SVG("anchor");return s2.errorHandler=errorHandler,s2.direction=direction,s2.theme=theme,s2}static filter(){return new SVG("filter")}static router(theme,x2,y2){const s2=new SVG("router");return s2.rightAnchor="r",s2.leftAnchor="l",s2.theme=theme,s2.x=x2,s2.y=y2,s2}static module(label,description,name,theme,x2,y2){const s2=new SVG("module");return s2.rightAnchor="r",s2.leftAnchor="l",s2.label=label,s2.description=description,s2.name=name,s2.theme=theme,s2.x=x2,s2.y=y2,s2}static link(label,theme,theme2,direction,errorHandler,prev){const s2=new SVG("link");return s2.label=label,s2.theme=theme,s2.theme2=theme2,s2.direction=direction,s2.prev=prev,s2.errorHandler=errorHandler,s2}static scheduling(theme,scheduling){const s2=new SVG("scheduling");return s2.theme=theme,s2.scheduling=scheduling,s2}static aggregation(x2,y2,length){const s2=new SVG("aggregation");return s2.length=length,s2.x=x2,s2.y=y2,s2}static status(status){const s2=new SVG("status");return s2.status=status,s2}static bubble(operations){const s2=new SVG("bubble");return s2.operations=operations,s2}static guide(icons2=[],nth=1,start2=0){const s2=new SVG("guide");return s2.icons=icons2,s2.nth=nth,s2.start=start2,s2.finished=!0,s2}}var iterate=(module2,x2=1,y2=1,direction="r",prev=[],modifyOffset=!0,errorHandler=!1)=>{var _a3,_b3;let svg;if(!module2)return 0;let offset2=0;if(module2 instanceof Router){if(module2._outputLinks.length!==2)throw new Error("SVG diagrams only support 2 routes on a router.");modules.push(svg=SVG.router(module2.package.theme,x2,y2)),svg.id=module2.id,svg.rightAnchor="rt",svg.push(SVG.anchor(module2.package.theme,!1,"rb")),offset2+=iterate(module2._outputLinks[0].node2,x2+1,modifyOffset?y2:y2-.5,"rt",[svg].concat(prev),modifyOffset),offset2+=iterate(module2._outputLinks[1].node2,x2+1,modifyOffset?y2+offset2+1:y2+.5,"rb",[svg].concat(prev),!1),modifyOffset&&(offset2+=.5)}else{let mdlName=module2.package.name;if(mdlName==="builtin"&&(mdlName=`${mdlName}_${BUILTINS[module2.config.name]}`),modules.push(svg=SVG.module(module2.package.label,module2.config.label,mdlName,module2.package.theme,x2,y2)),svg.id=module2.id,module2._errorHandler?module2.next?(svg.rightAnchor="rt",svg.push(SVG.anchor(module2.package.theme,!0,"rb")),offset2+=iterate(module2.next,x2+1,modifyOffset?y2:y2-.5,"rt",[svg].concat(prev),modifyOffset),offset2+=iterate(module2._errorHandler.node2,x2+1,modifyOffset?y2+offset2+1:y2+.5,"rb",[svg].concat(prev),!1,!0),modifyOffset&&(offset2+=.5)):offset2+=iterate(module2._errorHandler.node2,x2+1,y2,"r",[svg].concat(prev),modifyOffset,!0):module2.next&&(offset2+=iterate(module2.next,x2+1,y2,"r",[svg].concat(prev),modifyOffset)),module2 instanceof Aggregator){const id=Number(module2.parameters!=null?module2.parameters.feeder:void 0);if(!isNaN(id)){feeders[id]=module2.id;for(let i2=0;i2<prev.length;i2++){var p2=prev[i2];if(p2.id===id){aggregations.push(SVG.aggregation(p2.x,p2.y,i2+2));break}}}}module2.status&&svg.push(SVG.status(module2.status)),module2.operations>0&&svg.push(SVG.bubble(module2.operations))}if(prev.length){let link;links.unshift(link=SVG.link((module2.filter!=null?module2.filter.name:void 0)||"",prev[0].theme,svg.theme,direction,errorHandler,prev[0])),(_b3=(_a3=module2==null?void 0:module2.filter)==null?void 0:_a3.conditions)!=null&&_b3.length&&link.push(SVG.filter())}else svg.push(SVG.scheduling(module2.package.theme,this.instant?"push":"poll"));return direction==="rt"?svg.leftAnchor="lb":direction==="rb"&&(svg.leftAnchor="lt"),svg.y+=offset2,maxX=Math.max(maxX,svg.x),maxY=Math.max(maxY,svg.y),offset2};let first=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._start;if(first instanceof Scheduling&&(first=first.next),iterate(first),(_c2=(_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.runtime)!=null&&_c2.roundtrip[0]){const opOnAgg={};var iterateExplainer=function(module2,op=0,start2=0,guide=null,stopAggOn=null){var _a3,_b3,_c3,_d2,_e2,_f2,_g2,_h2,_i2;if(guide||guides.push(guide=SVG.guide()),!module2)return;start2+=1,guide.icons.push("&#xf085;");let prefix="";if(module2 instanceof Aggregator){if(stopAggOn!==module2.id){guide.finished=!1;return}opOnAgg[_a3=module2.id]??(opOnAgg[_a3]=0),op=opOnAgg[module2.id]++,prefix=">".repeat((_f2=(_e2=(_d2=(_c3=(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3.runtime)==null?void 0:_c3.roundtrip[0][module2.id])==null?void 0:_d2.operations[op])==null?void 0:_e2.input)==null?void 0:_f2.length)}const operation=(_i2=(_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.runtime)==null?void 0:_h2.roundtrip[0][module2.id])==null?void 0:_i2.operations[op];if(operation.output!=null&&operation.output.length)return(()=>{const result=[];for(let index2=0;index2<operation.output.length;index2++){operation.output[index2];var icon=Surface.Explainer.ICONS[EXPLAINER_RESOLVE_ICON(module2)];icon&&(icon=`&#x${icon.charCodeAt(0).toString(16)};`),icon=`${prefix}${icon||"&#xf1b2;"}`,guide?guide.icons.push(icon):guides.push(guide=SVG.guide([icon],guides.length+1,start2,!0)),iterateExplainer(module2.next,index2,start2+1,guide,index2===operation.output.length-1?feeders[module2.id]:null),result.push(guide=null)}return result})()};iterateExplainer(first)}return`+svg_scenario(${maxX}, ${maxY}, ${guides.length})
${aggregations.map(item=>item.toString(1)).join("")}	+svg_flow()
${modules.map(item=>item.toString(2)).join("")}
	+svg_links()
${links.map(item=>item.toString(2)).join("")}
${guides.length?`	+svg_explainer()
`+guides.map(item=>item.toString(2)).join(""):""}`}static fromTemplate(id,callback){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2;const scenario=new Scenario;let url="";const templateId=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("template"),templatePublicQuery=(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.root)!=null&&_d2.data("templatePublicId")?`templatePublicId=${(_f2=(_e2=Inspector==null?void 0:Inspector.instance)==null?void 0:_e2.root)==null?void 0:_f2.data("templatePublicId")}`:"";if(location.pathname.includes("/test")){const query=[(_h2=(_g2=Inspector==null?void 0:Inspector.instance)==null?void 0:_g2.root)!=null&&_h2.data("forUse")?"forUse=true":null,templatePublicQuery].filter(param=>param).join("&");url=query?`templates/${templateId}/blueprint?${query}`:`templates/${templateId}/blueprint`}else url=`templates/public/${templateId}/blueprint?${templatePublicQuery}`;return Loader.api(url,async function(err,data2){var _a3,_b3,_c3,_d3,_e3;return err?callback(err):(console.log("[imt:inspector] blueprint:",data2.blueprint),console.log("[imt:inspector] controller:",data2.controller),console.log("[imt:inspector] scheduling:",data2.scheduling),scenario._loadedBlueprint=data2.blueprint,scenario._loadedScheduling=data2.scheduling,scenario.templateController=data2.controller,scenario.privateValues=data2.privateValues,scenario.scheduling=Object.cloneDeep(data2.scheduling??DEFAULT_SCHEDULING),scenario.idSequence=scenario.templateController.idSequence??100,scenario.name=data2.controller.name||((_a3=data2.controller.metadata)==null?void 0:_a3.name)||data2.blueprint.name||"",scenario._basedOn=id,scenario.notes=((_d3=(_c3=(_b3=data2==null?void 0:data2.blueprint)==null?void 0:_b3.metadata)==null?void 0:_c3.designer)==null?void 0:_d3.notes)??[],scenario.instant=(data2.blueprint.metadata!=null?data2.blueprint.metadata.instant:void 0)??!1,((_e3=data2==null?void 0:data2.scheduling)==null?void 0:_e3.type)==="immediately"&&(scenario.instant=!0),callback(null,data2.blueprint.flow??[]))}),scenario}}Scenario.initClass();class DLQScenario extends Scenario{static initClass(){this.prototype.resolved=!1,this.property("snapshots",{get(){return this.resolved?{}:(this._loadedBlueprint!=null?this._loadedBlueprint.snapshots:void 0)||{}}}),this.property("organizationVariablesSpec",{get(){var _a2,_b2;return this.resolved?[]:((_b2=(_a2=this._loadedBlueprint)==null?void 0:_a2.snapshots)==null?void 0:_b2.organizationVariablesSpec)||[]}}),this.property("scenarioInputSpec",{get(){var _a2,_b2;return this.resolved?[]:((_b2=(_a2=this._loadedBlueprint)==null?void 0:_a2.snapshots)==null?void 0:_b2.scenarioInputSpec)||[]}}),this.property("teamVariablesSpec",{get(){var _a2,_b2;return this.resolved?[]:((_b2=(_a2=this._loadedBlueprint)==null?void 0:_a2.snapshots)==null?void 0:_b2.teamVariablesSpec)||[]}}),this.property("changed",{get(){var _a2,_b2;if(this.resolved)return!1;if(this._loadedBlueprint==null)return!0;const loadedBlueprint=Object.cloneDeep(this._loadedBlueprint),dlqBlueprint=Object.cloneDeep(this.toJSON());return dlqBlueprint.metadata.instant=this.instant,delete loadedBlueprint.snapshots,delete dlqBlueprint.metadata.scenario.autoCommitTriggerLast,!deepEqual(loadedBlueprint,dlqBlueprint)||this._loadedFailer!==((_b2=(_a2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_a2._failer)==null?void 0:_b2.id)}})}load(id,scenarioId,callback){return this.id=id,this.scenarioId=scenarioId,Loader.api(`dlqs/${this.id}/blueprint`,{requestId:"scenario.load_dlqs_blueprint"},(err,data2)=>{var _a2,_b2,_c2,_d2;if(err)return callback(err);console.log("[imt:inspector] blueprint:",data2),(_b2=(_a2=data2==null?void 0:data2.blueprint)==null?void 0:_a2.metadata)!=null&&_b2.designer&&delete data2.blueprint.metadata.designer,this._loadedBlueprint=data2.blueprint,this._loadedFailer=data2.failer,this.name=data2.blueprint.name??"",this.idSequence=data2.idSequence??1,this.failer=data2.failer,this.reason=data2.reason;const scenario=(_d2=(_c2=data2==null?void 0:data2.blueprint)==null?void 0:_c2.metadata)==null?void 0:_d2.scenario;return scenario&&(this.dlq=scenario.dlq,this.roundtrips=scenario.roundtrips,this.maxErrors=scenario.maxErrors,this.autoCommit=scenario.autoCommit),console.warn("response autoCommitTriggerLast:",scenario==null?void 0:scenario.autoCommitTriggerLast),console.warn("response autoCommitTriggerLast?:",scenario==null?void 0:scenario.autoCommitTriggerLast),console.warn("previous value",this.autoCommitTriggerLast),scenario&&(this.autoCommitTriggerLast=scenario.autoCommitTriggerLast),console.warn("set autoCommitTriggerLast to:",this.autoCommitTriggerLast),callback(null,data2.blueprint.flow??[],[])})}reset(){var _a2,_b2;debug$4("reseting scenario");const scenario=(_b2=(_a2=this._loadedBlueprint)==null?void 0:_a2.metadata)==null?void 0:_b2.scenario;return scenario&&(this.dlq=scenario.dlq,this.roundtrips=scenario.roundtrips,this.maxErrors=scenario.maxErrors,this.autoCommit=scenario.autoCommit,this.autoCommitTriggerLast=scenario.autoCommitTriggerLast),this.failer=this._loadedFailer,this._loadedBlueprint}save(callback){var _a2,_b2;const cfg=this.toJSON(),failer=(_b2=(_a2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_a2._failer)==null?void 0:_b2.id;if(!failer)return setImmediate(()=>callback(new Error("No trigger specifier.")));if(!this._saving)return this._saving=!0,Loader.api(`dlqs/${this.id}`,{method:"PATCH",data:{blueprint:JSON.stringify(cfg),failer}},(err,id)=>{var _a3;return this._saving=!1,err?callback(err):(this._loadedBlueprint=cfg,this._loadedFailer=failer,(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.emit("dlq_saved"),callback(null))})}toJSON(test=!1){var _a2,_b2,_c2;var iterate=function(module2,flow2=[]){if(!module2)return flow2;const json2=module2.toJSON(test);if(json2&&flow2.push(json2),module2 instanceof Router){json2.routes=[];for(var route of module2._outputLinks)json2.routes.push({disabled:route.paused||void 0,flow:iterate(route.node2)})}else module2._errorHandler&&(json2.onerror=iterate(module2._errorHandler.node2)),iterate(module2.next,flow2);return flow2};let first=(_a2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_a2._start;first instanceof Scheduling&&(first=first.next);const json={name:this.name,flow:iterate(first),metadata:{user:{id:imt.user.id},version:1,scenario:{dlq:this.dlq,autoCommit:this.autoCommit,autoCommitTriggerLast:this.autoCommitTriggerLast!=null?this.autoCommitTriggerLast:void 0,roundtrips:this.roundtrips,maxErrors:this.maxErrors}}};return test&&(json.metadata.dlq={id:this.id,failer:(_c2=(_b2=DLQInspector==null?void 0:DLQInspector.instance)==null?void 0:_b2._failer)==null?void 0:_c2.id}),json}}DLQScenario.initClass();class DLQSnapshotOverrideConfirmationPanel extends Panel{constructor(relative,confirmType,done){super(relative);const self2=this;this.loading=!0,this.content=sim.div().text(imt.l("inspector","errors."+confirmType)),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.messages.changeValues")),this.appendTo(self2._footer),this.on("click",function(event){return done(!0),self2.close()})}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.messages.continueWithoutChanges")),this.appendTo(self2._footer),this.on("click",function(event){return done(!1),self2.close()})}),this.loading=!1,this.width(450),this.title=imt.l("inspector","common.runIncompleteExecution")}}class DLQSnapshotOverridePanel extends Panel{constructor(relative,config2,values,callback){super(relative);const self2=this;this.width(400),this.title=imt.l("inspector","common.runIncompleteExecution"),this._form=new Formula("ScenarioDLQPrompt"),this._form.on("resize",this._resize),this._form.config=config2,this._form.values=values,this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid()){const res=self2._form.toJSON();return callback({input:res,spec:config2}),self2._close()}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>{if(this._form)return this._form.destroy()})}}const debug$3=imt.debug("imt:inspector","#329032");class Template extends Scenario{static initClass(){this.prototype.controller=null,this.prototype.scheduling=null,this.prototype.language=null,this.prototype._loadedBlueprint=null,this.prototype._loadedController=null,this.prototype._loadedScheduling=null,this.prototype._saving=!1,this.property("changed",{get(){return this._loadedBlueprint==null?!0:!deepEqual(this._loadedBlueprint,this.toJSON())||!deepEqual(this._loadedScheduling,this.scheduling)||!deepEqual(this._loadedController,this.controller)}}),this.property("name",{get(){return this.controller.name},set(value){if(value!==this.controller.name)return this.controller.name=value,this._loadedController!=null?this._loadedController.name=value:void 0}}),this.property("description",{get(){return this.controller.description},set(value){if(value!==this.controller.description)return this.controller.description=value}}),this.property("idSequence",{get(){return this.controller.idSequence??1},set(value){if(value!==this.controller.idSequence)return this.controller.idSequence=value}})}constructor(){super(),this.language=imt.user.language,this.controller={modules:{}},this._loadedController=Object.cloneDeep(this.controller)}load(id,callback){this.id=id;const url=Templater.instance.root.data("templatePublicId")?`templates/${this.id}/blueprint?templatePublicId=`+Templater.instance.root.data("templatePublicId"):`templates/${this.id}/blueprint`;return Loader.api(url,{requestId:"template.load_template_blueprint"},(err,data2)=>{var _a2;return err?callback(err):(console.log("[imt:inspector] blueprint:",data2.blueprint),console.log("[imt:inspector] scheduling:",data2.scheduling),console.log("[imt:inspector] controller:",data2.controller),this._loadedBlueprint=data2.blueprint,this._loadedController=data2.controller,this._loadedScheduling=data2.scheduling,this._loadedSamples=__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x2=>x2.samples),this.scheduling=Object.cloneDeep(data2.scheduling??DEFAULT_SCHEDULING),this.language=data2.language,this.controller=Object.cloneDeep(data2.controller),this.name=data2.controller.name??"",this.description=data2.controller.description??"",(_a2=this.controller).modules??(_a2.modules={}),this.notes=__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x1=>x1.notes)??[],this.samples=new Samples(__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x2=>x2.samples)),__guard__$8(this._loadedBlueprint.metadata!=null?this._loadedBlueprint.metadata.designer:void 0,x3=>delete x3.samples),callback(null,data2.blueprint.flow??[]))})}reset(blueprint=null,scheduling=null){var _a2;return debug$3("reseting template"),scheduling??(scheduling=this._loadedScheduling??DEFAULT_SCHEDULING),this.scheduling=Object.cloneDeep(scheduling),this.controller=blueprint?{...this.name?{name:this.name}:{},modules:{}}:Object.cloneDeep({...this._loadedController,...this.name?{name:this.name}:{}}),this.description=((_a2=this._loadedController)==null?void 0:_a2.description)||"",this.samples=new Samples(this._loadedSamples),blueprint||this._loadedBlueprint}save(automatic,callback){if(typeof automatic=="function"&&(callback=automatic,automatic=!1),automatic)return setImmediate(()=>callback(null,!1));const cfg=this.toJSON();if(this._saving)return;this._saving=!0,cfg.metadata.designer.samples=this.samples.toJSON();const method=this.id?"PATCH":"POST",query=Templater.instance.root.data("templatePublicId")?"?templatePublicId="+Templater.instance.root.data("templatePublicId"):"",url=`templates${this.id?`/${this.id}`:""}${query}`,opt={method,data:{blueprint:JSON.stringify(cfg),controller:JSON.stringify(this.controller),scheduling:JSON.stringify(this.scheduling)},requestId:this.id?"template.patch_template":"template.create_template"};return this.id||(opt.data.teamId=imt.team.id,opt.data.language=this.language),Loader.api(url,opt,(err,res)=>{this._saving=!1;const{template}=res;if(err)return callback(err);if(!this.id){this.id=template.id;const data2={template:{id:template.id},company:{id:imt.team.id},team:{id:imt.team.id}};__guard__$8(sim("#scenarioswitch"),x2=>x2.removeClass("disabled")),sim("[data-post-save]").each(function(){const attrs=this.data("post-save").split(",");for(var attr of attrs)this.attr(attr,this.attr(attr).format(data2));return this.is("@remote-table")&&this.load(),null})}return this.controller.name=template.name,this._loadedBlueprint=cfg,this._loadedScheduling=Object.cloneDeep(this.scheduling),this._loadedController=Object.cloneDeep(this.controller),this._loadedSamples=cfg.metadata.designer.samples,delete cfg.metadata.designer.samples,__guard__$8(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.emit("template_saved")),callback(null)})}toJSON(test=!1,single=null){let id;const modules=Templater.instance.findObject("module");for(id in this.controller.modules){var found=!1;for(var module2 of modules)if(module2.id===parseInt(id)){found=!0;break}found?(this.controller.modules[id].fields!=null&&Object.keys(this.controller.modules[id].fields).length===0&&delete this.controller.modules[id].fields,this.controller.modules[id].filter!=null&&Object.keys(this.controller.modules[id].filter).length===0&&delete this.controller.modules[id].filter,Object.keys(this.controller.modules[id]).length===0&&delete this.controller.modules[id]):delete this.controller.modules[id]}const json=super.toJSON(test);return delete json.name,delete json.description,delete json.metadata.scenario.id,test&&this.id&&(json.metadata.template={id:this.id}),single&&(json.flow=[single.toJSON(!0,!0)]),json}static fromScenario(id,callback){const template=new Template;return Loader.api(`scenarios/${id}/blueprint`,{requestId:"template.load_scenario_blueprint"},function(err,data2){return err?callback(err):(console.log("[imt:inspector] blueprint:",data2.blueprint),console.log("[imt:inspector] scheduling:",data2.scheduling),console.log("[imt:inspector] controller:",{}),template._loadedBlueprint=data2.blueprint,template._loadedScheduling=data2.scheduling,template._loadedSamples=__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x2=>x2.samples),template.scheduling=Object.cloneDeep(data2.scheduling),template.templateController={},template.idSequence=data2.idSequence??1,template.name=data2.blueprint.name,template.description="",template.notes=__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x1=>x1.notes)??[],template.samples=new Samples(__guard__$8(data2.blueprint.metadata!=null?data2.blueprint.metadata.designer:void 0,x2=>x2.samples)),__guard__$8(template._loadedBlueprint.metadata!=null?template._loadedBlueprint.metadata.designer:void 0,x3=>delete x3.samples),callback(null,data2.blueprint.flow??[]))}),template}}Template.initClass();function __guard__$8(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class Action extends Module{constructor(pkg,config2){super(pkg,config2),this.config=config2,this.TYPE="action",this.registerUpgradePanel(),this.style.cursor="pointer",this._outputAnchorDragger.visible=!0,this._inputAnchorDragger.visible=!0,this.validate()}createContextMenu(){var _a2,_b2,_c2;if(((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="inspect"||this.locked)return null;const menu=[];return this.selected?(menu.push({label:imt.l("inspector","buttons.copymultiple"),icon:"copy",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.copyModules()}}),menu.push({label:imt.l("inspector","buttons.delmultiple"),icon:"trash",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.deleteModules()}}),menu):(menu.push({default:!0,label:imt.l("inspector","buttons.setup"),icon:"cog",click:()=>this.focus()}),menu.push({label:imt.l("inspector","buttons.runsingle"),icon:"play",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.startTest(this)}}),this.prev instanceof Scheduling&&menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>{var _a3,_b3;const ph=(_a3=Inspector.instance)==null?void 0:_a3.addPlaceholder(new Point(this.x,this.y));this.stage.attach(ph),this._inputLink.node2=ph,this.stage.attach(new Link(ph,this));for(const node2 of ph.nextAll())new Surface.Animation(node2,{x:{plus:300}},{interrupt:!0,duration:200,completeOnInterrupt:!0,easing:"easeOutCirc"});return(_b3=Inspector==null?void 0:Inspector.instance)==null||_b3.emit("add_placeholder",ph),delay(250,()=>this.stage.surface.input.focus=ph)}}),this._errorHandler||menu.push({label:imt.l("inspector","buttons.adderrorhandler"),icon:"exclamation-triangle",click:()=>this.addErrorHandler()}),menu.push({label:imt.l("inspector","buttons.rename"),icon:"eraser",click:()=>this.renameModule()}),menu.push({label:imt.l("inspector","buttons.duplicate"),icon:"clone",click:()=>this.cloneModule()}),menu.push({label:imt.l("inspector","buttons.copy"),icon:"copy",click:()=>this.copyModule()}),!this.hasNote&&!((_c2=(_b2=imt.brand)==null?void 0:_b2.theme)!=null&&_c2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addNote(this)}}),this.hasNote&&isFeatureOn("new-notes")&&menu.push({label:imt.l("inspector","notes.editNote"),icon:"sticky-note",click:()=>{const n2=notes.getNoteByModule(this.id);n2==null||n2.togglePreview(!1)}}),typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&menu.push({label:"Open in Debugger",icon:"bug",click:()=>IMTDevTool.focusModule(this.id)}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.onDeleteModule()}),menu)}link(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=link;return}super.link(link,type),type==="output"?(this._outputLink=link,this._outputAnchorDragger.visible=!1):(this._inputLink=link,this._inputAnchorDragger.visible=!1),this.validate()}unlink(link,type){if(type==="output"&&link.isErrorHandler){this._errorHandler=null;return}super.unlink(link,type),type==="output"?(this._outputLink=null,this._outputAnchorDragger.opacity=1,this._outputAnchorDragger.visible=!0):(this._inputLink=null,this._inputAnchorDragger.opacity=1,this._inputAnchorDragger.visible=!0),this.validate()}canLink(node2,type){var _a2,_b2;return type==="input"?node2.TYPE==="directive"||((_a2=this._outputLink)==null?void 0:_a2.node2)===node2?!1:this.prev instanceof Scheduling&&node2.first.canLinkWithScheduling()?!0:this._inputLink==null:node2.TYPE==="directive"?this.isInsideErrorHandler&&this._outputLink==null:((_b2=this._inputLink)==null?void 0:_b2.node1)===node2?!1:this._outputLink==null}canLinkWithRouter(node2,type){return type==="output"?node2.TYPE!=="directive":!1}canLinkWithErrorHandler(node2,type){return type==="output"?node2.TYPE==="directive"&&!this._errorHandler:!1}canLinkWithScheduling(scheduling){return this._inputLink==null||this.prev===scheduling}validate(){var _a2;super.validate(),this.messages!=null&&this.messages.clear("badresponder"),this.config.responder&&((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.scenario.sequential)&&this.messages.add("badresponder","warning","Responder is not supported when scenario is configured for sequential processing.")}}Surface.Action=Action;class Directive extends Module{constructor(pkg,config2){super(pkg,config2),this.TYPE="directive",this.style.cursor="pointer",this._layout="stroke",this._outputAnchorDragger.visible=!1,this._inputAnchorDragger.visible=!0,this.validate()}get hasSubsequentDirective(){return!1}createContextMenu(){var _a2,_b2,_c2;if(((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="inspect"||this.locked)return null;const menu=[];return this.selected?(menu.push({label:imt.l("inspector","buttons.copymultiple"),icon:"copy",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.copyModules()}}),menu.push({label:imt.l("inspector","buttons.delmultiple"),icon:"trash",click(){var _a3;(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.deleteModules()}}),menu):(menu.push({default:!0,label:imt.l("inspector","buttons.setup"),icon:"cog",click:()=>this.focus()}),menu.push({label:imt.l("inspector","buttons.rename"),icon:"eraser",click:()=>this.renameModule()}),menu.push({label:imt.l("inspector","buttons.copy"),icon:"copy",click:()=>this.copyModule()}),!this.hasNote&&!((_c2=(_b2=imt.brand)==null?void 0:_b2.theme)!=null&&_c2.startsWith("ems"))&&menu.push({label:imt.l("inspector","buttons.addnote"),icon:"sticky-note",click:()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addNote(this)}}),typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&menu.push({label:"Open in Debugger",icon:"bug",click:()=>IMTDevTool.focusModule(this.id)}),this.removable&&menu.push({label:imt.l("inspector","buttons.delmodule"),icon:"trash",click:()=>this.onDeleteModule()}),menu)}canLink(node2,type){return type==="input"?node2.isInsideErrorHandler&&this._inputLink==null:!1}canLinkWithRouter(){return!1}canLinkWithErrorHandler(node2,type){return type==="output"?!1:!node2._errorHandler&&this._inputLink==null}canLinkWithScheduling(){return!1}link(link,type){super.link(link,type),this._inputLink=link,this._inputAnchorDragger.visible=!1}unlink(link,type){super.unlink(link,type),this._inputLink=null,this._inputAnchorDragger.opacity=1,this._inputAnchorDragger.visible=!0}validate(){super.validate(),this.messages!=null&&this.messages.clear("badroute"),this.isInsideErrorHandler||this.messages.add("badroute","error",imt.l("inspector","errors.directiveout"))}}Surface.Directive=Directive;class BreakDirective extends Directive{validate(){var _a2,_b2;super.validate(),(_a2=this.messages)==null||_a2.clear("badsettings"),Inspector.instance instanceof Designer&&!((_b2=Inspector==null?void 0:Inspector.instance)!=null&&_b2.scenario.dlq)&&this.messages.add("badsettings","error",imt.l("inspector","errors.breaknodlq"))}}class ResumeDirective extends Directive{get hasParameters(){return this.package.name==="builtin"&&this.config.name==="Resume"}createSetupForm(options,done,extras){var _a2,_b2,_c2,_d2;let key,value,item;options instanceof Function&&(extras=done,done=options,options={}),Inspector.instance instanceof Templater&&(options.templater=((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.controller.modules[this.id])==null?void 0:_b2.fields)??{});let pills=[],samples={};const parameters=[];for(item of this.config.parameters??[])parameters.push(structuredClone(item));const expect=((_c2=this.prevBeforeErrorHandler)==null?void 0:_c2.interface())??[],prev=this.prevInFlow;samples=(prev==null?void 0:prev.samples(!0,this._inputLink.isErrorHandler))??{},pills=(prev==null?void 0:prev.pills(!0,this._inputLink.isErrorHandler))??[];const mapper=[];for(item of expect)mapper.push(structuredClone(item));const form=new Formula("Parameters");form.config=parameters;let domain=form.domains.set("expect",mapper,this.mapper);if(domain.priority=1,domain.defaults.coder=!0,this.config.defaults)for(domain in this.config.defaults){const defaults2=this.config.defaults[domain];for(key in defaults2)value=defaults2[key],form.domains.get(domain).defaults[key]=value}((_d2=this.metadata)==null?void 0:_d2.restore)!=null&&form.restore(this.metadata.restore),form.values=this.parameters,form.options={package:this.package,config:this.config,samples,pills};for(key in options)value=options[key],form.options[key]=value;extras==null||extras(form);let sync=!0;return form.build(function(err){return sync?setImmediate(()=>done(err)):done(err)}),sync=!1,form}link(link,type){super.link(link,type),type==="input"&&setImmediate(()=>{const prev=this.prevBeforeErrorHandler;prev&&(this.theme=prev.theme.transparent(0),this._inputLink.update())})}unlink(link,type){super.unlink(link,type),type==="input"&&(this.theme=new ImtColor$1(0,0,0,0))}}class Search extends Action{constructor(){super(...arguments),this.TYPE="search"}interface(inherited=!1,errorHandler=!1){const iface=super.interface(inherited,errorHandler);let array2=inherited?iface[iface.length-1].interface:iface;array2=Array.isArray(array2)?array2:[array2];const keys2=array2.map(item=>item.name);return keys2.indexOf("__IMTINDEX__")===-1&&array2.unshift({name:"__IMTINDEX__",label:imt.l("inspector","common.imtindex"),type:"uinteger"}),keys2.indexOf("__IMTLENGTH__")===-1&&array2.unshift({name:"__IMTLENGTH__",label:imt.l("inspector","common.imtlength"),type:"uinteger"}),iface}}class FeederSetupPanel extends Panel{constructor(relative){var _a2;let item;super(relative);const self2=this;this.help="kb://modules/iterator",this.expandable=!0,this.offsetX=50/window.devicePixelRatio,this.loading=!0;const readonly=((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)==="live";if(!relative.isLinked){sim.button(".btn.btn-default",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",()=>self2._close())}),readonly||sim.button(".btn.btn-primary",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.module.autolink")),this.appendTo(self2._footer),this.on("click",()=>relative.tryAutoConnect(relative.closestLinkableNode()))}),this.warn(imt.l("inspector","panels.module.notconnected")),this.width(350),relative.once("link_confirm",function(link,type){if(!self2._destroyed&&type==="input")return self2.close(),setImmediate(()=>new FeederSetupPanel(relative))});return}const parameters=(()=>{const result=[];for(item of relative.config.parameters??[])result.push(Object.cloneDeep(item));return result})(),values=Object.clone(relative.parameters)??{},expect=relative.expect(),relatives=[],requires=Array.isArray(relative.config.requires)?relative.config.requires:[relative.config.requires];let{prev}=relative;for(;prev&&!(prev instanceof Scheduling);)!(prev instanceof Placeholder)&&requires.includes(`${prev.package.name}:${prev.config.name}`)&&relatives.push({label:`${prev.package.label} [${prev.id}] - ${prev.config.label}`,value:prev.id}),prev=prev.prevInFlow;parameters.unshift({name:"relative",label:imt.l("inspector","panels.feeder.provider"),type:"select",required:"true",options:relatives}),values.relative=relative.metadata.relative,values.relative==null&&relatives.length===1&&(values.relative=relatives[0].value),this._form=new Formula("Feeder"),this._form.on("resize",this._resize),this._form.config=parameters,this._form.values=values,this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return this._form.readonly=readonly,this.title=relative.package.name==="builtin"?relative.config.label:relative.package.label,sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),this._form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){var _a3;if(self2._form.isValid()){self2._form.commit(),relative.parameters=self2._form.toJSON(),relative.metadata.relative=parseInt(relative.parameters.relative),delete relative.parameters.relative,relative.mapper={},relative.metadata.expect=[];for(item of expect.config)relative.mapper[item.name]=IML.stringify(IML.parse(item.pattern,{1:relative.metadata.relative,2:relative.metadata.relative})),relative.metadata.expect.push({name:item.name,type:"array",spec:[]});return relative.setupRequired&&(relative.setupRequired=!1,(_a3=relative.messages)==null||_a3.clear("setupreq")),self2.emit("save"),self2.close()}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>{var _a3,_b2,_c2;this._form.rollback(),this._form.validate(),relative.setupRequired&&(relative.setupRequired=!1,(_a3=relative.messages)==null||_a3.clear("setupreq")),relative.offerMore&&(relative.offerMore=!1,!relative.next&&relative.stage&&!((_b2=Inspector==null?void 0:Inspector.instance)!=null&&_b2.tutorial)&&(relative._outputAnchorDragger.peeking=!0)),(_c2=relative.messages)==null||_c2.clear("setup");for(var invalid of this._form.invalids)for(var error of invalid.errors)relative.messages.add("setup","error",error);return this._form.destroy()})}}class Feeder extends Transformer{constructor(pkg,config2){config2.requires?super(pkg,config2,FeederSetupPanel):super(pkg,config2)}autoConfigure(cfg){return super.autoConfigure(cfg),this.metadata.expect=[{name:"array",type:"array",spec:[]}],this}explain(){return super.explain({feeder:!0,results:3})}labels(source,prefixWithID=!1,inherited=!1,prefixCollections=!0){if(source!=="expect")return super.labels(source,prefixWithID,inherited,prefixCollections);const labels=Object.create(null),iface=super.labels("interface");for(const key in iface){const value=iface[key];labels[`array.${key}`]=value}for(const spec of this.config.expect??[])if(spec.name==="array"){labels.array=spec.label??spec.name;break}return labels}interface(inherited=!1){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2;let node2,type;const{prev}=this,nodes=(prev==null?void 0:prev.interface(!0))??[];let iface=[];if(Array.isArray((_a2=this.mapper)==null?void 0:_a2.array))iface.push({name:"value",label:"Value",type:"text"});else{if(!prev)return[];const input=IML.outputs(IML.parse((_b2=this.mapper)==null?void 0:_b2.array));if(input.type==="variable"){const key=IML._splitVariable(input.name);if(key.length>1){let param;type=key.shift();let k2=parseInt(type);if(type==="var"){const scenarioInput=key[1],inputs=(_g2=(_f2=(_e2=(_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario)==null?void 0:_d2._io)==null?void 0:_e2.spec)==null?void 0:_f2.input)==null?void 0:_g2.filter(i2=>i2.name===scenarioInput);for(const i2 of inputs||[])i2.spec?Array.isArray(i2.spec.spec)?(param=structuredClone(i2.spec.spec),iface=structuredClone(i2.spec.spec)):(param=structuredClone(i2.spec),param.name??(param.name="value"),param.label??(param.label="Value"),iface.push(param)):(param=structuredClone(i2),param.name="value",param.label="Value",iface.push(param))}for(node2 of nodes)if(k2===node2.id){let params=node2.interface;for(;params!=null&&key.length;){k2=key.shift(),/^(.*)\[\d*\]$/.exec(k2)&&(k2=RegExp.$1);for(param of params)if(param.name===k2)break;if(!param){params=null;break}param.type==="array"?Array.isArray(param.spec)?params=param.spec:typeof param.spec=="object"&&param.spec.type==="collection"?params=param.spec.spec:key.length?params=null:(params=[param.spec||{}],params[0].name="value",(_h2=params[0]).label??(_h2.label="Value"),(_i2=params[0]).type??(_i2.type="text")):param.type==="collection"?key.length?params=param.spec:params=null:key.length?params=null:params=[{name:"value",label:"Value",type:"any"}]}Array.isArray(params)&&(iface=params.slice());break}}}else input.type!=="null"&&iface.push({name:"value",label:"Value",type:input.type})}return iface.unshift({name:"__IMTINDEX__",label:imt.l("inspector","common.imtindex"),type:"uinteger"}),iface.unshift({name:"__IMTLENGTH__",label:imt.l("inspector","common.imtlength"),type:"uinteger"}),inherited?(nodes.push({id:this.id,package:this.package,config:this.config,interface:iface,samples:this.samples(),node:this}),nodes):iface}samples(inherited=!1){var _a2,_b2;const samples=((_a2=this.prev)==null?void 0:_a2.samples(!0,this._inputLink.isErrorHandler))??{},input=IML.outputs(IML.parse((_b2=this.mapper)==null?void 0:_b2.array));if(input.type==="variable"){const key=IML._splitVariable(input.name);if(key.length>1){let node2=samples[parseInt(key.shift())];if(node2!=null){for(;key.length;){let k2=key.shift(),a2=!1;if(/^(.*)\[\d*\]$/.exec(k2)&&(k2=RegExp.$1,a2=!0),node2=node2[k2],node2==null||a2&&(node2=node2[0],node2==null))break}Array.isArray(node2)&&(samples[this.id]=node2[0]??{})}}}return inherited?samples:samples[this.id]??{}}}const moduleFactoryMap={action:Action,aggregator:Aggregator,directive:Directive,trigger:Trigger,transformer:Transformer,router:Router,search:Search,break:BreakDirective,feeder:Feeder,resume:ResumeDirective};function moduleFactory(type){return moduleFactoryMap[type]}class Package{constructor(moduleFactory2,app){this.moduleFactory=moduleFactory2;for(const k2 in app)this[k2]=app[k2];this.icon=app.icon?imt.static(app.icon):null,this.theme=new ImtColor$1(app.theme)}get(name){let node2=null;for(const config2 of this.triggers??[])if(config2.name===name){node2=new(this.moduleFactory("trigger"))(this,config2);break}if(!node2&&this.transformers){for(const config2 of this.transformers)if(config2.name===name){node2=new(this.moduleFactory("transformer"))(this,config2);break}}if(!node2&&this.actions){for(const config2 of this.actions)if(config2.name===name){node2=new(this.moduleFactory("action"))(this,config2);break}}if(!node2&&this.searches){for(const config2 of this.searches)if(config2.name===name){node2=new(this.moduleFactory("search"))(this,config2);break}}if(!node2&&this.aggregators){for(const config2 of this.aggregators)if(config2.name===name){node2=new(this.moduleFactory("aggregator"))(this,config2);break}}if(!node2&&this.feeders){for(const config2 of this.feeders)if(config2.name===name){node2=new(this.moduleFactory("feeder"))(this,config2);break}}if(!node2&&this.routers){for(const config2 of this.routers)if(config2.name===name){node2=new(this.moduleFactory("router"))(this,config2);break}}if(!node2&&this.directives){for(const config2 of this.directives)if(config2.name===name){this.name==="builtin"&&name==="Resume"?node2=new(this.moduleFactory("resume"))(this,config2):this.name==="builtin"&&name==="Break"?node2=new(this.moduleFactory("break"))(this,config2):node2=new(this.moduleFactory("directive"))(this,config2);break}}return node2}}class Repository{constructor(moduleFactory2){this.moduleFactory=moduleFactory2,this.packages={}}async get(name,module2,version2){var _a2,_b2;if(typeof version2=="string"&&(version2=parseInt(version2)),version2??(version2="latest"),name==="placeholder")return null;if((_a2=this.packages[name])!=null&&_a2[version2])return module2?this.packages[name][version2].get(module2):this.packages[name][version2];try{const app=await this.load(name,version2);if(isMutedErrorResponse(app))return null;const pkg=new Package(this.moduleFactory,app);return(_b2=this.packages)[name]??(_b2[name]={}),this.packages[name][parseInt(pkg.version)]=pkg,app.latest&&(this.packages[name].latest=pkg),module2?pkg.get(module2):pkg}catch(error){return error.code==="IM900"||console.error(error),null}}clearStore(){this.packages={}}async load(name,version2){return/^app#/.test(name)?await Loader.apip(`imt/apps/${encodeURIComponent(name)}/${version2}?organizationId=${imt.organization.id}`,{requestId:"repository.load_app",store:`repository_app_${name}_${version2}`,parser:"manifest"}):await Loader.apip(`imt/apps/${name}/${version2}`,{requestId:"repository.load_package",store:`repository_package_${name}_${version2}`,parser:"manifest"})}}function isMutedErrorResponse(data2){return data2.code==="IM900"}var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$2(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$2(target,key,result),result},TOOLBAR_TEST_IDS=(TOOLBAR_TEST_IDS2=>(TOOLBAR_TEST_IDS2.LOGS="inspector-logs",TOOLBAR_TEST_IDS2.CONTROLS="inspector-controls",TOOLBAR_TEST_IDS2.TOOLS="inspector-tools",TOOLBAR_TEST_IDS2.FAVORITES="inspector-favorites",TOOLBAR_TEST_IDS2.ADD_FAVORITE_APP="inspector-add-favorites",TOOLBAR_TEST_IDS2.TOOLBAR="inspector-toolbar",TOOLBAR_TEST_IDS2.BTN_RUN_ONCE="btn-inspector-run-once",TOOLBAR_TEST_IDS2.BTN_SAVE="btn-inspector-save",TOOLBAR_TEST_IDS2.BTN_SETTINGS="btn-inspector-scenario-settings",TOOLBAR_TEST_IDS2.BTN_IO="btn-inspector-scenario-io",TOOLBAR_TEST_IDS2.BTN_NOTES="btn-inspector-notes",TOOLBAR_TEST_IDS2.BTN_ALIGN="btn-inspector-autoalign",TOOLBAR_TEST_IDS2.BTN_FLOW="btn-inspector-explain-flow",TOOLBAR_TEST_IDS2.BTN_SCHEDULING="btn-inspector-scheduling",TOOLBAR_TEST_IDS2.BTN_IMPORT="btn-inspector-import",TOOLBAR_TEST_IDS2.BTN_EXPORT="btn-inspector-export",TOOLBAR_TEST_IDS2.BTN_HISTORY="btn-inspector-history",TOOLBAR_TEST_IDS2.BTN_MORE="btn-inspector-more",TOOLBAR_TEST_IDS2))(TOOLBAR_TEST_IDS||{}),TOOLBAR_IMT_EVENTS=(TOOLBAR_IMT_EVENTS2=>(TOOLBAR_IMT_EVENTS2.TOOLBAR_EXPANDED="scenario.toolbar_expanded",TOOLBAR_IMT_EVENTS2.TOOLBAR_COLLAPSED="scenario.toolbar_collapsed",TOOLBAR_IMT_EVENTS2.LOGS_OPENED="scenario.logs_opened",TOOLBAR_IMT_EVENTS2.SCHEDULING_OPENED="scenario.scheduling_opened",TOOLBAR_IMT_EVENTS2))(TOOLBAR_IMT_EVENTS||{});const COLLAPSED_TOOLBAR_KEY="toolbar-collapsed",MAX_DISPLAYED_FAVORITES=3;class ToolbarEvent extends CustomEvent{constructor(type,originalTarget,clickFrom){super(type,{bubbles:!0,cancelable:!0,detail:{originalTarget,clickFrom}})}}let Toolbar=class extends s$2{constructor(){super(...arguments),this.runOnceButtonState="start",this.isToolbarCollapsed=JSON.parse(localStorage.getItem(COLLAPSED_TOOLBAR_KEY)??"false"),this.favorites=[],this.areLogsCollapsed=!0,this.logBuffer=[],this.currentStatus=null,this.hasNotes=!1,this.lastSeenLog=0,this.inputsEnabled=!1,this.isTemplate=!1,this.isTemplateV2=!1,this.isDlq=window.location.href.includes("dlq"),this.neutralButtonClasses="dmo-relative dmo-h-32 dmo-w-32 dmo-border-none hover:dmo-bg-[#F3F5F6] dmo-rounded-md dmo-cursor-pointer dmo-shadow-none",this.hideOnMobileClasses="d-none d-md-block",this.iconWeightClass="far",this.accentedButtonBackgroundColor="dmo-bg-[#F5EDFC]"}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.classList.add("dmo-absolute","dmo-bottom-32","dmo-left-32","dmo-flex","dmo-flex-col"),this.setAttribute("data-testid","inspector-toolbar")}render(){const hasLogs=this.logBuffer.length>1,hasNewLogs=this.logBuffer.length>this.lastSeenLog;this.initializeNotesIndicator(),this.updateSchedulingDescription(),this.initializeTemplates();const controls=[];this.inputsEnabled=imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO,this.inputsEnabled&&controls.push(this.toolbarButton({tooltip:imt.l("inspector","panels.io.config.title"),iconClasses:`${this.iconWeightClass} fa-diagram-next`,handler:event=>this.dispatchToolbarEvent("inspector-scenario-io",event),testId:"btn-inspector-scenario-io",hideOnViewport:"lg"})),controls.push(this.toolbarButton({tooltip:imt.l("inspector","buttons.scenariosetup"),iconClasses:`${this.iconWeightClass} fa-cog`,handler:event=>this.dispatchToolbarEvent("inspector-scenario-settings",event),testId:"btn-inspector-scenario-settings",hideOnViewport:"lg"})),controls.push(this.toolbarButton({tooltip:imt.l("inspector","common.notes"),iconClasses:`${this.iconWeightClass} fa-sticky-note`,handler:event=>this.dispatchToolbarEvent("inspector-notes",event),testId:"btn-inspector-notes",hideOnViewport:"lg",hasIndicator:this.hasNotes})),controls.push(this.toolbarButton({tooltip:imt.l("inspector","panels.revert.title"),iconClasses:`${this.iconWeightClass} fa-undo`,handler:event=>this.dispatchToolbarEvent("inspector-history",event),testId:"btn-inspector-history",hideOnViewport:"lg"})),controls.push(this.toolbarButton({tooltip:imt.l("inspector","buttons.autoalign"),iconClasses:`${this.iconWeightClass} fa-wand-magic-sparkles`,testId:"btn-inspector-autoalign",handler:event=>this.handleDropdownButton("inspector-autoalign",event),...!this.isDlq&&{hideOnViewport:"lg"}})),controls.push(this.toolbarButton({tooltip:imt.l("base","common.more"),iconClasses:`${this.iconWeightClass} fa-ellipsis-h`,testId:"btn-inspector-more",dropdown:"menu"})),this.isTemplate&&(controls.push(this.toolbarButton({tooltip:imt.l("inspector","buttons.templatesetup"),iconClasses:`${this.iconWeightClass} fa-cog`,handler:event=>this.dispatchToolbarEvent("inspector-template-settings",event),displayInTemplates:!0})),controls.push(this.toolbarButton({tooltip:imt.l("inspector","buttons.autoalign"),iconClasses:`${this.iconWeightClass} fa-wand-magic-sparkles`,testId:"btn-inspector-autoalign",handler:event=>this.dispatchToolbarEvent("inspector-autoalign",event),displayInTemplates:!0})),controls.push(this.toolbarButton({tooltip:imt.l("base","common.more"),iconClasses:`${this.iconWeightClass} fa-ellipsis-h`,displayInTemplates:!0,testId:"btn-inspector-more",dropdown:"templates"})));const displayAppButons=app=>this.appButton(app),tools=(this.tools??[]).map(displayAppButons),favorites=this.favorites.slice(0,MAX_DISPLAYED_FAVORITES).map(displayAppButons);this.favorites.length>MAX_DISPLAYED_FAVORITES&&favorites.push(this.toolbarButton({iconClasses:`${this.iconWeightClass} fa-grid-2`,buttonClasses:"dmo-bg-[#F3F5F6] dmo-text-[#565656]",tooltip:imt.l("inspector","common.favorites"),dropdown:"favorites",displayInTemplates:!0,displayedInDlqs:!0})),favorites.push(this.toolbarButton({handler:event=>this.openAppSearch(event,"",!0),iconClasses:`${this.iconWeightClass} fa-plus`,tooltip:imt.l("base","common.add"),testId:"inspector-add-favorites",displayInTemplates:!0,displayedInDlqs:!0}));let collapserRotationClass="",collapseTooltip="",collapseWidthClass="dmo-max-w-[750px] dmo-mx-8";this.isToolbarCollapsed?(collapserRotationClass="dmo-rotate-180",collapseTooltip=imt.l("inspector","toolbar.expand"),collapseWidthClass="dmo-max-w-0 dmo-mx-2"):collapseTooltip=imt.l("inspector","toolbar.collapse");const backgroundColor=hasNewLogs&&this.accentedButtonBackgroundColor,toolbarLogsButton=hasLogs?this.toolbarSection(x`${this.toolbarButton({tooltip:imt.l("inspector","buttons.logs"),iconClasses:`${this.iconWeightClass} fa-list-check`,handler:event=>this.dispatchToolbarEvent("inspector-logs",event),hasIndicator:hasNewLogs,displayInTemplates:!0,displayedInDlqs:!0,...backgroundColor&&{buttonClasses:backgroundColor}})}`):T,isTemplateV1=this.isTemplate&&!this.isTemplateV2;return x`${this.statusBubble(this.currentStatus)}<div class="dmo-z-10 toolbar-logs dmo-grid dmo-pb-16">${this.toolbarLogs()}</div><div class="dmo-z-10 dmo-relative dmo-w-max dmo-bg-select dmo-flex dmo-shadow-lg dmo-p-12 dmo-rounded-lg dmo-items-center"><div data-testid="${"inspector-controls"}" class="dmo-flex dmo-gap-12 md:dmo-gap-24 dmo-justify-center dmo-items-center">${this.runOnceButton()} ${isTemplateV1||this.isDlq?T:this.toolbarSection(this.schedulingAndPermanentControls())}<div class="dmo-flex dmo-items-center">${this.toolbarButton({tooltip:imt.l("base","common.save"),iconClasses:`${this.iconWeightClass} fa-save`,handler:event=>this.dispatchToolbarEvent("inspector-save",event),testId:"btn-inspector-save",displayInTemplates:!0,displayedInDlqs:!0})}<div class="toolbar-collapsible dmo-flex dmo-gap-16 dmo-max-h-64 dmo-overflow-hidden dmo-w-auto ${collapseWidthClass}">${this.toolbarSection(controls)}<div class="d-none d-md-flex dmo-gap-24">${this.toolbarSection(tools,"inspector-tools")} ${this.toolbarSection(favorites,"inspector-favorites")}</div></div>${hasLogs?x`${toolbarLogsButton}`:T}</div></div>${this.isTemplate||this.isDlq?T:x`<div class="dmo-flex dmo-justify-center dmo-items-center ${hasLogs?"dmo-ml-16":"dmo-ml-4"}"><button class="dmo-px-8 dmo-py-10 -dmo-my-8 ${this.hideOnMobileClasses}" data-dmo-el-tooltip="${collapseTooltip}" @click="${()=>this.toggleToolbarCollapse()}"><i class="${this.iconWeightClass} fa-chevron-left dmo-transition-transform dmo-duration-150 dmo-ease-out ${collapserRotationClass}"></i></button></div>`}</div>`}toggleToolbarCollapse(){this.registerTrackingEvent(this.isToolbarCollapsed?"scenario.toolbar_expanded":"scenario.toolbar_collapsed"),this.isToolbarCollapsed=!this.isToolbarCollapsed,localStorage.setItem(COLLAPSED_TOOLBAR_KEY,String(this.isToolbarCollapsed))}resetRunOnceButton(newState){this.runOnceButtonState=newState??"start"}initializeTemplates(){var _a2,_b2;this.isTemplate=window.location.href.includes("templates"),this.isTemplateV2=((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))==="true"}initializeNotesIndicator(){var _a2;this.hasNotes=((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.notes.length)>0}updateNotesIndicator(numberOdNotes){this.hasNotes=numberOdNotes>0}async buildTools(tools){var _a2;const toolApps=[];for(const tool of tools){const[appName,appMajorVersion]=tool.split("@"),app=await((_a2=Inspector.instance)==null?void 0:_a2.repository.get(appName,null,appMajorVersion));app&&toolApps.push(app)}this.tools=toolApps}addFavorite(favorite){var _a2,_b2;const comparePackages=pkg=>pkg.name===favorite.name&&pkg.version===favorite.version,isInTools=(_a2=this.tools)==null?void 0:_a2.some(comparePackages),isInFavorites=(_b2=this.favorites)==null?void 0:_b2.some(comparePackages);isInTools||isInFavorites||(this.favorites=[...this.favorites,favorite])}dispatchToolbarEvent(type,originalEvent,clickFrom){originalEvent.stopPropagation();const event=new ToolbarEvent(type,originalEvent.target,clickFrom);this.dispatchEvent(event)}closeAllPopups(isDropdownButton){var _a2;(_a2=Panels.one)==null||_a2.close(),document.getElementsByClassName("i-panel").length!==0&&document.getElementsByClassName("i-panel")[0].remove(),!isDropdownButton&&this.dropdownMenuQuery&&this.dropdownMenuQuery.classList.remove("show"),!isDropdownButton&&this.dropdownFavoritesQuery&&this.dropdownFavoritesQuery.classList.remove("show"),!isDropdownButton&&this.dropdownTemplatesQuery&&this.dropdownTemplatesQuery.classList.remove("show"),overlays.close({groups:["app-search"]})}toolbarButton({tooltip:tooltip2,iconClasses,buttonClasses,handler,dropdown,hasIndicator,hideOnViewport,testId,displayInTemplates,displayedInDlqs}){return this.isTemplate&&!displayInTemplates?x``:this.isDlq&&!displayedInDlqs?x``:x`<button class="${hideOnViewport?`d-none d-${hideOnViewport}-flex`:"dmo-flex"} dmo-items-center dmo-justify-center ${this.neutralButtonClasses} ${buttonClasses} ${dropdown&&"btn dropdown"} ${hasIndicator&&"toolbar-button-indicator"}" data-toggle="${dropdown?"dropdown":T}" data-dmo-el-tooltip="${tooltip2}" data-testid="${testId??T}" type="button" @click="${e2=>{this.closeAllPopups(!!dropdown),handler&&handler(e2)}}"><i class="${iconClasses}"></i></button>${dropdown?x`<div id="${this.setDropdownAnchorElementId(dropdown)}" class="dmo-h-32 dmo-w-32 -dmo-ml-[40px]">${this.openDropdown(dropdown)}</div>`:T}`}setDropdownAnchorElementId(type){switch(type){case"menu":return"dropdown-menu-overlay-anchor";case"favorites":return"dropdown-favorites-overlay-anchor";case"templates":return"dropdown-templates-overlay-anchor";default:return}}openDropdown(type){switch(type){case"menu":return this.dropdownMenu();case"favorites":return this.dropdownFavorites();case"templates":return this.dropdownTemplates();default:return}}handleDropdownButton(eventType,event){this.dispatchToolbarEvent(eventType,event),this.dropdownMenuQuery&&this.dropdownMenuQuery.classList.remove("show"),this.dropdownTemplatesQuery&&this.dropdownTemplatesQuery.classList.remove("show")}dropdownTemplates(){return x`<div id="dropdown-templates" class="dropdown-menu dropdown-menu-right"><button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-import",event)}"><i class="${this.iconWeightClass} fa-upload mr-2"></i> ${imt.l("inspector","buttons.importBlueprint")}</button> ${this.isTemplateV2?x`<button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-export",event)}"><i class="${this.iconWeightClass} fa-download mr-2"></i> ${imt.l("inspector","buttons.exportBlueprint")}</button> <button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-export-controller",event)}"><i class="${this.iconWeightClass} fa-download mr-2"></i> ${imt.l("inspector","buttons.exportController")}</button>`:T}</div>`}dropdownMenuTools(){var _a2;return x`<div class="dmo-flex dmo-flex-col dmo-py-8">${this.sectionLabel({label:imt.l("inspector","common.tools"),isInColumn:!0})} ${(_a2=this.tools)==null?void 0:_a2.map(tool=>x`<button class="dropdown-item dmo-flex dmo-items-center dmo-gap-8 dmo-py-4" type="button" @click="${e2=>{this.closeAllPopups(),this.openAppSearch(e2,tool.name,!1,"menu")}}"><imt-app-icon .app="${tool}" size="20" class="dmo-mr-2 dmo-p-2" iconStyle="square"></imt-app-icon><span class="capitalize-first-letter">${tool.label.toLowerCase()}</span></button>`)}</div>`}dropdownMenu(){return x`<div id="dropdown-menu" class="dropdown-menu dropdown-menu-right">${this.sectionLabel({label:imt.l("inspector","common.controls"),isInColumn:!0})} ${this.inputsEnabled&&x`<button class="dropdown-item d-lg-none" @click="${event=>this.handleDropdownButton("inspector-scenario-io",event)}"><i class="${this.iconWeightClass} fa-diagram-next mr-2"></i> ${imt.l("inspector","panels.io.config.title")}</button>`} <button class="dropdown-item d-lg-none" @click="${event=>this.handleDropdownButton("inspector-scenario-settings",event)}"><i class="${this.iconWeightClass} fa-cog mr-2"></i> ${imt.l("inspector","buttons.scenariosetup")}</button> <button class="dropdown-item d-lg-none" @click="${event=>this.handleDropdownButton("inspector-history",event)}"><i class="${this.iconWeightClass} fa-undo mr-2"></i> ${imt.l("inspector","panels.revert.title")}</button> <button class="dropdown-item d-lg-none" @click="${event=>this.handleDropdownButton("inspector-notes",event)}"><i class="${this.iconWeightClass} fa-sticky-note mr-2"></i> ${imt.l("inspector","common.notes")}</button> <button class="dropdown-item d-lg-none" @click="${event=>this.handleDropdownButton("inspector-autoalign",event)}"><i class="${this.iconWeightClass} fa-wand-magic-sparkles mr-2"></i> ${imt.l("inspector","buttons.autoalign")}</button> <button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-explain-flow",event)}"><i class="${this.iconWeightClass} fa-plane mr-2"></i> ${imt.l("inspector","buttons.explain")}</button> <button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-export",event)}"><i class="${this.iconWeightClass} fa-download mr-2"></i> ${imt.l("inspector","buttons.exportBlueprint")}</button> <button class="dropdown-item" @click="${event=>this.handleDropdownButton("inspector-import",event)}"><i class="${this.iconWeightClass} fa-upload mr-2"></i> ${imt.l("inspector","buttons.importBlueprint")}</button><div class="d-md-none">${this.dropdownMenuTools()}</div></div>`}dropdownFavorites(){const favoritesRest=this.favorites.slice(MAX_DISPLAYED_FAVORITES).map(app=>app);return x`<div id="dropdown-favorites" class="dropdown-menu dropdown-menu-right">${favoritesRest.map(favorite=>x`<button class="dropdown-item dmo-flex dmo-items-center dmo-gap-8 dmo-py-4" type="button" @click="${e2=>{this.openAppSearch(e2,favorite.name,!0,"favorites"),this.dropdownFavoritesQuery&&this.dropdownFavoritesQuery.classList.remove("show")}}"><imt-app-icon .app="${favorite}" iconStyle="square"></imt-app-icon><span>${favorite.label}</span></button>`)}</div>`}updateSchedulingDescription(){const customScheduleTypes=["weekly","monthly","yearly"];setImmediate(()=>{var _a2;const currentSchedulingState=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.scheduling;this.schedulingDescription=customScheduleTypes.includes(currentSchedulingState.type)?imt.l("base","scheduling.custom"):format(currentSchedulingState||{},"scheduling")})}handleReminderToToggleScenarioOn(event){var _a2;(_a2=this.toggle)!=null&&_a2.isActive||this.isTemplateV2||this.dispatchToolbarEvent("inspector-remind-to-turn-scenario-on",event)}syncScenarioActiveState(){var _a2,_b2,_c2,_d2,_e2;((_a2=globalThis.activeScenario)!=null&&_a2.isActive&&!((_b2=this.toggle)!=null&&_b2.isActive)||!((_c2=globalThis.activeScenario)!=null&&_c2.isActive)&&((_d2=this.toggle)!=null&&_d2.isActive))&&((_e2=this.toggle)==null||_e2.toggle())}toggleScenario(event){var _a2,_b2;((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.id)===0?toaster.show(imt.l("inspector","flashes.scenarioNotSavedYet"),"danger"):(_b2=Inspector==null?void 0:Inspector.instance)==null||_b2.validate(null,{test:!0,onToggle:!0},()=>{var _a3;(_a3=this.toggle)==null||_a3.toggle(),this.dispatchToolbarEvent("inspector-toggle-scenario",event)})}handleScheduling(event,clickFrom){var _a2,_b2;if(((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.findObject("module").length)===0)return toaster.show(imt.l("inspector","flashes.scenarioMustIncludeModule"),"danger",{title:imt.l("inspector","flashes.scenarioMustIncludeModuleTitle")});if(((_b2=Inspector==null?void 0:Inspector.instance)==null?void 0:_b2.scenario.id)===0)return toaster.show(imt.l("inspector","flashes.scenarioNotSavedYet"),"danger");this.dispatchToolbarEvent("inspector-scheduling",event,clickFrom??"toolbar")}toggleSwitch(event){var _a2,_b2,_c2,_d2;if(((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.id)===0)return toaster.show(imt.l("inspector","flashes.scenarioNotSavedYet"),"danger"),(_b2=this.toggle)==null?void 0:_b2.toggle();if(((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.findObject("module").length)===0)return toaster.show(imt.l("inspector","flashes.scenarioMustIncludeModule"),"danger",{title:imt.l("inspector","flashes.scenarioMustIncludeModuleTitle")}),(_d2=this.toggle)==null?void 0:_d2.toggle();event.detail.isActive&&this.handleScheduling(event,"toggle"),this.dispatchToolbarEvent("inspector-toggle-scenario",event)}schedulingAndPermanentControls(){var _a2;return x`<span class="toolbar-separator"></span><div class="dmo-flex dmo-items-center dmo-gap-8 dmo-flex-nowrap dmo-h-36 dmo-rounded-md dmo-mx-8 dmo-px-10 dmo-py-10 -dmo-my-4 dmo-bg-[#F3F5F6]">${this.isTemplateV2?T:x`<imt-toggle id="scenarioswitch" class="i-inspector-scheduling-switch" .isInitiallyActive="${((_a2=globalThis.activeScenario)==null?void 0:_a2.isActive)??!1}" @toggle-switch="${event=>{var _a3,_b2;(_a3=globalThis.activeScenario)!=null&&_a3.isActive?this.toggleSwitch(event):(_b2=Inspector==null?void 0:Inspector.instance)==null||_b2.validate(sim(this.toggle)??null,{test:!0,onToggle:!0},()=>{this.toggleSwitch(event)})}}"></imt-toggle>`} <button type="button" data-testid="${"btn-inspector-scheduling"}" data-dmo-el-tooltip="${this.schedulingDescription?this.schedulingDescription:imt.l("inspector","panels.scheduling.title")}" @click="${this.handleScheduling}" class="dmo-flex">${this.schedulingDescription?x`<span class="scheduling-description dmo-text-neutral">${this.schedulingDescription}</span>`:T}</button></div><span class="toolbar-separator"></span>`}appButton(app){return x`<button id="${app.name}-${app.version.toString().split(".")[0]}" class="dmo-w-32 dmo-h-32 dmo-bg-static-neutral-subdued dmo-rounded-md last:dmo-mr-0 dmo-cursor-pointer" data-dmo-el-tooltip="${app.label}" type="button" @click="${e2=>this.openAppSearch(e2,app.name,!1)}"><imt-app-icon .app="${app}" size="32" iconStyle="square"></imt-app-icon></button>`}setDropdownAnchorElement(type){switch(type){case"menu":return this.dropdownMenuOverlayAnchor;case"favorites":return this.dropdownFavoritesOverlayAnchor;case"templates":return this.dropdownTemplatesOverlayAnchor;default:return this.dropdownMenuOverlayAnchor}}openAppSearch(e2,appName,fromFavorites=!1,dropdown){var _a2,_b2;if(e2.stopPropagation(),dropdown)(_a2=Inspector.instance)==null||_a2.openAppSearch(this.setDropdownAnchorElement(dropdown),appName,fromFavorites);else{const buttonElement=e2.target;(_b2=Inspector.instance)==null||_b2.openAppSearch(buttonElement,appName,fromFavorites)}}sectionLabel({label,isInColumn}){return x`<div class="label-section dmo-uppercase dmo-text-neutral-subdued dmo-font-light ${!isInColumn&&this.hideOnMobileClasses} ${isInColumn&&"dmo-pl-24 dmo-pb-8 dmo-pt-16 d-md-none"}">${label}</div>`}toolbarSection(buttons,testId){return x`<div data-testid="${testId??T}" class="d-flex dmo-items-center dmo-gap-8">${buttons}</div>`}transitionRunOnceButtonState(){const newState={start:"stop",stop:"force-stop","force-stop":null}[this.runOnceButtonState];newState&&(this.runOnceButtonState=newState)}runOnceButton(){const currentState=Toolbar.runOnceButtonStates[this.runOnceButtonState],hideOnViewportClasses="d-none d-lg-inline-block",legacyClass="i-inspector-menu-start-test",iconClassess="dmo-h-32 dmo-w-32 dmo-aspect-square dmo-flex dmo-justify-center dmo-items-center dmo-text-inverse dmo-rounded-md";return x`<button type="button" data-testid="${"btn-inspector-run-once"}" class="${legacyClass} run-once-button-container" @click="${event=>{this.dispatchToolbarEvent(currentState.event,event)}}">${this.isDlq&&currentState.state!=="start"?x`<span class="${iconClassess} dmo-bg-active-primary"><i class="${this.iconWeightClass} fa-spinner fa-spin"></i></span>`:x`<span class="${iconClassess} ${currentState.bgColorClass} smooth-bg-transition"><i class="${this.iconWeightClass} ${currentState.icon}"></i></span>`} <span class="${hideOnViewportClasses}">${this.isDlq?Toolbar.runOnceButtonStates.start.text:currentState.text}</span></button>`}updateStatusBubbleStatus(status){this.currentStatus=status}statusBubble(status){const isHidden=this.areLogsCollapsed?"dmo-opacity-100":"dmo-opacity-0";return x`<div class="${status&&"status-bubble-animation"} ${isHidden} dmo-z-0 dmo-absolute -dmo-top-20 dmo-left-[50px] dmo-min-w-[115px] dmo-min-h-24 dmo-py-4 dmo-px-8 dmo-bg-white dmo-rounded-lg status-bubble dmo-text-[#4C5660] dmo-text-sm-regular dmo-font-medium">${status?imt.l("inspector",`statuses.${status}`):T}</div>`}switchLogsVisibility(clickFrom){if(this.lastSeenLog=this.logBuffer.length,this.areLogsCollapsed=!this.areLogsCollapsed,!this.areLogsCollapsed)return this.registerTrackingEvent("scenario.logs_opened",clickFrom)}saveLog({time,message,cssClass}){this.logBuffer=[...this.logBuffer,{time,message,cssClass}],setImmediate(()=>{this.logsContainer&&(this.logsContainer.scrollTop=this.logsContainer.scrollHeight)})}toolbarLogs(){return x`<section id="logs-container" data-testid="${"inspector-logs"}" class="toolbar-logs-section dmo-overflow-auto dmo-bg-select dmo-shadow-lg dmo-px-12 ${this.areLogsCollapsed?"dmo-h-0 dmo-py-0 dmo-rounded-none":"dmo-h-160 dmo-py-12 dmo-mt-16 dmo-rounded-lg"}"><button @click="${event=>this.dispatchToolbarEvent("inspector-logs",event)}" class="dmo-sticky dmo-float-right dmo-top-0 dmo-right-6"><i class="${this.iconWeightClass} fa-close"></i></button><div class="dmo-text-neutral">${this.logBuffer.map(log2=>x`<div class="dmo-flex dmo-items-center dmo-gap-8 ${log2.cssClass}"><span class="dmo-text-sm-regular dmo-text-neutral-subdued">${log2.time}</span> <span class="dmo-text-md-regular">${log2.message}</span></div>`)}</div></section>`}registerTrackingEvent(eventName,clickFrom){imtEvents.dispatch(eventName,{click_from:clickFrom})}};Toolbar.runOnceButtonStates={start:{state:"start",icon:"fa-play",bgColorClass:"dmo-bg-active-primary",event:"inspector-run-once-start",text:imt.l("inspector","buttons.execute")},stop:{state:"stop",icon:"fa-stop",bgColorClass:"dmo-bg-active-danger",event:"inspector-run-once-stop",text:imt.l("inspector","buttons.stop")},"force-stop":{state:"force-stop",icon:"fa-stop",bgColorClass:"dmo-bg-active-danger-hover",event:"inspector-run-once-force-stop",text:imt.l("inspector","buttons.forcestop")}},__decorateClass$2([r$2()],Toolbar.prototype,"runOnceButtonState",2),__decorateClass$2([r$2()],Toolbar.prototype,"isToolbarCollapsed",2),__decorateClass$2([r$2()],Toolbar.prototype,"tools",2),__decorateClass$2([r$2()],Toolbar.prototype,"favorites",2),__decorateClass$2([r$2()],Toolbar.prototype,"schedulingDescription",2),__decorateClass$2([r$2()],Toolbar.prototype,"areLogsCollapsed",2),__decorateClass$2([r$2()],Toolbar.prototype,"logBuffer",2),__decorateClass$2([r$2()],Toolbar.prototype,"currentStatus",2),__decorateClass$2([e$3("#logs-container")],Toolbar.prototype,"logsContainer",2),__decorateClass$2([r$2()],Toolbar.prototype,"hasNotes",2),__decorateClass$2([r$2()],Toolbar.prototype,"lastSeenLog",2),__decorateClass$2([r$2()],Toolbar.prototype,"inputsEnabled",2),__decorateClass$2([e$3("imt-toggle")],Toolbar.prototype,"toggle",2),__decorateClass$2([e$3("#dropdown-menu")],Toolbar.prototype,"dropdownMenuQuery",2),__decorateClass$2([e$3("#dropdown-favorites")],Toolbar.prototype,"dropdownFavoritesQuery",2),__decorateClass$2([e$3("#dropdown-templates")],Toolbar.prototype,"dropdownTemplatesQuery",2),__decorateClass$2([e$3("#dropdown-menu-overlay-anchor")],Toolbar.prototype,"dropdownMenuOverlayAnchor",2),__decorateClass$2([e$3("#dropdown-favorites-overlay-anchor")],Toolbar.prototype,"dropdownFavoritesOverlayAnchor",2),__decorateClass$2([e$3("#dropdown-templates-overlay-anchor")],Toolbar.prototype,"dropdownTemplatesOverlayAnchor",2),__decorateClass$2([r$2()],Toolbar.prototype,"isTemplate",2),__decorateClass$2([r$2()],Toolbar.prototype,"isTemplateV2",2),__decorateClass$2([r$2()],Toolbar.prototype,"isDlq",2),Toolbar=__decorateClass$2([t$2("imt-toolbar")],Toolbar);const ToggleEventName="toggle-switch";class ToggleEvent extends CustomEvent{constructor(isActive){super(ToggleEventName,{bubbles:!0,composed:!0,detail:{isActive}})}}var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc$1(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$1(target,key,result),result};let Toggle=class extends s$2{constructor(){super(...arguments),this.isInitiallyActive=!1,this._isActive=!1}get isActive(){return this._isActive}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this._isActive=this.isInitiallyActive}render(){return x`<button class="dmo-relative dmo-flex dmo-items-center dmo-rounded-[90px] dmo-w-[42px] dmo-h-[24px] ${this._isActive?"dmo-justify-start dmo-bg-[#3DAD63]":"dmo-justify-end dmo-bg-opacity-30"}" @click="${event=>{event.stopPropagation(),this.toggle(),this.dispatchEvent(new ToggleEvent(this._isActive))}}"><div class="circle dmo-absolute dmo-w-16 dmo-h-16 dmo-rounded-[50%] dmo-bg-white dmo-inset-x-4" style="${this._isActive?"transform: translateX(18px)":T}"></div></button>`}toggle(){this._isActive=!this._isActive}};__decorateClass$1([n$3()],Toggle.prototype,"isInitiallyActive",2),__decorateClass$1([r$2()],Toggle.prototype,"_isActive",2),Toggle=__decorateClass$1([t$2("imt-toggle")],Toggle);const DEFAULT_NODE_SPACING=300,TOOLS_MENU=["builtin@1","util@1","regexp@1"];let LOCAL_CLIPBOARD=null;const debug$2=imt.debug("imt:test","#55c1e7"),Cls$5=globalThis.Inspector=(_j=class extends EventEmitter$1{static initClass(){this.instance=null,this.container=null,this.prototype.root=null,this.prototype.built=!1,this.prototype.runtime=null,this.prototype.ignoreWarnings=!1,this.prototype.favorites=null,this.prototype._surface=null,this.prototype._loading=null,this.prototype._header=null,this.prototype._title=null,this.prototype._start=null,this.prototype._menu=null,this.prototype._validationPanel=null,this.prototype._titleEdited=!1,this.prototype._notes=null,this.prototype._resize=null,this.prototype._localTriggerState=null,this.prototype.__loading=!1,this.prototype.__mode="view",this.prototype.__roundtrip=0,this.Aggregator=Aggregator,this.property("loading",{get(){return this.__loading},set(value){if(this.__loading!==value)return this.__loading=value,value?(this._loading.addClass("in"),sim(this._surface.canvas).addClass("out")):(sim(this._surface.canvas).removeClass("out"),this._loading.removeClass("in"))}}),this.property("mode",{get(){return this.__mode},set(value){let node2;if(this.__mode===value)return;const old=this.__mode;this.__mode=value;const transition=old+"->"+this.__mode,surface=this._surface,scheduling=this._start,nodes=surface.find(Surface.Module),links=surface.find(Surface.Link),filters=surface.find(Surface.Filter),_nodesSetMode=(mode,nodes2,links2,filters2)=>{let filter2,link,node22;switch(mode){case"inspect":for(link of links2)link.interactive=!1;for(node22 of nodes2)node22.removable=!1,node22.draggable=!1,node22.interactive=!(node22 instanceof Router);break;case"view":break;case"edit":for(link of links2)link.interactive=!0,link.animateProgress(100,0);for(node22 of nodes2)node22.removable=!0,node22.draggable=!0,node22.interactive=!0,node22.grayed=!1,node22.animateProgress(0,0);for(filter2 of filters2)filter2.interactive=!0;break;case"test":for(link of links2)link.interactive=!1;for(node22 of nodes2)node22.removable=!1,node22.draggable=!1,node22.interactive=!1,link=node22._inputLink,link&&(!link.hasFilter||link.hasFilter&&node22.filtered===null)&&link!=null&&link._filter.deactivate();break;case"live":for(link of links2)link.interactive=!0,link.animateProgress(100,0);for(node22 of nodes2)node22.removable=!1,node22.draggable=!1,node22.interactive=!0,node22.grayed=!1,node22.animateProgress(0,0);for(filter2 of filters2)filter2.interactive=!0;break}};switch(transition){case"view->inspect":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),_nodesSetMode("inspect",nodes,links,filters);break;case"view->edit":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!0),_nodesSetMode("edit",nodes,links,filters);break;case"edit->view":surface.input.enabled=!1,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),surface.input.focus=null;for(node2 of nodes)node2.status=null,node2.operations=0,node2.filtered=null;this.toggleNotes(!1);break;case"edit->test":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),surface.input.focus=null,_nodesSetMode("test",nodes,links,filters);for(node2 of nodes)node2.status=null,node2.operations=0,node2.filtered=null,node2.grayed=!0;break;case"test->edit":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!0),_nodesSetMode("edit",nodes,links,filters);break;case"view->test":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),_nodesSetMode("test",nodes,links,filters);break;case"test->view":surface.input.enabled=!1,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),surface.input.focus=null,this.toggleNotes(!1);break;case"view->live":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!1),_nodesSetMode("live",nodes,links,filters);break;case"edit->live":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!1),this.toggleNotes(!1),_nodesSetMode("live",nodes,links,filters);break;case"live->edit":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!0),this.toggleNotes(!1),_nodesSetMode("edit",nodes,links,filters);break;case"live->view":surface.input.enabled=!1,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),surface.input.focus=null;for(node2 of nodes)node2.status=null,node2.operations=0,node2.filtered=null;this.toggleNotes(!1);break;case"live->test":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!1),scheduling!=null&&(scheduling.draggable=!1),_nodesSetMode("test",nodes,links,filters);break;case"test->live":surface.input.enabled=!0,scheduling!=null&&(scheduling.interactive=!0),scheduling!=null&&(scheduling.draggable=!1),_nodesSetMode("live",nodes,links,filters);break}return this.refreshControlsUI(value),scheduling!=null&&scheduling.updateDescription(),Panels.one!=null&&Panels.one.close(),old==="test"&&(isFeatureOn("new-toolbar",!1)?this._toolbar.resetRunOnceButton():this._menu.removeClass("i-inspector-forcable")),this.emit("mode_change"),this.emit("mode_transition",transition),imtEvents.dispatch("inspector.mode_change",value),imtEvents.dispatch("inspector.mode_transition",transition)}}),this.property("roundtrip",{get(){return this.__roundtrip},set(value){if(this.__roundtrip!==value){this.__roundtrip=value,this._surface.input.focus=null,this.built=!1;for(var item of this.runtime.log)this._progress(item,!1);return this.built=!0}}}),this.property("hasUnsavedChanges",{get(){return!!(this.findObject("module").some(module2=>module2._badge.type==="dirty")||this.findObject("link").some(link=>link._filter.badge.type==="dirty"))}})}static showcase(){return this.SHOWCASE=!this.SHOWCASE}handleExternalBackButton(){let done;const pr=new Promise((res,rej)=>done=function(err,data2){return err?rej(err):res(data2)});if(this.mode==="test"&&(this.runtime!=null?this.runtime.execution:void 0)!=null&&this.runtime!=null&&this.runtime.execution.manual){const p2=new Prompt(`${imt.l("inspector","scenario.running")}`);return p2._yes.text(imt.l("inspector","buttons.forcestop")),p2._close.text(imt.l("base","common.cancel")),p2.show(result=>(result===!0&&this.forceStopTest(),done())),pr}const afterBlueprintSwitch=()=>(this.mode="view",done());return imt.team!=null&&imt.team.scenarioDrafts&&this.scenario.isDraft()&&this.scenario.hasLive()?this.switchBlueprint("live",afterBlueprintSwitch):afterBlueprintSwitch(),pr}handleExternalEditButton(){let done;const pr=new Promise((res,rej)=>done=function(err,data2){return err?rej(err):res(data2)});this.runtime&&(this.runtime=null);const afterBlueprintSwitch=()=>(this.mode="edit",done());return imt.team!=null&&imt.team.scenarioDrafts?this.scenario.isDraft()?afterBlueprintSwitch():this.switchBlueprint("draft",afterBlueprintSwitch):this.reset(null,afterBlueprintSwitch),pr}handleExternalNameChange(value,markRenamed=!0,deepWrite=!1){if(this.scenario.__name=value,markRenamed&&(this.scenario.renamed=!0),deepWrite&&(this.scenario._loadedBlueprint.name=value,this.scenario._draftBlueprint!=null&&(this.scenario._draftBlueprint.name=value),this.scenario._liveBlueprint!=null))return this.scenario._liveBlueprint.name=value}handleExternalDraftSwitch(){const switchEl=sim(".i-inspector-drafts-switch");if(!switchEl||!(imt.team!=null&&imt.team.scenarioDrafts)||switchEl.hasClass("disabled"))return;const _switch=()=>(this.runtime=null,this.mode==="live"?this.switchBlueprint("draft",()=>this.mode="edit"):this.switchBlueprint("live",()=>this.mode="live"));if(this.scenario.changed&&__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.mode)!=="live"){if(Panels.one instanceof ScenarioSavePanel)return Panels.one.close();this._surface.input.focus=null,Panels.one=new ScenarioSavePanel(switchEl[0],{context:"draftswitch"},result=>{if(result===!1)return _switch();if(result===!0)return this.validate(null,()=>this.scenario.save(function(err){if(err){if((err!=null?err.code:void 0)!=="IM004"&&(err!=null?err.code:void 0)!=="IM026")return new Alert(Alert.parseError(err)).show()}else return toaster.show(imt.l("inspector","flashes.scenariosaved")),_switch()}))});return}else return _switch()}handleExternalPublishButton(){const el=sim(".i-inspector-drafts-publish")[0],_publish=()=>this.scenario.publish(err=>err?new Alert(Alert.parseError(err)).show():(toaster.show(imt.l("inspector","flashes.scenariopublished")),this.switchBlueprint("live",()=>(this.runtime=null,this.mode="live"))));return this.scenario.changed?Panels.one instanceof ScenarioSavePanel?Panels.one.close():(this._surface.input.focus=null,Panels.one=new ScenarioSavePanel(el,{context:"publish"},result=>{if(result===!1)return this.reset(this.scenario.reset());if(result===!0)return this.validate(null,()=>this.scenario.save(function(err){if(err){if((err!=null?err.code:void 0)!=="IM004"&&(err!=null?err.code:void 0)!=="IM026")return new Alert(Alert.parseError(err)).show()}else return toaster.show(imt.l("inspector","flashes.scenariosaved")),_publish()}))})):_publish()}refreshControlsUI(mode){if(mode||({mode}=this),!["edit","test","live"].includes(mode))return;const useScenarioDrafts=(imt.team!=null?imt.team.scenarioDrafts:void 0)||!1;sim(".i-inspector-primary");const drafts=sim(".i-inspector-drafts"),scheduling=sim(".i-inspector-scheduling"),favorites=sim(".i-inspector-favorites");favorites.attr("data-testid",TOOLBAR_TEST_IDS.FAVORITES);const tools=sim(".i-inspector-tools");tools.attr("data-testid",TOOLBAR_TEST_IDS.TOOLS),sim(".i-inspector-general").attr("data-testid",TOOLBAR_TEST_IDS.CONTROLS);const draftsSwitch=sim("#draftswitch"),draftsPublish=sim(".i-inspector-drafts-publish"),schedulingSwitch=sim(".i-inspector-scheduling-switch"),schedulingSettings=sim(__guard__$7(imt.brand!=null?imt.brand.theme:void 0,x2=>x2.startsWith("ems"))?".i-inspector-ems-scheduling":".i-inspector-scheduling-settings"),save=sim(".i-inspector-general-save"),io=sim("#scenario-io"),settings=sim(".i-inspector-general-settings"),notes2=sim(".i-inspector-general-notes"),autoalign=sim(".i-inspector-general-autoalign"),explain=sim(".i-inspector-general-explain"),_export=sim(".i-inspector-general-export"),_import=sim(".i-inspector-general-import"),versions=sim(".i-inspector-general-versions"),buttons=[schedulingSettings,save,settings,io,notes2,autoalign,explain,_export,_import,versions,draftsPublish],switches=[schedulingSwitch,draftsSwitch],setControlsInteractive=function(interactive){if(schedulingSwitch&&(interactive?schedulingSwitch.removeClass("disabled"):schedulingSwitch.addClass("disabled")),draftsSwitch&&(interactive?draftsSwitch.removeClass("disabled"):draftsSwitch.addClass("disabled")),buttons&&buttons.forEach(function(c2){if(c2)return c2.prop("disabled",!interactive)}),tools!=null&&tools[0]&&Array.from(tools[0].find("button")).forEach(b2=>b2.prop("disabled",!interactive)),favorites!=null&&favorites[0]&&Array.from(favorites[0].find("button")).forEach(b2=>b2.prop("disabled",!interactive)),io)return io._refresh(!interactive)};switch(mode){case"edit":setControlsInteractive(!0);break;case"live":setControlsInteractive(!0);break;case"test":setControlsInteractive(!1);break}if(!useScenarioDrafts){drafts.css("display","none");return}const _display=function(el,state){if(el)return state?el.removeClass("d-none"):el.addClass("d-none")};if(buttons.concat(switches).forEach(e2=>_display(e2,!1)),_display(draftsSwitch,!0),_display(draftsPublish,!0),this.scenario.isDraft()?(_display(scheduling,!1),_display(tools,!0),_display(favorites,!0),draftsPublish.prop("disabled",mode==="test"||!this.scenario.hasDraft()),_display(save,!0),_display(io,!0),_display(settings,!0),_display(notes2,!0),_display(autoalign,!0),_display(explain,!0),_display(_export,!0),_display(_import,!0),_display(versions,!0)):(_display(scheduling,!0),_display(tools,!1),_display(favorites,!1),draftsPublish.prop("disabled",!0),_display(io,!1),_display(settings,!0),_display(notes2,!0),_display(explain,!0),_display(_export,!0),_display(schedulingSwitch,!0),_display(schedulingSettings,!0)),draftsSwitch&&(this.scenario.isDraft()?draftsSwitch.removeClass("active"):draftsSwitch.addClass("active"),["edit","live"].includes(mode)))return this.scenario.hasLive()?draftsSwitch.removeClass("disabled"):draftsSwitch.addClass("disabled")}constructor(root2){super(),isFeatureOn("new-apps-search",!0)&&loadAppSearch(!0),this.root=root2,this.assignUserData=this.assignUserData.bind(this),this.setSamples=this.setSamples.bind(this),this.isStreamingAvailable=this.isStreamingAvailable.bind(this),this.keybindHandler=this.keybindHandler.bind(this);const self2=this;_j.instance=this,this.favorites=[],this._notes=sim.div(".i-inspector-notes"),this._localTriggerState={},this.repository=new Repository(moduleFactory),this._surface=new Surface,this.root.prepend(this._surface.canvas),this.container=sim("#inspector-container"),this.mode==="view"&&(this.container.removeClass("inspector-edit").addClass("inspector-view"),this._surface.input.enabled=!1),this._loading=this.root.find(".i-loading"),this._loading.length||(this._loading=sim.div(".i-loading",function(){return this.appendTo(self2.root)})),this._surface.stage.on("click",function(){const title=__guard__$7(__guard__$7(sim("#scenariotitle"),x1=>x1.children()),x2=>x2[0]);if(title&&title.is(":focus"))return title.blur()}),isFeatureOn("new-toolbar",!1)?(this._toolbar=document.createElement("imt-toolbar"),this.root.__dom.append(this._toolbar)):this._menu=this.root.div(".i-inspector-menu",function(){return this.attr("data-testid",TOOLBAR_TEST_IDS.TOOLBAR),this.div(".i-inspector-log",function(){return this.attr("data-title",imt.l("inspector","scenario.log")),this.attr("data-testid",TOOLBAR_TEST_IDS.LOGS),self2._log=this,this.div(".close").on("click",()=>self2.toggleLog()),this.div(".i-inspector-log-scroll",function(){return this.ul(".list-unstyled")})})});const debouncedMakeVisibleInFOV=function(func2,threshold,execAsap){let timeout2=null;return function(...args){const obj=this,delayed=function(){return func2.apply(obj,args),timeout2=null};return timeout2&&clearTimeout(timeout2),timeout2=setTimeout(delayed,threshold)}}(self2._surface.camera.makeVisibleInFOV,500).bind(self2._surface.camera);this._resize=function(){if(self2.built&&self2.mode==="view")return debouncedMakeVisibleInFOV(self2._calculateFOV())},sim(window).on("resize",this._resize),globalThis.onbeforeunload=e2=>{if(_j!=null&&_j.instance&&["edit","test"].includes(this.mode)&&this.scenario.changed){const val=this._exit();return e2.returnValue=val,val}}}get usedPackages(){return this.repository.packages}destructor(){var _a2;return sim(window).off("resize",this._resize),inspectorHandlers.destroy(),(_a2=this._menu)==null||_a2.remove(),this._surface.destroy(),Panels.closeAll(),__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.webStreamerLib)&&(__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x1=>x1.webStreamerLib.close()),__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.webStreamerLib=void 0)),_j.instance=void 0,sim(window).off("keydown",this.keybindHandler),__guard__$7(sim(".tooltip.fade.bs-tooltip-top.show"),x3=>x3.remove())}_calculateFOV(){const ww=this._surface.width,wh=this._surface.height,rw=this.root.width(),rh=this.root.height(),rootTopOffset=__guard__$7(this.root.offset(),x2=>x2.top)||0;if(!imt.brand.theme.startsWith("ems")&&this.mode==="view"&&rootTopOffset>0){const surfaceTopOffset=this._surface.top||0;return new Rectangle(rw/2-ww/2,rh/2-(wh/2-(rootTopOffset-surfaceTopOffset)),rw,rh)}return new Rectangle(rw/2-ww/2,rh/2-wh/2,rw,rh)}findObject(types){const resultClasses=[],surfaceClassWrapper={displayObject:Surface.DisplayObject,colorAnimation:Surface.ColorAnimation,stage:Surface.Stage,shape:Surface.Shape,label:Surface.Label,image:Surface.Image,router:Surface.Router,scheduling:Surface.Scheduling,placeholder:Surface.Placeholder,aggregationContainer:Surface.AggregationContainer,link:Surface.Link,node:Surface.Node,bubble:Surface.Bubble,filter:Surface.Filter,explainer:Surface.Explainer,clickGuide:Surface.ClickGuide,doubleClickGuide:Surface.DoubleClickGuide,dragGuide:Surface.DragGuide,module:Surface.Module,noteLine:Surface.NoteLine,animation:Surface.Animation,action:Surface.Action,directive:Surface.Directive,trigger:Surface.Trigger,transformer:Surface.Transformer};Array.isArray(types)||(types=[types]);for(const type of types){const resultClass=surfaceClassWrapper[type];if(!resultClass)return;resultClasses.push(resultClass)}return this._surface.find(resultClasses)}_progress(entry,init2=!1){var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n;let id,module2,err,i2,node2;if(Array.isArray(entry.module!=null?entry.module.id:void 0)){for(id of entry.module.id){var e2=Object.cloneDeep(entry);e2.module={id},this._progress(e2,init2)}return}const nodes=this.findObject("module");let propagate=this.roundtrip===this.runtime._rt;entry.module!=null&&entry.module.id&&(module2=(()=>{const result=[];for(node2 of nodes)node2.id===entry.module.id&&result.push(node2);return result})()[0]);const log2=()=>{if(this.mode!=="inspect")return entry.status===3?this.error(entry.message):entry.status===2?this.warn(entry.message):this.log(entry.message)},status=function(init22){if(module2)if(init22&&(module2.status=null),entry.status)if(entry.status===1&&module2.status===null&&!init22){if(!module2.grayed)return module2.status="success"}else{if(entry.status===2&&(module2.status===null||module2.status==="success"))return module2.status="warning";if(entry.status===3&&(module2.status===null||module2.status==="success"||module2.status==="warning"))return module2.status="error"}else return module2.status=null},formatErrorMessage=function(object2){return Array.isArray(object2)?object2.length===0?"":object2.length>1?imt.l("inspector","errors.multiple"):(object2[0]!=null?object2[0].message:void 0)||"<no message>":(object2!=null?object2.message:void 0)||"<no message>"};switch(entry.type){case 1:if(this.runtime._rt=-1,!init2)return;if(entry.status===2){if((entry.warning!=null?entry.warning.message:void 0)!=null&&this.warn(entry.warning.message),__guard__$7(entry.warning!=null?entry.warning.suberrors:void 0,x2=>x2.length))for(err of entry.warning.suberrors)this.warn(`- ${err.detail||err.message}`)}else if(entry.status===3&&(this.error(entry.error.message),entry.error.suberrors!=null&&entry.error.suberrors.length))for(err of entry.error.suberrors)this.error(`- ${err.detail||err.message}`);entry.message??(entry.message=imt.l("inspector",`activitystream.1.${entry.status??1}`)),this.runtime.log.push(entry),log2();const hasWebhookModule=Object.values(this.runtime.modules).some(module22=>module22.package==="gateway");isFeatureOn("new-toolbar",!1)&&hasWebhookModule&&this._toolbar.updateStatusBubbleStatus("running");break;case 2:if(this.runtime._rt=null,!init2)return;entry.message??(entry.message=imt.l("inspector",`activitystream.2.${entry.status??1}`)),this.runtime.log.push(entry),log2(),isFeatureOn("new-toolbar",!1)&&this._toolbar.updateStatusBubbleStatus(null);break;case 3:if(init2&&(entry.status??(entry.status=1),entry.message??(entry.message=imt.l("inspector","activitystream.3.1",{data:{n:this.runtime.roundtrip.length+1}})),this.runtime.log.push(entry),this.runtime.roundtrip.push({})),this.runtime._rt++,propagate=this.roundtrip===this.runtime._rt,!propagate)return;var links=this.findObject("link");for(var link of links)link.animateProgress(0,0);for(node2 of nodes)node2.grayed=!0,node2.animateProgress(0,0),node2.operations=0,node2.filtered=null;break;case 4:init2&&(entry.message??(entry.message=imt.l("inspector","activitystream.4.1",{data:{n:this.runtime.roundtrip.length}})),this.runtime.log.push(entry));break;case 5:if(!module2)return;init2&&(i2={input:entry.bundles?new Array(entry.bundles):void 0,status:entry.status},entry.i_count&&(i2.input.total=entry.i_count),entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.dlq!=null&&(i2.dlq=entry.dlq),(_a2=this.runtime.roundtrip.last())[_b2=module2.id]??(_a2[_b2]={operations:[],filtered:[]}),this.runtime.roundtrip.last()[module2.id].operations.push(i2),entry.message??(entry.message=imt.l("inspector",`activitystream.5.${entry.status??1}`)),this.runtime.log.push(entry),entry.status===2?this.warn(imt.l("inspector","activitystream.5.2")+` ${formatErrorMessage(entry.warning)}`):entry.status===3&&this.error(imt.l("inspector","activitystream.5.3")+` ${formatErrorMessage(entry.error)}`)),propagate&&(entry.status!==1&&status(),module2._inputLink!=null&&module2._inputLink.animateProgress(100,ifbuilt(300)),module2.grayed=!1,entry.status===1&&module2.animateProgress(100,ifbuilt(entry.timeout??4e4)),this.mode==="test"&&module2.emit("operation_start"));break;case 6:if(!module2)return;init2&&(i2=this.runtime.roundtrip.last()[module2.id].operations.last(),i2.output=entry.bundles?new Array(entry.bundles):void 0,i2.size=entry.size,i2.status=entry.status,entry.o_count&&(i2.output.total=entry.o_count),entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.dlq!=null&&(i2.dlq=entry.dlq),entry.message??(entry.message=imt.l("inspector",`activitystream.6.${entry.status??1}`)),this.runtime.log.push(entry),entry.status===2?this.warn(imt.l("inspector","activitystream.6.2")+` ${formatErrorMessage(entry.warning)}`):entry.status===3&&this.error(imt.l("inspector","activitystream.6.3")+` ${formatErrorMessage(entry.error)}`)),propagate&&(entry.status!==1&&status(),module2.animateProgress(0,0),module2.operations++,this.mode==="test"&&module2.emit("operation_end"));break;case 7:if(!module2)return;init2&&(entry.status??(entry.status=1),entry.message??(entry.message=imt.l("inspector","activitystream.7.1")),this.runtime.log.push(entry)),propagate&&module2.animateProgress(100,ifbuilt(entry.timeout??4e4));break;case 8:if(!module2)return;init2&&((_c2=this.runtime.roundtrip.last())[_d2=module2.id]??(_c2[_d2]={operations:[],filtered:[]}),i2=this.runtime.roundtrip.last()[module2.id].commit={status:entry.status,report:entry.report},entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.message??(entry.message=imt.l("inspector",`activitystream.8.${entry.status??1}`)),this.runtime.log.push(entry),entry.status===2?this.warn(imt.l("inspector","activitystream.8.2")+` ${formatErrorMessage(entry.warning)}`):entry.status===3&&this.error(imt.l("inspector","activitystream.8.3")+` ${formatErrorMessage(entry.error)}`)),propagate&&(status(),module2.animateProgress(0,0));break;case 9:if(!module2)return;init2&&(entry.status??(entry.status=1),entry.message??(entry.message=imt.l("inspector","activitystream.9.1")),this.runtime.log.push(entry)),propagate&&module2.animateProgress(100,ifbuilt(entry.timeout??4e4));break;case 10:if(!module2)return;init2&&((_e2=this.runtime.roundtrip.last())[_f2=module2.id]??(_e2[_f2]={operations:[],filtered:[]}),i2=this.runtime.roundtrip.last()[module2.id].rollback={status:entry.status,report:entry.report},entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.message??(entry.message=imt.l("inspector",`activitystream.10.${entry.status??1}`)),this.runtime.log.push(entry),entry.status===2?this.warn(imt.l("inspector","activitystream.10.2")+` ${formatErrorMessage(entry.warning)}`):entry.status===3&&this.error(imt.l("inspector","activitystream.10.3")+` ${formatErrorMessage(entry.error)}`)),propagate&&(status(),module2.animateProgress(0,0));break;case 11:if(!module2)return;init2&&((_g2=this.runtime.roundtrip.last())[_h2=module2.id]??(_g2[_h2]={operations:[],filtered:[]}),i2=this.runtime.roundtrip.last()[module2.id],entry.route.id-1===(module2.parameters!=null?module2.parameters.else:void 0)?(i2.elseMap??(i2.elseMap=[]),i2.elseMap.push(i2.operations.length-1)):(i2.nonElseRouteID??(i2.nonElseRouteID=entry.route.id),i2.nonElseRouteID===entry.route.id&&i2.operations.push({input:null,output:null,status:1})),entry.message??(entry.message=imt.l("inspector","activitystream.11.1",{data:{route:entry.route.id}})),this.runtime.log.push(entry)),propagate&&(module2._inputLink!=null&&module2._inputLink.animateProgress(100,ifbuilt(300)),module2.grayed=!1);break;case 12:if(!module2)return;status(!0),init2&&(this.runtime.modules[module2.id]={variables:entry.module.variables,version:entry.module.version,name:entry.module.name,package:entry.module.app},i2=this.runtime.inits[module2.id]={status:entry.status},entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.message??(entry.message=imt.l("inspector",`activitystream.12.${entry.status??1}`)),this.runtime.log.push(entry));break;case 13:if(!module2)return;entry.status!==1&&status(),this.scenario.isDraft()&&_j.seek(module2.id)instanceof Trigger&&(entry.module.data!=null?entry.module.data[module2.id]:void 0)!=null&&(this._localTriggerState[module2.id]=entry.module.data[module2.id]),init2&&(i2=this.runtime.finals[module2.id]={status:entry.status},entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.message??(entry.message=imt.l("inspector",`activitystream.13.${entry.status??1}`)),this.runtime.log.push(entry));break;case 14:if(!module2)return;init2&&((_i2=this.runtime.roundtrip.last())[_j2=module2.id]??(_i2[_j2]={operations:[],filtered:[]}),entry.message??(entry.message=imt.l("inspector","activitystream.14.1")),this.runtime.log.push(entry),entry.status===2?(this.runtime.roundtrip.last()[module2.id].filtered.push(entry.warning),this.warn(imt.l("inspector","activitystream.14.2")+` ${formatErrorMessage(entry.warning)}`)):entry.status===3?(this.runtime.roundtrip.last()[module2.id].filtered.push(entry.error),this.error(imt.l("inspector","activitystream.14.3")+` ${formatErrorMessage(entry.error)}`)):(this.runtime.roundtrip.last()[module2.id].filtered.push(entry.report),entry.severity="block")),propagate&&(module2.filtered??(module2.filtered=0),entry.status===2?module2._inputLink._filter.icon="warning":entry.status===3&&(module2._inputLink._filter.icon="error"));break;case 15:if(!module2)return;init2&&(i2=this.runtime.roundtrip.last()[module2.id].operations.last(),i2.status=2,i2.warning={message:imt.l("inspector","activitystream.15.3")},entry.dlq!=null&&(i2.dlq=entry.dlq),entry.failer_id!=null&&(i2.failer_id=entry.failer_id),entry.status??(entry.status=2),entry.message??(entry.message=imt.l("inspector","activitystream.15.3")),this.runtime.log.push(entry)),propagate&&entry.status!==1&&status();break;case 16:if(!module2)return;init2&&(i2={input:entry.input,status:entry.status},entry.status===2&&(i2.warning=entry.warning),entry.status===3&&(i2.error=entry.error),entry.dlq!=null&&(i2.dlq=entry.dlq),(_k=this.runtime.roundtrip.last())[_l=module2.id]??(_k[_l]={operations:[],filtered:[]}),this.runtime.roundtrip.last()[module2.id].operations.push(i2),entry.message??(entry.message=imt.l("inspector",`activitystream.16.${entry.status??1}`)),this.runtime.log.push(entry),entry.status===2?this.warn(imt.l("inspector","activitystream.16.2")+` ${formatErrorMessage(entry.warning)}`):entry.status===3&&this.error(imt.l("inspector","activitystream.16.3")+` ${formatErrorMessage(entry.error)}`)),propagate&&(entry.status!==1&&status(),module2._inputLink!=null&&module2._inputLink.animateProgress(100,ifbuilt(300)),module2.grayed=!1,module2.operations++);break;case 17:if(!module2)return;init2&&(i2=this.runtime.roundtrip.last()[module2.id].operations.last(),i2.handled=!0,entry.severity??(entry.severity="warning"),entry.message??(entry.message=imt.l("inspector","activitystream.17.1")),this.runtime.log.push(entry)),propagate&&module2.animateProgress(0,0);break;case 18:if(!module2)return;init2&&((_m=this.runtime.roundtrip.last())[_n=module2.id]??(_m[_n]={operations:[],filtered:[]}),this.runtime.roundtrip.last()[module2.id].filtered.push(entry.report),entry.status??(entry.status=1),entry.message??(entry.message=imt.l("inspector","activitystream.18.1")),Array.isArray(entry.report)&&(entry.report.__IMTSUCCESS__=!0),this.runtime.log.push(entry)),propagate&&(module2.filtered??(module2.filtered=0),module2.filtered++);break;case 20:case 21:if(!init2)return;if(this.runtime.log.push(entry),entry.severity==="error")this.error(entry.message);else if(entry.severity==="warn")this.warn(entry.message);else if(entry.severity==="info")this.log(entry.message);else if(entry.severity==="debug"){const args=Array.isArray(entry.message)?entry.message:[entry.message];(!(typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected)||IMTDevTool.settings.console)&&console.log("%c[run:debug]","color: #a4a9ae",module2?`${module2.package.name}:`:"",...Array.from(args))}break;case 22:if(!init2)return;entry.severity="warn",entry.message=entry.warning.message,delete entry.warning,this.runtime.log.push(entry),this.warn(entry.message);break;case 23:if(!init2)return;this.runtime.log.push(entry),this.error(entry.message);break;case 24:if(!init2)return;break;case 25:if(!init2)return;this.runtime.result={duration:entry.time,status:entry.status,bundles:entry.bundles,operations:entry.operations,data_size:entry.transfer,dlq:entry.dlq},this.runtime.verifier&&(this.mode==="test"&&(imt.team!=null&&imt.team.scenarioDrafts&&!this.scenario.isDraft()?this.mode="live":this.mode="edit"),entry.status===1&&(this.log(imt.l("inspector","execution.completed")),isFeatureOn("new-toolbar",!1)&&this._toolbar.updateStatusBubbleStatus(null)),this._start instanceof Surface.Scheduling&&(this._start.animating=!1),this.emit("test_complete",entry.status===1));break;case 26:if(!init2)return;this.runtime.scenarioData=entry.scenario,this.runtime.environmentData=entry.environment;break}return null}addPlaceholder(coord){const ph=new Placeholder(coord.x,coord.y);return this._surface.stage.attach(ph),this.emit("add_placeholder",ph),ph}align(animate=!0,makeVisible=!0){const bounds=new Rectangle;let first=this._start;if(first==null)return;first instanceof Scheduling&&(first=first.next);var iterate=function(module2,branch=[]){let item,space=0,{next}=module2;if(Array.isArray(next)||module2._errorHandler&&(next=[next,module2._errorHandler.node2]),Array.isArray(next))if(next.length===0)space=1;else{item={module:module2,space:0,branches:[]},branch.push(item);for(let index2=0;index2<next.length;index2++){const node2=next[index2];if(node2!=null){const newBranch=[];item.branches.push(newBranch),newBranch.space=iterate(node2,newBranch),space+=newBranch.space}}item.space=space}else item={module:module2,space:0},branch.push(item),space=item.space=next!=null?iterate(next,branch):1;return space};const network=[];iterate(first,network),iterate=function(branch,left=0,top=0){for(let index2=0;index2<branch.length;index2++){const item=branch[index2],x2=(left+index2)*DEFAULT_NODE_SPACING,y2=top*DEFAULT_NODE_SPACING+(item.space-1)*DEFAULT_NODE_SPACING/2;if(item.module.move(x2,y2,animate?500:0),bounds.inflate(new Rectangle(x2-item.module.origin.x,y2-item.module.origin.x,item.module.bounds.width,item.module.bounds.height)),item.branches)for(let branchIndex=0;branchIndex<item.branches.length;branchIndex++){const newBranch=item.branches[branchIndex];iterate(newBranch,left+index2+1,top),top+=newBranch.space}}return null},iterate(network);let ox=bounds.x+75;const oy=bounds.y+150+bounds.height,orphans=this.findObject("module").concat(this.findObject("placeholder"));for(let orphan of orphans)orphan.first===orphan&&(orphan.move(ox,oy,animate?500:0),bounds.inflate(new Rectangle(ox-orphan.origin.x,oy-orphan.origin.x,orphan.bounds.width,orphan.bounds.height)),ox+=DEFAULT_NODE_SPACING);if(makeVisible)return this._surface.camera.makeVisible(bounds,animate?500:0)}build(flow2,metadata,done){if(metadata instanceof Function&&(done=metadata,metadata=void 0),!flow2)return typeof done=="function"?done(null):void 0;let first=null;var iterate=(branch,next)=>{let last=null;return async.mapSeries(branch,(step,next2)=>{step.id&&this.runtime!=null&&(this.runtime.instanceData[step.id]=step.data,this.runtime.instanceParameters[step.id]=step.parameters);const[packagename,modulename]=Array.from(step.module.split(":"));this.repository.get(packagename,modulename,step.version).then(module2=>{let link;if(module2?module2.customTitle=__guard__$7(step.metadata!=null?step.metadata.designer:void 0,x2=>x2.name):(module2=new Placeholder(0,0),packagename!=="placeholder"&&(module2.brokenModule=step,module2.attention=!0,module2.title="Module Not Found",module2.description=step.module)),module2.id=step.id,module2.parameters=Object.cloneDeep(step.parameters),module2.metadata=Object.cloneDeep(step.metadata??{}),module2.mapper=Object.cloneDeep(step.mapper),module2.flags=Object.cloneDeep(step.flags),module2.filter=Object.cloneDeep(step.filter??void 0),module2.x=__guard__$7(step.metadata!=null?step.metadata.designer:void 0,x1=>x1.x)??0,module2.y=__guard__$7(step.metadata!=null?step.metadata.designer:void 0,x2=>x2.y)??0,metadata!=null&&metadata.replaceReferences&&module2.replaceReferences&&module2.replaceReferences(metadata.replaceReferences),this._surface.stage.attach(module2),Array.isArray(__guard__$7(step.metadata!=null?step.metadata.designer:void 0,x3=>x3.messages))&&module2.messages!=null&&module2.messages.load(step.metadata.designer.messages),last!=null&&this._surface.stage.attach(new Link(last,module2)),first==null&&!(metadata!=null&&metadata.fragment)&&(first=module2,this._start=new Scheduling,this._surface.stage.attach(this._start),link=new Link(this._start,module2),this._surface.stage.attach(link,0)),last=module2,module2 instanceof Router)async.mapSeries(step.routes,(route,next3)=>iterate(route.flow,next3),(err,routes)=>{err&&next2(err);for(let index2=0;index2<routes.length;index2++){var route=routes[index2];route.length>0&&(link=new Link(module2,route[0]),step.routes[index2].disabled===!0&&(link.paused=!0),this._surface.stage.attach(link,0))}next2(null,module2)});else{if(Array.isArray(step.onerror))return iterate(step.onerror,(err,route)=>{err&&next2(err),this._surface.stage.attach(ErrorHandlerLink(module2,route[0]),0),next2(null,module2)});next2(null,module2)}})},next)};return iterate(flow2,err=>Array.isArray(metadata!=null?metadata.orphans:void 0)?async.mapSeries(metadata.orphans,(orphan,next)=>iterate(orphan,next),err2=>(err2||(this.built=!0,setImmediate(()=>this.emit("built"))),typeof done=="function"?done(err2):void 0)):(err||(this.built=!0,setImmediate(()=>this.emit("built"))),typeof done=="function"?done(err):void 0))}buildFavorites(packages){if(isFeatureOn("new-toolbar",!1))this.favorites=[],this._toolbar.buildTools(TOOLS_MENU).then(()=>{if(Array.isArray(packages))for(const pkg2 of packages)this.addFavorite(pkg2),this._toolbar.addFavorite(pkg2);else for(const mdl2 of this.findObject("module"))this.addFavorite(mdl2.package),this._toolbar.addFavorite(mdl2.package)});else{this._favorites.empty(),this.favorites=[];const self2=this;if(this._favorites.button(".btn.i-browser-add-app",function(){return this.i(".fal.fa-plus"),this.attr("data-testid",TOOLBAR_TEST_IDS.ADD_FAVORITE_APP),browser.mouse&&!browser.mobile&&tooltip(imt.l("base","common.add")).withPosition("top").withTrigger("hover").toElement(this),this.on("click",function(event){event.stopPropagation(),imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"favorite"}),self2.openAppSearch(this.__dom??this,void 0,!0)})}),Array.isArray(packages))for(var pkg of packages)this.addFavorite(pkg);else for(var mdl of this.findObject("module"))this.addFavorite(mdl.package);return async.map(TOOLS_MENU,function(tool,next){tool=tool.split("@"),self2.repository.get(tool[0],null,tool[1]).then(module2=>next(null,module2)).catch(next)},(_2,tools)=>{for(var tool of tools)tool!=null&&(tool2=>this._tools.button(".btn",function(){return tool2.theme&&(this.addClass(`theme-${tool2.theme!=null?tool2.theme.toHex().substr(1):void 0}`),this.css("background-color",tool2.theme!=null?tool2.theme.toHex():void 0)),this.data("package",tool2.name),tool2.icon&&this.img(".img-fluid").attr("src",tool2.icon.inject(tool2.icon.length-4,"_64")),browser.mouse&&!browser.mobile&&tooltip(tool2.label).withPosition("top").withTrigger("hover").toElement(this),this.on("click",function(event){event.stopPropagation();let btnName="flow_control";tool2.name==="util"&&(btnName="tools"),tool2.name==="regexp"&&(btnName="text_parser"),imtEvents.dispatch("scenario.tools_button_clicked",{buttonName:btnName}),self2.openAppSearch(this.__dom,tool2.name)})}))(tool);return null}),this}}openAppSearch(buttonElement,appDetail,fromFavorites){var _a2;new AppSearchBuilder().withRelative(buttonElement).withTracking({appNotFound:!0,moduleNotFound:!0,appSelected:!0,favorites:!0,moduleAdded:!0}).withFavouritePanel(!1).withClosableDetail(!1).withTopModules(!1).withOpenedApp(appDetail).withMetadata({showDirectives:appDetail==="builtin"||fromFavorites}).withOffset({y:20}).onAppSelected(async(e2,panel)=>{if(TOOLS_MENU.includes(`${e2.detail.app.name}@1`)){const relative=isFeatureOn("new-toolbar")?this._toolbar.querySelector(`#${e2.detail.app.name}-${e2.detail.app.versions[0].version.split(".")[0]}`):document.querySelector(`[data-package="${e2.detail.app.name}"]`);panel.content.detail.open(e2.detail.app),panel.changeRelativeElement(relative)}else{const app=await this.repository.get(e2.detail.app.name);if(isFeatureOn("new-toolbar",!1)){this._toolbar.addFavorite(app),await this._toolbar.updateComplete;const fav=this._toolbar.querySelector(`#${app.name}-${app.version.split(".")[0]}`);panel.changeRelativeElement(fav)}else{this.addFavorite(app,!0);const fav=this._favorites.__dom.querySelector(`[data-package="${app.name}@${app.version[0]}"]`);panel.changeRelativeElement(fav)}}}).onModuleSelected(async(e2,panel)=>{var _a3,_b2,_c2;const module2=await this.repository.get(e2.detail.app.name,e2.detail.module.name,e2.detail.version),surface=(_a3=_j.instance)==null?void 0:_a3._surface;if(module2.TYPE==="directive"&&(module2.setupRequired=!0),surface){let coords=null;if(e2.detail.pointer)coords=surface.input.toInternalCoords((_b2=e2.detail.pointer)==null?void 0:_b2.x,(_c2=e2.detail.pointer)==null?void 0:_c2.y);else{const box=e2.target.getBoundingClientRect();coords=surface.input.toInternalCoords(box.x+box.width/2,box.y+box.height/2)}coords.translate(-surface.stage.x,-surface.stage.y),module2.move(coords.x,coords.y),module2.id=_j.instance.scenario.idSequence++,surface.stage.attach(module2),_j.instance.emit("add_module",module2),setImmediate(()=>{surface.input.hover=module2,panel.close()})}}).append(),(_a2=Panels.one)==null||_a2.close()}addFavorite(pkg,animate=!1,open2=!1){const id=`${pkg.name}@${parseInt(pkg.version)}`;if(isFeatureOn("new-toolbar",!1))return!TOOLS_MENU.includes(id)&&!this.favorites.includes(pkg)&&this.favorites.push(pkg),this._toolbar.addFavorite(pkg);if(!this._favorites)return this;if(TOOLS_MENU.includes(id))return open2?(this._tools.children(`.btn[data-package="${id}"]`).trigger("click"),this):void 0;if(this._favorites.children(`[data-package="${id}"]`).length)return open2?(this._favorites.children(`.btn[data-package="${id}"]`).trigger("click"),this):void 0;let multiver=this.favorites.some(fav=>fav.name===pkg.name?(this._favorites.children(`[data-package="${fav.name}@${parseInt(fav.version)}"]`).do(function(){if(this.children(".badge").length===0)return this.span(".badge.badge-info").css("background-color",fav.theme.darker(50).toHex()).text(`v${parseInt(fav.version)}`)}),!0):!1);pkg.latest||(multiver=!0),this.favorites.push(pkg);const self2=this;return sim.button(".btn",function(){return this.addClass(`theme-${pkg.theme!=null?pkg.theme.toHex().substr(1):void 0}`),this.css("background-color",pkg.theme!=null?pkg.theme.toHex():void 0),this.data("package",id),this.img(".img-fluid",function(){return pkg.icon?this.attr("src",pkg.icon.inject(pkg.icon.length-4,"_64")):this.attr("src",imt.static("/img/noicon.png"))}),multiver&&this.span(".badge.badge-info").css("background-color",pkg.theme.darker(50).toHex()).text(`v${parseInt(pkg.version)}`),browser.mouse&&!browser.mobile&&tooltip(pkg.label).withPosition("top").withTrigger("hover").toElement(this),this.on("click",function(event){event.stopPropagation();const pkg2=this.__dom.dataset.package;self2.openAppSearch(this.__dom,pkg2)}),animate&&(this.hide().fadeIn("fast"),open2&&delay(250,()=>this.emit("click"))),this.insertBefore(self2._favorites.children(".i-browser-add-app"))}),this}addNote(relative,onFilter=!1){if(isFeatureOn("new-notes",!1)){notes.addNew([relative.id],onFilter);return}const self2=this;return this.toggleNotes(!0),delay(100,function(){var card=sim.div(".card.out",function(){const noteLine=new Surface.NoteLine(relative,this,onFilter);self2._surface.stage.attach(noteLine);const note={id:relative.id,text:"",filter:onFilter};return self2.scenario.notes.unshift(note),isFeatureOn("new-toolbar",!1)&&self2._toolbar.updateNotesIndicator(self2.scenario.notes.length),this.div(`.card-header.theme-${relative.theme!=null?relative.theme.toHex().substr(1):void 0}`),this.div(".card-body",function(){return this.textarea(function(){return this.attr("rows",1),this.text(note.text),this.on("input",function(){return note.text=this.val(),this.css("height","auto"),this.css("height",`${this.__dom.scrollHeight}px`)}),delay(200,()=>this.focus())})}),this.button(".btn.btn-xs.btn-danger",function(){return this.i(".fas.fa-fw.fa-times"),this.once("click",function(){return noteLine.detach(),self2.scenario.notes.remove(note),isFeatureOn("new-toolbar",!1)&&self2._toolbar.updateNotesIndicator(self2.scenario.notes.length),card.addClass("out"),delay(400,function(){return card.remove(),self2._surface.render()})})}),delay(100,()=>this.removeClass("out"))});return sim(".i-inspector-notes .aside-info-body > small").remove(),sim(".i-inspector-notes .aside-info-body").append(card),self2._surface.render()}),this}toggleNotes(show){let notes2;if(show===!0&&sim("body").hasClass("with-aside-info"))return;if(show===!1||sim("body").hasClass("with-aside-info")){notes2=sim("body .content > .i-inspector-notes"),notes2.length&&(notes2.remove(),sim(this._surface.canvas).removeClass("notes-opened"),sim("body").removeClass("with-aside-info"),this.findObject("noteLine").forEach(line=>line.detach()),this._surface.resize());return}const self2=this,modules=this.findObject("module");return sim(this._surface.canvas).addClass("notes-opened"),sim("body").addClass("with-aside-info with-temp-aside-info with-right-aside-info"),sim("body .content").first().header(".aside-info.grayscale.i-inspector-notes",function(){return this.div(".aside-info-header",function(){return this.div(".pt-4.mb-3.d-flex.w-100.justify-content-between.align-items-center",function(){return this.h1(".display-5.mb-0").text(imt.l("inspector","common.notes")),this.button(".btn.btn-transparent.text-muted",function(){return this.i(".far.fa-fw.fa-times"),this.on("click",()=>self2.toggleNotes(!1))})}),this.hr()}),this.div(".aside-info-body",function(){self2.scenario.notes.length===0&&this.small(".text-muted").text(imt.l("inspector","panels.notes.help"));for(var note of self2.scenario.notes)(note2=>{const module2=modules.filter(item=>item.id===note2.id)[0];if(module2){let card;return note2.filter&&!module2._inputLink?void 0:card=this.div(".card",function(){const noteLine=new Surface.NoteLine(module2,this,note2.filter);return self2._surface.stage.attach(noteLine),this.div(`.card-header.gradient.theme-${module2.theme!=null?module2.theme.toHex().substr(1):void 0}`),this.div(".card-body",function(){return this.textarea(function(){return this.attr("rows",1),this.text(note2.text),this.on("input",function(){return note2.text=this.val(),this.css("height","auto"),this.css("height",`${this.__dom.scrollHeight}px`)}),this.css("height",`${this.__dom.scrollHeight}px`)})}),this.button(".btn.btn-xs.btn-danger",function(){return this.i(".fas.fa-fw.fa-times"),this.once("click",function(){return noteLine.detach(),self2.scenario.notes.remove(note2),isFeatureOn("new-toolbar",!1)&&self2._toolbar.updateNotesIndicator(self2.scenario.notes.length),card.addClass("out"),delay(400,function(){return card.remove(),self2._surface.render()})})})})}})(note);return this.on("scroll",()=>self2._surface.render())})}),this._surface.resize()}copyModules(selected){if(selected=(selected||this._surface.input.selected).slice(),selected.length===0&&this._surface.input.focus&&(selected=[this._surface.input.focus]),selected.length===0)return;var iterate=function(module22,flow2=[]){if(!module22)return flow2;const json=module22.toJSON();if(flow2.push(json),module22 instanceof Router){json.routes=[];for(var route of module22._outputLinks)selected.indexOf(route.node2)!==-1&&json.routes.push({disabled:route.paused||void 0,flow:iterate(route.node2)})}else module22._errorHandler&&selected.indexOf(module22._errorHandler.node2)!==-1&&(json.onerror=iterate(module22._errorHandler.node2)),selected.indexOf(module22.next)!==-1&&iterate(module22.next,flow2);return flow2};const flows=[];for(var module2 of selected)selected.indexOf(module2.prev)===-1&&flows.push({flow:iterate(module2)});const text=JSON.stringify({subflows:flows,metadata:{version:1}},null,4);if(navigator.clipboard.writeText(text).catch(err=>console.error(err)),!navigator.clipboard.readText)return LOCAL_CLIPBOARD=text}deleteModules(selected){for(var module2 of selected||this._surface.input.selected)module2.removable&&module2.detach();return null}pasteModules(){let readText=navigator.clipboard.readText!=null?navigator.clipboard.readText.bind(navigator.clipboard):void 0;return readText||(readText=()=>Promise.resolve(LOCAL_CLIPBOARD)),readText().then(data2=>{let blueprint,module2;try{if(blueprint=JSON.parse(data2),!Array.isArray(blueprint.subflows)||(blueprint.metadata!=null?blueprint.metadata.version:void 0)!==1)return}catch{return}const modules=[];var iterate=function(flow2){for(var module22 of flow2){modules.push(module22);for(var route of module22.routes??[])Array.isArray(route.flow)&&iterate(route.flow);Array.isArray(module22.onerror)&&iterate(module22.onerror)}return null};for(var subflow of blueprint.subflows)iterate(subflow.flow);let bounds=null;const idMap={};for(module2 of modules){var original=module2.id;module2.id=this.scenario.idSequence++,idMap[original]=module2.id;var pt=new Point(module2.metadata.designer.x||0,module2.metadata.designer.y||0);bounds?bounds.inflate(pt):bounds=new Rectangle(pt.x,pt.y)}const origin=this._surface.input.lastKnownPointerPosition||new Point(0,0);origin.translate(-this._surface.stage.x,-this._surface.stage.y);const{center}=bounds;for(module2 of modules)module2.metadata.designer.x=origin.x+(module2.metadata.designer.x-center.x),module2.metadata.designer.y=origin.y+(module2.metadata.designer.y-center.y);return async.eachSeries(blueprint.subflows,(subflow2,next)=>this.build(subflow2.flow,{fragment:!0,replaceReferences:idMap},next),err=>{if(err)return console.error("Failed to build pasted modules.",err);const newIds=Object.values(idMap);return this._surface.input.selected=this._surface.find(Surface.Module).filter(mdl=>newIds.indexOf(mdl.id)!==-1)})})}createContextMenu(target){return __guardMethod__$1(target,"createContextMenu",o2=>o2.createContextMenu())}error(message){return isFeatureOn("new-toolbar",!1)?(toaster.show(message,"danger",{ignoreRedundant:!0,buttonLabel:imt.l("inspector","common.openLog"),buttonPosition:"right",onButtonClick:()=>this._toolbar.switchLogsVisibility("error_toast")}),this.log(message,"text-danger")):this.log(message,".text-danger")}async loadDependencies(deps,done){try{await Promise.all(deps.map(dep=>this.repository.get(dep))),done()}catch(err){console.error(deps,err),done(err)}}log(message,klass){const time=format(Date.now(),"datetime",{format:"LT",timezone:imt.user.timezone});if(isFeatureOn("new-toolbar",!1))this._toolbar.saveLog({time,message,cssClass:klass});else{const scroll=this._log.children(".i-inspector-log-scroll").first();return this._log.find("ul").append(sim.li(klass,function(){return this.div(".time").text(time),this.div().text(message),setImmediate(()=>scroll.__dom.scrollTop=scroll.__dom.scrollHeight)}))}}reset(blueprint,done){return blueprint||(blueprint=this.scenario._loadedBlueprint),this._start=null,this._surface.clear(),this.built=!1,this.build(blueprint.flow,blueprint.metadata!=null?blueprint.metadata.designer:void 0,done)}toggleLog(show){var _a2,_b2;return show?(_a2=this._menu)==null?void 0:_a2.addClass("i-show-log"):((_b2=this._menu)==null||_b2.toggleClass("i-show-log"),this._surface.render())}validate(relative,options,done){typeof options=="function"&&(done=options,options=void 0),options??(options={});const messages=this.findObject("module").reduce(function(array2,module2){return module2.first instanceof Scheduling?array2.concat(module2.messages.get()):array2},[]),containsErrors=messages.some(msg=>msg.severity==="error");if(isFeatureOn("new-toolbar",!1)&&containsErrors&&options.onToggle&&this._toolbar.syncScenarioActiveState(),this._validationPanel!=null&&(this._validationPanel._close(),this._validationPanel=null),messages.length&&(containsErrors||!containsErrors&&!this.ignoreWarnings))return this._validationPanel=new ScenarioMessagesPanel(relative,messages,{cta:!0,...options}),this._validationPanel.on("destroy",()=>this._validationPanel=null),this._validationPanel.on("confirm",()=>done());if(options.dlq){const self2=this,{cache}=self2.scenario._dlqContext,{id}=self2.scenario,{scenarioId}=self2.scenario;let freshVariables=!1,config2=[];const dlqBundle=new DLQBundle(id),scenario=new Scenario;return scenario.load(scenarioId,function(err){return err?self2.warn(err):({freshVariables}=scenario._loadedBlueprint.metadata.scenario,dlqBundle.loadBundle(function(err2){if(err2)return self2.warn(err2);const{$inputvars,$snapshots}=dlqBundle.data,{organization,team,input}=$inputvars.context;let{organizationVariablesSpec,teamVariablesSpec,scenarioInputSpec}=$snapshots;const fillWithData=function(origin,target){return target.default=cache.hasOwnProperty(target.name)?cache[target.name]:origin[target.name],target.label=target.name,target};if(organizationVariablesSpec=(organizationVariablesSpec??[]).map(fillWithData.bind(null,organization)),teamVariablesSpec=(teamVariablesSpec??[]).map(fillWithData.bind(null,team)),scenarioInputSpec=(scenarioInputSpec??[]).map(fillWithData.bind(null,input)),freshVariables&&(organizationVariablesSpec=[],teamVariablesSpec=[]),organizationVariablesSpec.length||teamVariablesSpec.length||scenarioInputSpec.length){freshVariables&&!scenarioInputSpec.length&&done();let confirmType="customVarsAndScenarioInputs";const isVarsPresent=organizationVariablesSpec.length||teamVariablesSpec.length,isInputsPresent=scenarioInputSpec.length;return isVarsPresent&&isInputsPresent?confirmType="customVarsAndScenarioInputs":isVarsPresent&&!isInputsPresent?confirmType="customVariablesOnly":isInputsPresent&&!isVarsPresent&&(confirmType="scenarioInputsOnly"),self2._validationPanel=new DLQSnapshotOverrideConfirmationPanel(relative,confirmType,isCofirmedToChange=>isCofirmedToChange?(config2=config2.concat(organizationVariablesSpec.length?[{type:"separator",label:imt.l("inspector","panels.dlq.organizationVariablesTitle")}]:[],organizationVariablesSpec,teamVariablesSpec.length?[{type:"separator",label:imt.l("inspector","panels.dlq.teamVariablesTitle")}]:[],teamVariablesSpec,scenarioInputSpec.length?[{type:"separator",label:imt.l("inspector","panels.dlq.scenarioInputsTitle")}]:[],scenarioInputSpec),self2._validationPanel=new DLQSnapshotOverridePanel(relative,config2,cache,({input:input2,spec})=>{self2.scenario._dlqContext.cache=input2,self2.scenario._dlqContext.spec=spec;const updatedContext={organization:{},team:{},input:{}},object2=Object.entries(input2);for(var _2 in object2){var[key,value]=object2[_2];organization.hasOwnProperty(key)?updatedContext.organization[key]=value:team.hasOwnProperty(key)?updatedContext.team[key]=value:updatedContext.input[key]=value}return done(updatedContext)})):(self2._validationPanel=null,done())),self2._validationPanel.on("destroy",()=>self2._validationPanel=null)}else return done()}))})}else return done()}warn(message){return this.log(message,".text-warning")}static seek(path,collection){var _a2;let iface,param;const keys2=IML._splitVariable(path);if(!keys2.length)return null;const id=parseInt(keys2.shift());if(isNaN(id))return null;const module2=__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.findObject("module").filter(mod=>mod.id===id)[0]);if(!module2)return null;if(!keys2.length||!collection)return module2;if(collection==="interface")iface=module2.interface();else if(collection==="expect")iface=module2.metadata.expect??module2.expect().config;else throw new Error("Invalid collection.");for(;;){var arr=!1,key=keys2.shift();if(/\[(\d+)?\]$/.exec(key)&&(arr=!0,key=key.substr(0,key.length-RegExp.$1.length-2)),param=(_a2=iface==null?void 0:iface.filter(par=>par.name===key))==null?void 0:_a2[0],!param||!keys2.length&&!arr)break;if(arr&&param.type!=="array")return null;if(param.type==="array"){if(!arr&&keys2.length)return null;if(Array.isArray(param.spec))iface=param.spec;else if(typeof param.spec=="object"&&param.spec.type==="collection")iface=param.spec.spec;else if(!keys2.length)return param.spec}else param.type==="collection"?iface=param.spec:iface=null}return param}assignUserData(data2,isLiveStream=!1){const runtime=__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.runtime),cycle=__guard__$7(runtime!=null?runtime.roundtrip:void 0,x1=>x1[data2.cycle-1]),module2=cycle!=null?cycle[data2.module]:void 0,operation=__guard__$7(module2!=null?module2.operations:void 0,x2=>x2[data2.operation-1]);if(!operation)return setTimeout(()=>this.assignUserData(data2),200);if(data2.error&&operation.handled===!0){operation.handled=data2.data;return}if(data2.input?operation.input=data2.data:data2.page===1||!isLiveStream?operation.output=data2.data:data2.page<=data2.pages&&(operation.output=Array.isArray(operation.output)?operation.output.concat(data2.data):data2.data),data2.input===!1&&data2.cycle===1&&data2.operation===1)return this.setSamples(data2.cycle-1,data2.module)}setSamples(cycleIndex,moduleId){const module2=__guard__$7(__guard__$7(__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.runtime.roundtrip),x1=>x1[cycleIndex]),x2=>x2[moduleId]);if(!module2)return;const samplesToSet=this.scenario.samples.reduceOperationsToSampleObject(module2.operations);if(samplesToSet)return this.scenario.samples.set(moduleId,samplesToSet)}loadUserDataForModule(relative,callback){const setUserData=events2=>events2.map(data2=>this.assignUserData(data2)),isUserDataComplete=(cycleIndex,moduleId)=>{const module2=__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.runtime.roundtrip[cycleIndex][moduleId]),operations=module2!=null?module2.operations:void 0;let complete=!0;if(operations)for(var op of operations){if(op.input){for(var input of op.input)if(input===void 0){complete=!1;break}}if(!complete)break;if(op.output){for(var output of op.output)if(output===void 0){complete=!1;break}}if(!complete)break}return complete},flow2=_j.seek(relative.id).prevAll().filter(item=>!(item instanceof Scheduling)&&item.operations);relative.operations&&flow2.unshift(_j.seek(relative.id));const loaders=flow2.map(module2=>resolve=>async.until(cont=>cont(null,isUserDataComplete(__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.roundtrip),module2.id)),next=>{const kind=__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.scenario)instanceof DLQScenario?"dlq":"scenario";return Loader.load(`streamer://${kind}/${__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x1=>x1.scenario.id)}/log/${__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x2=>x2.runtime.id)}/module/${module2.id}`,{method:"POST",data:{cycle:__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x3=>x3.roundtrip)+1}},(err,userData)=>err?(this.warn(err.message),next(err)):(setUserData(userData),isUserDataComplete(__guard__$7(typeof _j<"u"&&_j!==null?_j.instance:void 0,x4=>x4.roundtrip),module2.id)?next():setTimeout(()=>next(),1e3)))},err=>err?resolve(err):resolve(null,!0)));return async.parallel(loaders,(error,result)=>callback())}isStreamingAvailable(){return globalThis.WebStreamerLib?!0:(toaster.show(imt.l("inspector","flashes.streamingNotInitialized"),"danger",{ignoreRedundant:!0}),!1)}keybindHandler(event){if(["edit","live"].includes(this.mode)&&(event.metaKey||event.ctrlKey)&&event.key.toLowerCase()==="enter"&&this.startTest(),["edit","live"].includes(this.mode)&&(event.metaKey||event.ctrlKey)&&event.keyCode===83)return this.scenario.save(function(err){if(err){if((err!=null?err.code:void 0)!=="IM004"&&(err!=null?err.code:void 0)!=="IM026")return new Alert(Alert.parseError(err)).show()}else(_j==null?void 0:_j.instance)instanceof Templater?toaster.show(imt.l("inspector","flashes.templatesaved")):toaster.show(imt.l("inspector","flashes.scenariosaved"))})}},__publicField(_j,"SHOWCASE",!1),__publicField(_j,"registerRemoteFeatureStorage",registerRemoteStorage),__publicField(_j,"unregisterRemoteFeatureStorage",unregisterRemoteStorage),_j);Cls$5.initClass();class TestableInspector extends Cls$5{constructor(){super(...arguments),this.resetRuntime=this.resetRuntime.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.switchExecution=this.switchExecution.bind(this),this.activateExecution=this.activateExecution.bind(this),this.abortExecution=this.abortExecution.bind(this),this.isStreamingAvailable()&&(this.webStreamerLib=new WebStreamerLib,this.webStreamerLib!=null&&this.webStreamerLib.open({prefix:imt.streamerSocketUrlPrefix}),this.webStreamerLib!=null&&this.webStreamerLib.on("info",msg=>debug$2("info",msg)),this.webStreamerLib!=null&&this.webStreamerLib.on("new_execution",execution=>(execution.scenarioId=this.scenario.id,this.runtime!=null&&this.runtime.execution?execution.activate():(this.resetRuntime(),this.activateExecution(execution)))),this.on("built",()=>{if(imtEvents.dispatch("scenario.built",!0),setTimeout(()=>this._surface.camera.makeVisibleInFOV(this._calculateFOV()),10),this.mode==="view"&&!(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed()))return this.subscribe()}),this.on("mode_change",()=>{if(this.built&&(isFeatureOn("new-toolbar",!1)&&this._toolbar.updateStatusBubbleStatus(null),!(this.runtime!=null&&this.runtime.execution)&&(this.mode==="view"&&!(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed())&&this.subscribe(),["edit","test","live"].includes(this.mode)&&(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed()))))return this.unsubscribe()}),this.on("mode_transition",transition=>{if(this.built&&!["edit->test","test->edit","live->test","test->live"].includes(transition))return setTimeout(()=>this._surface.camera.makeVisibleInFOV(this._calculateFOV()),10)}),sim(window).on("keydown",this.keybindHandler))}resetRuntime(){return this.runtime={log:[],inits:{},finals:{},roundtrip:[],scenarioData:{},environmentData:{},commonData:{},instanceData:{},instanceParameters:{},modules:{},sanitized:!0,verifier:!0}}subscribe(){if(!(this instanceof DLQInspector)&&!(this instanceof Templater))return this.webStreamerLib!=null?this.webStreamerLib.subscribe(this.scenario instanceof DLQScenario?"dlq":this.scenario instanceof Template?"template":"scenario",this.scenario.id,!1):void 0}unsubscribe(){if(!(this instanceof DLQInspector)&&!(this instanceof Templater))return this.webStreamerLib!=null?this.webStreamerLib.unsubscribe():void 0}switchExecution(id){const old=this.runtime!=null?this.runtime.execution:void 0;if(old&&old.id===id)return;const target=this.webStreamerLib!=null?this.webStreamerLib.getExecution(id):void 0;if(target&&!(target.state!==0&&target.state!==1))return old&&(old.detach(),this.runtime.execution=void 0,imtEvents.dispatch("inspector.active_execution_change",null)),this.resetRuntime(),target.rollBack(),this.activateExecution(target)}activateExecution(execution,singleModuleId){if(this.isStreamingAvailable()&&!(this.runtime!=null&&this.runtime.execution))return this._start instanceof Surface.Scheduling&&(this._start.animating=!0),debug$2("execute",execution.id),this.runtime.id=execution.id,this.scenario.instant?(this.log(imt.l("inspector","execution.accepted2")),isFeatureOn("new-toolbar",!1)&&this._toolbar.updateStatusBubbleStatus("waiting")):(this.log(imt.l("inspector","execution.accepted")),isFeatureOn("new-toolbar",!1)&&this._toolbar.updateStatusBubbleStatus("running")),this.scenario.clearLocalInstanceData(),execution.on("scenario_rejected",(reason,message)=>{if(debug$2("scenario_rejected",execution.id,reason),this.abortExecution(reason,message),this.mode==="view"&&!(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed()))return this.subscribe()},!0),execution.on("scenario_start",data2=>(debug$2("scenario_start",execution.id,data2),this._progress(data2,!0)),!0),execution.on("scenario_activity",data2=>(debug$2("scenario_activity",execution.id,data2),this._progress(data2,!0)),!0),execution.on("scenario_end",data2=>{if(debug$2("scenario_end",execution.id,data2),this._progress(data2,!0),["edit","live"].includes(this.mode)&&(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed())&&!this.runtime.execution.manual&&this.unsubscribe(),this.runtime.execution=void 0,imtEvents.dispatch("inspector.active_execution_change",null),singleModuleId&&Inspector.seek(singleModuleId)._bubble.focus(),this.mode==="view"&&!(this.webStreamerLib!=null&&this.webStreamerLib.isSubscribed()))return this.subscribe()},!0),execution.on("user_data",data2=>(debug$2("user_data",execution.id,data2),this.assignUserData(data2,!0)),!0),execution.on("debug_data",data2=>{debug$2("debug_data",execution.id,data2);const module2=Inspector.seek(data2.module),args=JSON.parse(data2.data);typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected&&IMTDevTool.pushLiveStreamEvent(args,module2!=null?module2.id:void 0,module2!=null?module2.package.theme.toHex():void 0),(!(typeof IMTDevTool<"u"&&IMTDevTool!==null&&IMTDevTool.connected)||IMTDevTool.settings.console)&&console.log("%c[run:debug]","color: #a4a9ae",module2?`${module2.package.name}:`:"",...Array.from(args));var saveData=data22=>{const op=__guard__$7(__guard__$7(__guard__$7(this.runtime.roundtrip!=null?this.runtime.roundtrip[data22.cycle-1]:void 0,x2=>x2[data22.module]),x1=>x1.operations),x2=>x2[data22.operation-1]);return op?(op.debug??(op.debug=[]),op.debug.push(data22.data)):setTimeout(()=>saveData(data22),1e3)};return saveData(data2)},!0),this.runtime.execution=execution,imtEvents.dispatch("inspector.active_execution_change",execution.id),execution.activate()}abortExecution(reason,message){if(this.isStreamingAvailable()){switch(this.mode==="test"&&(this.mode="edit"),this.runtime.result={duration:0,status:3,bundles:0,operations:0,data_size:0},this._start instanceof Surface.Scheduling&&(this._start.animating=!1),this.runtime.execution=void 0,imtEvents.dispatch("inspector.active_execution_change",null),reason){case"rejected":message?this.error("Scenario was rejected: "+message):this.error("Scenario was rejected.");break;case"timeout":this.error("Exceeded maximum wait time.");break;case"stop":this.warn("Scenario was stopped.");break;case"force stop":this.warn("Scenario was force stopped.");break;default:this.error(reason.message)}return this.emit("test_complete",!1)}}startTest(company,blueprint,scheduling,inputs,options,draft,hookWaitForNew){if(!this.isStreamingAvailable())return;if(this.runtime!=null&&this.runtime.verifier&&!(this.runtime.result!=null&&this.runtime.result.status))return new Alert(imt.l("inspector","execution.alreadyrunning")).show();const modules=this.findObject("module").filter(module2=>module2.first===this._start);if(!(options!=null&&options.runSingle)&&modules.reduce((prev,module2)=>prev.concat(module2.messages.get({severity:"error"})),[]).length)return new Alert(imt.l("inspector","execution.haserrors")).show();if(this.mode!=="test")return this.mode="test",this._start instanceof Surface.Scheduling&&(this._start.animating=!0),this.log(imt.l("inspector","execution.preparing")),async.map(modules,(module2,next)=>module2.prepare(next),err=>{let variablesContext;if(err){this.error(err.message),this.mode==="test"&&(this.mode="edit"),this._start instanceof Surface.Scheduling&&(this._start.animating=!1);return}this.resetRuntime(),this.log("Requesting execution."),setTimeout(()=>this._surface.camera.makeVisibleInFOV(this._calculateFOV()),10);const mod=blueprint.flow[0];return this.scenario.isDraft()&&Inspector.seek(mod.id)instanceof Trigger&&this._localTriggerState[mod.id]&&(mod.data=this._localTriggerState[mod.id]),inputs??(inputs={input:{}}),inputs.input&&inputs.spec?variablesContext={input:inputs}:inputs instanceof Surface.Module?variablesContext={input:{}}:variablesContext=inputs,this.webStreamerLib!=null?this.webStreamerLib.execute(blueprint,scheduling,variablesContext,options,!!draft,!!hookWaitForNew).then(execution=>{blueprint.flow.length===1&&!blueprint.flow[0].routes?this.activateExecution(execution,blueprint.flow[0].id):this.activateExecution(execution)}).catch(err2=>(debug$2("execute error",err2),this.abortExecution(err2))):void 0})}stopTest(){var _a2;if(this.isStreamingAvailable()&&this.runtime!=null&&this.runtime.execution&&(this.runtime.execution.command("stop"),!isFeatureOn("new-toolbar",!1)))return(_a2=this._menu)==null?void 0:_a2.addClass("i-inspector-forcable")}forceStopTest(){if(this.isStreamingAvailable()&&this.runtime!=null&&this.runtime.execution)return this.runtime.execution.command("force stop")}}function __guard__$7(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}function __guardMethod__$1(obj,methodName,transform2){if(typeof obj<"u"&&obj!==null&&typeof obj[methodName]=="function")return transform2(obj,methodName)}const debug$1=imt.debug("imt:inspector","#329032");(globalThis.Debugger=class Debugger2 extends Inspector{static initClass(){this.prototype.scenario=null,this.prototype._firstErrorEnsuredVisible=!1,this.prototype._initializationError=null}constructor(){super(...arguments);let self2=this;Debugger2.instance=this,this.mode="inspect";let id=parseInt(this.root.data("scenario"));const logid=this.root.data("log");let kind="scenario";if(this.root.data("dlq")?(id=this.root.data("dlq"),kind="dlq",this.scenario=new DLQScenario,this.scenario.id=id):this.root.data("template")?(id=this.root.data("template"),kind="template",this.scenario=new Template,this.scenario.id=id):id&&!isNaN(id)&&(this.scenario=new Scenario,this.scenario.id=id),this.scenario!=null)this.loading=!0,Promise.all([imtEvents.once$("scenario.log_execution_stream").toPromise(),imtEvents.once$("scenario.log_detail").toPromise()]).then(results=>{var _a2;const log2=results[0].data,logDetail=(_a2=results[1])==null?void 0:_a2.data;self2=this,this.parentLog=logDetail==null?void 0:logDetail.parent;const loadBlueprint=function(done){var _a3;const activityStreamMetadata=log2.find(item=>item.type===26||item.type===1);if(typeof(activityStreamMetadata==null?void 0:activityStreamMetadata.blueprint)=="string")try{return done(null,{blueprint:JSON.parse(activityStreamMetadata.blueprint)})}catch(ex){return done(ex)}else{if((activityStreamMetadata==null?void 0:activityStreamMetadata.type)===1)return self2._initializationError=activityStreamMetadata,self2._loading.remove(),sim.div(".d-flex.flex-column.justify-content-center.align-items-center.h-100.p-2",function(){return this.p(".text-center",function(){return this.text(imt.l("inspector","scenario.failedToStart"))}),this.p(".text-center",function(){var _a4;return this.text(imt.l("inspector","scenario.failedToStartSupport",{integromat:(_a4=imt.brand)==null?void 0:_a4.title}))}),this.appendTo(self2.root)}),initializeRuntime(null,activityStreamMetadata.time),self2.updateScenarioDetail(log2);if(typeof(activityStreamMetadata==null?void 0:activityStreamMetadata.blueprint)!="number"){const err=(_a3=activityStreamMetadata==null?void 0:activityStreamMetadata.error)==null?void 0:_a3.message;return done(new Error("This execution cannot be displayed: "+(err||"blueprint version is missing")))}else return Loader.api(`${kind}s/${id}/blueprint?blueprintId=${activityStreamMetadata.blueprint}`,done)}};var initializeRuntime=(blueprint,initFailureDuration)=>this.runtime={id:logid,log:[],timestamp:log2[0].timestamp,result:{duration:(logDetail==null?void 0:logDetail.duration)??initFailureDuration},inits:{},finals:{},roundtrip:[],scenarioData:{},environmentData:{},commonData:{},instanceData:{},instanceParameters:{},accounts:(blueprint==null?void 0:blueprint.accounts)??[],devices:(blueprint==null?void 0:blueprint.devices)??[],hooks:(blueprint==null?void 0:blueprint.hooks)??[],udts:(blueprint==null?void 0:blueprint.udts)??[],keychain:(blueprint==null?void 0:blueprint.keychain)??[],metadata:blueprint==null?void 0:blueprint.metadata,modules:{},sanitized:!0};return loadBlueprint((err,blueprint)=>{let a2;if(err){a2=new Alert(Alert.parseError(err)),a2.show(),a2.once("hide",()=>window.location="/");return}debug$1("log:",log2),debug$1("blueprint:",blueprint),initializeRuntime(blueprint);for(var pkg of blueprint.packages??[])this.runtime.commonData[pkg.name]=pkg.common;return this.build(blueprint.blueprint.flow,()=>{var _a3,_b2;this.built=!1;for(var item of log2)this._progress(item,!0);return(_a3=this.runtime.scenarioData)!=null&&_a3.instant&&(this.scenario.instant=!0,this.scenario.scheduling={type:"immediately"},this._start.updateDescription()),(_b2=sim("#scenarioroundtrips"))==null||_b2.do(function(){if(!self2.runtime.roundtrip.length)return this.children("button").removeClass("dropdown-toggle").text(imt.l("inspector","scenario.noroundtrips"));const btn=this.children("button").do(function(){return self2.runtime.roundtrip.length===1?(this.removeClass("dropdown-toggle"),this.prop("disabled",!0),this.text(imt.l("inspector","scenario.roundtrip",{data:{roundtrip:"1/1"}}))):this.text(`${imt.l("inspector","scenario.roundtrip",{data:{roundtrip:`1/${self2.runtime.roundtrip.length}`}})}`)});return this.children(".dropdown-menu").do(function(){return self2.runtime.roundtrip.length===1?this.remove():self2.runtime.roundtrip.map((rt,index2)=>(index22=>this.li(".dropdown-item",function(){return this.a(function(){return this.attr("href","#"),this.text(imt.l("inspector","scenario.roundtrip",{data:{roundtrip:`${index22+1}/${self2.runtime.roundtrip.length}`}}))}),this.on("click",function(e2){return e2.preventDefault,self2.roundtrip=index22,btn.text(`${imt.l("inspector","scenario.roundtrip",{data:{roundtrip:`${index22+1}/${self2.runtime.roundtrip.length}`}})}`),!1})}))(index2))})}),this.built=!0,this.loading=!1,this._surface.camera.makeVisibleInFOV(this._calculateFOV(),0),this.updateScenarioDetail(log2)})})}),imtEvents.dispatch("scenario.log_request_execution_stream");else{const a2=new Alert(imt.l("inspector","errors.invalidid"));a2.show(),a2.once("hide",()=>window.location="/")}}toggleLog(show){return this._log.toggleClass("d-none")}updateScenarioDetail(log2){const self2=this;if(sim(".executiontitle").do(function(){return this.text(format(self2.runtime.timestamp,"datetime",{timezone:imt.user.timezone})),this.prepend(sim.i(`.mr-2.fas.fa-${[null,"check-circle.text-success","exclamation-triangle.text-warning","exclamation-triangle.text-danger"][self2.runtime.result.status??3]}.execution-status`))}),sim("#activitystream .execution-body-meta").do(function(){return imt.admin&&(this.prepend(sim.dl(function(){return this.dt().text("autoCommit:"),this.dd().text(self2.runtime.metadata.scenario.autoCommit),this.dt().text("autoCommitTriggerLast:"),this.dd().text(self2.runtime.metadata.scenario.autoCommitTriggerLast),this.dt().text("DLQ:"),this.dd().text(self2.runtime.metadata.scenario.dlq),this.dt().text("dataLoss:"),this.dd().text(self2.runtime.metadata.scenario.dataloss),this.dt().text("sequential:"),this.dd().text(self2.runtime.metadata.scenario.sequential),this.dt().text("roundTrips:"),this.dd().text(self2.runtime.metadata.scenario.roundtrips),this.dt().text("maxErrors:"),this.dd().text(self2.runtime.metadata.scenario.maxErrors)})),this.prepend(sim.hr())),this.prepend(sim.dl(function(){this.dt().text(`${imt.l("inspector","execution.id")}:`),this.dd().text(self2.runtime.id);const duration=format(self2.runtime.result.duration,"duration");this.dt().text(`${imt.l("base","time.duration")}:`),this.dd().attr("id","log-duration").text(duration||"-");const operations=format(self2.runtime.result.operations,"number",{precise:imt.admin});if(this.dt().text(`${imt.l("base","common.operations")}:`),this.dd().text(!operations||isNaN(operations)?"-":operations),this.dt().text(`${imt.l("base","common.datasize")}:`),this.dd().text(format(self2.runtime.result.data_size,"bytes")),self2!=null&&self2.parentLog){const{id,name,executionId}=self2.parentLog;this.dt().text(`${imt.l("inspector","scenario.runBy")}`);const href=executionId?`/${imt.team.id}/scenarios/${id}/logs/${executionId}`:`/${imt.team.id}/scenarios/${id}/logs`;this.dd().a().attr("href",href).attr("target","_blank").data("run-by",!0).write(name)}if(imt.admin)return this.dt().text("Host:"),this.dd().text(`${self2.runtime.result.host}`),this.dt().text("CPU:"),this.dd().text(`${format(self2.runtime.result.cpu,"progress")}`)}))}),sim('#activitystream a:not([data-run-by="true"])').on("click",function(){return this.parent().parent().find("a").removeClass("active"),this.addClass("active"),self2.renderScenarioLog(log2,0,void 0,this.attr("href")==="#advanced"),!1}),this.renderScenarioLog(log2,0,50),log2.length>50)return sim("#activitystream .list-unstyled").first().li(".text-center",function(){return this.button(".btn.btn-outline-primary.mt-3",function(){return this.text(imt.l("base","common.showall")),this.on("click",function(){return this.enabled=!1,this.empty().i(".far.fa-circle-notch.fa-spin"),setImmediate(()=>(self2.renderScenarioLog(log2,50),this.remove()))})})})}renderScenarioLog(log2,start2,size,advanced=!1){var _a2,_b2,_c2;const self2=this,container=sim("#executionlog"),NON_ADVANCED_LOG_TYPES=[3,4,6,14,15,17,21,22];return start2===0&&container.empty(),(_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.scenario&&(Inspector.instance.scenario.consumedHookIsConfidential=!!((_c2=(_b2=log2==null?void 0:log2[1])==null?void 0:_b2.scenario)!=null&&_c2.isHookConfidential)),container.do(function(){var _a3;let time=((_a3=log2[0])==null?void 0:_a3.time)||0,roundtrip=-1,cursor=0;return(()=>{const result=[];for(let index2=0;index2<log2.length;index2++){var entry=log2[index2];if(![24,25,26].includes(entry.type)){if(entry.type===3&&roundtrip++,!advanced&&(![2,3].includes(entry.status)&&!["error","warn"].includes(entry.severity)&&!NON_ADVANCED_LOG_TYPES.includes(entry.type)||[3,4].includes(entry.type)&&self2.runtime.roundtrip.length<=1||entry.type===21&&entry.severity==="debug")||index2<start2)continue;if(++cursor>size)break;entry.type===3&&this.hr(),entry.severity??(entry.severity=STATUS_TO_SEVERITY[entry.status??0]),((roundtrip2,entry2)=>(roundtrip2=Math.max(0,roundtrip2),this.li(".d-flex",function(){return this.div(".flex-no-resize.mr-2").i(`.fa-fw${SEVERITY_TO_ICON[entry2.severity]}`),this.div(".flex-resize",function(){if(this.div(function(){var _a4,_b3;if(((_a4=entry2.module)==null?void 0:_a4.id)!=null){const module2=(_b3=Inspector==null?void 0:Inspector.instance)==null?void 0:_b3._surface.find(Surface.Module).filter(module22=>module22.id===entry2.module.id)[0];module2!=null&&(this.span(".badge.badge-info.cursor-pointer.mr-2",function(){var _a5;return this.text(`${module2.customTitle||module2.package.label} - ${module2.config.label}`),this.css("backgroundColor",module2.package.theme),this.css("color",(_a5=module2.package.theme)==null?void 0:_a5.determineForegroundColor()),(module22=>{if(this.on("click",function(event){return event.preventDefault(),event.stopPropagation(),self2.roundtrip=roundtrip2,sim("#scenarioroundtrips > button").text(`${imt.l("inspector","scenario.roundtrip",{data:{roundtrip:`${roundtrip2+1}/${self2.runtime.roundtrip.length}`}})}`),[14,18].includes(entry2.type)?module22._inputLink._filter.focus():(module22.enlarged=!1,module22._bubble.focus()),!1}),![14,18].includes(entry2.type))return this.on("mouseenter",function(event){return event.preventDefault(),event.stopPropagation(),module22.enlarged=!0,!1}),this.on("mouseleave",function(event){return event.preventDefault(),event.stopPropagation(),module22.enlarged=!1,!1})})(module2)}),imt.config.showIDs&&this.span(".i-square.mr-2").text(module2.id))}return entry2.time-time>100&&this.small(".text-muted").text(`+${((entry2.time-time)/1e3).toFixed(1)}s`),time=entry2.time}),typeof entry2.message=="object"?this.p(".small.mb-2.mt-1").text(" <see browser console>"):entry2.message&&this.p(".small.mb-2.mt-1").text(` ${entry2.message}`),entry2.error!=null&&this.div(".i-exception",function(){return this.h5().text(imt.l("base","states.error")),this.p(function(){var _a4;if(this.text(entry2.error.message),(_a4=entry2.error.suberrors)!=null&&_a4.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return entry2.error.suberrors.map(serr=>this.p(".small.mb-2.mt-1.text-danger.pl-4").text(` - ${serr.detail||serr.message}`))})})}),entry2.warning!=null)return this.div(".i-exception.i-exception-warning",function(){return this.h5().text(imt.l("base","states.warning")),this.p(function(){var _a4;if(this.text(entry2.warning.message),(_a4=entry2.warning.suberrors)!=null&&_a4.length)return this.ul(".list-unstyled.i-exception-suberrors",function(){return entry2.warning.suberrors.map(serr=>this.p(".small.mb-2.mt-1.text-danger.pl-4").text(` - ${serr.detail||serr.message}`))})})})})})))(roundtrip,entry),entry.type===4&&this.hr(),result.push(null)}}return result})()})}}).initClass();var FileSaver_min={exports:{}};(function(module2,exports2){(function(a2,b2){b2()})(commonjsGlobal,function(){function b2(a22,b22){return typeof b22>"u"?b22={autoBom:!1}:typeof b22!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b22={autoBom:!b22}),b22.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a22.type)?new Blob(["\uFEFF",a22],{type:a22.type}):a22}function c2(a22,b22,c22){var d22=new XMLHttpRequest;d22.open("GET",a22),d22.responseType="blob",d22.onload=function(){g2(d22.response,b22,c22)},d22.onerror=function(){console.error("could not download file")},d22.send()}function d2(a22){var b22=new XMLHttpRequest;b22.open("HEAD",a22,!1);try{b22.send()}catch{}return 200<=b22.status&&299>=b22.status}function e2(a22){try{a22.dispatchEvent(new MouseEvent("click"))}catch{var b22=document.createEvent("MouseEvents");b22.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a22.dispatchEvent(b22)}}var f2=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,a2=f2.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g2=f2.saveAs||(typeof window!="object"||window!==f2?function(){}:"download"in HTMLAnchorElement.prototype&&!a2?function(b22,g22,h2){var i2=f2.URL||f2.webkitURL,j2=document.createElement("a");g22=g22||b22.name||"download",j2.download=g22,j2.rel="noopener",typeof b22=="string"?(j2.href=b22,j2.origin===location.origin?e2(j2):d2(j2.href)?c2(b22,g22,h2):e2(j2,j2.target="_blank")):(j2.href=i2.createObjectURL(b22),setTimeout(function(){i2.revokeObjectURL(j2.href)},4e4),setTimeout(function(){e2(j2)},0))}:"msSaveOrOpenBlob"in navigator?function(f22,g22,h2){if(g22=g22||f22.name||"download",typeof f22!="string")navigator.msSaveOrOpenBlob(b2(f22,h2),g22);else if(d2(f22))c2(f22,g22,h2);else{var i2=document.createElement("a");i2.href=f22,i2.target="_blank",setTimeout(function(){e2(i2)})}}:function(b22,d22,e22,g22){if(g22=g22||open("","_blank"),g22&&(g22.document.title=g22.document.body.innerText="downloading..."),typeof b22=="string")return c2(b22,d22,e22);var h2=b22.type==="application/octet-stream",i2=/constructor/i.test(f2.HTMLElement)||f2.safari,j2=/CriOS\/[\d]+/.test(navigator.userAgent);if((j2||h2&&i2||a2)&&typeof FileReader<"u"){var k2=new FileReader;k2.onloadend=function(){var a22=k2.result;a22=j2?a22:a22.replace(/^data:[^;]*;/,"data:attachment/file;"),g22?g22.location.href=a22:location=a22,g22=null},k2.readAsDataURL(b22)}else{var l2=f2.URL||f2.webkitURL,m2=l2.createObjectURL(b22);g22?g22.location=m2:location.href=m2,g22=null,setTimeout(function(){l2.revokeObjectURL(m2)},4e4)}});f2.saveAs=g2.saveAs=g2,module2.exports=g2})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;class MockMapperPanel extends Panel{constructor(relative,config2,values,done){super(relative);const self2=this;this.expandable=!0,this.offsetX=relative.width*.6/window.devicePixelRatio,this.width(450),this.title=imt.l("inspector","buttons.runsingle");let form=new Formula("ModuleRun");form.advancedParametersVisible=!0,form.config=config2,form.values=values,form.domains.get("default").defaults.erasable=!0,form.build(function(err){return err?this.warn(err):(self2.loading=!1,self2.emit("load"))}),form.on("resize",this._resize),this._body.do(function(){var _a2;return this.h4().text(imt.l("base","common.mapper")),this.div().visualizer({source:relative.mapper,type:"mixed",expand:1,labels:relative.labels("expect",!1,!1,!1),ignoreRootLabel:!1,surface:(_a2=relative.stage)==null?void 0:_a2.surface}).on("resize",self2._resize),this.append(form)}),this.once("destroy",function(){return form.destroy(),form=null}),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),this.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){if(form.isValid())return done(null,form.toJSON()),self2.emit("save"),self2.close()})})}}class ScenarioIOConfigurationPanel extends Panel{static initClass(){this.prototype.tabContent=null,this.prototype.buildTimeValues={}}constructor(relative,io,done){if(super(relative),this._renderForm=this._renderForm.bind(this),this._renderBuildTimeValues=this._renderBuildTimeValues.bind(this),this.help="kb://scenarios/scenario-inputs",this.position=imt.brand.theme.startsWith("ems")?"bottom":"top",this.offsetY=34,this.offsetX=-250,this.width(400),this.title=imt.l("inspector","panels.io.config.title"),this._form=new Formula("ScenarioIO"),this._form.on("resize",this._resize),this.buildTimeValues=Object.cloneDeep(io.buildTimeValues),imt.features.dynamicConnections&&imt.organization.license.dynamicConnections)if(this.connections=[],this.personalConnections=[],imt.features.personalConnections&&imt.organization.license.personalConnections){const connectionsPromise=Loader.apip(encodeURI(`/connections?teamId=${imt.team.id}&pg[limit]=5000`)),personalConnectionsPromise=Loader.apip(encodeURI("/personal-connections?pg[limit]=5000"));Promise.all([connectionsPromise,personalConnectionsPromise]).then(res=>{var _a2;return this.connections=res[0],this.personalConnections=res[1],this._renderBuildTimeValues(((_a2=io==null?void 0:io.spec)==null?void 0:_a2.input)||[])})}else Loader.apip(encodeURI(`/connections?teamId=${imt.team.id}&pg[limit]=5000`)).then(res=>{var _a2;return this.connections=res,this._renderBuildTimeValues(((_a2=io==null?void 0:io.spec)==null?void 0:_a2.input)||[])});this._renderTabs(io),this._renderForm(relative,io,done),this.on("destroy",()=>{if(this._form)return this._form.destroy()})}_renderTabs(io){const self2=this;return self2.content=this.div(".io-tabs",function(){return this.ul(".nav.nav-tabs",function(){if(this.li("#scenario-inputs-tab.nav-item",function(){return this.a(".nav-link.active").text(imt.l("inspector","panels.io.config.subtitle")),this.on("click",function(e2){var _a2,_b2;return sim("#scenario-inputs-tab-content").show(),(_a2=sim("#scenario-build-tab-content"))==null||_a2.hide(),sim("#scenario-inputs-tab > .nav-link").addClass("active"),(_b2=sim("#scenario-build-tab > .nav-link"))==null||_b2.removeClass("active"),self2._resize()})}),imt.features.dynamicConnections&&imt.organization.license.dynamicConnections)return this.li("#scenario-build-tab.nav-item.disabled",function(){return this.a(".nav-link.disabled",function(){return this.i("#empty-specs.mr-2.fas.fa-exclamation-triangle.text-danger"),this.span().text(imt.l("inspector","panels.io.buildTime.title"))}),this.hide(),this.on("click",function(e2){var _a2;if(!(this.hasClass("disabled")||!self2._form.isValid()))return self2._renderBuildTimeValues(((_a2=self2._form.toJSON())==null?void 0:_a2.input)||[]),sim("#scenario-inputs-tab-content").hide(),sim("#scenario-build-tab-content").show(),sim("#scenario-inputs-tab > .nav-link").removeClass("active"),sim("#scenario-build-tab > .nav-link").addClass("active"),self2._resize()})})}),self2.tabContent=this.div(".tab-content.pt-2",function(){return this.div("#scenario-inputs-tab-content")})})}_renderForm(relative,io,done){const self2=this;return this._form.config=[{name:"input",type:"udtspec",label:imt.l("inspector","panels.io.config.input"),required:!1,allowedTypes:["text","number","boolean","array","collection","date"],allowUnknownType:!0,showGenerateBtn:!1,validate:{name:{pattern:{regexp:"^_*[a-zA-Z][0-9a-zA-Z_]*$",label:imt.l("inspector","panels.io.config.patternHelp")}}}}],this._form.values=io.spec,this._form.build(err=>{var _a2;if(err)return this.warn(err.message);if(this._destroyed)return;sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.save")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid()){const res=self2._form.toJSON();return res.buildTimeValues=self2.buildTimeValues,self2._close(),done(res)}})});let oldSpecs=((_a2=io==null?void 0:io.spec)==null?void 0:_a2.input)||[];return imt.features.dynamicConnections&&imt.organization.license.dynamicConnections&&self2._form.form.addEventListener("input",()=>{var _a3;const inputs=((_a3=self2._form.toJSON())==null?void 0:_a3.input)||[];inputs.filter(i2=>i2.type.startsWith("account")).length===0?(sim("#scenario-build-tab").hide(),sim("#scenario-build-tab").addClass("disabled"),sim("#scenario-build-tab > .nav-link").addClass("disabled")):(sim("#scenario-build-tab").show(),sim("#scenario-build-tab").removeClass("disabled"),sim("#scenario-build-tab > .nav-link").removeClass("disabled"));const newBuildTimeValues={};return inputs.forEach(input=>{var _a4,_b2;const oldInput=oldSpecs.find(x2=>(x2==null?void 0:x2.name)===(input==null?void 0:input.name));if(oldInput&&self2.buildTimeValues[oldInput==null?void 0:oldInput.name]&&((_a4=input.type)!=null&&_a4.startsWith("account"))&&((_b2=oldInput==null?void 0:oldInput.type)!=null&&_b2.startsWith("account")))return newBuildTimeValues[input.name]=self2.buildTimeValues[oldInput==null?void 0:oldInput.name]}),oldSpecs=inputs,self2.buildTimeValues=newBuildTimeValues,self2._toggleEmptySpecs()}),sim("#scenario-inputs-tab-content").append(this._form),Array.from(this.content.find("imt-input-udtspec")).forEach(x2=>x2.__dom.hideItems()),this._resize(),this.loading=!1,this.emit("load")})}_toggleEmptySpecs(){var _a2;const self2=this;return(((_a2=this._form.toJSON())==null?void 0:_a2.input)||[]).filter(function(i2){var _a3,_b2;if((_a3=i2==null?void 0:i2.type)!=null&&_a3.startsWith("account")){let value=self2.buildTimeValues[i2.name];return value!=null&&value.startsWith("PAC_")?!self2.personalConnections.find(pc=>pc.id===value):value!=null&&value.startsWith("TAC_")?(value=parseInt(value.split("TAC_")[1]),!((_b2=self2.connections)!=null&&_b2.find(c2=>c2.id===value))):!0}return!1}).length>0?sim("#empty-specs").show():sim("#empty-specs").hide()}_renderBuildTimeValues(inputSpec){var _a2;const self2=this;return(_a2=sim("#scenario-build-tab-content"))==null||_a2.remove(),this.tabContent.div("#scenario-build-tab-content",function(){return["account"].forEach(g2=>{this.div(".mx-3.small").text(imt.l("inspector",`panels.io.buildTime.groups.${g2}`));const ios=inputSpec.filter(x2=>x2.type.startsWith(g2));let editPanel=null;return ios.forEach(i2=>{let pillElm=null;return this.div(`#${i2.name}.bg-white.p-2.border.border-bottom-0`,function(){let valueSpan=null;return this.div(".input-wrapper.bg-white.d-flex.justify-content-between",function(){return pillElm=this.span(".input-name-pill.mr-2").text(i2.name),this.button(".btn.btn-outline-secondary.btn-xs",function(){return this.text(imt.l("inspector","common.edit")),this.on("click",event=>{if(event.stopPropagation(),this.attr("disabled"))return;editPanel instanceof ScenarioIOBuildTimeValuePanel&&editPanel.close();const relativeElement=event!=null&&event.target?sim(event.target):this,editPanelValue=typeof self2.buildTimeValues[i2.name]=="string"&&self2.buildTimeValues[i2.name].startsWith("TAC_")?parseInt(self2.buildTimeValues[i2.name].split("TAC_")[1]):self2.buildTimeValues[i2.name];return editPanel=new ScenarioIOBuildTimeValuePanel(relativeElement,self2,i2.name,i2.type,editPanelValue,res=>{var _a3;if(editPanel=null,res){let value=res[i2.name],account=null;return i2.type.startsWith("account")&&value&&(typeof value=="string"&&value.startsWith("PAC_")?account=self2.personalConnections.find(pc=>pc.id===value):(account=(_a3=self2.connections)==null?void 0:_a3.find(c2=>c2.id===value),value=`TAC_${value}`)),account&&pillElm.removeClass("no-value"),self2.buildTimeValues[i2.name]=value,valueSpan.__dom.textContent=(account==null?void 0:account.name)||value||imt.l("inspector","panels.io.buildTime.empty"),self2._toggleEmptySpecs()}})})})}),this.div(".input-build-time-value.text-muted.mt-1",function(){var _a3,_b2;if(self2.buildTimeValues[i2.name]){let value=self2.buildTimeValues[i2.name],account=null;return(_a3=i2==null?void 0:i2.type)!=null&&_a3.startsWith("account")&&(value.startsWith("PAC_")?account=self2.personalConnections.find(pc=>pc.id===value):value.startsWith("TAC_")&&(value=parseInt(value.split("TAC_")[1]),account=(_b2=self2.connections)==null?void 0:_b2.find(c2=>c2.id===value))),account?valueSpan=this.span("#input-build-time-value_"+i2.name).text((account==null?void 0:account.name)||value):(pillElm.addClass("no-value"),valueSpan=this.span("#input-build-time-value_"+i2.name).text(imt.l("inspector","panels.io.buildTime.empty"))),valueSpan}else return valueSpan=this.span("#input-build-time-value_"+i2.name).text(imt.l("inspector","panels.io.buildTime.empty")),valueSpan})})}),self2._toggleEmptySpecs()}),this.hide()})}}ScenarioIOConfigurationPanel.initClass();class ScenarioIOBuildTimeValuePanel extends Panel{constructor(relative,ioPanel,ioName,ioType,ioValue,done){super(relative),this.width(400),this.title=imt.l("inspector","panels.io.config.title");const self2=this;this._form=new Formula("ScenarioIO"),this._form.on("resize",this._resize),this._form.config=[{name:ioName,type:ioType,required:!1}],this._form.values={},this._form.values[ioName]=ioValue,this._form.addEventListener("accountCreated",event=>{const connection=event.detail;if(connection)return typeof(connection==null?void 0:connection.id)=="string"&&connection.id.startsWith("PAC_")?ioPanel.personalConnections.push(connection):ioPanel.connections.push(connection)}),this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.save")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid())return self2._close(),done(self2._form.toJSON())})})}),this.content=this._form}}class RevertScenarioPanel extends Panel{constructor(relative){super(relative);const self2=this;this.loading=!0;const config2=[{name:"version",label:imt.l("inspector","panels.revert.version"),help:imt.l("inspector","panels.revert.ttl"),type:"select",required:!0,options:{placeholder:imt.l("inspector","panels.revert.pick"),store:`api://imt-forms/scenarios/${__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.id)}/blueprints`}}];this._form=new Formula("Revert"),this._form.on("resize",this._resize),this._form.config=config2,this._form.options={timezone:imt.organization.timezone},this._form.build(err=>{if(err)return new Alert(Alert.parseError(err)).show();if(!this._destroyed)return this.title=imt.l("inspector","panels.revert.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid()){const{version:version2}=self2._form.toJSON();return Loader.api(`scenarios/${__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.scenario.id)}/blueprint?blueprintId=${version2}`,function(err2,data2){let displayErr;if(err2)return self2.warn(err2,self2._form);try{return(__guard__$6(data2.metadata!=null?data2.metadata.input_spec:void 0,x2=>x2.length)||__guard__$6(data2.metadata!=null?data2.metadata.output_spec:void 0,x3=>x3.length))&&(data2.blueprint.io=data2.metadata||{}),__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.reset(__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5.scenario.reset(data2.blueprint)),function(){__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6._surface.camera.makeVisibleInFOV(__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x7=>x7._calculateFOV()))),__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x8=>x8._updateIOLight()),toaster.show(imt.l("inspector","panels.revert.success"));let modules=__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x9=>x9.findObject("module"));modules=modules.map(node2=>node2.id),modules=modules.filter(num=>!isNaN(num));const maxID=1+Math.max.apply(null,modules);return __guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x10=>x10.scenario.idSequence)<maxID&&__guard__$6(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x11=>x11.scenario.idSequence=maxID),self2.emit("save"),self2.close()}))}catch(ex){switch(!0){case ex instanceof ScenarioFeatureError:displayErr=new Error(ex.toString());break;default:displayErr=new Error("Invalid blueprint.");break}return self2.warn(displayErr,self2._form)}})}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>this._form.destroy())}}function __guard__$6(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}const BLOG_URL="https://blog.integromat.com/feed",TUTORIAL_FLOW=[{id:1,module:"rss:TriggerNewArticle",version:4,parameters:{url:BLOG_URL,maxResults:1},metadata:{designer:{x:0,y:0}}},{id:2,module:"email:ActionSendMeEmail",version:6,metadata:{designer:{x:300,y:0}}}];class Tutorial extends EventEmitter$1{static initClass(){this.prototype._explain=null,this.prototype._root=null,this.prototype._modules=null}constructor(){if(Tutorial.instance!=null)return;super(),this.start=this.start.bind(this),this._moduleAdded=this._moduleAdded.bind(this),this._testComplete=this._testComplete.bind(this),this.stop=this.stop.bind(this),Tutorial.instance=this,this._modules={};const designer=Inspector.instance;designer._surface,designer.build(TUTORIAL_FLOW,null,err=>err?new Alert(Alert.parseError(err)).show():(designer.buildFavorites(),designer._surface.camera.makeVisibleInFOV(designer._calculateFOV(),0),designer.loading=!1,designer._start.askOnActivate=!0,this._explain=designer.explain(!0),this._root=sim("header.aside-info").first(),this._root.find("h1").text(imt.l("inspector","tutorial.welcome")),this._root.find("p.lead").text(imt.l("inspector","tutorial.perex")),this._root.find(".aside-info-body").first().do(function(){return this.button(".btn.btn-lg.btn-block.btn-success",function(){return this.text(imt.l("inspector","tutorial.start")),this.once("click",Tutorial.instance.start)}),this.button(".btn.btn-sm.btn-block.btn-transparent.mt-2",function(){return this.text(imt.l("inspector","tutorial.skip")),this.on("click",function(){var _a2;return(_a2=globalThis.ga)==null||_a2.call(globalThis,"send","event","Tutorial","skip"),delay(100,()=>window.location="/")})})})))}start(){var _a2,_b2;(_a2=this._explain)==null||_a2.stop(),(_b2=globalThis.ga)==null||_b2.call(globalThis,"send","event","Tutorial","start"),sim("body").button(".i-inspector-exit-tutorial",function(){return this.attr("type","button"),this.i(".fal.fa-times-circle.fa-fw"),this.on("click",()=>window.location="/")});const designer=Inspector.instance;designer._start=null,designer._menu.removeClass("d-none");const surface=designer._surface;surface.clear(),surface.camera.makeVisibleInFOV(null,0);const ph1=new Placeholder(0,0);return ph1.browserOptions={exclusivePackage:"rss",exclusiveModule:"TriggerNewArticle",parametersPreset:{url:BLOG_URL,maxResults:1}},surface.stage.attach(ph1),designer._start=new Scheduling(0,0),surface.stage.attach(designer._start),surface.stage.attach(new Link(designer._start,ph1)),surface.input.exclusiveInteractiveObject=ph1,surface.input.doubleClickEnabled=!1,surface.input.contextMenuEnabled=!1,delay(1e3,()=>{designer.mode="edit";let phFocused=!1;const guide=new Surface.ClickGuide(20,20);return delay(1e3,function(){if(!phFocused)return surface.stage.attach(guide)}),ph1.once("focus",function(){return phFocused=!0,guide.detach()}),designer.on("add_module",this._moduleAdded),designer.on("test_complete",this._testComplete),this.emit("start")})}_moduleAdded(module2){var _a2,_b2;if(this._modules[module2.id]=module2,module2.package.name==="email"&&((_b2=Inspector==null?void 0:Inspector.instance)==null||_b2._surface.camera.panTo(-150,(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2._surface.stage.y),module2.once("setup_close",()=>{var _a3;return(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3._menu.removeClass("out")})),module2.package.name==="rss")return module2.once("setup_close",()=>module2.createEpochPanel(!0,!0).once("destroy",function(){var _a3;const ph=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.addPlaceholder(new Point(module2.x+300,module2.y));return ph.browserOptions={exclusivePackage:"email",exclusiveModule:"ActionSendMeEmail",mapperPreset:{subject:"Latest article on Integromat Blog",html:`<h1>{{1.title}}</h1>
{{1.description}}`}},ph.tryAutoConnect()}))}_testComplete(successful){var _a2,_b2,_c2,_d2;if(((_d2=(_c2=(_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.runtime.roundtrip[0])==null?void 0:_b2[2])==null?void 0:_c2.operations[0])==null?void 0:_d2.status)!==1){TUTORIAL_TEMPLATE.subject.help=imt.l("inspector","tutorial.error2"),this._modules[2].focus();return}return this.stop()}stop(){var _a2;const designer=Inspector.instance,surface=designer._surface,self2=this;(_a2=globalThis.ga)==null||_a2.call(globalThis,"send","event","Tutorial","done"),designer.off("add_module",this._moduleAdded),designer.off("test_complete",this._testComplete);const panel=new Panel;return panel.addClass("bg-white"),panel._body.addClass("text-center px-5 pt-4 pb-1"),panel.width(768),panel.modal=!0,panel._footer.button(".btn.btn-outline-secondary.btn-sm",function(){return this.text(imt.l("inspector","tutorial.exit")),this.on("click",()=>window.location="/")}),panel._footer.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.continue")),this.on("click",function(){return panel.close(),surface.input.exclusiveInteractiveObject=null,surface.input.doubleClickEnabled=!0,surface.input.contextMenuEnabled=!0,self2.emit("stop")})}),panel.content=sim.div(function(){return this.div(".display-5.mb-4").text(imt.l("inspector","tutorial.success")),this.p().html(format(imt.l("inspector","tutorial.kb"),"markdown"))}),sim("body").removeClass("tutorial with-hidden-aside")}}Tutorial.initClass();const Cls$3=globalThis.QuickTemplateWizard=class extends EventEmitter$1{static initClass(){this.prototype.step=0,this.prototype.steps=null,this.prototype.stepn=1,this.prototype.company=null,this.prototype.formulas=null,this.instance=null}constructor(){let i2;if(TemplateWizard.instance!=null)return;super(),TemplateWizard.instance=this,this.forms=[],__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2._surface.input.enabled=!1);const configs=[];let next=[__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1._start.next)];for(;i2=next.shift();)i2.next!=null&&(next=[].concat(i2.next,next)),__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.templateController.modules[i2.id])&&configs.push({controller:__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.scenario.templateController.modules[i2.id]),module:i2});Loader.api("companies/list",(err,companies)=>{let form;if(err)return new Alert(Alert.parseError(err)).show();companies.length||new Alert("You have no organization."),companies.length>1?(form=new Formula,form.config=[{name:"company",label:imt.l("base","common.organization"),help:imt.l("inspector","wizard.chooseorg"),type:"select",required:!0,options:companies.map(comp=>({label:comp.name,value:comp.id}))}],form.build(function(err2){}),this.forms.push({title:"Organization",formula:form})):imt.team.id=companies[0].id;for(var config2 of configs)config2.controller.filter!=null&&(form=config2.module._inputLink.createSetupForm({template:{filter:config2.controller.filter}},function(err2){}),this.forms.push({title:config2.package.label,formula:form,module:config2.module})),config2.controller.fields&&(form=config2.module.createSetupForm({template:config2.controller.fields},function(err2){}),this.forms.push({title:config2.module.package.label,formula:form,module:config2.module}));return this.start()})}start(){const self2=this;sim("body .content > header").removeClass("d-none");const exit=()=>window.location.href="/",done=sid=>window.location.href=`/scenarios/${sid}/edit`;return sim(".i-inspector-wizard-overlay").do(function(){return this.appendTo("body"),this.div(".i-inspector-wizard-overlay-body",function(){return this.div(".container",function(){return self2.forms.forEach(form=>this.div(function(){return this.h2(".display-6.mt-5.mb-3").text(form.title),this.append(form.formula)}))})}),this.div(".i-inspector-wizard-overlay-footer",function(){return this.div(".container",function(){return this.button(".btn.btn-outline-secondary",function(){return this.attr("type","button"),this.text(imt.l("base","common.back")),this.once("click",exit)}),this.button(".btn.btn-primary",function(){return this.attr("type","button"),this.text(imt.l("base","common.continue")),this.on("click",function(){return this.prop("disabled",!0),async.eachSeries(self2.forms,function(form,next){if(!form.formula.isValid())return next(new Error("Form not valid."));if(form.formula.isValid())return form.module?form.module.saveSetupForm(form.formula,function(){const epoch=Panels.byType("epoch");return epoch?epoch.on("close",next):next()}):next()},err=>{if(err){this.prop("disabled",!1);return}return __guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.save(err2=>err2?(this.prop("disabled",!1),new Alert(Alert.parseError(err2)).show()):Loader.api(`scenarios/${__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.scenario.id)}/start`,{method:"POST"},(err3,data2)=>err3?(this.prop("disabled",!1),new Alert(Alert.parseError(err3)).show()):done(__guard__$5(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x22=>x22.scenario.id)))))})})})})})})}};Cls$3.initClass();function __guard__$5(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class ListenerQueuePanel extends Panel{constructor(relative,resolve){super(relative),this.addClass("i-hooks-queue");const self2=this;this.loading=!0,this.content=sim.div().text(imt.l("inspector","panels.queue.question")),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.queue.listen")),this.appendTo(self2._footer),this.on("click",function(event){return resolve(!0),self2.close()})}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.queue.proceed")),this.appendTo(self2._footer),this.on("click",function(event){return resolve(!1),self2.close()})}),this.loading=!1,this.width(400),this.title=imt.l("inspector","panels.queue.title"),this.on("destroy",()=>document.dispatchEvent(new CustomEvent("queue-panel-closed")))}}class ScenarioIOPromptPanel extends Panel{constructor(relative,scenarioId,config2,values,callback){super(relative);const self2=this;this.loading=!0,this.width(400),this.title=imt.l("inspector","panels.io.prompt.title"),this._form=new Formula("ScenarioIOPrompt"),this._form.on("resize",this._resize),this._form.config=config2,this._form.values=values,this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.isValid()){const res=self2._form.toJSON();return callback({input:res,spec:config2}),self2._close()}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>{if(this._form)return this._form.destroy()})}}const convertToPrimitiveObjects=obj=>Object.entries(obj).reduce((acc,[key,value])=>(value instanceof Set?acc[key]=[...value.values()]:acc[key]=value,acc),{});class RemindToTurnScenarioOnPanel extends Panel$1{constructor(relative){super(relative),this.loading=!0,relative instanceof Scheduling?this.offsetX=relative.width*.6/window.devicePixelRatio:this.offsetX=8,this.title=imt.l("inspector","panels.remindtoturnscenarioon.title"),this._header.css("background","linear-gradient(90deg, #B55DCD 0%, #724EBF 100%)");const self2=this;sim.button(".btn.btn-sm.btn-outline-secondary",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.remindtoturnscenarioon.activatelater")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.css("background-color","#7302D5"),this.text(imt.l("inspector","panels.remindtoturnscenarioon.activatenow")),this.appendTo(self2._footer),this.on("click",()=>(self2.close(),document.dispatchEvent(new CustomEvent("inspector-switch-toggle"))))}),this.content=sim.div(".dmo-p-10",function(){return this.span(".dmo-leading-4.dmo-mr-4").css({fontSize:"14px"}).text(imt.l("inspector","panels.remindtoturnscenarioon.info")),this.span(".dmo-leading-4").css({fontSize:"14px",fontWeight:"700"}).text(imt.l("inspector","panels.remindtoturnscenarioon.calltoaction"))}),this.loading=!1}}const DEVICE_QUEUE_REFRESH_TIMEOUT=5*60*1e3;class InspectorHandlers{static initClass(){this.prototype.map=null,this.prototype.aiPanel=null}constructor(){this.map=new Map}bindHandler(event,selector,handler){selector="["+selector+"]";const key=event+":"+selector,handlerFunc=event2=>handler(event2);return this.map.set(key,{event,selector,handlerFunc}),sim(document).on(event,selector,handlerFunc)}destroy(){return this.map.forEach(value=>sim(document).off(value.event,value.selector,value.handlerFunc))}}InspectorHandlers.initClass(),globalThis.inspectorHandlers=new InspectorHandlers,(globalThis.Designer=class Designer2 extends TestableInspector{static initClass(){this.prototype.scenario=null,this.prototype.tutorial=null,this.prototype.isTemplate=!1,this.prototype.wasTemplate=!1,this.prototype.templateSettings=null,this.prototype._menu=null,this.prototype._deviceQueueRefreshTimer=null,this.property("showRouteOrder",{get(){return imt.config.showRouteOrder},set(value){return imt.config.showRouteOrder=value,this.findObject("router").map(router=>router.showRouteOrder=this.showRouteOrder)}})}constructor(){var _a2;super(...arguments),this._abortToolbarGlobalEvents=new AbortController,this._refreshDeviceQueue=this._refreshDeviceQueue.bind(this),this._recalculateInputCache=this._recalculateInputCache.bind(this),this._updateIOLight=this._updateIOLight.bind(this);const self2=this;Designer2.instance=this;const el=imt.brand.theme.startsWith("ems")?"#diagram":this._surface.canvas;sim(el).on("click",function(event){var _a3,_b2;if(self2.built&&!self2._titleEdited&&self2.mode==="view"){if(self2.tutorial)return self2.tutorial.start();if(self2.isTemplate){if(imt.user.id!==0)return new TemplateWizard}else if(sim(event.target)===this){if(((_a3=self2.runtime)==null?void 0:_a3.execution)!=null)return self2.mode="test";if(!((_b2=imt.team)!=null&&_b2.scenarioDrafts)){self2.mode=self2.wasTemplate?self2.mode:"edit";return}return self2.scenario.hasLive()?self2.mode="live":self2.switchBlueprint("draft",()=>(self2.runtime=null,self2.mode="edit"))}}}),this._surface.stage.on("dblclick",coord=>{var _a3;if(!((_a3=Inspector==null?void 0:Inspector.instance)!=null&&_a3.isTemplate)&&(imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"canvas_double_click"}),this.mode==="edit")){const ph=this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y));return ph.tryAutoConnect(),delay(250,()=>ph.focus())}}),this.on("add_placeholder",ph=>{var _a3;const{bounds}=ph;if(sim(window).width()>1200&&(bounds.width+=350/this._surface.camera.zoom),this._surface.camera.ensureVisible(bounds,500),ph.prev===this._start&&this.scenario.instant)return this.scenario.instant=!1,this.scenario.scheduling=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario.getPrevOrDefaultScheduling(),this._start.updateDescription()}),this.on("mode_change",()=>{if(this.mode==="view")return this._refreshDeviceQueue();isFeatureOn("new-toolbar",!1)&&this._toolbar.syncScenarioActiveState()}),isFeatureOn("new-toolbar",!1)?(this._toolbar.addEventListener("inspector-logs",()=>this._toolbar.switchLogsVisibility("toolbar_button")),this._toolbar.addEventListener("inspector-run-once-start",()=>{self2.validate(sim(this),{test:!0},()=>{self2.startTest(),this._toolbar.transitionRunOnceButtonState(),this._toolbar.updateStatusBubbleStatus("preparing")})}),this._toolbar.addEventListener("inspector-run-once-stop",()=>{self2.stopTest(),this._toolbar.transitionRunOnceButtonState(),this._toolbar.updateStatusBubbleStatus("stopping")}),this._toolbar.addEventListener("inspector-run-once-force-stop",()=>{self2.forceStopTest(),this._toolbar.transitionRunOnceButtonState(),this._toolbar.updateStatusBubbleStatus(null)}),this._toolbar.addEventListener("inspector-scheduling",event=>{if(Panels.one instanceof SchedulingPanel)return Panels.one.close();this._toolbar.registerTrackingEvent(TOOLBAR_IMT_EVENTS.SCHEDULING_OPENED,"toolbar_button"),self2._surface.input.focus=null,Panels.one=new SchedulingPanel(self2._start||this,!1,void 0,event.detail.clickFrom)}),document.addEventListener("scheduling-updated",event=>{var _a3;if(((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.findObject("module").length)===0)return toaster.show(imt.l("inspector","flashes.scenarioMustIncludeModule"),"danger",{title:imt.l("inspector","flashes.scenarioMustIncludeModuleTitle")});this._toolbar.updateSchedulingDescription(),this._toolbar.handleReminderToToggleScenarioOn(event)},{signal:this._abortToolbarGlobalEvents.signal}),this._toolbar.addEventListener("inspector-remind-to-turn-scenario-on",()=>{if(Panels.one instanceof RemindToTurnScenarioOnPanel)return Panels.one.close();self2._surface.input.focus=null,Panels.one=new RemindToTurnScenarioOnPanel(self2._start||this)}),document.addEventListener("inspector-switch-toggle",event=>{this._toolbar.toggleScenario(event)},{signal:this._abortToolbarGlobalEvents.signal}),this._toolbar.addEventListener("inspector-toggle-scenario",()=>{var _a3;if((this.scenario.changed||this.hasUnsavedChanges)&&((_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.mode)!=="live")return toaster.show(imt.l("inspector","scenario.changed"),"warning");self2.toggleScheduling()}),this._toolbar.addEventListener("inspector-save",e2=>{var _a3;return self2.saveScenario(!1,sim((_a3=e2==null?void 0:e2.detail)==null?void 0:_a3.originalTarget))}),this._toolbar.addEventListener("inspector-scenario-io",e2=>{var _a3;if(Panels.one instanceof ScenarioIOConfigurationPanel)return Panels.one.close();self2._surface.input.focus=null,Panels.one=new ScenarioIOConfigurationPanel(sim((_a3=e2==null?void 0:e2.detail)==null?void 0:_a3.originalTarget),self2.scenario._io,res=>{self2._recalculateInputCache(self2.scenario._io.spec.input,res.input),self2.scenario._io.spec.input=res.input||[],self2.scenario._io.spec.output=res.output||[],self2.scenario._io.buildTimeValues=res.buildTimeValues,self2._updateIOLight()})}),this._toolbar.addEventListener("inspector-scenario-settings",e2=>{var _a3;if(Panels.one instanceof ScenarioSetupPanel)return Panels.one.close();self2._surface.input.focus=null,Panels.one=new ScenarioSetupPanel(sim((_a3=e2==null?void 0:e2.detail)==null?void 0:_a3.originalTarget))}),this._toolbar.addEventListener("inspector-notes",()=>self2.toggleNotes(!0)),this._toolbar.addEventListener("inspector-autoalign",()=>self2.align()),this._toolbar.addEventListener("inspector-explain-flow",()=>self2.explain()),this._toolbar.addEventListener("inspector-export",()=>{const json=self2.scenario.toJSON();self2.exportScenario(json)}),this._toolbar.addEventListener("inspector-import",()=>self2.importScenario()),this._toolbar.addEventListener("inspector-history",()=>{Panels.one instanceof RevertScenarioPanel&&Panels.one.close(),Panels.one=new RevertScenarioPanel}),document.addEventListener("queue-panel-closed",()=>{this._toolbar.updateStatusBubbleStatus(null),this._toolbar.resetRunOnceButton()},{signal:this._abortToolbarGlobalEvents.signal})):this._menu.do(function(){const startTestBtnAttr="data-imt-btn-start-test",stopTestBtnAttr="data-imt-btn-stop-test",forceStopBtnAttr="data-imt-btn-force-stop",schedulingSwitchBtnAttr="data-imt-btn-scheduling-switch",schedulingSettingsBtnAttr="data-imt-btn-scheduling-settings",schedulingEmsBtnAttr="data-imt-btn-scheduling-ems",scenarioSaveBtnAttr="data-imt-btn-scenario-save",scenarioSettingsBtnAttr="data-imt-btn-scenario-settings",scenarioIoBtnAttr="data-imt-btn-scenario-io",toggleNotesBtnAttr="data-imt-btn-toggle-notes",autoAlignBtnAttr="data-imt-btn-auto-align",explainBtnAttr="data-imt-btn-explain",exportBlueprintBtnAttr="data-imt-btn-export-blueprint",importBlueprintBtnAttr="data-imt-btn-import-blueprint",revertBlueprintBtnAttr="data-imt-btn-revert-blueprint";return this.prepend(sim.div(".i-inspector-controls",function(){return this.attr("data-testid",TOOLBAR_TEST_IDS.CONTROLS),this.div(".i-inspector-primary",function(){return this.button(".btn.i-inspector-menu-start-test",function(){return this.attr(startTestBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_RUN_ONCE),this.i(".fal.fa-play"),this.span(function(){return this.write(imt.l("inspector","buttons.execute"))}),inspectorHandlers.bindHandler("click",startTestBtnAttr,event=>(event.stopPropagation(),self2.validate(this,{test:!0},()=>self2.startTest())))}),this.button(".btn.i-inspector-menu-stop-test",function(){return this.i(".fal.fa-stop"),this.span(function(){return this.write(imt.l("inspector","buttons.stop"))}),this.attr(stopTestBtnAttr,""),inspectorHandlers.bindHandler("click",stopTestBtnAttr,event=>self2.stopTest())}),this.button(".btn.i-inspector-menu-force-stop-test",function(){return this.i(".fal.fa-stop"),this.span(function(){return this.write(imt.l("inspector","buttons.forcestop"))}),this.attr(forceStopBtnAttr,""),inspectorHandlers.bindHandler("click",forceStopBtnAttr,event=>self2.forceStopTest())})}),this.div(".i-inspector-drafts",function(){return self2._draftControls=this,this.attr("data-title","Drafts"),this.div("#draftswitch.i-inspector-drafts-switch",function(){return this.on("click",function(event){return event.stopPropagation(),self2.handleExternalDraftSwitch()}),this.addClass("switch"),this.div(".switch-slider")}),this.button(".btn.i-inspector-drafts-publish",function(){return this.text(imt.l("inspector","buttons.publish")),this.prepend(sim.i(".far.fa-check-circle")),this.on("click",function(event){return event.stopPropagation(),self2.handleExternalPublishButton()})})}),this.div(".i-inspector-scheduling",function(){return self2._schedulingControls=this,this.attr("data-title",imt.l("base","common.scheduling")),this.div("#scenarioswitch.i-inspector-scheduling-switch",function(){var _a3;this.attr(schedulingSwitchBtnAttr,"");const switchEl=this;return this.addClass("switch"),inspectorHandlers.bindHandler("click",schedulingSwitchBtnAttr,e2=>self2.toggleScheduling()),(_a3=Inspector==null?void 0:Inspector.instance)==null||_a3.on("mode_change",()=>{var _a4;(_a4=globalThis.activeScenario)!=null&&_a4.isActive&&switchEl.addClass("active")}),inspectorHandlers.bindHandler("keyup",schedulingSwitchBtnAttr,function(event){if(event.keyCode===32)return self2.toggleScheduling(),event.stopPropagation(),event.preventDefault(),!1}),this.div(".switch-slider")}),this.button(".btn.i-inspector-scheduling-settings",function(){return this.attr(schedulingSettingsBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SCHEDULING),this.span(".i-inspector-scheduling-settings-label",function(){return this.addClass("dmo-flex dmo-items-center dmo-flex-row-reverse dmo-gap-8"),this.text(" "),this._refresh=()=>{var _a3,_b2,_c2,_d2,_e2;if(((_b2=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario)==null?void 0:_b2.scheduling)==null)return;this.text(format(((_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario.scheduling)||{},"scheduling"));const schedulingType=(_e2=(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.scenario)==null?void 0:_e2.scheduling.type;return this.i(schedulingType==="on-demand"?".fal.fa-arrow-right-to-arc":".fal.fa-clock")}}),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","panels.scheduling.title")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",schedulingSettingsBtnAttr,event=>(event.stopPropagation(),Panels.one instanceof SchedulingPanel?Panels.one.close():(self2._surface.input.focus=null,Panels.one=new SchedulingPanel(self2._start||this),this.blur())))})}),this.div(".i-inspector-general.dropup",function(){return self2._controls=this,this.attr("data-title",imt.l("inspector","common.controls")),this.button(".btn.i-inspector-general-save.d-none.d-sm-inline-block#scenariosave",function(){return this.i(".fal.fa-save"),this.attr(scenarioSaveBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SAVE),browser.mouse&&!browser.mobile&&tooltip(imt.l("base","common.save")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",scenarioSaveBtnAttr,e2=>{const relativeElement=e2!=null&&e2.target?sim(e2.target):this;return self2.saveScenario(!1,relativeElement)})}),imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO&&this.button(".btn.i-inspector-general-io.d-sm-inline#scenario-io",function(){return this.i(".fal.fa-diagram-next"),this.attr(scenarioIoBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_IO),this._refresh=forceDisabled=>{var _a3,_b2;return this.attr("disabled",forceDisabled),((_b2=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario)==null?void 0:_b2._io.spec.input.length)?this.addClass("has-io"):this.removeClass("has-io")},browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","panels.io.config.title")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",scenarioIoBtnAttr,event=>{if(event.stopPropagation(),this.attr("disabled"))return;if(Panels.one instanceof ScenarioIOConfigurationPanel)return Panels.one.close();self2._surface.input.focus=null;const relativeElement=event!=null&&event.target?sim(event.target):this;return Panels.one=new ScenarioIOConfigurationPanel(relativeElement,self2.scenario._io,res=>(self2._recalculateInputCache(self2.scenario._io.spec.input,res.input),self2.scenario._io.spec.input=res.input||[],self2.scenario._io.spec.output=res.output||[],self2.scenario._io.buildTimeValues=res.buildTimeValues,self2._updateIOLight()))})}),this.button(".btn.i-inspector-general-settings#open-scenario-settings",function(){return this.attr(scenarioSettingsBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SETTINGS),this.i(".fal.fa-cog"),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","buttons.scenariosetup")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",scenarioSettingsBtnAttr,event=>{if(event.stopPropagation(),Panels.one instanceof ScenarioSetupPanel)return Panels.one.close();self2._surface.input.focus=null;const relativeElement=event!=null&&event.target?sim(event.target):this;return Panels.one=new ScenarioSetupPanel(relativeElement)})}),this.button(".btn.i-inspector-general-notes.d-none.d-xl-inline-block.i-inspector-notes-toggle",function(){return this.attr(toggleNotesBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_NOTES),this.i(".fal.fa-sticky-note"),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","common.notes")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",toggleNotesBtnAttr,event=>self2.toggleNotes())}),this.button(".btn.i-inspector-general-autoalign.d-none.d-md-inline-block",function(){return this.attr(autoAlignBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_ALIGN),this.i(".fal.fa-wand-magic-sparkles"),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","buttons.autoalign")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",autoAlignBtnAttr,event=>self2.align())}),this.button(".btn.i-inspector-general-explain.d-none.d-md-inline-block",function(){return this.attr(explainBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_FLOW),this.i(".fal.fa-plane"),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","buttons.explain")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",explainBtnAttr,event=>self2.explain())}),imt.brand.theme.startsWith("ems")&&(this.a(".btn.i-inspector-help",function(){if(this.i(".ems.ems-help"),imt.helpUrl&&(this.attr("href",imt.helpUrl||""),this.attr("target","_blank")),browser.mouse&&!browser.mobile)return tooltip(imt.l("inspector","buttons.help")).withPosition("top").withTrigger("hover").toElement(this)}),this.button(".btn.i-inspector-ems-scheduling",function(){return this.attr(schedulingEmsBtnAttr,""),this.i(".ems.ems-time"),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","buttons.scheduling")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",schedulingEmsBtnAttr,event=>(event.stopPropagation(),Panels.one instanceof SchedulingPanel?Panels.one.close():(self2._surface.input.focus=null,Panels.one=new SchedulingPanel(self2._start||this))))})),this.button(".btn.dropdown-toggle",function(){if(this.i(".fal.fa-ellipsis-h"),this.data("toggle","dropdown"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_MORE),browser.mouse&&!browser.mobile)return tooltip(imt.l("base","common.more")).withPosition("top").withTrigger("hover").toElement(this)}),this.div(".dropdown-menu.dropdown-menu-right",function(){return this.button(".i-inspector-general-save.d-sm-none.dropdown-item.mobile-view-variant",function(){return this.attr(scenarioSaveBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SAVE),this.text(imt.l("base","common.save")),this.prepend(sim.i(".fal.fa-save.mr-2"))}),this.button(".i-inspector-general-autoalign.d-md-none.dropdown-item.mobile-view-variant",function(){return this.attr(autoAlignBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_ALIGN),this.text(imt.l("inspector","buttons.autoalign")),this.prepend(sim.i(".fal.fa-wand-magic-sparkles.mr-2"))}),this.button(".i-inspector-general-explain.d-md-none.dropdown-item.mobile-view-variant",function(){return this.attr(explainBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_FLOW),this.text(imt.l("inspector","buttons.explain")),this.prepend(sim.i(".fal.fa-plane.mr-2"))}),this.button(".i-inspector-general-export.dropdown-item",function(){this.attr(exportBlueprintBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_EXPORT);let canSave=!1;try{canSave=!!new Blob}catch{}return canSave?(this.text("Export blueprint"),this.prepend(sim.i(".fal.fa-fw.fa-download.mr-2")),inspectorHandlers.bindHandler("click",exportBlueprintBtnAttr,()=>{const json=self2.scenario.toJSON();self2.exportScenario(json)})):new Alert("Your browser doesn't support this feature.").show()}),this.button(".i-inspector-general-import.dropdown-item",function(){return this.attr(importBlueprintBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_IMPORT),this.text("Import blueprint"),this.prepend(sim.i(".fal.fa-fw.fa-upload.mr-2")),inspectorHandlers.bindHandler("click",importBlueprintBtnAttr,event=>{event.stopPropagation(),self2.importScenario(event)})}),this.button(".i-inspector-general-versions.dropdown-item",function(){return this.attr(revertBlueprintBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_HISTORY),this.text(imt.l("inspector","panels.revert.title")),this.prepend(sim.i(".fal.fa-fw.fa-undo.mr-2")),inspectorHandlers.bindHandler("click",revertBlueprintBtnAttr,function(event){return event.stopPropagation(),Panels.one instanceof RevertScenarioPanel?Panels.one.close():Panels.one=new RevertScenarioPanel})})})}),this.div(".i-inspector-tools",function(){return self2._tools=this,this.attr("data-title",imt.l("inspector","common.tools")),this.attr("data-testid",TOOLBAR_TEST_IDS.TOOLS)}),this.div(".i-inspector-favorites",function(){return self2._favorites=this,this.attr("data-title",imt.l("inspector","common.favorites")),this.attr("data-testid",TOOLBAR_TEST_IDS.FAVORITES)})}))}),this.scenario=new Scenario;const id=parseInt(this.root.data("scenario")),template=this.root.data("template"),tutorial=this.root.data("tutorial")==="yes";this.scenario.on("default_name_change",()=>{if(!this.scenario.created)return imtEvents.dispatch("designer.set_name",this.scenario.name)}),!id&&!template&&!tutorial&&(this.mode="edit"),tutorial&&((_a2=this._menu)==null||_a2.addClass("out d-none"),this.root.attr("data-tutorial",null)),this.loading=!0,this.loadDependencies(["builtin","util"],err=>{if(err)return new Alert(Alert.parseError(err)).show();if(id&&!isNaN(id)){this.scenario.load(id,(err2,flow2)=>{var _a3;return err2?new Alert(Alert.parseError(err2)).show():(this.log(imt.l("inspector","flashes.scenarioloaded")),this.build(flow2,(_a3=this.scenario._loadedBlueprint.metadata)==null?void 0:_a3.designer,err3=>{var _a4,_b2,_c2,_d2;return err3?new Alert(Alert.parseError(err3)).show():(this.buildFavorites(),this._surface.camera.makeVisibleInFOV(this._calculateFOV(),0),this.loading=!1,isFeatureOn("new-notes",!1)&&id&&notes.loadScenarioNotes({apiUrl:imt.apiurl,scenarioId:id,organizationId:imt.organization.id,teamId:imt.team.id},(_d2=(_c2=(_b2=(_a4=this.scenario)==null?void 0:_a4._loadedBlueprint)==null?void 0:_b2.metadata)==null?void 0:_c2.designer)==null?void 0:_d2.notes),this._refreshDeviceQueue())}))});return}if(template){this.isTemplate=!0,this.scenario=Scenario.fromTemplate(template,(err2,flow2)=>{var _a3;return err2?new Alert(Alert.parseError(err2)).show():(this.log(imt.l("inspector","flashes.templateloaded")),this.build(flow2,(_a3=this.scenario._loadedBlueprint.metadata)==null?void 0:_a3.designer,err3=>err3?new Alert(Alert.parseError(err3)).show():(this.buildFavorites(),this._surface.camera.makeVisibleInFOV(this._calculateFOV(),0),this.loading=!1,this.root.data("template-wizard")==="quick"?new Cls$3:this.root.data("skipExplainFlow")==="false"&&this.explain(!0),location.href.includes("/test")&&imt.user.id!==0&&new TemplateWizard,this._start.askOnActivate=!0)))});return}if(this.scenario.name=imt.l("inspector","scenario.new"),tutorial){this.tutorial=new Tutorial,this.tutorial.on("start",function(){}),this.tutorial.on("stop",()=>this.tutorial=null);return}if(imt!=null&&imt.initModules){const promises=imt.initModules.map(moduleString=>{const[appName,moduleName,majorVersion]=moduleString.split(/:|@/);return this.repository.get(appName,moduleName,majorVersion||"latest")});Promise.all(promises).then(modules=>{let skipped=0,previousModule=null;for(let i2=0;i2<modules.length;i2++){const module2=modules[i2];if(!module2){skipped+=1;continue}module2.id=Inspector.instance.scenario.idSequence++,module2.move(300*(i2-skipped),0),this._surface.stage.attach(module2),module2.config.name!=="BasicRouter"&&(module2.setupRequired=!0),previousModule&&!previousModule._outputLink&&this._surface.stage.attach(new Link(previousModule,module2)),previousModule=module2}const firstModule=modules.find(m2=>!!m2);this.createScheduling(firstModule),firstModule._outputAnchorDragger.visible=!0,firstModule.highlighted=!1,this._start.visible=!0,this.loading=!1})}else{this.loading=!1;const ph1=new Placeholder(-150,0);ph1.highlighted=!0,ph1._outputAnchorDragger.visible=!1,this._surface.stage.attach(ph1);const guide=new Surface.ClickGuide(ph1);guide.origin=new Point(-30,-30),this._surface.stage.attach(guide);const searchAutoOpen=getFeatureValue("apps-search-auto-open",null);isFeatureOn("new-apps-search",!0)&&(searchAutoOpen===null||searchAutoOpen)&&ph1.focus();var timer=setInterval(()=>{if(this.findObject("node").length>2)return clearInterval(timer),ph1._outputAnchorDragger.visible=!0,ph1.highlighted=!1,this._start.visible=!0,guide.detach()},250);this.createScheduling(ph1)}return this.buildFavorites()}),Loader.api(`imt/apps?organizationId=${imt.organization.id}`,{store:"repository_apps",requestId:"modulebrowserpanel.load_apps"},function(err,apps){if(err)return console.error("Failed to pre-fetch list of apps.",err)}),this._credentialsRequestSubscription=imtEvents.on$("credentials-request.init").subscribe(()=>{const components=this.gatherUsedComponentDefinitions(),credentials=["account","keychain"].flatMap(type=>Object.entries(components[type]||{}).map(([typeName,instructions])=>({type,typeName,...convertToPrimitiveObjects(instructions)})));imtEvents.dispatch("credentials-request.ready",{credentials})})}destructor(){super.destructor(),this._credentialsRequestSubscription&&this._credentialsRequestSubscription.unsubscribe(),this._abortToolbarGlobalEvents.abort()}dispose(){return super.dispose()}createScheduling(module2){this._start=new Scheduling(0,0),this._start.visible=!1,this._surface.stage.attach(this._start),this._surface.stage.attach(new Link(this._start,module2)),this.built=!0,this.align(!1),this._start.askOnActivate=!0}switchBlueprint(type,done){return this.scenario._blueprintMode!==type?(this.scenario.switchBlueprint(type),this.reset(this.scenario._loadedBlueprint,done)):done()}_exit(resolve){var _a2;if(this.tutorial)return;if(this.mode==="test")return resolve(!0,"scenarios",this.scenario.id);const redirectTo=this.isTemplate&&!this.wasTemplate?"publictemplate":"scenarios";if((this.scenario.changed||this.hasUnsavedChanges)&&((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.mode)!=="live")if(resolve){this._surface.input.focus=null;const p2=new Prompt(`${imt.l("inspector","scenario.changed")}`);p2._yes.text(imt.l("inspector","common.savechanges")),p2._close.text(imt.l("inspector","common.discardchanges")),p2.show(result=>{const scenarioRef=this.scenario;return result===!0?this.validate(null,()=>this.scenario.save(function(err){if(err){if((err==null?void 0:err.code)!=="IM004"&&(err==null?void 0:err.code)!=="IM026")return new Alert(Alert.parseError(err)).show()}else return toaster.show(imt.l("inspector","flashes.scenariosaved")),resolve(!0,redirectTo,scenarioRef.id)})):result===!1?this.scenario.id?this.reset(this.scenario.reset(),()=>resolve(!0,redirectTo,scenarioRef.id)):resolve(!0,redirectTo):resolve(!1,redirectTo)})}else return imt.l("inspector","scenario.changed");else resolve==null||resolve(!0,redirectTo,this.scenario.id)}_refreshDeviceQueue(){var _a2,_b2,_c2;undelay(this._deviceQueueRefreshTimer);const self2=this,device=(_c2=(_b2=(_a2=this._start)==null?void 0:_a2.next)==null?void 0:_b2.getDeviceInfo)==null?void 0:_c2.call(_b2);if(device){const query=device.type==="device"?`?scope=${device.event}`:"";return Loader.api(`${device.type==="device"?"devices":"hooks"}/${device.id}/incomings/stats${query}`,{method:"GET"},function(err,data2){if(self2._deviceQueueRefreshTimer=delay(DEVICE_QUEUE_REFRESH_TIMEOUT,self2._refreshDeviceQueue),!err&&(sim(".alert.device-queue-alert").remove(),sim(".alert.device-queue-disabled").remove(),data2.enabled===!1&&(undelay(self2._deviceQueueRefreshTimer),sim.div(".alert.alert-warning.device-queue-disabled",function(){const alert=this;return this.button(".btn.btn-primary.btn-xs.float-right",function(){return this.attr("type","button"),this.text(imt.l("base","common.enable")),this.on("click",function(){return this.prop("enabled",!1),Loader.api(`hooks/${device.id}/enable`,{method:"POST"},err2=>err2?(this.prop("enabled",!0),new Alert(Alert.parseError(err2)).show()):(alert.toJquery().alert("close"),self2._refreshDeviceQueue()))})}),this.i(".fas.fa-exclamation-triangle.fa-fw.mr-2"),this.write(imt.l("inspector","panels.queue.disabled")),this.insertBefore(sim(".content header [imt-ui-header-tabs]"))})),data2.queue>=1))return sim.div(".alert.alert-info.device-queue-alert",function(){return this.button(".btn.btn-info.btn-xs.float-right",function(){return this.attr("type","button"),this.text(imt.l("inspector","buttons.openqueue")),this.on("click",()=>self2._start.next.openQueueBrowser())}),this.i(".far.fa-truck.fa-fw.mr-2"),this.write(imt.l("inspector","panels.queue.alert",{data:{n:data2.queue}})),this.insertBefore(sim(".content header .scenarios-layout-tabs"))})})}else return sim(".alert.device-queue-alert").remove()}createContextMenu(target,coord){var _a2;if(target)return(_a2=target.createContextMenu)==null?void 0:_a2.call(target);const menu=[];return this.mode==="edit"&&(menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>(imtEvents.dispatch("scenario.add_module_button_clicked",{buttonName:"canvas_right_click"}),this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y)).tryAutoConnect())}),menu.push({label:imt.l("inspector","buttons.paste"),icon:"paste",click:()=>this.pasteModules()}),menu.push({label:imt.l("inspector","buttons.showids"),icon:imt.config.showIDs?"check-square":"square",click:()=>(imt.config.showIDs=!imt.config.showIDs,this._surface.render())}),menu.push({label:imt.l("inspector","buttons.routeOrder"),icon:this.showRouteOrder?"check-square":"square",click:()=>this.showRouteOrder=!this.showRouteOrder})),menu}explain(repeat2){var _a2;if((_a2=this._start)!=null&&_a2.next)return new Explain(this._start.next,repeat2)}exportScenario(json){json.metadata.zone=imt.zone,isFeatureOn("new-notes",!1)&&(json.metadata.notes=notes.toJson()),imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO&&(this.scenario._io.spec.input.length||this.scenario._io.spec.output.length)&&(json.io={input_spec:this.scenario._io.spec.input||[],output_spec:this.scenario._io.spec.output||[]});const blob=new Blob([JSON.stringify(json,void 0,4)],{type:"application/json; charset=utf-8"});return FileSaver_minExports.saveAs(blob,"blueprint.json"),!1}importScenario(){var _a2;const self2=this;(_a2=Panels.one)==null||_a2.close();const panel=Panels.one=new Panel;panel.title="Import Blueprint",panel.loading=!0;const form=new Formula("ImportBlueprint");return form.config=[{name:"blueprint",type:"upload",accept:"application/json",label:"Blueprint JSON"}],form.build(function(){sim.button(".btn.btn-primary",function(){this.attr("type","button"),this.text(imt.l("base","common.save")),this.appendTo(panel._footer),this.on("click",function(){if(form.isValid()){panel.loading=!0;const reader=new FileReader;reader.onload=function(e2){let displayErr;try{self2.reset(self2.scenario.reset(JSON.parse(e2.target.result)),function(){var _a3,_b2;isFeatureOn("new-notes",!1)&&notes.fromJson((_b2=(_a3=JSON.parse(e2.target.result))==null?void 0:_a3.metadata)==null?void 0:_b2.notes),self2._surface.camera.makeVisibleInFOV(self2._calculateFOV()),self2._updateIOLight(),toaster.show("Blueprint was imported. Don't forget to set up the scheduling!");let modules=self2.findObject("module");modules=modules.map(node2=>node2.id),modules=modules.filter(num=>!isNaN(num));const maxID=1+Math.max.apply(null,modules);self2.scenario.idSequence<maxID&&(self2.scenario.idSequence=maxID)})}catch(ex){switch(!0){case ex instanceof ScenarioFeatureError:displayErr=new Error(ex.toString());break;default:displayErr=new Error("Invalid blueprint.");break}panel.warn(displayErr,form)}panel.emit("save"),panel.close()};try{reader.readAsText(form.toJSON().blueprint[0])}catch{panel.warn(new Error("Invalid blueprint."),form)}}return!1})}),panel.content=form,panel.loading=!1}),!1}saveScenario(confirmed,element2){this.emit("scenario_save");const prSaveScenario=()=>new Promise((res,rej)=>this.scenario.save(err=>{var _a2,_b2,_c2;if(err){if(err.code==="IM005")try{const msg=JSON.parse(err.message),teamVars=((_a2=msg.team)==null?void 0:_a2.split(","))||[],organizationVars=((_b2=msg.organization)==null?void 0:_b2.split(","))||[],orgRef='<a href="/organization/'+imt.organization.id+'/variables">Organization</a>',teamRef='<a href="/'+imt.team.id+'/team/variables">Team</a>',alert=new Alert("",imt.l("inspector","errors.nonExistingVariables.title"));alert.content=[sim.p().text(imt.l("inspector","errors.nonExistingVariables.subtitle")),sim.ul(".list-unstyled.i-exception-suberrors",function(){let i2;for(i2 of teamVars)this.li(".list-group-item",function(){return this.text(`${i2}`),this.css("fontWeight","bold"),this.prepend(sim.i(".list-group-icon.far.fa-fw.fa-user-friends"))});return(()=>{const result=[];for(i2 of organizationVars)result.push(this.li(".list-group-item",function(){return this.text(`${i2}`),this.css("fontWeight","bold"),this.prepend(sim.i(".list-group-icon..far.fa-fw.fa-home"))}));return result})()}),sim.p().text(imt.l("inspector","errors.nonExistingVariables.saving")),sim.p().html(imt.l("inspector","errors.nonExistingVariables.footer",{data:{organization:orgRef,team:teamRef}}))],alert.show()}catch{new Alert(Alert.parseError(err)).show()}return err.code!=="IM004"&&err.code!=="IM026"&&err.code!=="IM005"&&new Alert(Alert.parseError(err)).show(),rej(err)}return(_c2=Inspector==null?void 0:Inspector.instance)==null||_c2.refreshControlsUI(),toaster.show(imt.l("inspector","flashes.scenariosaved")),res()},null,confirmed));return this.validate(element2,()=>prSaveScenario().catch(console.error))}destroy(){if(this._deviceQueueRefreshTimer)return undelay(this._deviceQueueRefreshTimer)}startTest(singleModule){let scheduling;const startButton=sim(".i-inspector-menu-start-test").first();this.scenario.instant&&(!singleModule||singleModule===this._start.next)?scheduling={type:"immediately"}:scheduling={type:"once",date:new Date};const superStartTest=(company,blueprint,scheduling2,inputs,options,draft,hookWaitForNew)=>Designer2.prototype.__proto__.startTest.call(this,company,blueprint,scheduling2,inputs,options,draft,hookWaitForNew);return this.scenario.instant&&(!singleModule||singleModule===this._start.next)?this._checkWebhookQueue(startButton,scheduling,(hookWaitForNew,scheduling2)=>this._forceScenarioSave(startButton,singleModule,hookWaitForNew,scheduling2,superStartTest)):this._forceScenarioSave(startButton,singleModule,!1,scheduling,superStartTest)}toggleScheduling(){const switchEl=sim("#scenarioswitch.i-inspector-scheduling-switch");if(!switchEl.hasClass("disabled")&&globalThis.activeScenario==null&&toaster.show(imt.l("inspector","flashes.scenarioNotSavedYet"),"danger"),!switchEl.hasClass("disabled")&&globalThis.activeScenario)return imtEvents.once$("designer.scenario_switch_done").subscribe(function(res){res.data&&switchEl.toggleClass("active")}),imtEvents.dispatch("designer.scenario_switch",{isActive:globalThis.activeScenario.isActive,element:switchEl.__dom,scenarioId:globalThis.activeScenario.id,hookId:globalThis.activeScenario.hookId,deviceId:globalThis.activeScenario.deviceId,deviceScope:globalThis.activeScenario.deviceScope})}_checkWebhookQueue(startButton,scheduling,callback){const device=this._start.next.getDeviceInfo();if(!device)return callback(!0,scheduling);const url=device.type==="hook"?`hooks/${device.id}/incomings/stats`:`devices/${device.id}/incomings/stats`;return Loader.api(url,{method:"GET"},function(err,data2){return err||data2.queue===0?callback(!0,scheduling):new ListenerQueuePanel(startButton,function(hookWaitForNew){return hookWaitForNew||(scheduling={type:"once",date:new Date}),callback(hookWaitForNew,scheduling)})})}_forceScenarioSave(startButton,singleModule,hookWaitForNew,scheduling,superStartTest){return this.toggleLog(!0),this.scenario.id>=1?this._handleTriggerStates(singleModule,hookWaitForNew,scheduling,superStartTest):new Promise((res,rej)=>(startButton.enabled=!1,this.scenario.save(!0,(err,saved)=>(startButton.enabled=!0,err&&(err==null?void 0:err.code)!=="IM004"&&(err==null?void 0:err.code)!=="IM026"?(new Alert(Alert.parseError(err)).show(),rej(err)):(saved&&toaster.show(imt.l("inspector","flashes.scenariosaved")),res()))))).then(()=>this._handleTriggerStates(singleModule,hookWaitForNew,scheduling,superStartTest)).catch(console.error)}_handleTriggerStates(singleModule,hookWaitForNew,scheduling,superStartTest){var _a2;const isDraft=((_a2=imt.team)==null?void 0:_a2.scenarioDrafts)&&this.scenario.isDraft(),tr=singleModule||this._start.next;return isDraft&&tr instanceof Trigger&&!tr.data&&!this._localTriggerState[tr.id]&&!tr.config.listener?Panels.one=new EpochPanel(tr,!1,!1,()=>this._handleScenarioIO(singleModule,hookWaitForNew,scheduling,superStartTest)):this._handleScenarioIO(singleModule,hookWaitForNew,scheduling,superStartTest)}_handleScenarioIO(singleModule,hookWaitForNew,scheduling,superStartTest){const startButton=sim(".i-inspector-menu-start-test").first(),io=this.scenario._io;if(!(imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&imt.organization.license.scenarioIO))return this._handleScenarioStart(singleModule,hookWaitForNew,scheduling,null,superStartTest);if(!io.spec.input.length)return this._handleScenarioStart(singleModule,hookWaitForNew,scheduling,null,superStartTest);let config2=io.spec.input,values=io.cache;if(singleModule){const pills=Array.from(JSON.stringify(Object.assign({},singleModule.parameters,singleModule.mapper)).matchAll(/\{\{var\.input\.(.*?)\}\}/g)).map(arr=>arr[1]);if(config2=Object.cloneDeep(config2).filter(spec=>pills.includes(spec.name)),values=Object.cloneDeep(values),Object.keys(values).forEach(key=>{if(!config2.find(spec=>spec.name===key))return delete values[key]}),!config2.length)return this._handleScenarioStart(singleModule,hookWaitForNew,scheduling,null,superStartTest)}return Panels.one=new ScenarioIOPromptPanel(singleModule||startButton,Inspector.instance.scenario.id,config2,values,input=>(singleModule||(io.cache=input.input),this._handleScenarioStart(singleModule,hookWaitForNew,scheduling,input,superStartTest)))}_handleScenarioStart(singleModule,hookWaitForNew,scheduling,inputs,superStartTest){var _a2;const isDraft=((_a2=imt.team)==null?void 0:_a2.scenarioDrafts)&&this.scenario.isDraft(),superRunScenario=(options=void 0,singleModule2=void 0)=>{const blueprint=this.scenario.toJSON(!0,singleModule2);return superStartTest(imt.team.id,blueprint,scheduling,inputs,options,isDraft,!!hookWaitForNew)},runThisModuleOnly=singleModule2=>{if(singleModule2 instanceof Router||singleModule2 instanceof Aggregator)return new Alert("Not supported.").show();let{config:config2,values,errors}=singleModule2.references(!0);if(errors.length)return new Alert(errors[0].message).show();if(errors=singleModule2.messages.get({severity:"error"}),errors.length)return new Alert(imt.l("inspector","execution.haserrors")).show();const options={scenario:{id:this.scenario.id},runSingle:{wrapper:{}}};return config2.length?new MockMapperPanel(singleModule2,config2,values,(err,wrapper2)=>err?new Alert(Alert.parseError(err)).show():(options.runSingle.wrapper=wrapper2,superRunScenario(options,singleModule2))):superRunScenario(options,singleModule2)};return singleModule?runThisModuleOnly(singleModule):superRunScenario()}_recalculateInputCache(oldSpec,newSpec){const io=this.scenario._io,{cache}=io;if(!(!oldSpec||!newSpec||!cache))return oldSpec.forEach(item=>{const{name}=item,newSpecItem=newSpec.find(it=>it.name===name);if(!newSpecItem){delete cache[name];return}if(item.type!==newSpecItem.type){delete cache[name];return}if(["collection","array"].includes(item.type)&&!deepEqual(item.spec,newSpecItem.spec)){delete cache[name];return}})}_updateIOLight(){const btn=sim("#scenario-io");if(btn)return btn._refresh()}createTemplateWizard(){new TemplateWizard}get templateWizardInstance(){return TemplateWizard.instance}set templateWizardInstance(value){TemplateWizard.instance=value}gatherUsedComponentDefinitions(){return this.findObject("module").reduce((accumulator,mod)=>{var _a2,_b2;const parameters=(_a2=mod==null?void 0:mod.config)==null?void 0:_a2.parameters;if(!Array.isArray(parameters)||!parameters.length)return accumulator;const componentParameters=parameters.filter(p2=>p2.type.includes(":"));if(!componentParameters.length)return accumulator;for(const componentParameter of componentParameters){const[type,typeName]=componentParameter.type.split(":");accumulator[type]||(accumulator[type]={}),accumulator[type][typeName]||(accumulator[type][typeName]={});const pointer=accumulator[type][typeName];switch(type){case"account":{const scopes=((_b2=mod==null?void 0:mod.config)==null?void 0:_b2.scope)||[];pointer.scopes||(pointer.scopes=new Set),scopes.length&&scopes.forEach(scope2=>pointer.scopes.add(scope2))}break}}return accumulator},{})}}).initClass();class DLQPanel extends Panel{constructor(relative){super(relative),this.help="kb://scenarios/incomplete-executions",this.offsetX=50/window.devicePixelRatio,this.loading=!0,this.title=imt.l("inspector","panels.dlq.title");const self2=this;sim.button(".btn.btn-outline-scondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),this.content=sim.div(".i-exception",function(){var _a2;return this.h5().text(imt.l("inspector","panels.dlq.reason")),this.p().text((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.scenario.reason)}),this.loading=!1}}class DLQTrigger extends Surface.Node{static initClass(){this.prototype._outputLink=null,this.prototype._timer=null,this.prototype.__removable=!1,this.prototype.__draggable=!1,this.prototype.__module=null,this.property("next",{get(){return this.__module}}),this.property("module",{get(){return this.__module},set(value){if(this.__module!==value)return this.__module&&(this.__module.off("move",this._move),this.__module.off("to_front",this._toFront),this.__module.off("attach",this._attach),this.__module.off("detach",this._detach),this.__module.off("swap",this._swap),this.__module.off("swap_to_placeholder",this._swap)),this.__module=value,value!=null?(this._title.style.color=new ImtColor(255,255,255),value.on("move",this._move),value.on("to_front",this._toFront),value.on("attach",this._attach),value.on("detach",this._detach),value.on("swap",this._swap),value.on("swap_to_placeholder",this._swap),value.parent!=null&&this._attach(),__guard__$4(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2._failer=value)):this.detach()}})}constructor(module2){super(0,0,80,80),this._attach=this._attach.bind(this),this._detach=this._detach.bind(this),this._move=this._move.bind(this),this._swap=this._swap.bind(this),this._toFront=this._toFront.bind(this),this.title="",this._title.y=24,this._title.style.font='"Font Awesome 6 Pro"',this._title.style.fontWeight=900,this._title.style.fontSize="35px",this.theme=new ImtColor("#ff0000"),this.module=module2;let panel=null;this.on("focus",()=>{if(!panel)return panel=new DLQPanel(this),panel.once("close",()=>{if(__guard__$4(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2._surface.input.focus)===this)return __guard__$4(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1._surface.input.focus=null)})}),this.on("blur",function(){if(panel)return panel._close(),panel=null}),this.style.cursor="pointer"}_attach(){return this.__module.parent.attach(this),this._move()}_detach(){return this.detach()}_move(){return this.move(this.next.x-50,this.next.y+50)}_swap(module2){return this.module=module2,this.toFront()}_toFront(){return this.toFront()}canLink(node2,type){return!1}canLinkWithRouter(type){return!1}}DLQTrigger.initClass();function __guard__$4(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}(globalThis.DLQInspector=class DLQInspector2 extends TestableInspector{static initClass(){this.prototype.scenario=null,this.prototype.bundle=null,this.prototype._menu=null,this.prototype._failer=null}constructor(){super(...arguments);const self2=this;DLQInspector2.instance=this,sim(this._surface.canvas).on("click",function(event){if(!self2.scenario.resolved&&sim(event.target)===this)return self2.mode="edit"}),this._surface.stage.on("dblclick",coord=>{if(this.mode==="edit")return this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y)).tryAutoConnect()}),this.on("add_placeholder",ph=>{const{bounds}=ph;return sim(window).width()>1200&&(bounds.width+=350/this._surface.camera.zoom),this._surface.camera.ensureVisible(bounds,500)}),isFeatureOn("new-toolbar",!1)?(this._toolbar.addEventListener("inspector-logs",()=>this._toolbar.switchLogsVisibility("toolbar_button")),this._toolbar.addEventListener("inspector-save",()=>{self2.validate(null,()=>self2.scenario.save(function(err){if(err)return new Alert(Alert.parseError(err)).show();toaster.show(imt.l("inspector","flashes.dlqsaved"))}))}),this._toolbar.addEventListener("inspector-run-once-start",()=>{self2.validate(sim(this),{test:!0},()=>self2.startTest())}),this._toolbar.addEventListener("inspector-autoalign",()=>self2.align())):this._menu.do(function(){return this.prepend(sim.div(".i-inspector-controls",function(){return this.attr("data-testid",TOOLBAR_TEST_IDS.CONTROLS),this.div(".i-inspector-primary",function(){return this.button(".btn.i-inspector-menu-start-test",function(){return this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_RUN_ONCE),this.i(".fal.fa-play"),this.span(function(){return this.write(imt.l("inspector","buttons.execute"))}),this.on("click",function(){return self2.validate(this,{test:!0,dlq:!0},updatedContext=>self2.startTest(updatedContext))})}),this.button(".btn.i-inspector-menu-progress",function(){return this.i(".fa.fa-spinner.fa-spin")})}),this.div(".i-inspector-general",function(){return self2._controls=this,this.attr("data-title","Controls"),this.button(".btn.i-inspector-general-save",function(){return this.i(".fal.fa-save"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SAVE),browser.mouse&&this.tooltip({title:imt.l("base","common.save"),placement:"top",container:document.body,trigger:"hover"}),browser.mouse&&tooltip(imt.l("base","common.save")).withPosition("top").withTrigger("hover").toElement(this),this.on("click",function(){return self2.emit("scenario_save"),self2.validate(this,()=>self2.scenario.save(function(err){if(err)return new Alert(Alert.parseError(err)).show();toaster.show(imt.l("inspector","flashes.dlqsaved"))}))})}),this.button(".btn.i-inspector-general-autoalign",function(){return this.i(".fal.fa-wand-magic-sparkles"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_ALIGN),browser.mouse&&this.tooltip({title:imt.l("inspector","buttons.autoalign"),placement:"top",container:document.body,trigger:"hover"}),browser.mouse&&tooltip(imt.l("inspector","buttons.autoalign")).withPosition("top").withTrigger("hover").toElement(this),this.on("click",()=>self2.align())})}),this.div(".i-inspector-tools",function(){return self2._tools=this,this.attr("data-title",imt.l("inspector","common.tools")),this.attr("data-testid",TOOLBAR_TEST_IDS.TOOLS)}),this.div(".i-inspector-favorites",function(){return self2._favorites=this,this.attr("data-title",imt.l("inspector","common.favorites")),this.attr("data-testid",TOOLBAR_TEST_IDS.FAVORITES)})}))}),this.scenario=new DLQScenario,this.scenario.resolved=this.root.data("resolved")==="yes";const id=this.root.data("dlq"),scenarioId=this.root.data("scenario");if(id)this.loading=!0,this.scenario.load(id,scenarioId,(err,flow2)=>err?new Alert(Alert.parseError(err)).show():(this.log(imt.l("inspector","flashes.scenarioloaded")),this.build(flow2,this.scenario._loadedBlueprint.metadata!=null?this.scenario._loadedBlueprint.metadata.designer:void 0,err2=>err2?new Alert(Alert.parseError(err2)).show():(this.buildFavorites(),this._surface.camera.makeVisibleInFOV(this._calculateFOV(),0),this.loading=!1))));else{const a2=new Alert(imt.l("inspector","errors.invalidid"));a2.show(),a2.once("hide",()=>window.location="/")}}build(flow2,metadata,done){return metadata instanceof Function&&(done=metadata,metadata=void 0),super.build(flow2,metadata,err=>{if(err)return typeof done=="function"?done(err):void 0;this.built=!1,this._start.visible=!1;const modules=this.findObject("module");for(var module2 of modules)module2.id===this.scenario.failer&&(this.bundle=new DLQBundle(this.scenario.id),new DLQTrigger(module2));return this._failer?(modules.forEach(function(mod){return mod.locked=!0,mod._inputLink!=null?mod._inputLink.locked=!0:void 0}),this._failer.locked=!1,this._failer.grayed=!1,this._failer.nextAll().forEach(function(mod){return mod.locked=!1,mod._inputLink!=null?mod._inputLink.locked=!1:void 0}),this.built=!0,typeof done=="function"?done(null):void 0):typeof done=="function"?done(new Error("Failer was not found in the scenario blueprint.")):void 0})}_exit(resolve){if(this.mode==="test"&&this.stopTest(),this.scenario.changed||this.hasUnsavedChanges)if(resolve){this._surface.input.focus=null;const p2=new Prompt(`${imt.l("inspector","scenario.changed")}`);p2._yes.text(imt.l("inspector","common.savechanges")),p2._close.text(imt.l("inspector","common.discardchanges")),p2.show(result=>result===!0?this.validate(null,()=>this.scenario.save(function(err){return err?new Alert(Alert.parseError(err)).show():(toaster.show(imt.l("inspector","flashes.scenariosaved")),resolve(!0))})):result===!1?this.scenario.id?this.reset(this.scenario.reset(),()=>resolve(!0)):resolve(!0,"scenarios"):resolve(!1))}else return imt.l("inspector","scenario.changed");else typeof resolve=="function"&&resolve(!0),this.scenario.id||(window.location="/scenarios")}createContextMenu(target,coord){if(target)return typeof target.createContextMenu=="function"?target.createContextMenu():void 0;const menu=[];return this.mode==="edit"&&menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y)).tryAutoConnect()}),menu}startTest(updatedContext){return this.toggleLog(!0),super.startTest(imt.team.id,this.scenario.toJSON(!0),null,updatedContext,void 0,!1,!1),this.once("test_complete",successful=>{if(successful)return this.scenario.resolved=!0,this.mode="view",sim(".dlq-resolve-status").removeClass("far text-info fa-circle").addClass("fas text-success fa-check-circle"),__guard__$3(sim("#scenarioedit"),x2=>x2.remove()),window.history.replaceState({mode:"view"},"View"),toaster.show(imt.l("inspector","flashes.dlqResolvedToast")),imtEvents.dispatch("scenario.refresh")})}}).initClass();function __guard__$3(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}class TemplateSetupPanel extends Panel{constructor(relative){super(relative);const self2=this;this.expandable=!0,this.loading=!0,this._form=new Formula("TemplateSetup"),this._form.on("resize",this._resize),this._form.config=[{name:"language",label:imt.l("base","common.language"),type:"select",required:!0,disabled:__guard__$2(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.id)>0,options:[{label:"esky",value:"cs"},{label:"English",value:"en"}]},{name:"description",label:imt.l("inspector","panels.template.desc"),type:"text",multiline:!0,validate:{min:0,max:1500}}],this._form.values={description:__guard__$2(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x1=>x1.scenario.description),language:__guard__$2(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.language)},this._form.build(err=>{if(err)return this.warn(err.message);if(!this._destroyed)return this.title=imt.l("inspector","panels.template.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",self2._close)}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.save")),this.appendTo(self2._footer),this.on("click",function(){if(self2._form.toJSON().description&&self2._form.toJSON().description.length>1500){sim(self2._form.__dom).find("textarea").addClass("is-invalid"),sim(self2._form.__dom).find(".i-validation-text").remove(),sim(self2._form.__dom).find("textarea ~ div.invalid-feedback").text()===""&&sim(self2._form.__dom).find("textarea ~ div.invalid-feedback").text(imt.l("inspector","hints.lengthmost",{data:{value:1500}}));return}if(self2._form.isValid()){const object2=self2._form.toJSON();for(var key in object2){var value=object2[key];__guard__$2(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3.scenario[key]=value)}return sim("#scenariotitle").text(__guard__$2(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.scenario.name)),self2.emit("save"),self2.close()}})}),this.content=this._form,this.loading=!1,this.emit("load")}),this.on("destroy",()=>this._form.destroy())}}function __guard__$2(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}var __defProp2=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i2=decorators.length-1,decorator;i2>=0;i2--)(decorator=decorators[i2])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp2(target,key,result),result};let Annotator=class extends s$2{constructor(){super(...arguments),this._useInWizard=!1,this.forceUseInWizard=!1,this.help=void 0,this.isOptionalFragment=!1,this.useAsDefaultValue=!1}get useInWizard(){return this._useInWizard}set useInWizard(value){var _a2,_b2;const oldVal=this._useInWizard;oldVal!==value&&(this._useInWizard=value,((_a2=this.useInWizardCheckbox)==null?void 0:_a2.checked)!==value&&((_b2=this.useInWizardCheckbox)==null||_b2.click()),this.forceParent&&setTimeout(()=>{var _a3;const parentAnnotator=(_a3=this.forceParent)==null?void 0:_a3.querySelector("imt-annotator");parentAnnotator&&(value?(parentAnnotator.forceUseInWizard=!0,parentAnnotator.useInWizard=!0):Array.from(document.querySelectorAll("imt-annotator")).find(el=>el.forceParent===this.forceParent&&el.useInWizard)||(parentAnnotator.forceUseInWizard=!1))}),this.requestUpdate("useInWizard",oldVal))}useInWizardChange(e2){this.useInWizard=e2.target.checked}useAsDefaultValueChange(e2){this.useAsDefaultValue=e2.target.checked}helpChange(e2){this.help=e2.target.value}createRenderRoot(){return this}render(){return x`<div class="i-templater-block i-templater-block--oem"><label><input name="template_use_in_wizard" id="use_in_wizard" type="checkbox" @change="${this.useInWizardChange}" ?checked="${this.useInWizard}" ?disabled="${this.forceUseInWizard}"> <span>Use in Wizard</span></label> <label><input name="template_use_as_default" type="checkbox" @change="${this.useAsDefaultValueChange}" ?checked="${this.useAsDefaultValue}" ?disabled="${!this.useInWizard}"> <span>Use as default value</span></label> <textarea class="form-control" placeholder="Help" style="display:${!this.useInWizard||this.fragment||this.fragmentChild?"none":"block"}" @input="${this.helpChange}">
${this.help}</textarea></div>`}};__decorateClass([e$3("#use_in_wizard")],Annotator.prototype,"useInWizardCheckbox",2),__decorateClass([n$3()],Annotator.prototype,"forceUseInWizard",2),__decorateClass([n$3()],Annotator.prototype,"help",2),__decorateClass([n$3()],Annotator.prototype,"uuid",2),__decorateClass([n$3()],Annotator.prototype,"target",2),__decorateClass([n$3()],Annotator.prototype,"targetPrefix",2),__decorateClass([n$3()],Annotator.prototype,"parent",2),__decorateClass([n$3()],Annotator.prototype,"type",2),__decorateClass([n$3()],Annotator.prototype,"fragment",2),__decorateClass([n$3()],Annotator.prototype,"fragmentChild",2),__decorateClass([n$3()],Annotator.prototype,"forceParent",2),__decorateClass([n$3()],Annotator.prototype,"isOptionalFragment",2),__decorateClass([n$3()],Annotator.prototype,"useAsDefaultValue",2),Annotator=__decorateClass([t$2("imt-annotator")],Annotator);const debug=imt.debug("imt:inspector","#329032"),EMPTY_METADATA={name:"",description:"",moduleSequenceId:1},EMPTY_CONTROLLER={metadata:{...EMPTY_METADATA},fields:{},version:2};class TemplateV2 extends Scenario{constructor(){super();__publicField(this,"controller",null);__publicField(this,"language",null);__publicField(this,"privateValues",null);__publicField(this,"_loadedBlueprint",null);__publicField(this,"_loadedController",null);__publicField(this,"_loadedScheduling",null);__publicField(this,"_privateValues",null);__publicField(this,"_saving",!1);__publicField(this,"handleSetupFormCreated",(form,module2,moduleType="module")=>{var _a2,_b2;this._tempController=null;const childForms=[];(_b2=(_a2=form.form)==null?void 0:_a2.eventManager)==null||_b2.registerOnDispatch("inputBuilt",(event,target)=>{var _a3,_b3;const controller=this._tempController||this.controller,closestFormula=target.closest(".i-formula.formula"),childForm=target.closest("imt-panel imt-forman");if(target===target.closest("imt-input-collection")||target.annotator||!childForm&&closestFormula!==form||this.isAutoSpecAncestor(target)||!target.name)return;childForm&&!childForms.find(el=>el===childForm)&&(childForms.push(childForm),childForm.addEventListener("submitted",()=>{this.handleSaveSetupForm(childForm,module2,null)}));const annotator=document.createElement("imt-annotator");target.annotator=annotator,annotator.type=this.instructionsToType(target._instructions);const mainAttachedForm=closestFormula||childForm||form,treeField=this.getTreeField(mainAttachedForm,target,{includeHidden:!0}),ancestor=(_b3=(_a3=target.closest("imt-panel"))==null?void 0:_a3._relative)==null?void 0:_b3.closest("[field]");let targetPrefix=`${moduleType}.${module2.id}`;ancestor&&(targetPrefix=`${this.instructionsToType(ancestor._instructions)}.${ancestor.querySelector("imt-annotator").uuid}`),annotator.target=`${targetPrefix}.${target.path}`,annotator.targetPrefix=targetPrefix,annotator.fragment=treeField==null?void 0:treeField.fragment,annotator.fragmentChild=treeField==null?void 0:treeField.fragmentChild,annotator.forceParent=treeField==null?void 0:treeField.forceParent;const fieldsToField=fields=>Object.entries(fields||{}).find(([key,value])=>value.targets.find(targetInner=>targetInner===annotator.target)),field=fieldsToField(controller.fields)||fieldsToField(controller.hooks)||fieldsToField(controller.accounts)||fieldsToField(controller.keys),fragment=Object.entries(controller.fragments||{}).filter(([,value])=>{var _a4;return(_a4=value.targets)==null?void 0:_a4.find(valueTarget=>valueTarget===targetPrefix)}).find(([,value])=>value.spec.name===target.name),fragmentPick=Object.entries(controller.fragments||{}).filter(([,value])=>{var _a4;return(_a4=value.targets)==null?void 0:_a4.find(valueTarget=>valueTarget===targetPrefix)}).find(([,value])=>{var _a4,_b4;return(_b4=(_a4=value.store)==null?void 0:_a4.pick)==null?void 0:_b4.includes(target.path)});if(field&&(annotator.useInWizard=!0,annotator.help=field[1].help,annotator.uuid=field[0],this.privateValues[field[0]]&&(target.value=this.privateValues[field[0]],annotator.useAsDefaultValue=!0)),fragment&&(annotator.uuid=fragment[0]),fragmentPick&&(annotator.useInWizard=!0,this.privateValues[fragmentPick[0]])){const fragmentPickValue=objectGet(this.privateValues[fragmentPick[0]],target.path);fragmentPickValue&&(target.value=fragmentPickValue,annotator.useAsDefaultValue=!0)}annotator.uuid||(annotator.uuid=crypto.randomUUID());const errorElement=target.querySelector(":scope >.form-errors");target.insertBefore(annotator,errorElement)})});__publicField(this,"handleSaveSetupForm",(form,module2=null,moduleType="module")=>{const controller=this._tempController||this.controller,fieldTree=this.getFieldTree(form,{includeHidden:!0}),{fragmentFields,pick:fragmentPick}=fieldTree.reduce(treeFieldToFragmentFieldsAndPick,{fragmentFields:[],pick:[]}),fragments=fragmentFields.reduce((acc,fragmentField)=>{const field=annotatorToField(fragmentField.annotator,module2,fragmentPick);return field.targets=[fragmentField.annotator.targetPrefix],field.store={pick:fragmentField.pick},acc[fragmentField.annotator.uuid]=field,acc},{}),annotators=Array.from(form.querySelectorAll("imt-annotator")),moduleController=annotators.reduce((acc,annotator)=>{var _a2,_b2,_c2,_d2,_e2,_f2;if(annotator.useInWizard){const parentField=annotator.parentElement;if(fragmentPick.includes(parentField.path))return acc;const field=annotatorToField(annotator,module2,fragmentPick),uuid=annotator.uuid,{fields={},keys:keys2={},accounts={},hooks={}}=acc;if((_b2=(_a2=field.spec)==null?void 0:_a2.type)!=null&&_b2.startsWith("account:")){const autoAutoSpec=!this.getControllerTargets(controller).find(el=>el.startsWith(`account.${uuid}`));autoAutoSpec&&(field.autoSpec=autoAutoSpec),accounts[uuid]=field}else if((_d2=(_c2=field.spec)==null?void 0:_c2.type)!=null&&_d2.startsWith("keychain:")){const autoAutoSpec=!this.getControllerTargets(controller).find(el=>el.startsWith(`key.${uuid}`));autoAutoSpec&&(field.autoSpec=autoAutoSpec),keys2[uuid]=field}else(_f2=(_e2=field.spec)==null?void 0:_e2.type)!=null&&_f2.startsWith("hook:")?hooks[uuid]=field:fields[uuid]=field;return{accounts,keys:keys2,hooks,fields}}return acc},{}),privateValuesFields=annotators.reduce((acc,annotator)=>{const parentField=annotator.parentElement;return annotator.useInWizard&&annotator.useAsDefaultValue&&!fragmentPick.includes(parentField.path)?{...acc,[annotator.uuid]:annotator.parentElement.value}:acc},{}),privateValuesFragments=fragmentFields.reduce((acc,fragmentField)=>{var _a2;const fragmentValue=fragmentField.useInWizardFields.reduce((accNested,fragmentFieldNested)=>{var _a3,_b2,_c2;return(_a3=fragmentFieldNested.annotator)!=null&&_a3.useAsDefaultValue&&objectSet(accNested,(_b2=fragmentFieldNested.elem)==null?void 0:_b2.path,(_c2=fragmentFieldNested.elem)==null?void 0:_c2.value),accNested},{});return Object.keys(fragmentValue).length&&(acc[(_a2=fragmentField.annotator)==null?void 0:_a2.uuid]=fragmentValue),acc},{}),privateValues={...privateValuesFields,...privateValuesFragments},allTargets=annotators.map(annotator=>annotator.target),allTargetPrefixes=annotators.map(annotator=>annotator.targetPrefix),adjustFieldTargets=fields=>Object.entries(fields||{}).reduce((acc,[fieldId,field])=>{const targets=field.targets.filter(target=>!(module2&&moduleType&&target.startsWith(`${moduleType}.${module2.id}.`))&&!allTargets.includes(target)&&!allTargetPrefixes.includes(target));return targets.length?{...acc,[fieldId]:{...field,targets}}:acc},{}),controllerFields={fields:{...adjustFieldTargets(controller.fields),...moduleController.fields},accounts:{...adjustFieldTargets(controller.accounts),...moduleController.accounts},keys:{...adjustFieldTargets(controller.keys),...moduleController.keys},hooks:{...adjustFieldTargets(controller.hooks),...moduleController.hooks},fragments:{...adjustFieldTargets(controller.fragments),...fragments}},newController={metadata:controller.metadata,version:controller.version,...Object.entries(controllerFields).reduce((acc,entry)=>Object.keys(entry[1]||{}).length?{...acc,[entry[0]]:entry[1]}:acc,{})};module2&&moduleType?(this.controller=newController,this._tempController=null):this._tempController=newController,this.privateValuesCleanUp({...this.privateValues,...privateValues},controllerFields)});this.language=imt.user.language,this.controller=Object.cloneDeep(EMPTY_CONTROLLER),this._loadedController=Object.cloneDeep(this.controller),this._tempController=null,this.privateValues={},this._loadedPrivateValues={}}get changed(){return this._loadedBlueprint==null?!0:!deepEqual(this._loadedBlueprint,this.toJSON())||!deepEqual(this._loadedScheduling,this.scheduling)||!deepEqual(this._loadedController,this.controller)}get name(){return this.controller.metadata.name}set name(value){var _a2;value!==((_a2=this.controller.metadata)==null?void 0:_a2.name)&&(this.controller.metadata={...EMPTY_METADATA,...this.controller.metadata||{},name:value})}get description(){return this.controller.metadata.description}set description(value){value!==this.controller.metadata.description&&(this.controller.metadata={...EMPTY_METADATA,...this.controller.metadata||{},description:value})}get idSequence(){return this.controller.metadata.moduleSequenceId??1}set idSequence(value){value!==this.controller.metadata.moduleSequenceId&&(this.controller.metadata={...EMPTY_METADATA,...this.controller.metadata||{},moduleSequenceId:value})}load(id,callback){this.id=id;const url=`templates/v2/team/${this.id}`;return Loader.api(url,{requestId:"template.load_template_blueprint"},(err,data2)=>{var _a2,_b2,_c2,_d2,_e2,_f2,_g2,_h2,_i2,_j2,_k,_l;if(err)return callback(err);const{template}=data2;return console.log("[imt:inspector] blueprint:",template.blueprint),console.log("[imt:inspector] scheduling:",template.scheduling),console.log("[imt:inspector] controller:",template.controller),this._loadedBlueprint=template.blueprint,this._loadedController=template.controller,this._loadedScheduling=template.scheduling,this._loadedPrivateValues=template.privateValues,this._loadedSamples=(_b2=(_a2=template.blueprint.metadata)==null?void 0:_a2.designer)==null?void 0:_b2.samples,this.scheduling=Object.cloneDeep(template.scheduling??DEFAULT_SCHEDULING),this.language=template.languageCode,this.controller=Object.cloneDeep(template.controller),this.privateValues=Object.cloneDeep(template.privateValues),this.name=((_c2=template.controller.metadata)==null?void 0:_c2.name)??"",this.description=((_d2=template.controller.metadata)==null?void 0:_d2.description)??"",(_e2=this.controller).fields??(_e2.fields={}),(_f2=this.controller).metadata??(_f2.metadata={name:"",description:""}),this.notes==((_h2=(_g2=template.blueprint.metadata)==null?void 0:_g2.designer)==null?void 0:_h2.notes),this.samples=new Samples((_j2=(_i2=template.blueprint.metadata)==null?void 0:_i2.designer)==null?void 0:_j2.samples),this.instant=(template.blueprint.metadata!=null?template.blueprint.metadata.instant:void 0)??!1,(_l=(_k=this._loadedBlueprint.metadata)==null?void 0:_k.designer)==null||delete _l.samples,callback(null,template.blueprint.flow??[])})}reset(blueprint=null,scheduling=null){return debug("reseting template"),scheduling??(scheduling=this._loadedScheduling??DEFAULT_SCHEDULING),this.scheduling=Object.cloneDeep(scheduling),this.controller=blueprint?Object.cloneDeep({...EMPTY_CONTROLLER,metadata:this.controller.metadata}):Object.cloneDeep({...this._loadedController,metadata:this.controller.metadata}),this.privateValues=Object.cloneDeep(this._loadedPrivateValues),this.description=this._loadedController.description??"",this.samples=new Samples(this._loadedSamples),blueprint||this._loadedBlueprint}save(automatic,callback){if(typeof automatic=="function"&&(callback=automatic,automatic=!1),automatic)return setImmediate(()=>callback(null,!1));const cfg=this.toJSON();if(this._saving)return;this._saving=!0,cfg.metadata.designer.samples=this.samples.toJSON();const method=this.id?"PUT":"POST",url=`templates/v2/team${this.id?`/${this.id}`:""}`,controller=this.toJSONController();this.privateValuesCleanUp();const opt={method,data:{blueprint:cfg,controller,scheduling:this.scheduling,teamId:imt.team.id,authorId:imt.user.id,visibility:"team",languageCode:this.language,name:{en:this.controller.metadata.name},description:{en:this.controller.metadata.description},usedPackages:[],privateValues:this.privateValues,createdAt:new Date,deleted:!1,usage:9e3},requestId:this.id?"template.patch_template":"template.create_template"};return Loader.api(url,opt,(err,data2)=>{var _a2,_b2;if(this._saving=!1,err)return callback(err);const{template}=data2;if(!this.id){this.id=template.id;const data22={template:{id:template.id},company:{id:imt.team.id},team:{id:imt.team.id}};(_a2=sim("#scenarioswitch"))==null||_a2.removeClass("disabled"),sim("[data-post-save]").each(function(){const attrs=this.data("post-save").split(",");for(var attr of attrs)this.attr(attr,this.attr(attr).format(data22));return this.is("@remote-table")&&this.load(),null})}return this.name=template.name.en,this._loadedBlueprint=cfg,this._loadedScheduling=Object.cloneDeep(this.scheduling),this._loadedController=Object.cloneDeep(this.controller),this._loadedSamples=cfg.metadata.designer.samples,delete cfg.metadata.designer.samples,(_b2=Inspector==null?void 0:Inspector.instance)==null||_b2.emit("template_saved"),callback(null)})}toJSON(test=!1,single=null){const json=super.toJSON(test);return delete json.description,delete json.metadata.scenario.id,test&&this.id&&(json.metadata.template={id:this.id},json.metadata.templateVersion=2),single&&(json.flow=[single.toJSON(!0,!0)]),json}toJSONController(){return this.controllerCleanUp(this.toJSON()),Object.cloneDeep(this.controller)}instructionsToType(instructions){const type=instructions==null?void 0:instructions.type;if(!type)return null;let normalizedType="field";return type.startsWith("account:")?normalizedType="account":type.startsWith("keychain:")?normalizedType="key":type.startsWith("hook:")&&(normalizedType="hook"),normalizedType}getFieldTree(f2,{includeHidden}={}){const selector=includeHidden?"[field]":"[field]:not(.d-none)",getNestedFields=(fields,forceParent=null,nesting=0,fragmentChild=null)=>{let nestingSelector=`${selector}:not(imt-input-collection) `;for(let i2=-1;i2<nesting;i2++)nestingSelector+="[field] ";return Array.from(fields).filter(field=>!field.closest(nestingSelector)).map(field=>{var _a2,_b2,_c2,_d2,_e2;const type=this.instructionsToType(field._instructions);let updatedForceParent=forceParent;(type==="account"||type==="key"||type==="hook")&&(updatedForceParent=field);const options=field.options,fragment=options&&(options.find&&options.find(option=>option.nested)||((_a2=options.store)==null?void 0:_a2.find)&&options.store.find(option=>option.nested)||((_b2=options.store)==null?void 0:_b2.startsWith)&&options.store.startsWith("rpc://"))||((_e2=(_d2=(_c2=field._instructions)==null?void 0:_c2.options)==null?void 0:_d2.nested)==null?void 0:_e2.startsWith)&&field._instructions.options.nested.startsWith("rpc://")?field:null;return{elem:field,fragment,annotator:field.annotator,fragmentChild,forceParent:field===updatedForceParent?null:updatedForceParent,fields:getNestedFields(field.querySelectorAll("[field]"),updatedForceParent,nesting+1,fragment||fragmentChild)}})};return getNestedFields(f2.querySelectorAll(`${selector}:not(imt-input-collection)`))}getTreeField(f2,target,{includeHidden}={}){const fields=this.getFieldTree(f2,{includeHidden}),fieldsReduce=(acc,field)=>acc||(field.elem===target?field:field.fields&&field.fields.length&&field.fields.reduce(fieldsReduce,null)||null);return fields.reduce(fieldsReduce,null)}isAutoSpecAncestor(field){var _a2,_b2,_c2,_d2,_e2;let currentAncestor=(_b2=(_a2=field.closest("imt-panel"))==null?void 0:_a2._relative)==null?void 0:_b2.closest("[field]");for(;currentAncestor;){const type=(_c2=currentAncestor._instructions)==null?void 0:_c2.type;if(type!=null&&type.includes&&type.includes(","))return!0;currentAncestor=(_e2=(_d2=currentAncestor.closest("imt-panel"))==null?void 0:_d2._relative)==null?void 0:_e2.closest("[field]")}return!1}getControllerTargets(controller){const{metadata,version:version2,...allValues}=controller;return Object.values(allValues).map(el=>Object.values(el)).flat().map(el=>el.targets).flat()}privateValuesCleanUp(privateValues=this.privateValues,controller=this.controller){const allUids=[...Object.keys(controller.fields||{}),...Object.keys(controller.accounts||{}),...Object.keys(controller.keys||{}),...Object.keys(controller.hooks||{}),...Object.keys(controller.fragments||{})];this.privateValues=Object.entries(privateValues).reduce((acc,[privateValueKey,privateValue])=>allUids.includes(privateValueKey)?{...acc,[privateValueKey]:privateValue}:acc,{})}controllerCleanUp(blueprint){this.controller=controllerCleanUp(blueprint,this.controller)}}(globalThis.Templater=class Templater2 extends TestableInspector{static initClass(){this.prototype._menu=null}constructor(){var _a2,_b2,_c2,_d2;super(...arguments);const self2=this;Templater2.instance=this,sim(this._surface.canvas).on("click",function(event){if(sim(event.target)===this)return self2.mode="edit"}),this._surface.stage.on("dblclick",coord=>{if(this.mode==="edit")return this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y)).tryAutoConnect()}),this.on("add_placeholder",ph=>{var _a3;const{bounds}=ph;if(sim(window).width()>1200&&(bounds.width+=350),this._surface.camera.ensureVisible(bounds,500),ph.prev===this._start&&this.scenario.instant)return this.scenario.instant=!1,this.scenario.scheduling=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.scenario.getPrevOrDefaultScheduling(),this._start.updateDescription()}),isFeatureOn("new-toolbar",!1)?(this._toolbar.addEventListener("inspector-logs",()=>this._toolbar.switchLogsVisibility("toolbar_button")),this._toolbar.addEventListener("inspector-save",()=>{self2.validate(null,()=>self2.scenario.save(function(err){return err?new Alert(Alert.parseError(err)).show():toaster.show(imt.l("inspector","flashes.templatesaved"))}))}),this._toolbar.addEventListener("inspector-run-once-start",()=>{self2.validate(sim(this),{test:!0},()=>self2.startTest())}),this._toolbar.addEventListener("inspector-run-once-stop",()=>self2.stopTest()),this._toolbar.addEventListener("inspector-run-once-force-stop",()=>self2.forceStopTest()),this._toolbar.addEventListener("inspector-template-settings",e2=>{var _a3;if(Panels.one instanceof TemplateSetupPanel)return Panels.one.close();self2._surface.input.focus=null,Panels.one=new TemplateSetupPanel(sim((_a3=e2==null?void 0:e2.detail)==null?void 0:_a3.originalTarget))}),this._toolbar.addEventListener("inspector-autoalign",()=>self2.align()),this._toolbar.addEventListener("inspector-import",()=>self2.importScenario()),((_b2=(_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.root)==null?void 0:_b2.data("oem-template"))==="true"&&(this._toolbar.addEventListener("inspector-scheduling",()=>{if(Panels.one instanceof SchedulingPanel)return Panels.one.close();this._toolbar.registerTrackingEvent(TOOLBAR_IMT_EVENTS.SCHEDULING_OPENED,"toolbar_button"),self2._surface.input.focus=null,Panels.one=new SchedulingPanel(self2._start||this)}),document.addEventListener("scheduling-updated",event=>{this._toolbar.updateSchedulingDescription(),this._toolbar.handleReminderToToggleScenarioOn(event)}),this._toolbar.addEventListener("inspector-export",()=>{let canSave=!1;try{canSave=!!new Blob}catch{}if(!canSave)return new Alert("Your browser doesn't support this feature.").show();const json=self2.scenario.toJSON();json.metadata.zone=imt.zone;const blob=new Blob([JSON.stringify(json,void 0,4)],{type:"application/json; charset=utf-8"});return saveAs(blob,"blueprint.json"),!1}),this._toolbar.addEventListener("inspector-export-controller",()=>{let canSave=!1;try{canSave=!!new Blob}catch{}if(!canSave)return new Alert("Your browser doesn't support this feature.").show();const controller=self2.scenario.toJSONController(),blob=new Blob([JSON.stringify(controller,void 0,4)],{type:"application/json; charset=utf-8"});return saveAs(blob,"controller.json"),!1}))):this._menu.do(function(){const schedulingSettingsBtnAttr="data-imt-btn-scheduling-settings",exportBlueprintBtnAttr="data-imt-btn-export-blueprint",exportControllerBtnAttr="data-imt-btn-export-controller",importBlueprintBtnAttr="data-imt-btn-import-blueprint";return this.prepend(sim.div(".i-inspector-controls",function(){var _a3,_b3;return this.attr("data-testid",TOOLBAR_TEST_IDS.CONTROLS),this.div(".i-inspector-primary",function(){return this.button(".btn.i-inspector-menu-start-test",function(){return this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_RUN_ONCE),this.i(".fal.fa-play"),this.write(imt.l("inspector","buttons.execute")),this.on("click",()=>self2.validate(this,{test:!0},()=>self2.startTest()))}),this.button(".btn.i-inspector-menu-stop-test",function(){return this.i(".fal.fa-stop"),this.write(imt.l("inspector","buttons.stop")),this.on("click",()=>self2.stopTest())}),this.button(".btn.i-inspector-menu-force-stop-test",function(){return this.i(".fal.fa-stop"),this.write(imt.l("inspector","buttons.forcestop")),this.on("click",()=>self2.forceStopTest())})}),((_b3=(_a3=Inspector==null?void 0:Inspector.instance)==null?void 0:_a3.root)==null?void 0:_b3.data("oem-template"))==="true"&&this.div(".i-inspector-scheduling",function(){return self2._schedulingControls=this,this.attr("data-title",imt.l("base","common.scheduling")),this.button(".btn.i-inspector-scheduling-settings.ml-0",function(){return this.attr(schedulingSettingsBtnAttr,""),this.span(".i-inspector-scheduling-settings-label",function(){return this.text(" "),this._refresh=()=>{var _a4,_b4,_c3;if(((_b4=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.scenario)==null?void 0:_b4.scheduling)!=null)return this.text(format(((_c3=Inspector==null?void 0:Inspector.instance)==null?void 0:_c3.scenario.scheduling)||{},"scheduling"))}}),this.prepend(sim.i(".fal.fa-clock")),browser.mouse&&!browser.mobile&&tooltip(imt.l("inspector","panels.scheduling.title")).withPosition("top").withTrigger("hover").toElement(this),inspectorHandlers.bindHandler("click",schedulingSettingsBtnAttr,event=>(event.stopPropagation(),Panels.one instanceof SchedulingPanel?Panels.one.close():(self2._surface.input.focus=null,Panels.one=new SchedulingPanel(self2._start||this),this.blur())))})}),this.div(".i-inspector-general",function(){return self2._controls=this,this.attr("data-title","Controls"),this.button(".btn.i-inspector-general-save",function(){return this.i(".fal.fa-save"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SAVE),browser.mouse&&tooltip(imt.l("base","common.save")).withPosition("top").withTrigger("hover").toElement(this),this.on("click",()=>(self2.emit("scenario_save"),self2.validate(this,()=>self2.scenario.save(function(err){return err?new Alert(Alert.parseError(err)).show():toaster.show(imt.l("inspector","flashes.templatesaved"))}))))}),this.button(".btn.i-inspector-general-settings",function(){this.i(".fal.fa-cog"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_SETTINGS),browser.mouse&&tooltip(imt.l("inspector","buttons.templatesetup")).withPosition("top").withTrigger("hover").toElement(this);let panel=null;return this.on("click",()=>{if(panel!=null){panel._close(),panel=null;return}return panel=new TemplateSetupPanel(this),panel.on("destroy",()=>panel=null)})}),this.button(".btn.i-inspector-general-autoalign",function(){return this.i(".fal.fa-wand-magic-sparkles"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_ALIGN),browser.mouse&&tooltip(imt.l("inspector","buttons.autoalign")).withPosition("top").withTrigger("hover").toElement(this),this.on("click",()=>self2.align())}),this.button(".btn.dropdown-toggle",function(){this.i(".fal.fa-ellipsis-h"),this.data("toggle","dropdown"),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_MORE),browser.mouse&&!browser.mobile&&tooltip(imt.l("base","common.more")).withPosition("top").withTrigger("hover").toElement(this)}),this.div(".dropdown-menu.dropdown-menu-right",function(){var _a4,_b4;this.button(".i-inspector-general-import.dropdown-item",function(){return this.attr(importBlueprintBtnAttr,""),this.text("Import blueprint"),this.prepend(sim.i(".fal.fa-fw.fa-upload.mr-2")),inspectorHandlers.bindHandler("click",importBlueprintBtnAttr,event=>{event.stopPropagation(),self2.importScenario(event)})}),((_b4=(_a4=Inspector==null?void 0:Inspector.instance)==null?void 0:_a4.root)==null?void 0:_b4.data("oem-template"))==="true"&&(this.button(".i-inspector-general-export.dropdown-item",function(){this.attr(exportBlueprintBtnAttr,""),this.attr("data-testid",TOOLBAR_TEST_IDS.BTN_EXPORT);let canSave=!1;try{canSave=!!new Blob}catch{}return canSave?(this.text("Export blueprint"),this.prepend(sim.i(".fal.fa-fw.fa-download.mr-2")),inspectorHandlers.bindHandler("click",exportBlueprintBtnAttr,event=>{const json=self2.scenario.toJSON();json.metadata.zone=imt.zone;const blob=new Blob([JSON.stringify(json,void 0,4)],{type:"application/json; charset=utf-8"});return saveAs(blob,"blueprint.json"),!1})):new Alert("Your browser doesn't support this feature.").show()}),this.button(".i-inspector-general-export.dropdown-item",function(){this.attr(exportControllerBtnAttr,"");let canSave=!1;try{canSave=!!new Blob}catch{}return canSave?(this.text("Export Controller"),this.prepend(sim.i(".fal.fa-fw.fa-download.mr-2")),inspectorHandlers.bindHandler("click",exportControllerBtnAttr,event=>{const json=self2.scenario.toJSONController(),blob=new Blob([JSON.stringify(json,void 0,4)],{type:"application/json; charset=utf-8"});return saveAs(blob,"controller.json"),!1})):new Alert("Your browser doesn't support this feature.").show()}))})}),this.div(".i-inspector-tools",function(){return self2._tools=this,this.attr("data-title",imt.l("inspector","common.tools")),this.attr("data-testid",TOOLBAR_TEST_IDS.TOOLS)}),this.div(".i-inspector-favorites",function(){return self2._favorites=this,this.attr("data-title",imt.l("inspector","common.favorites")),this.attr("data-testid",TOOLBAR_TEST_IDS.FAVORITES)})}))}),this.scenario=((_d2=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.root)==null?void 0:_d2.data("oem-template"))==="true"?new TemplateV2:new Template;const id=parseInt(this.root.data("template")),scenario=parseInt(this.root.data("scenario"));id||(this.mode="edit"),this.on("title_edit_end",()=>{var _a3;if(this.scenario.name=this._title.text(),document.title=`${this._title.text()} | ${(_a3=imt.brand)==null?void 0:_a3.title}`,!!this.scenario.id)return Loader.api(`templates/${this.scenario.id}`,{method:"PATCH",data:{name:this.scenario.name},requestId:"templater.patch_template"},function(err,success){if(err)return new Alert(Alert.parseError(err)).show()})}),this.loading=!0,this.loadDependencies(["builtin","util"],err=>{var _a3;if(err)return new Alert(Alert.parseError(err)).show();if(id&&!isNaN(id))return this.scenario.load(id,(err2,flow2)=>{var _a4;return err2?new Alert(Alert.parseError(err2)).show():(this.log(imt.l("inspector","flashes.templateloaded")),this.build(flow2,(_a4=this.scenario._loadedBlueprint.metadata)==null?void 0:_a4.designer,err3=>err3?new Alert(Alert.parseError(err3)).show():(this.buildFavorites(),this._surface.camera.makeVisibleInFOV(this._calculateFOV(),0),this.loading=!1)))});if(scenario&&!isNaN(scenario))return this.scenario=Template.fromScenario(scenario,(err2,flow2)=>{var _a4;return err2?new Alert(Alert.parseError(err2)).show():(this.log(imt.l("inspector","flashes.scenarioloaded")),this.build(flow2,(_a4=this.scenario._loadedBlueprint.metadata)==null?void 0:_a4.designer,err3=>err3?new Alert(Alert.parseError(err3)).show():(this.buildFavorites(),this._surface.camera.makeVisibleInFOV(null,0),this.loading=!1)))});{this.scenario.company=(_a3=imt.team)==null?void 0:_a3.id,this.loading=!1,this.scenario.name=imt.l("inspector","template.new");const ph1=new Placeholder(-150,0);return this._surface.stage.attach(ph1),this._start=new Scheduling(-400,0),this._surface.stage.attach(this._start),this._surface.stage.attach(new Link(this._start,ph1)),this.built=!0,this.align(!1),this.buildFavorites()}})}_exit(resolve){if(this.mode==="test"&&this.stopTest(),this.scenario.changed||this.hasUnsavedChanges)if(resolve){this._surface.input.focus=null;const p2=new Prompt(`${imt.l("inspector","template.changed")} ${imt.l("inspector","common.confirmexit")}`);p2._yes.text(imt.l("inspector","common.closenosave")),p2._close.text(imt.l("base","common.cancel")),p2.show(result=>result?this.scenario.id?this.reset(this.scenario.reset(),()=>resolve(!0)):resolve(!0,"templates"):resolve(!1))}else return imt.l("inspector","template.changed");else resolve==null||resolve(!0)}importScenario(){var _a2;const self2=this;(_a2=Panels.one)==null||_a2.close();const panel=Panels.one=new Panel;panel.title="Import Blueprint",panel.loading=!0;const form=new Formula("ImportBlueprint");return form.config=[{name:"blueprint",type:"upload",accept:"application/json",label:"Blueprint JSON"}],form.build(function(){sim.button(".btn.btn-primary",function(){this.attr("type","button"),this.text(imt.l("base","common.save")),this.appendTo(panel._footer),this.on("click",function(){if(form.isValid()){panel.loading=!0;const reader=new FileReader;reader.onload=function(e2){let displayErr;try{self2.reset(self2.scenario.reset(JSON.parse(e2.target.result)),function(){self2._surface.camera.makeVisibleInFOV(self2._calculateFOV()),toaster.show("Blueprint was imported. Don't forget to set up the scheduling!");const moduleIds=self2.findObject("module").map(node2=>node2.id).filter(num=>!isNaN(num)),maxID=1+Math.max.apply(null,moduleIds);self2.scenario.idSequence<maxID&&(self2.scenario.idSequence=maxID)}),panel.emit("save"),panel.close()}catch(ex){switch(!0){case ex instanceof ScenarioFeatureError:displayErr=new Error(ex.toString());break;default:displayErr=new Error("Invalid blueprint.");break}panel.warn(displayErr,form)}};try{reader.readAsText(form.toJSON().blueprint[0])}catch{panel.warn(new Error("Invalid blueprint."),form)}}return!1})}),panel.content=form,panel.loading=!1}),!1}createContextMenu(target,coord){var _a2;if(target)return(_a2=target.createContextMenu)==null?void 0:_a2.call(target);const menu=[];return this.mode==="edit"&&menu.push({label:imt.l("inspector","buttons.addmodule"),icon:"plus",click:()=>this.addPlaceholder(coord.translate(-this._surface.stage.x,-this._surface.stage.y)).tryAutoConnect()}),menu}startTest(singleModule){return this.toggleLog(!0),this.scenario.save(this.scenario.id??{true:!1},(err,saved)=>{if(err)return new Alert(Alert.parseError(err)).show();if(saved&&toaster.show(imt.l("inspector","flashes.conceptsaved")),singleModule){const options={scenario:{id:this.scenario.id},runSingle:{wrapper:{}}};return Templater2.prototype.__proto__.startTest.call(this,imt.team.id,this.scenario.toJSON(!0,singleModule),this.scenario.scheduling,null,options,!1,!1)}else return Templater2.prototype.__proto__.startTest.call(this,imt.team.id,this.scenario.toJSON(!0),this.scenario.scheduling)})}}).initClass();class KeychainPanel extends Panel{constructor(...args){super(args.shift()),this.help="kb://connections/keys",this.offsetX=5,this.expandable=!0,this[args.shift()??"browse"].apply(this,args)}create(type="",company,into){return this.loading=!0,this.title=imt.l("inspector","panels.keychain.create"),Loader.api("keys/types",(err,keys2)=>{let key;if(err)return this.warn(`${err.detail||err.message}`);this.loading=!1;const self2=this;this._createkey=sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.keychain.create")),this.appendTo(self2._footer)});const options=[],params=[{name:"imtKeyTypeName",label:imt.l("inspector","panels.keychain.type"),type:"select",required:!0,visible:!type,options}],values={imtKeyTypeName:type};for(key of keys2){var nested=key.parameters.clone();nested.unshift({type:"text",name:"imtKeyName",label:imt.l("inspector","panels.keychain.name"),required:!0,default:`My ${key.label??key.name} key`}),options.push({value:key.name,label:key.label??key.name,nested})}const form=new Formula("Keychain");return form.config=params,form.values=values,form.build(err2=>err2?this.warn(`- ${err2.detail||err2.message}`):(this.content=form,this.emit("load"))),this._createkey.on("click",()=>{if(form.isValid()){const data2=form.toJSON();return data2.imtKeyTeamId=company,this.content=null,this.loading=!0,this.status=imt.l("inspector","panels.keychain.creating"),Loader.api("imt-forms/keys",{method:"POST",data:data2},(err2,resp)=>{const keyid=resp.key.id;return err2?this.warn(err2,form):keyid<=0?this.warn(imt.l("inspector","panels.keychain.createfailed"),form):(this.loading=!1,into?(into.addOption({label:data2.imtKeyName,value:keyid},!0),this.close()):this.browse())})}}),this.once("destroy",()=>form.destroy())})}}Inspector.KeychainPanel=KeychainPanel,globalThis.SchedulingPanel=class extends Panel{constructor(relative,activateOnSave=!1,callback,clickFrom){super(relative);const self2=this;self2.isPanelMenuVisible=!1;let hasBetweenSpecified=!1;const values=Object.cloneDeep(__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x2=>x2.scenario.scheduling));values.between!=null&&(hasBetweenSpecified=!0,values.start=values.between[0],values.end=values.between[1],delete values.between),values.restrict!=null&&values.restrict.length&&(values.restrict=values.restrict.map(function(item){return item==null?null:(item.time&&(item.time_from=item.time[0],item.time_to=item.time[1],delete item.time),item)})),values.interval!=null&&(values.interval=Math.floor(parseInt(values.interval)/60),isNaN(values.interval)&&(values.interval=void 0)),relative instanceof Scheduling?this.offsetX=relative.width*.6/window.devicePixelRatio:this.offsetX=8,this.help="kb://scenarios/scheduling-a-scenario",this.loading=!0;const schedulingPanelSpec=[{name:"type",label:imt.l("inspector","panels.scheduling.schedule"),type:"select",default:"indefinitely",required:!0,options:[{label:imt.l("inspector","panels.scheduling.indefinitely"),value:"indefinitely",nested:[{name:"interval",label:imt.l("inspector","panels.scheduling.interval.label"),type:"uinteger",default:15,required:!0,help:imt.l("inspector","panels.scheduling.interval.help"),validate:{min:imt.organization.license.interval||1}},{name:"restrict",label:imt.l("inspector","panels.scheduling.restrict.label"),help:imt.l("inspector","panels.scheduling.restrict.help"),type:"array",visualize(item){const days=(item.days||[]).map(function(day){switch(day){case 0:return imt.l("base","time.sunday");case 1:return imt.l("base","time.monday");case 2:return imt.l("base","time.tuesday");case 3:return imt.l("base","time.wednesday");case 4:return imt.l("base","time.thursday");case 5:return imt.l("base","time.friday");case 6:return imt.l("base","time.saturday")}}),months=(item.months||[]).map(function(month){switch(month){case 1:return imt.l("base","time.january");case 2:return imt.l("base","time.february");case 3:return imt.l("base","time.march");case 4:return imt.l("base","time.april");case 5:return imt.l("base","time.may");case 6:return imt.l("base","time.june");case 7:return imt.l("base","time.july");case 8:return imt.l("base","time.august");case 9:return imt.l("base","time.september");case 10:return imt.l("base","time.october");case 11:return imt.l("base","time.november");case 12:return imt.l("base","time.december")}});return{time_from:item.time_from?moment(item.time_from,"HH:mm").format("LT"):"",time_to:item.time_to?moment(item.time_to,"HH:mm").format("LT"):"",days:days.join(", "),months:months.join(", ")}},spec:[{name:"time_from",label:imt.l("inspector","panels.scheduling.time_from"),type:"time"},{name:"time_to",label:imt.l("inspector","panels.scheduling.time_to"),type:"time"},{name:"days",label:imt.l("inspector","panels.scheduling.days"),type:"select",multiple:!0,options:[{label:imt.l("base","time.monday"),value:1},{label:imt.l("base","time.tuesday"),value:2},{label:imt.l("base","time.wednesday"),value:3},{label:imt.l("base","time.thursday"),value:4},{label:imt.l("base","time.friday"),value:5},{label:imt.l("base","time.saturday"),value:6},{label:imt.l("base","time.sunday"),value:0}]},{name:"months",label:imt.l("inspector","panels.scheduling.months"),type:"select",multiple:!0,options:[{label:imt.l("base","time.january"),value:1},{label:imt.l("base","time.february"),value:2},{label:imt.l("base","time.march"),value:3},{label:imt.l("base","time.april"),value:4},{label:imt.l("base","time.may"),value:5},{label:imt.l("base","time.june"),value:6},{label:imt.l("base","time.july"),value:7},{label:imt.l("base","time.august"),value:8},{label:imt.l("base","time.september"),value:9},{label:imt.l("base","time.october"),value:10},{label:imt.l("base","time.november"),value:11},{label:imt.l("base","time.december"),value:12}]}]},{name:"start",label:imt.l("inspector","panels.scheduling.start.label"),type:"date",help:imt.l("inspector","panels.scheduling.start.help"),advanced:!0},{name:"end",label:imt.l("inspector","panels.scheduling.end.label"),type:"date",help:imt.l("inspector","panels.scheduling.end.help"),advanced:!0}]},{label:imt.l("inspector","panels.scheduling.once"),value:"once",nested:[{name:"date",label:imt.l("inspector","panels.scheduling.date"),type:"date",required:!0,default:moment().add(1,"day").toISOString(),validate:{past:!1}}]},{label:imt.l("inspector","panels.scheduling.daily"),value:"daily",nested:[{name:"time",label:imt.l("inspector","panels.scheduling.time"),type:"time",required:!0,default:moment().format("HH:mm")},{name:"start",label:imt.l("inspector","panels.scheduling.start.label"),type:"date",help:imt.l("inspector","panels.scheduling.start.help"),advanced:!0},{name:"end",label:imt.l("inspector","panels.scheduling.end.label"),type:"date",help:imt.l("inspector","panels.scheduling.end.help"),advanced:!0}]},{label:imt.l("inspector","panels.scheduling.weekly"),value:"weekly",nested:[{name:"days",label:imt.l("inspector","panels.scheduling.days"),type:"select",multiple:!0,required:!0,options:[{label:imt.l("base","time.monday"),value:1},{label:imt.l("base","time.tuesday"),value:2},{label:imt.l("base","time.wednesday"),value:3},{label:imt.l("base","time.thursday"),value:4},{label:imt.l("base","time.friday"),value:5},{label:imt.l("base","time.saturday"),value:6},{label:imt.l("base","time.sunday"),value:0}]},{name:"time",label:imt.l("inspector","panels.scheduling.time"),type:"time",required:!0,default:moment().format("HH:mm")},{name:"start",label:imt.l("inspector","panels.scheduling.start.label"),type:"date",help:imt.l("inspector","panels.scheduling.start.help"),advanced:!0},{name:"end",label:imt.l("inspector","panels.scheduling.end.label"),type:"date",help:imt.l("inspector","panels.scheduling.end.help"),advanced:!0}]},{label:imt.l("inspector","panels.scheduling.monthly"),value:"monthly",nested:[{name:"days",label:imt.l("inspector","panels.scheduling.days"),type:"select",multiple:!0,required:!0,options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"11",value:11},{label:"12",value:12},{label:"13",value:13},{label:"14",value:14},{label:"15",value:15},{label:"16",value:16},{label:"17",value:17},{label:"18",value:18},{label:"19",value:19},{label:"20",value:20},{label:"21",value:21},{label:"22",value:22},{label:"23",value:23},{label:"24",value:24},{label:"25",value:25},{label:"26",value:26},{label:"27",value:27},{label:"28",value:28},{label:"29",value:29},{label:"30",value:30},{label:"31",value:31}]},{name:"time",label:imt.l("inspector","panels.scheduling.time"),type:"time",required:!0,default:moment().format("HH:mm")},{name:"start",label:imt.l("inspector","panels.scheduling.start.label"),type:"date",help:imt.l("inspector","panels.scheduling.start.help"),advanced:!0},{name:"end",label:imt.l("inspector","panels.scheduling.end.label"),type:"date",help:imt.l("inspector","panels.scheduling.end.help"),advanced:!0}]},{label:imt.l("inspector","panels.scheduling.yearly"),value:"yearly",nested:[{name:"months",label:imt.l("inspector","panels.scheduling.months"),type:"select",multiple:!0,required:!0,options:[{label:imt.l("base","time.january"),value:1},{label:imt.l("base","time.february"),value:2},{label:imt.l("base","time.march"),value:3},{label:imt.l("base","time.april"),value:4},{label:imt.l("base","time.may"),value:5},{label:imt.l("base","time.june"),value:6},{label:imt.l("base","time.july"),value:7},{label:imt.l("base","time.august"),value:8},{label:imt.l("base","time.september"),value:9},{label:imt.l("base","time.october"),value:10},{label:imt.l("base","time.november"),value:11},{label:imt.l("base","time.december"),value:12}]},{name:"days",label:imt.l("inspector","panels.scheduling.days"),type:"select",multiple:!0,required:!0,options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"11",value:11},{label:"12",value:12},{label:"13",value:13},{label:"14",value:14},{label:"15",value:15},{label:"16",value:16},{label:"17",value:17},{label:"18",value:18},{label:"19",value:19},{label:"20",value:20},{label:"21",value:21},{label:"22",value:22},{label:"23",value:23},{label:"24",value:24},{label:"25",value:25},{label:"26",value:26},{label:"27",value:27},{label:"28",value:28},{label:"29",value:29},{label:"30",value:30},{label:"31",value:31}]},{name:"time",label:imt.l("inspector","panels.scheduling.time"),type:"time",required:!0,default:moment().format("HH:mm")},{name:"start",label:imt.l("inspector","panels.scheduling.start.label"),type:"date",help:imt.l("inspector","panels.scheduling.start.help"),advanced:!0},{name:"end",label:imt.l("inspector","panels.scheduling.end.label"),type:"date",help:imt.l("inspector","panels.scheduling.end.help"),advanced:!0}]}]}];imt.features.scenarioInputs&&imt.organization.license.onDemandScheduling&&schedulingPanelSpec[0].options.push({label:imt.l("inspector","panels.scheduling.ondemand"),value:"on-demand"}),__guard__$1(__guard__$1(__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3._start.next),x2=>x2.config),x1=>x1.listener)===!0&&schedulingPanelSpec[0].options.unshift({label:imt.l("inspector","panels.scheduling.immediately"),value:"immediately"}),this._form=new Formula("Scheduling"),this._form.on("resize",this._resize),this._form.config=schedulingPanelSpec,this._form.values=values,this._form.options={timezone:imt.organization.timezone},self2._advancedSwitch=sim.label(".i-advanced-parameters.d-flex.align-items-center",function(){if(this.div(".switch.switch-xs.mr-2",function(){if(this.switch(),this.on("change",()=>self2._form.advancedParametersVisible=this.data("status")==="on"),hasBetweenSpecified)return self2._form.advancedParametersVisible=!0,this.data("status","on").addClass("active")}),this.write(imt.l("inspector","common.showadvanced")),self2._form.built)return this.addClass("i-yellow-fade"),delay(3e3,()=>this.removeClass("i-yellow-fade"))}),this._form.on("advanced_parameters_change",function(e2){return e2.detail?self2._advancedSwitch.prependTo(self2._footer):self2._advancedSwitch.remove()}),this._form.build(err=>{if(err)return new Alert(Alert.parseError(err)).show();if(this._destroyed)return;this._form.readonly=(imt.team!=null?imt.team.scenarioDrafts:void 0)&&relative&&__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x4=>x4.mode)!=="live";const openedFromPublish=(imt.team!=null?imt.team.scenarioDrafts:void 0)&&__guardMethod__(relative,"hasClass",o2=>o2.hasClass("i-inspector-drafts-publish"))&&__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x5=>x5.mode)==="edit";return openedFromPublish&&(this._form.readonly=!1),this.title=imt.l("inspector","panels.scheduling.title"),sim.button(".btn.btn-outline-secondary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("base","common.cancel")),this.appendTo(self2._footer),this.on("click",()=>{if(self2.close(),clickFrom==="toggle")return document.dispatchEvent(new CustomEvent("inspector-switch-toggle"),{bubbles:!0})})}),this._form.readonly||sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(activateOnSave?imt.l("inspector","buttons.activate"):openedFromPublish?imt.l("inspector","buttons.publish"):imt.l("base","common.ok")),this.appendTo(self2._footer),this.on("click",function(){let scheduleConfig;if(self2._form.isValid()){const scheduling=self2._form.toJSON();scheduleConfig={};const scheduleType=(()=>{switch(scheduling!=null?scheduling.type:void 0){case"indefinitely":return scheduleConfig={minutes:scheduling!=null?scheduling.interval:void 0},"at_regular_interval";case"once":return scheduleConfig={date:scheduling!=null?scheduling.date:void 0},scheduling.type;case"daily":return scheduleConfig={time:scheduling!=null?scheduling.time:void 0},"everyday";case"weekly":return scheduleConfig={days:scheduling!=null?scheduling.days:void 0,time:scheduling!=null?scheduling.time:void 0},"days_of_the_week";case"monthly":return scheduleConfig={days:scheduling!=null?scheduling.days:void 0,time:scheduling!=null?scheduling.time:void 0},"days_of_the_month";case"yearly":return scheduleConfig={months:scheduling!=null?scheduling.months:void 0,days:scheduling!=null?scheduling.days:void 0,time:scheduling!=null?scheduling.time:void 0},"specified_date"}})();return document.dispatchEvent(new CustomEvent("scheduling-updated"),{bubbles:!0}),imtEvents.dispatch("scenario.schedule_updated",{isActiveScenario:__guard__$1(typeof globalThis<"u"&&globalThis!==null?globalThis.activeScenario:void 0,x6=>x6.isActive),scheduleType,scheduleConfig,scenarioId:__guard__$1(__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x8=>x8.scenario),x7=>x7.id),scenarioName:__guard__$1(__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x10=>x10.scenario),x9=>x9.name)}),(scheduling.start||scheduling.end)&&(scheduling.between=[scheduling.start??null,scheduling.end??null]),scheduling.interval!=null&&(scheduling.interval=parseInt(scheduling.interval)*60,isNaN(scheduling.interval)&&(scheduling.interval=void 0)),delete scheduling.start,delete scheduling.end,scheduling.restrict!=null&&scheduling.restrict.length?scheduling.restrict=scheduling.restrict.map(function(item){return(item.time_from||item.time_to)&&(item.time=[item.time_from,item.time_to]),delete item.time_from,delete item.time_to,item}):scheduling.restrict=void 0,callback?(callback(null,scheduling),self2.close()):(relative instanceof Scheduling||relative!=null&&relative.hasClass("i-inspector-scheduling-settings")||relative!=null&&relative.hasClass("i-inspector-ems-scheduling"))&&!(imt.team!=null&&imt.team.scenarioDrafts)?(__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x11=>x11.scenario.scheduling=scheduling),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x12=>x12.scenario.instant=scheduling.type==="immediately"),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x13=>x13._start.updateDescription()),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x14=>x14._start.askOnActivate=!1),self2.emit("save"),self2.close()):(self2.loading=!0,this.prop("disabled",!0),Loader.api(`scenarios/${__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x15=>x15.scenario.id)}`,{method:"PATCH",data:{scheduling:JSON.stringify(scheduling)},requestId:"scenario_patch"},(err2,directives)=>{if(err2)return this.prop("disabled",!1),self2.warn(err2,self2._form);__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x16=>x16.scenario.scheduling=scheduling),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x17=>x17.scenario.instant=scheduling.type==="immediately"),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x18=>x18.scenario._loadedScheduling=Object.cloneDeep(scheduling)),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x19=>x19.scenario._loadedBlueprint.metadata.instant=__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x20=>x20.scenario.instant)),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x21=>x21.scenario._liveBlueprint)!=null?__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x22=>x22.scenario._liveBlueprint.metadata.instant=__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x23=>x23.scenario.instant)):__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x24=>x24.scenario._draftBlueprint)!=null&&__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x25=>x25.scenario._draftBlueprint.metadata.instant=__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x26=>x26.scenario.instant)),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x27=>x27._start.updateDescription()),__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x28=>x28._start.askOnActivate=!1),self2.emit("save"),self2.close(),toaster.show("Scheduling was saved.")}))}else return callback&&callback(new Error("Form is not valid.")),typeof globalThis.ga=="function"?globalThis.ga("send","event","scenario","schedule",window.location.pathname):void 0})}),this.content=sim.div(function(){if(this.append(self2._form),__guardMethod__(relative,"hasClass",o1=>o1.hasClass("i-inspector-drafts-publish"))&&__guard__$1(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x6=>x6.scenario._liveBlueprint)!=null)return this.prepend(sim.div(".alert.alert-warning").text(imt.l("inspector","panels.scheduling.schedulingtypechange")))}),this.loading=!1,this.emit("load")}),this.on("destroy",()=>this._form.destroy())}};function __guard__$1(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}function __guardMethod__(obj,methodName,transform2){if(typeof obj<"u"&&obj!==null&&typeof obj[methodName]=="function")return transform2(obj,methodName)}class UnprocessedWebhooksPanel extends Panel{constructor(relative,resolve){super(relative);const self2=this;this.loading=!0,this.content=sim.div().text(imt.l("inspector","panels.schedulinghooks.question")),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.schedulinghooks.delete")),this.appendTo(self2._footer),this.on("click",function(event){return resolve(!0),self2.close()})}),sim.button(".btn.btn-primary.btn-sm",function(){return this.attr("type","button"),this.text(imt.l("inspector","panels.schedulinghooks.proceed")),this.appendTo(self2._footer),this.on("click",function(event){return resolve(!1),self2.close()})}),this.loading=!1,this.width(450),this.title=imt.l("base","common.queue")}}/*
	Integromat Inspector

	@license Copyright (c) Integromat - All rights reserved.
	@author Patrik Simek
	*/imt.plugins.push({name:"Inspector"}),SIMElement.prototype.inspector=function(config2={}){if(Inspector.instance!=null)throw new Error("Inspector already exists.");if(!config2.type)if(this.hasClass("i-designer"))config2.type="designer";else if(this.hasClass("i-templater"))config2.type="templater";else if(this.hasClass("i-debugger"))config2.type="debugger";else if(this.hasClass("i-dlq"))config2.type="dlq";else throw new Error("Unknown inspector type.");switch(config2.type){case"designer":new Designer(this);break;case"debugger":new Debugger(this);break;case"dlq":new DLQInspector(this);break;case"templater":new Templater(this);break}return Inspector.instance},SIMArray.prototype.inspector=function(config2){return this.each(function(){return this.inspector(config2)})},sim.ready(()=>__guard__(sim("#scenarioswitch"),x2=>x2.beforeChange=function(swtch){return __guard__(__guard__(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x22=>x22._start),x1=>x1.askOnActivate)?(Panels.one=new SchedulingPanel(null,!0),Panels.one.on("save",function(){return __guard__(typeof Inspector<"u"&&Inspector!==null?Inspector.instance:void 0,x3=>x3._start.askOnActivate=!1),swtch()}),!1):!0})),IML.VARIABLES.executionId={type:"text",group:"general",value(){return""}};function __guard__(value,transform2){return typeof value<"u"&&value!==null?transform2(value):void 0}//    @license Copyright (c) Integromat - All rights reserved.
if(!navigator.userAgent.match(/(Edge|Cypress)/)){let serializeError=function(err){return{name:err.name,message:err.message,stage:err.stack}},parseEvent=function(array2){return array2[0]==="request"?{type:"request",method:array2[1],url:array2[2],headers:array2[3].headers,body:array2[3].body,qs:array2[3].qs}:array2[0]==="response"?{type:"response",status:array2[1],headers:array2[2].headers,body:array2[2].body}:array2[0]==="query"?{type:"query",command:array2[1],input:array2[2]}:array2[0]==="result"?{type:"result",code:String(array2[1]),result:array2[2],output:array2[3]}:array2[0]==="error"?{type:"error",array:array2[1]}:{type:"message",args:array2}},waitForScenario=function(done,iteration=1){var _a2,_b2;if(!Inspector||!Inspector.instance){if(iteration>30)return done(new Error("Failed to connect to inspector in 15 seconds."));setTimeout(waitForScenario,500,done,iteration+1);return}if((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.built)return done();(_b2=Inspector==null?void 0:Inspector.instance)==null||_b2.once("built",()=>done())},blobToBase64=function(blob){return new Promise(resolve=>{const reader=new FileReader;reader.onloadend=()=>resolve(reader.result),reader.readAsDataURL(blob)})},getIconBase64Promise=function(iconSlug,iconCache){if(!iconCache.has(iconSlug)){const iconPromise=getIconBase64(iconSlug);iconCache.set(iconSlug,iconPromise)}return iconCache.get(iconSlug)};class Extercomm extends EventTarget{constructor(){super(),this.settings={},this.resolver={},this.connected=!1,this.connectionId=void 0,document.addEventListener("imt-extercomm-etw-response",e2=>{this.resolver[e2.detail.correlationId](e2.detail.content)}),document.addEventListener("imt-extercomm-etw-request",e2=>{e2.detail.event==="greetings"?(this.connected=!0,this.connectionId=e2.detail.content.cid,this.settings=e2.detail.content.settings,this.respond(e2.detail.correlationId,{hello:!0})):this.dispatchEvent(new CustomEvent(e2.detail.event,{detail:{content:e2.detail.content,correlationId:e2.detail.correlationId}}))})}async send(eventType,content){return this.connected?new Promise(resolve=>{const uuid=this.generateUUID(),request2={event:eventType,content,correlationId:uuid};this.resolver[uuid]=resolve;const event=new CustomEvent("imt-extercomm-wte-request",{detail:request2});document.dispatchEvent(event)}):Promise.reject("Extension is not connected.")}respond(correlationId,content){if(!this.connected)throw new Error("Extension is not connected.");const error=content instanceof Error?serializeError(content):void 0,response={content:error?void 0:content,error,correlationId},event=new CustomEvent("imt-extercomm-wte-response",{detail:response});document.dispatchEvent(event)}generateUUID(){let dt=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c2=>{const r2=(dt+Math.random()*16)%16|0;return dt=Math.floor(dt/16),(c2==="x"?r2:r2&3|8).toString(16)})}on(name,handler){this.addEventListener(name,e2=>{try{handler(e2.detail.content,(err,content)=>{this.respond(e2.detail.correlationId,err||content)})}catch(err){this.respond(e2.detail.correlationId,err)}})}}const extercomm=new Extercomm;async function getIconBase64(iconSlug){const iconBlob=await fetch(iconSlug).then(async data2=>await data2.blob());if(iconBlob.type==="image/png")return await blobToBase64(iconBlob);{const noIconBlob=await fetch("static/img/noicon.png").then(async data2=>await data2.blob());return await blobToBase64(noIconBlob)}}extercomm.on("listModules",(content,callback)=>{waitForScenario(async err=>{var _a2;if(err)return callback(err);const iconCache=new Map,modules=await Promise.all((_a2=Inspector==null?void 0:Inspector.instance)==null?void 0:_a2.findObject("module").map(async module2=>({id:module2.id,name:module2.customTitle||module2.title,packageName:module2.package&&module2.package.name,description:module2.config&&module2.config.label,theme:module2.package&&module2.package.theme&&module2.package.theme.toHex(),icon:module2.package&&module2.package.icon,iconB64:await getIconBase64Promise(module2.icon||"static/img/packages/builtin_256.png",iconCache)})));callback(null,modules)})}),extercomm.on("listModuleCycles",(content,callback)=>{waitForScenario(err=>{var _a2,_b2,_c2;if(err)return callback(err);if(!((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.runtime)||!((_b2=Inspector==null?void 0:Inspector.instance)!=null&&_b2.runtime.roundtrip))return callback(null,[]);const cycles=(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.runtime.roundtrip.map((cycle,index2)=>({label:`Cycle ${index2+1}`,operations:((cycle[content.module]||{}).operations||[]).map((op,index3)=>({label:`Operation ${index3+1}`,duration:0,status:op.status}))}));callback(null,cycles)})}),extercomm.on("listModuleOperationEvents",(content,callback)=>{waitForScenario(err=>{var _a2,_b2,_c2,_d2;if(err)return callback(err);if(!((_a2=Inspector==null?void 0:Inspector.instance)!=null&&_a2.runtime)||!((_b2=Inspector==null?void 0:Inspector.instance)!=null&&_b2.runtime.roundtrip))return callback(null,[]);Loader.streamer(`scenario/${(_c2=Inspector==null?void 0:Inspector.instance)==null?void 0:_c2.scenario.id}/log/${(_d2=Inspector==null?void 0:Inspector.instance)==null?void 0:_d2.runtime.id}/module/${content.module}/debug`,{method:"POST",data:{cycle:content.cycle,operation:content.operation}},(err2,events2)=>{if(err2)return callback(err2);try{callback(null,events2.map(ev=>parseEvent(JSON.parse(ev.data))))}catch(ex){callback(ex)}})})}),extercomm.on("focusModule",(content,callback)=>{waitForScenario(err=>{if(err)return callback(err);const module2=Inspector.seek(content.module);if(!module2)return callback(null,{success:!1});module2.focus(),callback(null,{success:!0})})}),extercomm.on("updateSettings",(content,callback)=>{for(let key in content)extercomm.settings[key]=content[key];callback(null,{success:!0})}),window.IMTDevTool={get connected(){return extercomm.connected},get settings(){return extercomm.settings},focusModule(id,cycle,operation){extercomm.send("focusModule",{module:id,cycle,operation})},pushLiveStreamEvent(event,module2,theme){extercomm.send("pushLiveStreamEvent",{module:module2,theme,payload:parseEvent(event)})}},extercomm.on("loadApps",async(content,callback)=>{const url=new URL(`${imt.apiurl}/imt/apps?organizationId=${imt.organization.id}`,window.location.origin),response=await fetch(url,{method:"GET",headers:{}});if(response.ok){const parsedResponse=await response.json();return callback(null,{code:"OK",apps:parsedResponse.apps})}else return callback(response.error)})}const HEADER_HEIGHT=40,CELL_SPACING=2;class VisualizerTable extends SIMElement{static initClass(){this.prototype._thead=null,this.prototype._tbody=null}constructor(){super("div"),this.addClass("v-table"),this._thead=new VisualizerTHead(this),this._tbody=new VisualizerTBody(this)}empty(){return this._tbody.empty(),this}tbody(props,next){return typeof props=="function"&&(next=props),next==null||next.call(this._tbody),this._tbody}thead(props,next){return typeof props=="function"&&(next=props),next==null||next.call(this._thead),this._thead}render(){var _a2;let index2,i2;const ths=this._thead.find(".v-th"),trs=this._tbody.children(".v-tr"),width=this.width(),available=width-(ths.length+1)*CELL_SPACING;let empty=0,consumed=0,w2=ths.map(function(th2){let num=parseFloat(th2.data("width"));return num?(consumed+=num=num/100*available,num):(empty++,th2)});w2=w2.map(function(th2){if(typeof th2=="number")return th2;const num=100/empty;return th2.data("width",num),num/100*(available-consumed)});let x2=CELL_SPACING,y2=0,fw=0;for(index2=0;index2<ths.length;index2++){var th=ths[index2];th.css({width:`${w2[index2]}px`,left:`${x2}px`}),x2+=w2[index2]+CELL_SPACING,fw=x2,index2+1===ths.length&&width-x2>0&&(th.css("width",`${w2[index2]+(width-x2)}px`),fw+=width-x2),(_a2=th.next(".v-resizer"))==null||_a2.css({left:`${x2-8}px`})}for(this._thead.children(".v-tr").css({width:`${fw}px`,height:`${HEADER_HEIGHT}px`}),i2=0,index2=i2;i2<trs.length;i2++,index2=i2){var td,tr=trs[index2];tr.css({width:`${fw}px`,top:`${y2}px`}),x2=0;var mh=0,iterable=tr.children(".v-td");for(index2=0;index2<iterable.length;index2++)td=iterable[index2],td.css({width:`${w2[index2]}px`,minWidth:`${w2[index2]}px`,minHeight:"30px",left:`${x2}px`}),x2+=w2[index2]+CELL_SPACING,index2+1===ths.length&&width-x2>0&&td.css({width:`${w2[index2]+(width-x2)}px`,minWidth:`${w2[index2]+(width-x2)}px`}),mh=Math.max(mh,td.height());for(td of tr.children(".v-td"))td.css("minHeight",mh);mh!==0&&(y2+=mh+CELL_SPACING)}return this._tbody.css({width:`${fw}px`,height:`${y2}px`})}th(){return this._thead.tr().th(...arguments)}}VisualizerTable.initClass();class VisualizerTHead extends SIMElement{constructor(){super("div",...arguments),this.addClass("v-thead"),this.on("scroll",function(event){return this.parent()._tbody.scrollLeft()!==this.scrollLeft()&&(this.parent()._tbody.__dom.scrollLeft=this.scrollLeft()),!0})}tr(props,next){return this._tr?(typeof props=="function"&&(next=props),next==null||next.call(this._tr),this._tr):(this._tr=new VisualizerTR(this,...arguments),this._tr)}}class VisualizerTBody extends SIMElement{constructor(){super("div",...arguments),this.addClass("v-scroll"),this._tbody=this.div(".v-tbody"),this.on("scroll",function(){return this.parent()._thead.scrollLeft()!==this.scrollLeft()&&(this.parent()._thead.__dom.scrollLeft=this.scrollLeft()),!0})}empty(){return this._tbody.empty()}css(){return this._tbody.css(...arguments)}children(){return this._tbody.children(...arguments)}tr(){return new VisualizerTR(this._tbody,...arguments)}}class VisualizerTR extends SIMElement{constructor(){super("div",...arguments),this.addClass("v-tr")}td(){return new VisualizerTD(this,...arguments)}th(){return this.children().length&&this.div(".v-resizer",function(){return this.on("mousedown",function(event){const prev=this.prev(),next=this.next(),left=8+parseFloat(this.css("left")),{pageX}=event,min=parseFloat(prev.css("left")),max=next.width()+parseFloat(next.css("left")),table2=this.closest(".v-table"),amt=parseFloat(prev.data("width"))+parseFloat(next.data("width")),calculate=function(event2){const delta=event2.pageX-pageX,scale=(Math.min(Math.max(min+37,left+delta),max-40)-min)/(max-min);return prev.data("width",scale*amt),next.data("width",(1-scale)*amt),table2.render()};var destroy=function(){return sim(window).off("mousemove",calculate),sim(window).off("mouseup",destroy)};return sim(window).on("mousemove",calculate),sim(window).on("mouseup",destroy),!1})}),new VisualizerTH(this,...arguments)}build(key,data2,columns){const table2=this.closest(".v-table");key instanceof Date&&(key=key.toISOString()),this.empty().td().text(key),this.data("key",key);for(var col of columns)(col2=>this.td(function(){switch(col2.type){case"array":case"collection":return this.visualizer({type:"json",source:data2[col2.name]}).on("resize",table2.render.bind(table2));case"date":return this.text(format(data2[col2.name],"datetime",{timezone:imt.user.timezone}));case"time":return this.text(format(data2[col2.name],"time",{timezone:imt.user.timezone}));case"number":return this.text(format(data2[col2.name]||0,"number"));default:return this.text(data2[col2.name])}}))(col);return this}toStart(){return this.parent().prepend(this),this}}class VisualizerTH extends SIMElement{constructor(){super("div",...arguments),this.addClass("v-th")}}class VisualizerTD extends SIMElement{constructor(){super("div",...arguments),this.addClass("v-td")}}const table=Object.freeze(Object.defineProperty({__proto__:null,VisualizerTBody,VisualizerTD,VisualizerTH,VisualizerTHead,VisualizerTR,VisualizerTable},Symbol.toStringTag,{value:"Module"})),TYPE_ICON={boolean:"toggle-off",text:"align-left",number:"plus",array:"th-list",collection:"cubes",date:"calendar",buffer:"code"};var SAMPLE=function(value){if(value==null)return"";switch(typeof value){case"string":return/^IMTBuffer\((\d+), ([^,]*), ([^,]*)\): ([\s\S]*)$/.exec(value)?RegExp.$4.replace(/(.{2})/g,"$1 "):/^IMTString\((\d+)\): ([\s\S]*)$/.exec(value)?RegExp.$2:value;case"object":return Array.isArray(value)?`[${value.map(item=>SAMPLE(item)).join(", ")}]`:value instanceof Date?format(value,"datetime",{timezone:imt.user.timezone}):"{collection}";default:return String(value)}};class DataStoreVisualizer extends EventEmitter$1{static initClass(){this.prototype.columns=null,this.prototype.strict=null,this.prototype.table=null,this.prototype.offset=0,this.prototype._panel=null,this.prototype._editButton=null,this.prototype._deleteButton=null}constructor(root2,config2={}){super(),this._resize=this._resize.bind(this),this.config=config2;const self2=this;this.config.toolbar.do(function(){return this.div(".btn-group",function(){return this.button(".btn.btn-outline-secondary",function(){return this.i(".far.fa-fw.fa-plus"),this.span("d-none.d-md-inline.ml-2").text(imt.l("base","common.add")),this.on("click",()=>self2.add())}),this.button(".btn.btn-outline-secondary",function(){return self2._editButton=this,this.enabled=!1,this.i(".far.fa-fw.fa-edit"),this.span("d-none.d-md-inline.ml-2").text(imt.l("base","common.edit")),this.on("click",()=>self2.edit(self2.table.find(".v-selected")[0]))}),this.button(".btn.btn-outline-secondary",function(){self2._deleteButton=this,this.enabled=!1,this.i(".far.fa-fw.fa-trash"),this.span("d-none.d-md-inline.ml-2").text(imt.l("base","common.delete"));let rly=!1;const restore=()=>(rly=!1,this.empty().removeClass("btn-danger"),this.i(".far.fa-fw.fa-trash"),this.span("d-none.d-md-inline.ml-2").text(imt.l("base","common.delete")));return this.on("click",function(){if(!rly){rly=!0,delay(5e3,restore),this.empty().addClass("btn-danger"),this.i(".far.fa-fw.fa-trash"),this.span("d-none.d-md-inline.ml-2").text(imt.l("base","remover.really"));return}const recs=self2.table.find(".v-selected");if(recs.length){for(var rec of recs)(rec2=>Loader.api(`data-stores/${self2.config.id}/data/${encodeURIComponent(rec2.data("key"))}`,{method:"DELETE"},function(err,removed){if(imtEvents.dispatch("visualizer.delete",{id:self2.config.id}),self2.decrPg(),!err){self2.offset--,rec2.removeClass("v-selected").fadeOut("fast",function(){return rec2.remove(),self2.table.render()});return}return new Alert(Alert.parseError(err)).show(),rec2.show(),self2.table.render()}))(rec);return restore()}})})})}),sim(window).on("resize",this._resize),this.table=new VisualizerTable().appendTo(root2),this.table.on("click",".v-tr[data-key]",function(event){return event.stopImmediatePropagation(),self2.select(sim(event.target).closest(".v-tr"),!event.shiftKey&&!event.ctrlKey&&!event.metaKey)}),root2.addClass("i-visualizer-datastore").on("click",()=>self2.select()),this.table.on("dblclick",".v-tr[data-key]",function(event){return event.stopPropagation(),self2.edit(sim(event.target).closest(".v-tr"))}),this.load()}destroy(){return sim(window).off("resize",this._resize)}_resize(){return this.table.render()}add(){var _a2;return this._panel?(this._panel.once("destroy",()=>this.add()),(_a2=this._panel)==null?void 0:_a2.close()):(this._panel=new RemoteFormulaPanel(null,{name:"Add record",url:`api://imt-forms/data-stores/${this.config.id}/data/create`,help:"kb://tools/data-stores",expandable:!0,success:result=>{imtEvents.dispatch("visualizer.add",{id:this.config.id}),this.incrPg();const{key}=result,{data:data2}=result;return this.table.tbody().tr().toStart().build(key,data2,this.columns),this.table.render()}}),this._panel.offsetX=5,this._panel.once("destroy",()=>this._panel=null))}edit(rec){var _a2;if(this._panel)return this._panel.once("destroy",()=>this.edit(rec)),(_a2=this._panel)==null?void 0:_a2.close();if(typeof rec=="string"&&(rec=this.table.find(".v-tr").filter(tr=>tr.data("key")===rec)),!!rec)return this._panel=new RemoteFormulaPanel(null,{name:"Edit record",url:`api://imt-forms/data-stores/${this.config.id}/data/update/${encodeURIComponent(rec.data("key"))}`,help:"kb://tools/data-stores",expandable:!0,success:result=>{imtEvents.dispatch("visualizer.edit",{id:this.config.id});const{data:data2}=result;return rec.build(rec.data("key"),data2,this.columns),this.table.render()}}),this._panel.once("destroy",()=>this._panel=null)}load(more=!1){const self2=this,PAGE_SIZE=20,options={method:"GET",data:{pg:{limit:PAGE_SIZE,offset:more?this.offset+PAGE_SIZE:0}}};return this.columns||(options.headers={"x-imt-include-datastore-spec":"yes"}),more||this.emit("reload"),setImmediate(()=>(this.table.render(),Loader.load(`api://data-stores/${this.config.id}/data`,options,(err,data2)=>(this.emit("idle"),err?console.error(err):(this.columns||(this.columns=data2.spec||[],this.strict=data2.strict,this.table.thead().tr(function(){this.th(".v-order",function(){return this.text("Key"),this.prepend(sim.i(".fa.fa-fw.fa-key"))});for(var col of self2.columns)this.th(function(){return this.text(col.label||col.name),this.prepend(sim.i(`.fa.fa-fw.fa-${TYPE_ICON[col.type]}`))});return null})),this.offset=data2.pg.offset,more||this.table.empty(),this.table.tbody(function(){var _a2,_b2,_c2;for(var record of data2.records)self2.table&&((_c2=(_b2=(_a2=self2.table)==null?void 0:_a2.find)==null?void 0:_b2.call(_a2,".v-tr").filter(tr=>tr.data("key")&&tr.data("key")===record.key))!=null&&_c2.length)||this.tr().build(record.key,record.data,self2.columns);if(data2.pg.offset+data2.records.length<data2.count)return this.div(".text-center",function(){return self2.once("idle",()=>this.remove()),this.a(".btn.btn-primary.v-more",function(){this.attr("href","#"),this.text("Load more");let clicked=!1;return this.on("click",()=>(clicked||(clicked=!0,this.empty().i(".far.fa-circle-notch.fa-spin"),self2.load(!0)),!1))})})}),this.savePgState(data2),this.showPg(),this.table.render())))))}savePgState(data2){return this.pg={count:data2.count,offset:data2.pg.offset,records:data2.records.length}}incrPg(){return this.pg.count++,this.pg.records++,this.showPg()}decrPg(){return this.pg.count--,this.pg.records--,this.showPg()}showPg(){var _a2;return(_a2=this.config.pagination)==null?void 0:_a2.text(`${this.pg.count>0?"1 - ":""}${this.pg.offset+this.pg.records} of ${this.pg.count}`)}select(rec,unique=!0){return typeof rec=="string"&&(rec=this.table.find(".v-tr").filter(tr=>tr.data("key")===rec)),unique&&this.table.find(".v-selected").removeClass("v-selected"),rec==null||rec.addClass("v-selected"),this.table.find(".v-selected").length?(this._editButton.enabled=!0,this._deleteButton.enabled=!0):(this._editButton.enabled=!1,this._deleteButton.enabled=!1)}}DataStoreVisualizer.initClass();class IMLVisualizer extends EventEmitter$1{constructor(root2,config2={}){let ast;super(),this.config=config2,typeof this.config.source=="string"?ast=IML.parse(this.config.source):ast=this.config.source,root2.empty().addClass("i-visualizer i-visualizer-iml"),this.root=this._expression(ast,root2)}_expression(ast,parent2){const self2=this;return parent2.span(".v-iml-expression",function(){return(()=>{const result=[];for(var node2 of ast??[])switch(node2.type){case"variable":result.push(this.span(".v-variable",function(){var _a2,_b2,_c2;let label,name;if(/^(\d+)\.(.*)$/.exec(node2.name)){let module2,prefix,theme,type;const id=parseInt(RegExp.$1),variable=RegExp.$2;if(self2.config.pills!=null){const pill=self2.config.pills.getPillByCode(node2.name);module2=pill==null?void 0:pill.node,label=pill==null?void 0:pill.name,theme=pill==null?void 0:pill.theme.toHex(),type=pill==null?void 0:pill.type,prefix=(pill==null?void 0:pill.prefix)||""}else self2.config.surface!=null&&(module2=(_a2=self2.config.surface)==null?void 0:_a2.find(Module).filter(item=>item.id===id)[0],label=(_b2=module2==null?void 0:module2.labels("interface",!1,!1,!0))==null?void 0:_b2[variable],theme=module2==null?void 0:module2.theme.toHex()),prefix="";if(imt.config.showIDs&&module2&&(prefix=`${module2.id}. ${prefix}`),this.text(prefix+(label??variable)+(type==="array"?"[]":"")),module2){this.addClass(`theme-${theme.substr(1)}`);const bundle=(_c2=self2.config.relative)==null?void 0:_c2.bundleOf(module2.id,self2.config.nth,!1,self2.config.isFilter);if(bundle!=null){typeof bundle=="string"&&tooltip("Multiple values").withPosition("top").withTrigger("hover").toElement(this);const value=IML._mapVariable(bundle,variable);value!=null&&value!==""?tooltip(SAMPLE(value)).withPosition("top").withTrigger("hover").toElement(this):tooltip(`${imt.l("base","common.empty")}`).withPosition("top").withTrigger("hover").toElement(this)}else self2.config.relative!=null&&tooltip(`${imt.l("base","common.empty")}`).withPosition("top").withTrigger("hover").toElement(this);return(module3=>(this.on("mouseenter",()=>module3.enlarged=!0),this.on("mouseleave",()=>module3.enlarged=!1)))(module2)}else return this.addClass("v-unknown")}else if(/^var.(:?\S+)\.(:?\S+)/.exec(node2.name)){const group=RegExp.$1;name=RegExp.$2;const customVariable=IML[group.toUpperCase()+"_VARIABLES"]&&IML[group.toUpperCase()+"_VARIABLES"][name];return this.addClass(group+"-variable"),this.text((customVariable==null?void 0:customVariable.label)||name)}else return this.text(node2.name)}));break;case"function":this.span(".v-function",function(){return this.text(node2.name+"(")}),node2.arguments.forEach((item,index2)=>(index2>0&&this.span(".v-function-sep").text(";"),self2._expression(item,this))),result.push(this.span(".v-function-end").text(")"));break;case"operator":result.push(this.span(".v-operator",function(){return this.text(node2.name)}));break;case"text":result.push(this.span(".v-text",function(){return this.text(node2.value)}));break;case"string":case"number":case"keyword":result.push(this.span(`.v-${node2.type}`,function(){return node2.type==="string"?ast.length>1||node2.value===""||node2.type==="string"&&/^\-?\d+(\.\d+)?$/.test(node2.value)?this.text(`"${node2.value}"`):this.text(node2.value):node2.type==="number"?this.text(node2.value):this.text(node2.name)}));break;default:result.push(void 0)}return result})()})}}class IMLFilterVisualizer extends EventEmitter$1{constructor(root2,config2={}){let spec;super(),this.config=config2,typeof this.config.source=="string"?spec=JSON.parse(this.config.source):spec=this.config.source,root2.empty().addClass("i-visualizer i-visualizer-filter"),this.root=this._or(spec.conditions,spec.report,root2)}_and(filters,report,parent2){const self2=this;if(!(!filters||filters.length===0))return filters.length===1?parent2.div(".v-condition",function(){return self2._condition(filters[0],report[0]??report,this)}):parent2.ul(".list-unstyled.v-and",function(){return filters.map((filter2,index2)=>this.li(".v-condition",function(){return self2._condition(filter2,report[index2]??report,this)}))})}_or(filters,report,parent2){const self2=this;if(!(!filters||filters.length===0))return filters.length===1?self2._and(filters[0],report[0]??report,parent2):parent2.ul(".list-unstyled.v-or",function(){return(filters??[]).map((andFilters,index2)=>self2._and(andFilters,report[index2]??report,this))})}_condition(filter2,report,parent2){const operator=IML.FILTERS[filter2.o];return this._expression(filter2.a,parent2),parent2.pre(".v-operator",function(){return this.text(operator.symbol),tooltip(`${imt.l("inspector",`operators.${filter2.o.substr(0,filter2.o.indexOf(":"))}`)}: ${imt.l("inspector",`filter.${filter2.o}.label`)}`).withPosition("top").withTrigger("hover").toElement(this)}),this._expression(filter2.b,parent2),parent2.div(".v-report",function(){return report===!0?this.i(".fa.fa-check-circle.text-success"):report===!1?this.i(".fa.fa-ban.text-danger"):this.i(".fa.fa-circle-o.text-muted")})}_expression(code,parent2){const self2=this;return parent2.pre(function(){return new IMLVisualizer(this,{surface:self2.config.surface,relative:self2.config.relative,nth:self2.config.nth,source:IML.parse(code),isFilter:!0}).on("resize",()=>self2.emit("resize"))})}}class JSONVisualizer extends EventEmitter$1{static initClass(){this.prototype.root=null,this.prototype.config=null}constructor(root2,config2={}){let code;super(),this.config=config2;const self2=this;if(typeof this.config.source=="string"?code=JSON.parse(this.config.source):code=this.config.source??{},root2.empty().addClass("i-visualizer i-visualizer-json"),this.config.title!=null&&root2.append(sim.div(".v-key",function(){return this.text(self2.config.title)})),this.root=this._draw(code,root2,"",this.config.limit),(this.root.hasClass("v-object")||this.root.hasClass("v-array"))&&this.root.addClass("v-collapsible in"),this.config.expand!=null){let elms=this.root;for(let i2=1,end2=this.config.expand,asc=1<=end2;(asc?i2<=end2:i2>=end2)&&(elms=elms.find(":scope > li > ul.v-collapsible:not(.v-buffer)"),elms.length!==0);asc?i2++:i2--)elms.addClass("in").show().prev(".v-toggle").addClass("active")}}_draw(code,parent2,path="",limit=-1){switch(typeof code){case"undefined":return parent2.div(".v-null").text("undefined");case"string":return this._string(code,parent2);case"number":return this._number(code,parent2);case"boolean":return this._boolean(code,parent2);case"object":return code===null?parent2.div(".v-null").text(imt.l("base","common.empty").toLowerCase()):Array.isArray(code)?this._array(code,parent2,path,limit):code instanceof Date?this._date(code,parent2):code instanceof RegExp?this._regexp(code,parent2):code instanceof EncryptedObject?this._encrypted(code,parent2,path):this._object(code,parent2,path,limit)}return null}_getType(code){switch(typeof code){case"undefined":case"string":case"number":case"boolean":return typeof code;case"object":return code===null?"null":Array.isArray(code)?"array":code instanceof Date?"date":code instanceof RegExp?"regexp":code instanceof EncryptedObject?"encrypted":"object"}}_array(node2,parent2,path,limit){const self2=this;return parent2.ul(".v-array",function(){return node2.length===0?this.div(".v-empty").text(imt.l("base","common.empty").toLowerCase()):node2.map((item,index2)=>this.li(function(){const k2=this.div(".v-key").text(index2+1),v2=self2._draw(item,this,Array.isArray(item)?`${path}.`:path,limit);return v2.addClass("v-value"),v2.hasClass("v-object")||v2.hasClass("v-array")||(v2.hasClass("v-buffer")||v2.hasClass("v-string"))&&v2.hasClass("v-has-sample")?(v2.hide().addClass("v-collapsible"),k2.addClass("v-toggle"),k2.on("click",function(event){return event.stopPropagation(),k2.toggleClass("active"),v2.toggleClass("in"),v2.slideToggle({duration:"fast",progress(){return self2.emit("resize")},complete(){return self2.emit("resize")}})}),v2.hasClass("v-object")?k2.append(sim.small().text("Collection")):v2.hasClass("v-array")?k2.append(sim.small().text("Array")):k2.append(sim.small().text(v2.data("label")))):this.addClass("v-table")}))})}_boolean(node2,parent2){return parent2.div(".v-boolean",function(){return this.text(node2)})}_buffer(length,codepage,checksum,sample,parent2){return parent2.div(".v-buffer",function(){if(sample){this.addClass("v-has-sample"),this.data("label",`Buffer, codepage: ${codepage}`);let i2=0;if(this.code().html(sample.replace(/(.{2})/g,(a2,b2)=>`${b2}${++i2%4===0?"  ":"&nbsp;"}`)),length*2>sample.length)return this.div(".v-cropped").em().text(`End of data sample, buffer was originally ${length} bytes long.
SHA1: ${checksum}`)}else return this.text(`Buffer (length: ${length}${codepage?`, codepage: ${codepage}`:""}${checksum?`, checksum: ${checksum}`:""})`)})}_date(node2,parent2){return parent2.div(".v-date",function(){return this.text(format(node2,"datetime",{timezone:imt.user.timezone})),this.attr("title",node2)})}_encrypted(node2,parent2,path){if(node2.decrypted!=null)return this._object(node2.decrypted,parent2,path);const self2=this;return parent2.ul(".v-object.v-encrypted",function(){const container=this;return this.li(".v-button",function(){return this.button(".btn.btn-xs",function(){return this.attr("type","button"),this.text(" Decrypt"),this.prepend(sim.i(".fa.fa-lock")),this.on("click",function(){if(node2.decrypted==null)return node2.decrypt(function(err,decrypted){return err?new Alert(Alert.parseError(err)).show():(container.remove(),self2._object(decrypted,parent2,path),self2.emit("resize"))}),!1})})})})}_number(node2,parent2){return parent2.div(".v-number",function(){return this.text(node2)})}_object(node2,parent2,path,limit){const self2=this,isRoot=parent2.hasClass("i-visualizer");return parent2.ul(".v-object",function(){if(Object.keys(node2).length===0)return this.li(".v-empty").text(imt.l("base","common.empty").toLowerCase());let renderedObjects=0;return(()=>{const result=[];for(var key in node2){var value=node2[key],valueType=self2._getType(value);result.push(this.li(function(){var _a2;let v2;const k2=this.div(".v-key"),currentValue=value;if(isRoot&&self2.config.ignoreRootLabel)k2.span().text(key),!(valueType==="object"||valueType==="array")||limit<0||renderedObjects<limit?(v2=self2._draw(value,this,"",limit),(valueType==="object"||valueType==="array")&&renderedObjects++):(v2=this.div(".v-lazy"),v2.addClass("v-"+valueType),k2.addClass("v-toggle"));else if(k2.span().text(((_a2=self2.config.labels)==null?void 0:_a2[`${path}${(IML==null?void 0:IML._escape(key))??key}`])||key),valueType==="object"||valueType==="array")v2=this.div(".v-lazy"),v2.addClass("v-"+valueType),k2.addClass("v-toggle");else{if(imt.organization.license.scenarioRelationTree&&valueType==="string"&&self2.config.appName==="scenario-service"&&self2.config.scenarioId&&key==="executionId"){const id=typeof self2.config.scenarioId=="string"?self2.config.scenarioId.replace("SCN_",""):self2.config.scenarioId;v2=self2._string(value,this,`https://${imt.zone}/${imt.team.id}/scenarios/${id}/logs/${value}`)}else v2=self2._draw(value,this,`${path}${(IML==null?void 0:IML._escape(key))??key}.`,limit);(valueType==="object"||valueType==="array")&&renderedObjects++}return k2.attr("title",key),v2.addClass("v-value"),v2.hasClass("v-object")||v2.hasClass("v-array")||(v2.hasClass("v-buffer")||v2.hasClass("v-string"))&&v2.hasClass("v-has-sample")?(v2.hide().addClass("v-collapsible"),k2.addClass("v-toggle"),(key2=>k2.on("click",function(event){return event.stopPropagation(),k2.toggleClass("active"),v2.toggleClass("in"),v2.hasClass("v-lazy")&&(v2.removeClass("v-lazy"),isRoot&&self2.config.ignoreRootLabel?v2.append(self2._draw(currentValue,this,"",limit)):v2.append(self2._draw(currentValue,this,`${path}${(IML==null?void 0:IML._escape(key2))??key2}.`,limit))),v2.slideToggle({duration:"fast",progress(){return self2.emit("resize")},complete(){return self2.emit("resize")}})}))(key),v2.hasClass("v-object")?k2.append(sim.small().text("Collection")):v2.hasClass("v-array")?k2.append(sim.small().text("Array")):k2.append(sim.small().text(v2.data("label")))):this.addClass("v-table")}))}return result})()})}_string(node2,parent2,href=null){let length,longstring;if(/^IMTBuffer\((\d+), ([^,]*), ([^,]*)\): ([\s\S]*)$/.exec(node2))return this._buffer(parseInt(RegExp.$1,10),RegExp.$2,RegExp.$3,RegExp.$4,parent2);/^IMTString\((\d+)\): ([\s\S]*)$/.exec(node2)?(length=parseInt(RegExp.$1,10),node2=RegExp.$2,longstring=!0):(node2.length>1e3||node2.split(`
`).length>10)&&(longstring=!0);const self2=this;return parent2.div(".v-string",function(){if(longstring){if(this.addClass("v-has-sample"),this.data("label","Long String"),this.p().text(node2),length>node2.length)return this.div(".v-cropped").em().text(`End of data sample, string was originally ${length} characters long.`)}else if(href?this.a().attr("href",href).attr("target","_blank").text(node2):this.text(node2),self2.config.type==="mixed")return new IMLVisualizer(this,{source:node2,type:"mixed",pills:self2.config.pills,surface:self2.config.surface,relative:self2.config.relative,nth:self2.config.nth})})}}JSONVisualizer.initClass();const visualizer=Object.freeze(Object.defineProperty({__proto__:null,DataStoreVisualizer,IMLFilterVisualizer,IMLVisualizer,JSONVisualizer},Symbol.toStringTag,{value:"Module"}));async function initVisualizer(){typeof imt>"u"||(imt.plugins.push({name:"Visualizer"}),SIMElement.prototype.visualizer=function(config2){const cfg=extend({},config2);switch(cfg.type??(cfg.type=this.data("type")??"json"),cfg.expand??(cfg.expand=this.data("expand")),cfg.title??(cfg.title=this.data("title")),cfg.url??(cfg.url=this.data("url")),cfg.id??(cfg.id=this.data("id")),cfg.toolbar??(cfg.toolbar=this.data("toolbar")),cfg.pagination??(cfg.pagination=this.data("pagination")),cfg.source??(cfg.source=this.text()||null),cfg.imlCode??(cfg.imlCode=this.data("iml-code")==="yes"),typeof cfg.toolbar=="string"&&(cfg.toolbar=sim(cfg.toolbar)),typeof cfg.pagination=="string"&&(cfg.pagination=sim(cfg.pagination)),cfg.type){case"json":case"mixed":return new JSONVisualizer(this,cfg);case"iml":return cfg.source&&cfg.imlCode&&(cfg.source=`{{${cfg.source}}}`),new IMLVisualizer(this,cfg);case"filter":return new IMLFilterVisualizer(this,cfg);case"datastore":return new DataStoreVisualizer(this,cfg)}},SIMArray.prototype.visualizer=function(config2){return this.each(function(){return this.visualizer(config2)})},await Promise.resolve().then(()=>table),await Promise.resolve().then(()=>visualizer),sim(".i-visualizer").visualizer(),sim(window).on("click",".i-browse-datastore",function(event){return sim(window).openPopup(`/datastore/${this.data("id")}/browse`,"datastore"),!1}))}//    @license Copyright (c) Integromat - All rights reserved.
initVisualizer(),globalThis.async=async$1,window.IMT_INSPECTOR={buildTimestamp:"2024-10-24T10:42:06.489Z",version:"0.4.3",env:"v0.4.3"};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class SizeCache{constructor(config2){this._map=new Map,this._roundAverageSize=!1,this.totalSize=0,(config2==null?void 0:config2.roundAverageSize)===!0&&(this._roundAverageSize=!0)}set(index2,value){const prev=this._map.get(index2)||0;this._map.set(index2,value),this.totalSize+=value-prev}get averageSize(){if(this._map.size>0){const average=this.totalSize/this._map.size;return this._roundAverageSize?Math.round(average):average}return 0}getSize(index2){return this._map.get(index2)}clear(){this._map.clear(),this.totalSize=0}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function dim1(direction){return direction==="horizontal"?"width":"height"}class BaseLayout{_getDefaultConfig(){return{direction:"vertical"}}constructor(hostSink,config2){this._latestCoords={left:0,top:0},this._direction=null,this._viewportSize={width:0,height:0},this.totalScrollSize={width:0,height:0},this.offsetWithinScroller={left:0,top:0},this._pendingReflow=!1,this._pendingLayoutUpdate=!1,this._pin=null,this._firstVisible=0,this._lastVisible=0,this._physicalMin=0,this._physicalMax=0,this._first=-1,this._last=-1,this._sizeDim="height",this._secondarySizeDim="width",this._positionDim="top",this._secondaryPositionDim="left",this._scrollPosition=0,this._scrollError=0,this._items=[],this._scrollSize=1,this._overhang=1e3,this._hostSink=hostSink,Promise.resolve().then(()=>this.config=config2||this._getDefaultConfig())}set config(config2){Object.assign(this,Object.assign({},this._getDefaultConfig(),config2))}get config(){return{direction:this.direction}}get items(){return this._items}set items(items){this._setItems(items)}_setItems(items){items!==this._items&&(this._items=items,this._scheduleReflow())}get direction(){return this._direction}set direction(dir2){dir2=dir2==="horizontal"?dir2:"vertical",dir2!==this._direction&&(this._direction=dir2,this._sizeDim=dir2==="horizontal"?"width":"height",this._secondarySizeDim=dir2==="horizontal"?"height":"width",this._positionDim=dir2==="horizontal"?"left":"top",this._secondaryPositionDim=dir2==="horizontal"?"top":"left",this._triggerReflow())}get viewportSize(){return this._viewportSize}set viewportSize(dims){const{_viewDim1,_viewDim2}=this;Object.assign(this._viewportSize,dims),_viewDim2!==this._viewDim2?this._scheduleLayoutUpdate():_viewDim1!==this._viewDim1&&this._checkThresholds()}get viewportScroll(){return this._latestCoords}set viewportScroll(coords){Object.assign(this._latestCoords,coords);const oldPos=this._scrollPosition;this._scrollPosition=this._latestCoords[this._positionDim],Math.abs(oldPos-this._scrollPosition)>=1&&this._checkThresholds()}reflowIfNeeded(force=!1){(force||this._pendingReflow)&&(this._pendingReflow=!1,this._reflow())}set pin(options){this._pin=options,this._triggerReflow()}get pin(){if(this._pin!==null){const{index:index2,block}=this._pin;return{index:Math.max(0,Math.min(index2,this.items.length-1)),block}}return null}_clampScrollPosition(val){return Math.max(-this.offsetWithinScroller[this._positionDim],Math.min(val,this.totalScrollSize[dim1(this.direction)]-this._viewDim1))}unpin(){this._pin!==null&&(this._sendUnpinnedMessage(),this._pin=null)}_updateLayout(){}get _viewDim1(){return this._viewportSize[this._sizeDim]}get _viewDim2(){return this._viewportSize[this._secondarySizeDim]}_scheduleReflow(){this._pendingReflow=!0}_scheduleLayoutUpdate(){this._pendingLayoutUpdate=!0,this._scheduleReflow()}_triggerReflow(){this._scheduleLayoutUpdate(),Promise.resolve().then(()=>this.reflowIfNeeded())}_reflow(){this._pendingLayoutUpdate&&(this._updateLayout(),this._pendingLayoutUpdate=!1),this._updateScrollSize(),this._setPositionFromPin(),this._getActiveItems(),this._updateVisibleIndices(),this._sendStateChangedMessage()}_setPositionFromPin(){if(this.pin!==null){const lastScrollPosition=this._scrollPosition,{index:index2,block}=this.pin;this._scrollPosition=this._calculateScrollIntoViewPosition({index:index2,block:block||"start"})-this.offsetWithinScroller[this._positionDim],this._scrollError=lastScrollPosition-this._scrollPosition}}_calculateScrollIntoViewPosition(options){const{block}=options,index2=Math.min(this.items.length,Math.max(0,options.index)),itemStartPosition=this._getItemPosition(index2)[this._positionDim];let scrollPosition=itemStartPosition;if(block!=="start"){const itemSize=this._getItemSize(index2)[this._sizeDim];if(block==="center")scrollPosition=itemStartPosition-.5*this._viewDim1+.5*itemSize;else{const itemEndPosition=itemStartPosition-this._viewDim1+itemSize;if(block==="end")scrollPosition=itemEndPosition;else{const currentScrollPosition=this._scrollPosition;scrollPosition=Math.abs(currentScrollPosition-itemStartPosition)<Math.abs(currentScrollPosition-itemEndPosition)?itemStartPosition:itemEndPosition}}}return scrollPosition+=this.offsetWithinScroller[this._positionDim],this._clampScrollPosition(scrollPosition)}getScrollIntoViewCoordinates(options){return{[this._positionDim]:this._calculateScrollIntoViewPosition(options)}}_sendUnpinnedMessage(){this._hostSink({type:"unpinned"})}_sendVisibilityChangedMessage(){this._hostSink({type:"visibilityChanged",firstVisible:this._firstVisible,lastVisible:this._lastVisible})}_sendStateChangedMessage(){const childPositions=new Map;if(this._first!==-1&&this._last!==-1)for(let idx=this._first;idx<=this._last;idx++)childPositions.set(idx,this._getItemPosition(idx));const message={type:"stateChanged",scrollSize:{[this._sizeDim]:this._scrollSize,[this._secondarySizeDim]:null},range:{first:this._first,last:this._last,firstVisible:this._firstVisible,lastVisible:this._lastVisible},childPositions};this._scrollError&&(message.scrollError={[this._positionDim]:this._scrollError,[this._secondaryPositionDim]:0},this._scrollError=0),this._hostSink(message)}get _num(){return this._first===-1||this._last===-1?0:this._last-this._first+1}_checkThresholds(){if(this._viewDim1===0&&this._num>0||this._pin!==null)this._scheduleReflow();else{const min=Math.max(0,this._scrollPosition-this._overhang),max=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang);this._physicalMin>min||this._physicalMax<max?this._scheduleReflow():this._updateVisibleIndices({emit:!0})}}_updateVisibleIndices(options){if(this._first===-1||this._last===-1)return;let firstVisible=this._first;for(;firstVisible<this._last&&Math.round(this._getItemPosition(firstVisible)[this._positionDim]+this._getItemSize(firstVisible)[this._sizeDim])<=Math.round(this._scrollPosition);)firstVisible++;let lastVisible=this._last;for(;lastVisible>this._first&&Math.round(this._getItemPosition(lastVisible)[this._positionDim])>=Math.round(this._scrollPosition+this._viewDim1);)lastVisible--;(firstVisible!==this._firstVisible||lastVisible!==this._lastVisible)&&(this._firstVisible=firstVisible,this._lastVisible=lastVisible,options&&options.emit&&this._sendVisibilityChangedMessage())}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function leadingMargin(direction){return direction==="horizontal"?"marginLeft":"marginTop"}function trailingMargin(direction){return direction==="horizontal"?"marginRight":"marginBottom"}function offset(direction){return direction==="horizontal"?"xOffset":"yOffset"}function collapseMargins(a2,b2){const m2=[a2,b2].sort();return m2[1]<=0?Math.min(...m2):m2[0]>=0?Math.max(...m2):m2[0]+m2[1]}class MetricsCache{constructor(){this._childSizeCache=new SizeCache,this._marginSizeCache=new SizeCache,this._metricsCache=new Map}update(metrics,direction){var _a2,_b2;const marginsToUpdate=new Set;Object.keys(metrics).forEach(key=>{const k2=Number(key);this._metricsCache.set(k2,metrics[k2]),this._childSizeCache.set(k2,metrics[k2][dim1(direction)]),marginsToUpdate.add(k2),marginsToUpdate.add(k2+1)});for(const k2 of marginsToUpdate){const a2=((_a2=this._metricsCache.get(k2))==null?void 0:_a2[leadingMargin(direction)])||0,b2=((_b2=this._metricsCache.get(k2-1))==null?void 0:_b2[trailingMargin(direction)])||0;this._marginSizeCache.set(k2,collapseMargins(a2,b2))}}get averageChildSize(){return this._childSizeCache.averageSize}get totalChildSize(){return this._childSizeCache.totalSize}get averageMarginSize(){return this._marginSizeCache.averageSize}get totalMarginSize(){return this._marginSizeCache.totalSize}getLeadingMarginValue(index2,direction){var _a2;return((_a2=this._metricsCache.get(index2))==null?void 0:_a2[leadingMargin(direction)])||0}getChildSize(index2){return this._childSizeCache.getSize(index2)}getMarginSize(index2){return this._marginSizeCache.getSize(index2)}clear(){this._childSizeCache.clear(),this._marginSizeCache.clear(),this._metricsCache.clear()}}class FlowLayout extends BaseLayout{constructor(){super(...arguments),this._itemSize={width:100,height:100},this._physicalItems=new Map,this._newPhysicalItems=new Map,this._metricsCache=new MetricsCache,this._anchorIdx=null,this._anchorPos=null,this._stable=!0,this._measureChildren=!0,this._estimate=!0}get measureChildren(){return this._measureChildren}updateItemSizes(sizes){this._metricsCache.update(sizes,this.direction),this._scheduleReflow()}_getPhysicalItem(idx){return this._newPhysicalItems.get(idx)??this._physicalItems.get(idx)}_getSize(idx){return this._getPhysicalItem(idx)&&this._metricsCache.getChildSize(idx)}_getAverageSize(){return this._metricsCache.averageChildSize||this._itemSize[this._sizeDim]}_estimatePosition(idx){const c2=this._metricsCache;if(this._first===-1||this._last===-1)return c2.averageMarginSize+idx*(c2.averageMarginSize+this._getAverageSize());if(idx<this._first){const delta=this._first-idx;return this._getPhysicalItem(this._first).pos-(c2.getMarginSize(this._first-1)||c2.averageMarginSize)-(delta*c2.averageChildSize+(delta-1)*c2.averageMarginSize)}else{const delta=idx-this._last;return this._getPhysicalItem(this._last).pos+(c2.getChildSize(this._last)||c2.averageChildSize)+(c2.getMarginSize(this._last)||c2.averageMarginSize)+delta*(c2.averageChildSize+c2.averageMarginSize)}}_getPosition(idx){const item=this._getPhysicalItem(idx),{averageMarginSize}=this._metricsCache;return idx===0?this._metricsCache.getMarginSize(0)??averageMarginSize:item?item.pos:this._estimatePosition(idx)}_calculateAnchor(lower,upper){return lower<=0?0:upper>this._scrollSize-this._viewDim1?this.items.length-1:Math.max(0,Math.min(this.items.length-1,Math.floor((lower+upper)/2/this._delta)))}_getAnchor(lower,upper){if(this._physicalItems.size===0)return this._calculateAnchor(lower,upper);if(this._first<0)return this._calculateAnchor(lower,upper);if(this._last<0)return this._calculateAnchor(lower,upper);const firstItem=this._getPhysicalItem(this._first),lastItem=this._getPhysicalItem(this._last),firstMin=firstItem.pos;if(lastItem.pos+this._metricsCache.getChildSize(this._last)<lower)return this._calculateAnchor(lower,upper);if(firstMin>upper)return this._calculateAnchor(lower,upper);let candidateIdx=this._firstVisible-1,cMax=-1/0;for(;cMax<lower;)cMax=this._getPhysicalItem(++candidateIdx).pos+this._metricsCache.getChildSize(candidateIdx);return candidateIdx}_getActiveItems(){this._viewDim1===0||this.items.length===0?this._clearItems():this._getItems()}_clearItems(){this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;const items=this._newPhysicalItems;this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=items,this._stable=!0}_getItems(){const items=this._newPhysicalItems;this._stable=!0;let lower,upper;if(this.pin!==null){const{index:index2}=this.pin;this._anchorIdx=index2,this._anchorPos=this._getPosition(index2)}if(lower=this._scrollPosition-this._overhang,upper=this._scrollPosition+this._viewDim1+this._overhang,upper<0||lower>this._scrollSize){this._clearItems();return}(this._anchorIdx===null||this._anchorPos===null)&&(this._anchorIdx=this._getAnchor(lower,upper),this._anchorPos=this._getPosition(this._anchorIdx));let anchorSize=this._getSize(this._anchorIdx);anchorSize===void 0&&(this._stable=!1,anchorSize=this._getAverageSize());const anchorLeadingMargin=this._metricsCache.getMarginSize(this._anchorIdx)??this._metricsCache.averageMarginSize,anchorTrailingMargin=this._metricsCache.getMarginSize(this._anchorIdx+1)??this._metricsCache.averageMarginSize;this._anchorIdx===0&&(this._anchorPos=anchorLeadingMargin),this._anchorIdx===this.items.length-1&&(this._anchorPos=this._scrollSize-anchorTrailingMargin-anchorSize);let anchorErr=0;for(this._anchorPos+anchorSize+anchorTrailingMargin<lower&&(anchorErr=lower-(this._anchorPos+anchorSize+anchorTrailingMargin)),this._anchorPos-anchorLeadingMargin>upper&&(anchorErr=upper-(this._anchorPos-anchorLeadingMargin)),anchorErr&&(this._scrollPosition-=anchorErr,lower-=anchorErr,upper-=anchorErr,this._scrollError+=anchorErr),items.set(this._anchorIdx,{pos:this._anchorPos,size:anchorSize}),this._first=this._last=this._anchorIdx,this._physicalMin=this._anchorPos-anchorLeadingMargin,this._physicalMax=this._anchorPos+anchorSize+anchorTrailingMargin;this._physicalMin>lower&&this._first>0;){let size=this._getSize(--this._first);size===void 0&&(this._stable=!1,size=this._getAverageSize());let margin=this._metricsCache.getMarginSize(this._first);margin===void 0&&(this._stable=!1,margin=this._metricsCache.averageMarginSize),this._physicalMin-=size;const pos=this._physicalMin;if(items.set(this._first,{pos,size}),this._physicalMin-=margin,this._stable===!1&&this._estimate===!1)break}for(;this._physicalMax<upper&&this._last<this.items.length-1;){let size=this._getSize(++this._last);size===void 0&&(this._stable=!1,size=this._getAverageSize());let margin=this._metricsCache.getMarginSize(this._last);margin===void 0&&(this._stable=!1,margin=this._metricsCache.averageMarginSize);const pos=this._physicalMax;if(items.set(this._last,{pos,size}),this._physicalMax+=size+margin,!this._stable&&!this._estimate)break}const extentErr=this._calculateError();extentErr&&(this._physicalMin-=extentErr,this._physicalMax-=extentErr,this._anchorPos-=extentErr,this._scrollPosition-=extentErr,items.forEach(item=>item.pos-=extentErr),this._scrollError+=extentErr),this._stable&&(this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=items)}_calculateError(){return this._first===0?this._physicalMin:this._physicalMin<=0?this._physicalMin-this._first*this._delta:this._last===this.items.length-1?this._physicalMax-this._scrollSize:this._physicalMax>=this._scrollSize?this._physicalMax-this._scrollSize+(this.items.length-1-this._last)*this._delta:0}_reflow(){const{_first,_last}=this;super._reflow(),(this._first===-1&&this._last==-1||this._first===_first&&this._last===_last)&&this._resetReflowState()}_resetReflowState(){this._anchorIdx=null,this._anchorPos=null,this._stable=!0}_updateScrollSize(){const{averageMarginSize}=this._metricsCache;this._scrollSize=Math.max(1,this.items.length*(averageMarginSize+this._getAverageSize())+averageMarginSize)}get _delta(){const{averageMarginSize}=this._metricsCache;return this._getAverageSize()+averageMarginSize}_getItemPosition(idx){return{[this._positionDim]:this._getPosition(idx),[this._secondaryPositionDim]:0,[offset(this.direction)]:-(this._metricsCache.getLeadingMarginValue(idx,this.direction)??this._metricsCache.averageMarginSize)}}_getItemSize(idx){return{[this._sizeDim]:this._getSize(idx)||this._getAverageSize(),[this._secondarySizeDim]:this._itemSize[this._secondarySizeDim]}}_viewDim2Changed(){this._metricsCache.clear(),this._scheduleReflow()}}const flow=Object.freeze(Object.defineProperty({__proto__:null,FlowLayout},Symbol.toStringTag,{value:"Module"}))});
//# sourceMappingURL=inspector.umd.js.map
